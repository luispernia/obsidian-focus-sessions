/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: true, configurable: true, writable: true, value }) : obj[key2] = value;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key2 of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key2) && key2 !== except)
        __defProp(to, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key2, value) => __defNormalProp(obj, typeof key2 !== "symbol" ? key2 + "" : key2, value);
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FocusSessionsPlugin2
});
module.exports = __toCommonJS(main_exports);
var import_obsidian12 = require("obsidian");

// src/services/audio-service.ts
var AudioService = class {
  constructor(enabled = true) {
    this.audioContext = null;
    this.enabled = true;
    this.activeOscillators = [];
    this.loopInterval = null;
    this.enabled = enabled;
  }
  setEnabled(enabled) {
    this.enabled = enabled;
  }
  getContext() {
    if (!this.audioContext) {
      this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
    }
    return this.audioContext;
  }
  playTone(freq, type, duration, startTime = 0) {
    if (!this.enabled) return;
    const ctx = this.getContext();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.type = type;
    osc.frequency.setValueAtTime(freq, ctx.currentTime + startTime);
    gain.gain.setValueAtTime(0.1, ctx.currentTime + startTime);
    gain.gain.exponentialRampToValueAtTime(1e-5, ctx.currentTime + startTime + duration);
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.start(ctx.currentTime + startTime);
    osc.stop(ctx.currentTime + startTime + duration);
    this.activeOscillators.push(osc);
    osc.onended = () => {
      this.activeOscillators = this.activeOscillators.filter((o) => o !== osc);
    };
  }
  playStart() {
    this.stopAlarm();
    this.playTone(880, "sine", 0.5);
  }
  playPause() {
    this.stopAlarm();
    this.playTone(440, "sine", 0.1);
    this.playTone(330, "sine", 0.3, 0.1);
  }
  playResume() {
    this.stopAlarm();
    this.playTone(330, "sine", 0.1);
    this.playTone(440, "sine", 0.3, 0.1);
  }
  playComplete(loop2 = false) {
    this.stopAlarm();
    const playMelody = () => {
      const now = 0;
      this.playTone(523.25, "sine", 0.2, now);
      this.playTone(659.25, "sine", 0.2, now + 0.2);
      this.playTone(783.99, "sine", 0.2, now + 0.4);
      this.playTone(1046.5, "sine", 0.6, now + 0.6);
    };
    playMelody();
    if (loop2) {
      this.loopInterval = window.setInterval(playMelody, 2e3);
    }
  }
  stopAlarm() {
    if (this.loopInterval) {
      window.clearInterval(this.loopInterval);
      this.loopInterval = null;
    }
    this.activeOscillators.forEach((osc) => {
      try {
        osc.stop();
      } catch (e) {
      }
    });
    this.activeOscillators = [];
  }
};

// src/utils/time-utils.ts
var formatDuration = (seconds) => {
  const sign = seconds < 0 ? "+" : "";
  const absSeconds = Math.abs(seconds);
  const m = Math.floor(absSeconds / 60);
  const s = absSeconds % 60;
  return `${sign}${m}:${s.toString().padStart(2, "0")}`;
};
var getRemainingTime = (durationSeconds, elapsed, status, lastResumed) => {
  if (status === "completed") return 0;
  const totalSec = durationSeconds;
  let currentElapsed = elapsed;
  if (status === "running") {
    const now = Date.now();
    const additional = Math.floor((now - lastResumed) / 1e3);
    currentElapsed += additional;
  }
  return totalSec - currentElapsed;
};

// src/services/session-manager.ts
var import_obsidian = require("obsidian");
var SessionManager = class {
  constructor(app, settings, audioService, hubService) {
    this.activeSession = null;
    this.listeners = [];
    this.completionListeners = [];
    this.app = app;
    this.settings = settings;
    this.audioService = audioService;
    this.hubService = hubService;
    this.audioService.setEnabled(settings.enableSound !== false);
    this.customDuration = settings.focusDuration;
    this.app.workspace.onLayoutReady(() => {
      void this.restoreSession();
    });
  }
  async restoreSession() {
    for (let i = 0; i < 20; i++) {
      if (this.hubService.isAvailable()) {
        const hubSession = await this.hubService.asyncRecoverActiveSession();
        if (hubSession) {
          this.activeSession = {
            name: hubSession.name || "Focus Session",
            duration: hubSession.duration * 60,
            startTime: hubSession.startTime,
            status: "running",
            elapsed: 0,
            lastResumed: hubSession.startTime
          };
          const remaining = getRemainingTime(
            this.activeSession.duration,
            0,
            // elapsed is 0 relative to lastResumed=startTime
            "running",
            this.activeSession.startTime
          );
          if (remaining <= 0) {
            this.activeSession.isOvertime = true;
          }
          this.notifyListeners();
        }
        return;
      }
      await new Promise((resolve) => setTimeout(resolve, 500));
    }
  }
  setCustomDuration(minutes) {
    this.customDuration = Math.max(1, minutes);
    this.notifyListeners();
  }
  getCustomDuration() {
    return this.customDuration;
  }
  async startSession(name, durationSeconds) {
    const now = Date.now();
    let duration = durationSeconds;
    if (duration === void 0) {
      if (name === "Short Break") {
        duration = this.settings.shortBreakDuration * 60;
      } else if (name === "Long Break") {
        duration = this.settings.longBreakDuration * 60;
      } else {
        duration = this.customDuration * 60;
      }
    }
    this.activeSession = {
      name,
      duration,
      startTime: now,
      status: "running",
      elapsed: 0,
      lastResumed: now
    };
    if (this.hubService.isAvailable()) {
      await this.hubService.startSession(name, Math.ceil(duration / 60), duration);
    }
    this.audioService.playStart();
    this.notifyListeners();
  }
  pauseSession() {
    if (this.activeSession && this.activeSession.status === "running") {
      const now = Date.now();
      const elapsedSinceLastResume = Math.floor((now - this.activeSession.lastResumed) / 1e3);
      this.activeSession.elapsed += elapsedSinceLastResume;
      this.activeSession.status = "paused";
      this.audioService.playPause();
      this.notifyListeners();
    }
  }
  resumeSession() {
    if (this.activeSession && this.activeSession.status === "paused") {
      this.activeSession.status = "running";
      this.activeSession.lastResumed = Date.now();
      this.audioService.playResume();
      this.notifyListeners();
    }
  }
  async stopSession(source2) {
    this.audioService.stopAlarm();
    if (this.activeSession) {
      this.activeSession.status = "completed";
      if (this.hubService.isAvailable()) {
        await this.hubService.endSession();
      }
      this.notifyCompletion(this.activeSession, source2);
      this.activeSession = null;
      this.notifyListeners();
    }
  }
  resetSession() {
    if (this.activeSession) {
      this.audioService.stopAlarm();
      const now = Date.now();
      this.activeSession.elapsed = 0;
      this.activeSession.lastResumed = now;
      this.activeSession.startTime = now;
      this.activeSession.status = "running";
      this.notifyListeners();
    }
  }
  addTime(minutes) {
    if (this.activeSession) {
      this.activeSession.duration += minutes * 60;
      if (this.activeSession.status === "completed" || this.activeSession.status === "paused") {
        this.audioService.stopAlarm();
        this.activeSession.status = "running";
        this.activeSession.lastResumed = Date.now();
      }
      this.notifyListeners();
    }
  }
  tick() {
    if (this.activeSession && this.activeSession.status === "running") {
      const remaining = getRemainingTime(
        this.activeSession.duration,
        this.activeSession.elapsed,
        this.activeSession.status,
        this.activeSession.lastResumed
      );
      if (remaining <= 0 && !this.activeSession.isOvertime) {
        this.activeSession.isOvertime = true;
        this.audioService.playComplete(true);
        this.notifyListeners();
      }
    }
  }
  getActiveSession() {
    return this.activeSession;
  }
  async getSessionHistory(limit = 10) {
    if (!this.hubService.isAvailable()) return [];
    return this.hubService.getRecentSessions(limit);
  }
  onChange(callback) {
    this.listeners.push(callback);
  }
  onSessionComplete(callback) {
    this.completionListeners.push(callback);
  }
  removeListener(callback) {
    this.listeners = this.listeners.filter((l) => l !== callback);
  }
  notifyListeners() {
    this.listeners.forEach((callback) => callback());
  }
  notifyCompletion(session2, source2) {
    this.completionListeners.forEach((callback) => callback(session2, source2));
  }
};

// src/ui/focus-session-view.ts
var import_obsidian6 = require("obsidian");

// node_modules/esm-env/dev-fallback.js
var _a, _b;
var node_env = (_b = (_a = globalThis.process) == null ? void 0 : _a.env) == null ? void 0 : _b.NODE_ENV;
var dev_fallback_default = node_env && !node_env.toLowerCase().startsWith("prod");

// node_modules/svelte/src/internal/shared/utils.js
var is_array = Array.isArray;
var index_of = Array.prototype.indexOf;
var array_from = Array.from;
var object_keys = Object.keys;
var define_property = Object.defineProperty;
var get_descriptor = Object.getOwnPropertyDescriptor;
var get_descriptors = Object.getOwnPropertyDescriptors;
var object_prototype = Object.prototype;
var array_prototype = Array.prototype;
var get_prototype_of = Object.getPrototypeOf;
var is_extensible = Object.isExtensible;
var noop = () => {
};
function run(fn) {
  return fn();
}
function run_all(arr) {
  for (var i = 0; i < arr.length; i++) {
    arr[i]();
  }
}
function deferred() {
  var resolve;
  var reject;
  var promise = new Promise((res, rej) => {
    resolve = res;
    reject = rej;
  });
  return { promise, resolve, reject };
}

// node_modules/svelte/src/internal/client/constants.js
var DERIVED = 1 << 1;
var EFFECT = 1 << 2;
var RENDER_EFFECT = 1 << 3;
var MANAGED_EFFECT = 1 << 24;
var BLOCK_EFFECT = 1 << 4;
var BRANCH_EFFECT = 1 << 5;
var ROOT_EFFECT = 1 << 6;
var BOUNDARY_EFFECT = 1 << 7;
var CONNECTED = 1 << 9;
var CLEAN = 1 << 10;
var DIRTY = 1 << 11;
var MAYBE_DIRTY = 1 << 12;
var INERT = 1 << 13;
var DESTROYED = 1 << 14;
var EFFECT_RAN = 1 << 15;
var EFFECT_TRANSPARENT = 1 << 16;
var EAGER_EFFECT = 1 << 17;
var HEAD_EFFECT = 1 << 18;
var EFFECT_PRESERVED = 1 << 19;
var USER_EFFECT = 1 << 20;
var EFFECT_OFFSCREEN = 1 << 25;
var WAS_MARKED = 1 << 15;
var REACTION_IS_UPDATING = 1 << 21;
var ASYNC = 1 << 22;
var ERROR_VALUE = 1 << 23;
var STATE_SYMBOL = Symbol("$state");
var LEGACY_PROPS = Symbol("legacy props");
var LOADING_ATTR_SYMBOL = Symbol("");
var PROXY_PATH_SYMBOL = Symbol("proxy path");
var STALE_REACTION = new class StaleReactionError extends Error {
  constructor() {
    super(...arguments);
    __publicField(this, "name", "StaleReactionError");
    __publicField(this, "message", "The reaction that called `getAbortSignal()` was re-run or destroyed");
  }
}();
var TEXT_NODE = 3;
var COMMENT_NODE = 8;

// node_modules/svelte/src/internal/shared/errors.js
function lifecycle_outside_component(name) {
  if (dev_fallback_default) {
    const error = new Error(`lifecycle_outside_component
\`${name}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/lifecycle_outside_component`);
  }
}

// node_modules/svelte/src/internal/client/errors.js
function async_derived_orphan() {
  if (dev_fallback_default) {
    const error = new Error(`async_derived_orphan
Cannot create a \`$derived(...)\` with an \`await\` expression outside of an effect tree
https://svelte.dev/e/async_derived_orphan`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/async_derived_orphan`);
  }
}
function bind_invalid_checkbox_value() {
  if (dev_fallback_default) {
    const error = new Error(`bind_invalid_checkbox_value
Using \`bind:value\` together with a checkbox input is not allowed. Use \`bind:checked\` instead
https://svelte.dev/e/bind_invalid_checkbox_value`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/bind_invalid_checkbox_value`);
  }
}
function derived_references_self() {
  if (dev_fallback_default) {
    const error = new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/derived_references_self`);
  }
}
function effect_in_teardown(rune) {
  if (dev_fallback_default) {
    const error = new Error(`effect_in_teardown
\`${rune}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_in_teardown`);
  }
}
function effect_in_unowned_derived() {
  if (dev_fallback_default) {
    const error = new Error(`effect_in_unowned_derived
Effect cannot be created inside a \`$derived\` value that was not itself created inside an effect
https://svelte.dev/e/effect_in_unowned_derived`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_in_unowned_derived`);
  }
}
function effect_orphan(rune) {
  if (dev_fallback_default) {
    const error = new Error(`effect_orphan
\`${rune}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_orphan`);
  }
}
function effect_update_depth_exceeded() {
  if (dev_fallback_default) {
    const error = new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_update_depth_exceeded`);
  }
}
function hydration_failed() {
  if (dev_fallback_default) {
    const error = new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/hydration_failed`);
  }
}
function rune_outside_svelte(rune) {
  if (dev_fallback_default) {
    const error = new Error(`rune_outside_svelte
The \`${rune}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/rune_outside_svelte`);
  }
}
function state_descriptors_fixed() {
  if (dev_fallback_default) {
    const error = new Error(`state_descriptors_fixed
Property descriptors defined on \`$state\` objects must contain \`value\` and always be \`enumerable\`, \`configurable\` and \`writable\`.
https://svelte.dev/e/state_descriptors_fixed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_descriptors_fixed`);
  }
}
function state_prototype_fixed() {
  if (dev_fallback_default) {
    const error = new Error(`state_prototype_fixed
Cannot set prototype of \`$state\` object
https://svelte.dev/e/state_prototype_fixed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_prototype_fixed`);
  }
}
function state_unsafe_mutation() {
  if (dev_fallback_default) {
    const error = new Error(`state_unsafe_mutation
Updating state inside \`$derived(...)\`, \`$inspect(...)\` or a template expression is forbidden. If the value should not be reactive, declare it without \`$state\`
https://svelte.dev/e/state_unsafe_mutation`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_unsafe_mutation`);
  }
}
function svelte_boundary_reset_onerror() {
  if (dev_fallback_default) {
    const error = new Error(`svelte_boundary_reset_onerror
A \`<svelte:boundary>\` \`reset\` function cannot be called while an error is still being handled
https://svelte.dev/e/svelte_boundary_reset_onerror`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`);
  }
}

// node_modules/svelte/src/constants.js
var EACH_ITEM_REACTIVE = 1;
var EACH_INDEX_REACTIVE = 1 << 1;
var EACH_IS_CONTROLLED = 1 << 2;
var EACH_IS_ANIMATED = 1 << 3;
var EACH_ITEM_IMMUTABLE = 1 << 4;
var PROPS_IS_RUNES = 1 << 1;
var PROPS_IS_UPDATED = 1 << 2;
var PROPS_IS_BINDABLE = 1 << 3;
var PROPS_IS_LAZY_INITIAL = 1 << 4;
var TRANSITION_OUT = 1 << 1;
var TRANSITION_GLOBAL = 1 << 2;
var TEMPLATE_FRAGMENT = 1;
var TEMPLATE_USE_IMPORT_NODE = 1 << 1;
var TEMPLATE_USE_SVG = 1 << 2;
var TEMPLATE_USE_MATHML = 1 << 3;
var HYDRATION_START = "[";
var HYDRATION_START_ELSE = "[!";
var HYDRATION_END = "]";
var HYDRATION_ERROR = {};
var ELEMENT_PRESERVE_ATTRIBUTE_CASE = 1 << 1;
var ELEMENT_IS_INPUT = 1 << 2;
var UNINITIALIZED = Symbol();
var FILENAME = Symbol("filename");
var HMR = Symbol("hmr");
var NAMESPACE_HTML = "http://www.w3.org/1999/xhtml";

// node_modules/svelte/src/internal/client/warnings.js
var bold = "font-weight: bold";
var normal = "font-weight: normal";
function await_waterfall(name, location) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] await_waterfall
%cAn async derived, \`${name}\` (${location}) was not read immediately after it resolved. This often indicates an unnecessary waterfall, which can slow down your app
https://svelte.dev/e/await_waterfall`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/await_waterfall`);
  }
}
function hydration_attribute_changed(attribute, html2, value) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${attribute}\` attribute on \`${html2}\` changed its value between server and client renders. The client value, \`${value}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/hydration_attribute_changed`);
  }
}
function hydration_mismatch(location) {
  if (dev_fallback_default) {
    console.warn(
      `%c[svelte] hydration_mismatch
%c${location ? `Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${location}` : "Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,
      bold,
      normal
    );
  } else {
    console.warn(`https://svelte.dev/e/hydration_mismatch`);
  }
}
function lifecycle_double_unmount() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/lifecycle_double_unmount`);
  }
}
function state_proxy_equality_mismatch(operator) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${operator}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/state_proxy_equality_mismatch`);
  }
}
function state_proxy_unmount() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/state_proxy_unmount`);
  }
}
function svelte_boundary_reset_noop() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] svelte_boundary_reset_noop
%cA \`<svelte:boundary>\` \`reset\` function only resets the boundary the first time it is called
https://svelte.dev/e/svelte_boundary_reset_noop`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`);
  }
}

// node_modules/svelte/src/internal/client/dom/hydration.js
var hydrating = false;
function set_hydrating(value) {
  hydrating = value;
}
var hydrate_node;
function set_hydrate_node(node) {
  if (node === null) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  return hydrate_node = node;
}
function hydrate_next() {
  return set_hydrate_node(get_next_sibling(hydrate_node));
}
function reset(node) {
  if (!hydrating) return;
  if (get_next_sibling(hydrate_node) !== null) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  hydrate_node = node;
}
function next(count = 1) {
  if (hydrating) {
    var i = count;
    var node = hydrate_node;
    while (i--) {
      node = /** @type {TemplateNode} */
      get_next_sibling(node);
    }
    hydrate_node = node;
  }
}
function skip_nodes(remove = true) {
  var depth = 0;
  var node = hydrate_node;
  while (true) {
    if (node.nodeType === COMMENT_NODE) {
      var data = (
        /** @type {Comment} */
        node.data
      );
      if (data === HYDRATION_END) {
        if (depth === 0) return node;
        depth -= 1;
      } else if (data === HYDRATION_START || data === HYDRATION_START_ELSE) {
        depth += 1;
      }
    }
    var next2 = (
      /** @type {TemplateNode} */
      get_next_sibling(node)
    );
    if (remove) node.remove();
    node = next2;
  }
}
function read_hydration_instruction(node) {
  if (!node || node.nodeType !== COMMENT_NODE) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  return (
    /** @type {Comment} */
    node.data
  );
}

// node_modules/svelte/src/internal/client/reactivity/equality.js
function equals(value) {
  return value === this.v;
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || a !== null && typeof a === "object" || typeof a === "function";
}
function safe_equals(value) {
  return !safe_not_equal(value, this.v);
}

// node_modules/svelte/src/internal/flags/index.js
var async_mode_flag = false;
var legacy_mode_flag = false;
var tracing_mode_flag = false;
function enable_legacy_mode_flag() {
  legacy_mode_flag = true;
}

// node_modules/svelte/src/internal/client/dev/tracing.js
var tracing_expressions = null;
function tag(source2, label) {
  source2.label = label;
  tag_proxy(source2.v, label);
  return source2;
}
function tag_proxy(value, label) {
  var _a3;
  (_a3 = value == null ? void 0 : value[PROXY_PATH_SYMBOL]) == null ? void 0 : _a3.call(value, label);
  return value;
}

// node_modules/svelte/src/internal/shared/dev.js
function get_error(label) {
  const error = new Error();
  const stack2 = get_stack();
  if (stack2.length === 0) {
    return null;
  }
  stack2.unshift("\n");
  define_property(error, "stack", {
    value: stack2.join("\n")
  });
  define_property(error, "name", {
    value: label
  });
  return (
    /** @type {Error & { stack: string }} */
    error
  );
}
function get_stack() {
  const limit = Error.stackTraceLimit;
  Error.stackTraceLimit = Infinity;
  const stack2 = new Error().stack;
  Error.stackTraceLimit = limit;
  if (!stack2) return [];
  const lines = stack2.split("\n");
  const new_lines = [];
  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    const posixified = line.replaceAll("\\", "/");
    if (line.trim() === "Error") {
      continue;
    }
    if (line.includes("validate_each_keys")) {
      return [];
    }
    if (posixified.includes("svelte/src/internal") || posixified.includes("node_modules/.vite")) {
      continue;
    }
    new_lines.push(line);
  }
  return new_lines;
}

// node_modules/svelte/src/internal/client/context.js
var component_context = null;
function set_component_context(context) {
  component_context = context;
}
var dev_stack = null;
function set_dev_stack(stack2) {
  dev_stack = stack2;
}
var dev_current_component_function = null;
function set_dev_current_component_function(fn) {
  dev_current_component_function = fn;
}
function push(props, runes = false, fn) {
  component_context = {
    p: component_context,
    i: false,
    c: null,
    e: null,
    s: props,
    x: null,
    l: legacy_mode_flag && !runes ? { s: null, u: null, $: [] } : null
  };
  if (dev_fallback_default) {
    component_context.function = fn;
    dev_current_component_function = fn;
  }
}
function pop(component2) {
  var _a3;
  var context = (
    /** @type {ComponentContext} */
    component_context
  );
  var effects = context.e;
  if (effects !== null) {
    context.e = null;
    for (var fn of effects) {
      create_user_effect(fn);
    }
  }
  if (component2 !== void 0) {
    context.x = component2;
  }
  context.i = true;
  component_context = context.p;
  if (dev_fallback_default) {
    dev_current_component_function = (_a3 = component_context == null ? void 0 : component_context.function) != null ? _a3 : null;
  }
  return component2 != null ? component2 : (
    /** @type {T} */
    {}
  );
}
function is_runes() {
  return !legacy_mode_flag || component_context !== null && component_context.l === null;
}

// node_modules/svelte/src/internal/client/dom/task.js
var micro_tasks = [];
function run_micro_tasks() {
  var tasks = micro_tasks;
  micro_tasks = [];
  run_all(tasks);
}
function queue_micro_task(fn) {
  if (micro_tasks.length === 0 && !is_flushing_sync) {
    var tasks = micro_tasks;
    queueMicrotask(() => {
      if (tasks === micro_tasks) run_micro_tasks();
    });
  }
  micro_tasks.push(fn);
}
function flush_tasks() {
  while (micro_tasks.length > 0) {
    run_micro_tasks();
  }
}

// node_modules/svelte/src/internal/client/error-handling.js
var adjustments = /* @__PURE__ */ new WeakMap();
function handle_error(error) {
  var effect2 = active_effect;
  if (effect2 === null) {
    active_reaction.f |= ERROR_VALUE;
    return error;
  }
  if (dev_fallback_default && error instanceof Error && !adjustments.has(error)) {
    adjustments.set(error, get_adjustments(error, effect2));
  }
  if ((effect2.f & EFFECT_RAN) === 0) {
    if ((effect2.f & BOUNDARY_EFFECT) === 0) {
      if (dev_fallback_default && !effect2.parent && error instanceof Error) {
        apply_adjustments(error);
      }
      throw error;
    }
    effect2.b.error(error);
  } else {
    invoke_error_boundary(error, effect2);
  }
}
function invoke_error_boundary(error, effect2) {
  while (effect2 !== null) {
    if ((effect2.f & BOUNDARY_EFFECT) !== 0) {
      try {
        effect2.b.error(error);
        return;
      } catch (e) {
        error = e;
      }
    }
    effect2 = effect2.parent;
  }
  if (dev_fallback_default && error instanceof Error) {
    apply_adjustments(error);
  }
  throw error;
}
function get_adjustments(error, effect2) {
  var _a3, _b3, _c2;
  const message_descriptor = get_descriptor(error, "message");
  if (message_descriptor && !message_descriptor.configurable) return;
  var indent = is_firefox ? "  " : "	";
  var component_stack = `
${indent}in ${((_a3 = effect2.fn) == null ? void 0 : _a3.name) || "<unknown>"}`;
  var context = effect2.ctx;
  while (context !== null) {
    component_stack += `
${indent}in ${(_b3 = context.function) == null ? void 0 : _b3[FILENAME].split("/").pop()}`;
    context = context.p;
  }
  return {
    message: error.message + `
${component_stack}
`,
    stack: (_c2 = error.stack) == null ? void 0 : _c2.split("\n").filter((line) => !line.includes("svelte/src/internal")).join("\n")
  };
}
function apply_adjustments(error) {
  const adjusted = adjustments.get(error);
  if (adjusted) {
    define_property(error, "message", {
      value: adjusted.message
    });
    define_property(error, "stack", {
      value: adjusted.stack
    });
  }
}

// node_modules/svelte/src/internal/client/reactivity/status.js
var STATUS_MASK = ~(DIRTY | MAYBE_DIRTY | CLEAN);
function set_signal_status(signal, status) {
  signal.f = signal.f & STATUS_MASK | status;
}
function update_derived_status(derived3) {
  if ((derived3.f & CONNECTED) !== 0 || derived3.deps === null) {
    set_signal_status(derived3, CLEAN);
  } else {
    set_signal_status(derived3, MAYBE_DIRTY);
  }
}

// node_modules/svelte/src/internal/client/reactivity/utils.js
function clear_marked(deps) {
  if (deps === null) return;
  for (const dep of deps) {
    if ((dep.f & DERIVED) === 0 || (dep.f & WAS_MARKED) === 0) {
      continue;
    }
    dep.f ^= WAS_MARKED;
    clear_marked(
      /** @type {Derived} */
      dep.deps
    );
  }
}
function defer_effect(effect2, dirty_effects, maybe_dirty_effects) {
  if ((effect2.f & DIRTY) !== 0) {
    dirty_effects.add(effect2);
  } else if ((effect2.f & MAYBE_DIRTY) !== 0) {
    maybe_dirty_effects.add(effect2);
  }
  clear_marked(effect2.deps);
  set_signal_status(effect2, CLEAN);
}

// node_modules/svelte/src/internal/client/reactivity/batch.js
var batches = /* @__PURE__ */ new Set();
var current_batch = null;
var previous_batch = null;
var batch_values = null;
var queued_root_effects = [];
var last_scheduled_effect = null;
var is_flushing = false;
var is_flushing_sync = false;
var _commit_callbacks, _discard_callbacks, _pending, _blocking_pending, _deferred, _dirty_effects, _maybe_dirty_effects, _Batch_instances, traverse_effect_tree_fn, defer_effects_fn, resolve_fn, commit_fn;
var _Batch = class _Batch {
  constructor() {
    __privateAdd(this, _Batch_instances);
    __publicField(this, "committed", false);
    /**
     * The current values of any sources that are updated in this batch
     * They keys of this map are identical to `this.#previous`
     * @type {Map<Source, any>}
     */
    __publicField(this, "current", /* @__PURE__ */ new Map());
    /**
     * The values of any sources that are updated in this batch _before_ those updates took place.
     * They keys of this map are identical to `this.#current`
     * @type {Map<Source, any>}
     */
    __publicField(this, "previous", /* @__PURE__ */ new Map());
    /**
     * When the batch is committed (and the DOM is updated), we need to remove old branches
     * and append new ones by calling the functions added inside (if/each/key/etc) blocks
     * @type {Set<() => void>}
     */
    __privateAdd(this, _commit_callbacks, /* @__PURE__ */ new Set());
    /**
     * If a fork is discarded, we need to destroy any effects that are no longer needed
     * @type {Set<(batch: Batch) => void>}
     */
    __privateAdd(this, _discard_callbacks, /* @__PURE__ */ new Set());
    /**
     * The number of async effects that are currently in flight
     */
    __privateAdd(this, _pending, 0);
    /**
     * The number of async effects that are currently in flight, _not_ inside a pending boundary
     */
    __privateAdd(this, _blocking_pending, 0);
    /**
     * A deferred that resolves when the batch is committed, used with `settled()`
     * TODO replace with Promise.withResolvers once supported widely enough
     * @type {{ promise: Promise<void>, resolve: (value?: any) => void, reject: (reason: unknown) => void } | null}
     */
    __privateAdd(this, _deferred, null);
    /**
     * Deferred effects (which run after async work has completed) that are DIRTY
     * @type {Set<Effect>}
     */
    __privateAdd(this, _dirty_effects, /* @__PURE__ */ new Set());
    /**
     * Deferred effects that are MAYBE_DIRTY
     * @type {Set<Effect>}
     */
    __privateAdd(this, _maybe_dirty_effects, /* @__PURE__ */ new Set());
    /**
     * A set of branches that still exist, but will be destroyed when this batch
     * is committed â€” we skip over these during `process`
     * @type {Set<Effect>}
     */
    __publicField(this, "skipped_effects", /* @__PURE__ */ new Set());
    __publicField(this, "is_fork", false);
  }
  is_deferred() {
    return this.is_fork || __privateGet(this, _blocking_pending) > 0;
  }
  /**
   *
   * @param {Effect[]} root_effects
   */
  process(root_effects) {
    var _a3;
    queued_root_effects = [];
    previous_batch = null;
    this.apply();
    var effects = [];
    var render_effects = [];
    for (const root9 of root_effects) {
      __privateMethod(this, _Batch_instances, traverse_effect_tree_fn).call(this, root9, effects, render_effects);
    }
    if (!this.is_fork) {
      __privateMethod(this, _Batch_instances, resolve_fn).call(this);
    }
    if (this.is_deferred()) {
      __privateMethod(this, _Batch_instances, defer_effects_fn).call(this, render_effects);
      __privateMethod(this, _Batch_instances, defer_effects_fn).call(this, effects);
    } else {
      previous_batch = this;
      current_batch = null;
      flush_queued_effects(render_effects);
      flush_queued_effects(effects);
      previous_batch = null;
      (_a3 = __privateGet(this, _deferred)) == null ? void 0 : _a3.resolve();
    }
    batch_values = null;
  }
  /**
   * Associate a change to a given source with the current
   * batch, noting its previous and current values
   * @param {Source} source
   * @param {any} value
   */
  capture(source2, value) {
    if (value !== UNINITIALIZED && !this.previous.has(source2)) {
      this.previous.set(source2, value);
    }
    if ((source2.f & ERROR_VALUE) === 0) {
      this.current.set(source2, source2.v);
      batch_values == null ? void 0 : batch_values.set(source2, source2.v);
    }
  }
  activate() {
    current_batch = this;
    this.apply();
  }
  deactivate() {
    if (current_batch !== this) return;
    current_batch = null;
    batch_values = null;
  }
  flush() {
    this.activate();
    if (queued_root_effects.length > 0) {
      flush_effects();
      if (current_batch !== null && current_batch !== this) {
        return;
      }
    } else if (__privateGet(this, _pending) === 0) {
      this.process([]);
    }
    this.deactivate();
  }
  discard() {
    for (const fn of __privateGet(this, _discard_callbacks)) fn(this);
    __privateGet(this, _discard_callbacks).clear();
  }
  /**
   *
   * @param {boolean} blocking
   */
  increment(blocking) {
    __privateSet(this, _pending, __privateGet(this, _pending) + 1);
    if (blocking) __privateSet(this, _blocking_pending, __privateGet(this, _blocking_pending) + 1);
  }
  /**
   *
   * @param {boolean} blocking
   */
  decrement(blocking) {
    __privateSet(this, _pending, __privateGet(this, _pending) - 1);
    if (blocking) __privateSet(this, _blocking_pending, __privateGet(this, _blocking_pending) - 1);
    this.revive();
  }
  revive() {
    for (const e of __privateGet(this, _dirty_effects)) {
      __privateGet(this, _maybe_dirty_effects).delete(e);
      set_signal_status(e, DIRTY);
      schedule_effect(e);
    }
    for (const e of __privateGet(this, _maybe_dirty_effects)) {
      set_signal_status(e, MAYBE_DIRTY);
      schedule_effect(e);
    }
    this.flush();
  }
  /** @param {() => void} fn */
  oncommit(fn) {
    __privateGet(this, _commit_callbacks).add(fn);
  }
  /** @param {(batch: Batch) => void} fn */
  ondiscard(fn) {
    __privateGet(this, _discard_callbacks).add(fn);
  }
  settled() {
    var _a3;
    return ((_a3 = __privateGet(this, _deferred)) != null ? _a3 : __privateSet(this, _deferred, deferred())).promise;
  }
  static ensure() {
    if (current_batch === null) {
      const batch = current_batch = new _Batch();
      batches.add(current_batch);
      if (!is_flushing_sync) {
        _Batch.enqueue(() => {
          if (current_batch !== batch) {
            return;
          }
          batch.flush();
        });
      }
    }
    return current_batch;
  }
  /** @param {() => void} task */
  static enqueue(task) {
    queue_micro_task(task);
  }
  apply() {
    if (!async_mode_flag || !this.is_fork && batches.size === 1) return;
    batch_values = new Map(this.current);
    for (const batch of batches) {
      if (batch === this) continue;
      for (const [source2, previous] of batch.previous) {
        if (!batch_values.has(source2)) {
          batch_values.set(source2, previous);
        }
      }
    }
  }
};
_commit_callbacks = new WeakMap();
_discard_callbacks = new WeakMap();
_pending = new WeakMap();
_blocking_pending = new WeakMap();
_deferred = new WeakMap();
_dirty_effects = new WeakMap();
_maybe_dirty_effects = new WeakMap();
_Batch_instances = new WeakSet();
/**
 * Traverse the effect tree, executing effects or stashing
 * them for later execution as appropriate
 * @param {Effect} root
 * @param {Effect[]} effects
 * @param {Effect[]} render_effects
 */
traverse_effect_tree_fn = function(root9, effects, render_effects) {
  var _a3;
  root9.f ^= CLEAN;
  var effect2 = root9.first;
  var pending_boundary = null;
  while (effect2 !== null) {
    var flags2 = effect2.f;
    var is_branch = (flags2 & (BRANCH_EFFECT | ROOT_EFFECT)) !== 0;
    var is_skippable_branch = is_branch && (flags2 & CLEAN) !== 0;
    var skip = is_skippable_branch || (flags2 & INERT) !== 0 || this.skipped_effects.has(effect2);
    if (async_mode_flag && pending_boundary === null && (flags2 & BOUNDARY_EFFECT) !== 0 && ((_a3 = effect2.b) == null ? void 0 : _a3.is_pending)) {
      pending_boundary = effect2;
    }
    if (!skip && effect2.fn !== null) {
      if (is_branch) {
        effect2.f ^= CLEAN;
      } else if (pending_boundary !== null && (flags2 & (EFFECT | RENDER_EFFECT | MANAGED_EFFECT)) !== 0) {
        pending_boundary.b.defer_effect(effect2);
      } else if ((flags2 & EFFECT) !== 0) {
        effects.push(effect2);
      } else if (async_mode_flag && (flags2 & (RENDER_EFFECT | MANAGED_EFFECT)) !== 0) {
        render_effects.push(effect2);
      } else if (is_dirty(effect2)) {
        if ((flags2 & BLOCK_EFFECT) !== 0) __privateGet(this, _dirty_effects).add(effect2);
        update_effect(effect2);
      }
      var child2 = effect2.first;
      if (child2 !== null) {
        effect2 = child2;
        continue;
      }
    }
    var parent = effect2.parent;
    effect2 = effect2.next;
    while (effect2 === null && parent !== null) {
      if (parent === pending_boundary) {
        pending_boundary = null;
      }
      effect2 = parent.next;
      parent = parent.parent;
    }
  }
};
/**
 * @param {Effect[]} effects
 */
defer_effects_fn = function(effects) {
  for (var i = 0; i < effects.length; i += 1) {
    defer_effect(effects[i], __privateGet(this, _dirty_effects), __privateGet(this, _maybe_dirty_effects));
  }
};
resolve_fn = function() {
  if (__privateGet(this, _blocking_pending) === 0) {
    for (const fn of __privateGet(this, _commit_callbacks)) fn();
    __privateGet(this, _commit_callbacks).clear();
  }
  if (__privateGet(this, _pending) === 0) {
    __privateMethod(this, _Batch_instances, commit_fn).call(this);
  }
};
commit_fn = function() {
  var _a3;
  if (batches.size > 1) {
    this.previous.clear();
    var previous_batch_values = batch_values;
    var is_earlier = true;
    for (const batch of batches) {
      if (batch === this) {
        is_earlier = false;
        continue;
      }
      const sources = [];
      for (const [source2, value] of this.current) {
        if (batch.current.has(source2)) {
          if (is_earlier && value !== batch.current.get(source2)) {
            batch.current.set(source2, value);
          } else {
            continue;
          }
        }
        sources.push(source2);
      }
      if (sources.length === 0) {
        continue;
      }
      const others = [...batch.current.keys()].filter((s) => !this.current.has(s));
      if (others.length > 0) {
        var prev_queued_root_effects = queued_root_effects;
        queued_root_effects = [];
        const marked = /* @__PURE__ */ new Set();
        const checked = /* @__PURE__ */ new Map();
        for (const source2 of sources) {
          mark_effects(source2, others, marked, checked);
        }
        if (queued_root_effects.length > 0) {
          current_batch = batch;
          batch.apply();
          for (const root9 of queued_root_effects) {
            __privateMethod(_a3 = batch, _Batch_instances, traverse_effect_tree_fn).call(_a3, root9, [], []);
          }
          batch.deactivate();
        }
        queued_root_effects = prev_queued_root_effects;
      }
    }
    current_batch = null;
    batch_values = previous_batch_values;
  }
  this.committed = true;
  batches.delete(this);
};
var Batch = _Batch;
function flushSync(fn) {
  var was_flushing_sync = is_flushing_sync;
  is_flushing_sync = true;
  try {
    var result;
    if (fn) {
      if (current_batch !== null) {
        flush_effects();
      }
      result = fn();
    }
    while (true) {
      flush_tasks();
      if (queued_root_effects.length === 0) {
        current_batch == null ? void 0 : current_batch.flush();
        if (queued_root_effects.length === 0) {
          last_scheduled_effect = null;
          return (
            /** @type {T} */
            result
          );
        }
      }
      flush_effects();
    }
  } finally {
    is_flushing_sync = was_flushing_sync;
  }
}
function flush_effects() {
  var _a3;
  var was_updating_effect = is_updating_effect;
  is_flushing = true;
  var source_stacks = dev_fallback_default ? /* @__PURE__ */ new Set() : null;
  try {
    var flush_count = 0;
    set_is_updating_effect(true);
    while (queued_root_effects.length > 0) {
      var batch = Batch.ensure();
      if (flush_count++ > 1e3) {
        if (dev_fallback_default) {
          var updates = /* @__PURE__ */ new Map();
          for (const source2 of batch.current.keys()) {
            for (const [stack2, update2] of (_a3 = source2.updated) != null ? _a3 : []) {
              var entry = updates.get(stack2);
              if (!entry) {
                entry = { error: update2.error, count: 0 };
                updates.set(stack2, entry);
              }
              entry.count += update2.count;
            }
          }
          for (const update2 of updates.values()) {
            if (update2.error) {
              console.error(update2.error);
            }
          }
        }
        infinite_loop_guard();
      }
      batch.process(queued_root_effects);
      old_values.clear();
      if (dev_fallback_default) {
        for (const source2 of batch.current.keys()) {
          source_stacks.add(source2);
        }
      }
    }
  } finally {
    is_flushing = false;
    set_is_updating_effect(was_updating_effect);
    last_scheduled_effect = null;
    if (dev_fallback_default) {
      for (
        const source2 of
        /** @type {Set<Source>} */
        source_stacks
      ) {
        source2.updated = null;
      }
    }
  }
}
function infinite_loop_guard() {
  try {
    effect_update_depth_exceeded();
  } catch (error) {
    if (dev_fallback_default) {
      define_property(error, "stack", { value: "" });
    }
    invoke_error_boundary(error, last_scheduled_effect);
  }
}
var eager_block_effects = null;
function flush_queued_effects(effects) {
  var length = effects.length;
  if (length === 0) return;
  var i = 0;
  while (i < length) {
    var effect2 = effects[i++];
    if ((effect2.f & (DESTROYED | INERT)) === 0 && is_dirty(effect2)) {
      eager_block_effects = /* @__PURE__ */ new Set();
      update_effect(effect2);
      if (effect2.deps === null && effect2.first === null && effect2.nodes === null) {
        if (effect2.teardown === null && effect2.ac === null) {
          unlink_effect(effect2);
        } else {
          effect2.fn = null;
        }
      }
      if ((eager_block_effects == null ? void 0 : eager_block_effects.size) > 0) {
        old_values.clear();
        for (const e of eager_block_effects) {
          if ((e.f & (DESTROYED | INERT)) !== 0) continue;
          const ordered_effects = [e];
          let ancestor = e.parent;
          while (ancestor !== null) {
            if (eager_block_effects.has(ancestor)) {
              eager_block_effects.delete(ancestor);
              ordered_effects.push(ancestor);
            }
            ancestor = ancestor.parent;
          }
          for (let j = ordered_effects.length - 1; j >= 0; j--) {
            const e2 = ordered_effects[j];
            if ((e2.f & (DESTROYED | INERT)) !== 0) continue;
            update_effect(e2);
          }
        }
        eager_block_effects.clear();
      }
    }
  }
  eager_block_effects = null;
}
function mark_effects(value, sources, marked, checked) {
  if (marked.has(value)) return;
  marked.add(value);
  if (value.reactions !== null) {
    for (const reaction of value.reactions) {
      const flags2 = reaction.f;
      if ((flags2 & DERIVED) !== 0) {
        mark_effects(
          /** @type {Derived} */
          reaction,
          sources,
          marked,
          checked
        );
      } else if ((flags2 & (ASYNC | BLOCK_EFFECT)) !== 0 && (flags2 & DIRTY) === 0 && depends_on(reaction, sources, checked)) {
        set_signal_status(reaction, DIRTY);
        schedule_effect(
          /** @type {Effect} */
          reaction
        );
      }
    }
  }
}
function depends_on(reaction, sources, checked) {
  const depends = checked.get(reaction);
  if (depends !== void 0) return depends;
  if (reaction.deps !== null) {
    for (const dep of reaction.deps) {
      if (sources.includes(dep)) {
        return true;
      }
      if ((dep.f & DERIVED) !== 0 && depends_on(
        /** @type {Derived} */
        dep,
        sources,
        checked
      )) {
        checked.set(
          /** @type {Derived} */
          dep,
          true
        );
        return true;
      }
    }
  }
  checked.set(reaction, false);
  return false;
}
function schedule_effect(signal) {
  var effect2 = last_scheduled_effect = signal;
  while (effect2.parent !== null) {
    effect2 = effect2.parent;
    var flags2 = effect2.f;
    if (is_flushing && effect2 === active_effect && (flags2 & BLOCK_EFFECT) !== 0 && (flags2 & HEAD_EFFECT) === 0) {
      return;
    }
    if ((flags2 & (ROOT_EFFECT | BRANCH_EFFECT)) !== 0) {
      if ((flags2 & CLEAN) === 0) return;
      effect2.f ^= CLEAN;
    }
  }
  queued_root_effects.push(effect2);
}

// node_modules/svelte/src/reactivity/create-subscriber.js
function createSubscriber(start) {
  let subscribers = 0;
  let version = source(0);
  let stop;
  if (dev_fallback_default) {
    tag(version, "createSubscriber version");
  }
  return () => {
    if (effect_tracking()) {
      get(version);
      render_effect(() => {
        if (subscribers === 0) {
          stop = untrack(() => start(() => increment(version)));
        }
        subscribers += 1;
        return () => {
          queue_micro_task(() => {
            subscribers -= 1;
            if (subscribers === 0) {
              stop == null ? void 0 : stop();
              stop = void 0;
              increment(version);
            }
          });
        };
      });
    }
  };
}

// node_modules/svelte/src/internal/client/dom/blocks/boundary.js
var flags = EFFECT_TRANSPARENT | EFFECT_PRESERVED | BOUNDARY_EFFECT;
function boundary(node, props, children) {
  new Boundary(node, props, children);
}
var _anchor, _hydrate_open, _props, _children, _effect, _main_effect, _pending_effect, _failed_effect, _offscreen_fragment, _pending_anchor, _local_pending_count, _pending_count, _is_creating_fallback, _dirty_effects2, _maybe_dirty_effects2, _effect_pending, _effect_pending_subscriber, _Boundary_instances, hydrate_resolved_content_fn, hydrate_pending_content_fn, get_anchor_fn, run_fn, show_pending_snippet_fn, update_pending_count_fn;
var Boundary = class {
  /**
   * @param {TemplateNode} node
   * @param {BoundaryProps} props
   * @param {((anchor: Node) => void)} children
   */
  constructor(node, props, children) {
    __privateAdd(this, _Boundary_instances);
    /** @type {Boundary | null} */
    __publicField(this, "parent");
    __publicField(this, "is_pending", false);
    /** @type {TemplateNode} */
    __privateAdd(this, _anchor);
    /** @type {TemplateNode | null} */
    __privateAdd(this, _hydrate_open, hydrating ? hydrate_node : null);
    /** @type {BoundaryProps} */
    __privateAdd(this, _props);
    /** @type {((anchor: Node) => void)} */
    __privateAdd(this, _children);
    /** @type {Effect} */
    __privateAdd(this, _effect);
    /** @type {Effect | null} */
    __privateAdd(this, _main_effect, null);
    /** @type {Effect | null} */
    __privateAdd(this, _pending_effect, null);
    /** @type {Effect | null} */
    __privateAdd(this, _failed_effect, null);
    /** @type {DocumentFragment | null} */
    __privateAdd(this, _offscreen_fragment, null);
    /** @type {TemplateNode | null} */
    __privateAdd(this, _pending_anchor, null);
    __privateAdd(this, _local_pending_count, 0);
    __privateAdd(this, _pending_count, 0);
    __privateAdd(this, _is_creating_fallback, false);
    /** @type {Set<Effect>} */
    __privateAdd(this, _dirty_effects2, /* @__PURE__ */ new Set());
    /** @type {Set<Effect>} */
    __privateAdd(this, _maybe_dirty_effects2, /* @__PURE__ */ new Set());
    /**
     * A source containing the number of pending async deriveds/expressions.
     * Only created if `$effect.pending()` is used inside the boundary,
     * otherwise updating the source results in needless `Batch.ensure()`
     * calls followed by no-op flushes
     * @type {Source<number> | null}
     */
    __privateAdd(this, _effect_pending, null);
    __privateAdd(this, _effect_pending_subscriber, createSubscriber(() => {
      __privateSet(this, _effect_pending, source(__privateGet(this, _local_pending_count)));
      if (dev_fallback_default) {
        tag(__privateGet(this, _effect_pending), "$effect.pending()");
      }
      return () => {
        __privateSet(this, _effect_pending, null);
      };
    }));
    __privateSet(this, _anchor, node);
    __privateSet(this, _props, props);
    __privateSet(this, _children, children);
    this.parent = /** @type {Effect} */
    active_effect.b;
    this.is_pending = !!__privateGet(this, _props).pending;
    __privateSet(this, _effect, block(() => {
      active_effect.b = this;
      if (hydrating) {
        const comment2 = __privateGet(this, _hydrate_open);
        hydrate_next();
        const server_rendered_pending = (
          /** @type {Comment} */
          comment2.nodeType === COMMENT_NODE && /** @type {Comment} */
          comment2.data === HYDRATION_START_ELSE
        );
        if (server_rendered_pending) {
          __privateMethod(this, _Boundary_instances, hydrate_pending_content_fn).call(this);
        } else {
          __privateMethod(this, _Boundary_instances, hydrate_resolved_content_fn).call(this);
          if (__privateGet(this, _pending_count) === 0) {
            this.is_pending = false;
          }
        }
      } else {
        var anchor = __privateMethod(this, _Boundary_instances, get_anchor_fn).call(this);
        try {
          __privateSet(this, _main_effect, branch(() => children(anchor)));
        } catch (error) {
          this.error(error);
        }
        if (__privateGet(this, _pending_count) > 0) {
          __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
        } else {
          this.is_pending = false;
        }
      }
      return () => {
        var _a3;
        (_a3 = __privateGet(this, _pending_anchor)) == null ? void 0 : _a3.remove();
      };
    }, flags));
    if (hydrating) {
      __privateSet(this, _anchor, hydrate_node);
    }
  }
  /**
   * Defer an effect inside a pending boundary until the boundary resolves
   * @param {Effect} effect
   */
  defer_effect(effect2) {
    defer_effect(effect2, __privateGet(this, _dirty_effects2), __privateGet(this, _maybe_dirty_effects2));
  }
  /**
   * Returns `false` if the effect exists inside a boundary whose pending snippet is shown
   * @returns {boolean}
   */
  is_rendered() {
    return !this.is_pending && (!this.parent || this.parent.is_rendered());
  }
  has_pending_snippet() {
    return !!__privateGet(this, _props).pending;
  }
  /**
   * Update the source that powers `$effect.pending()` inside this boundary,
   * and controls when the current `pending` snippet (if any) is removed.
   * Do not call from inside the class
   * @param {1 | -1} d
   */
  update_pending_count(d) {
    __privateMethod(this, _Boundary_instances, update_pending_count_fn).call(this, d);
    __privateSet(this, _local_pending_count, __privateGet(this, _local_pending_count) + d);
    if (__privateGet(this, _effect_pending)) {
      internal_set(__privateGet(this, _effect_pending), __privateGet(this, _local_pending_count));
    }
  }
  get_effect_pending() {
    __privateGet(this, _effect_pending_subscriber).call(this);
    return get(
      /** @type {Source<number>} */
      __privateGet(this, _effect_pending)
    );
  }
  /** @param {unknown} error */
  error(error) {
    var onerror = __privateGet(this, _props).onerror;
    let failed = __privateGet(this, _props).failed;
    if (__privateGet(this, _is_creating_fallback) || !onerror && !failed) {
      throw error;
    }
    if (__privateGet(this, _main_effect)) {
      destroy_effect(__privateGet(this, _main_effect));
      __privateSet(this, _main_effect, null);
    }
    if (__privateGet(this, _pending_effect)) {
      destroy_effect(__privateGet(this, _pending_effect));
      __privateSet(this, _pending_effect, null);
    }
    if (__privateGet(this, _failed_effect)) {
      destroy_effect(__privateGet(this, _failed_effect));
      __privateSet(this, _failed_effect, null);
    }
    if (hydrating) {
      set_hydrate_node(
        /** @type {TemplateNode} */
        __privateGet(this, _hydrate_open)
      );
      next();
      set_hydrate_node(skip_nodes());
    }
    var did_reset = false;
    var calling_on_error = false;
    const reset2 = () => {
      if (did_reset) {
        svelte_boundary_reset_noop();
        return;
      }
      did_reset = true;
      if (calling_on_error) {
        svelte_boundary_reset_onerror();
      }
      Batch.ensure();
      __privateSet(this, _local_pending_count, 0);
      if (__privateGet(this, _failed_effect) !== null) {
        pause_effect(__privateGet(this, _failed_effect), () => {
          __privateSet(this, _failed_effect, null);
        });
      }
      this.is_pending = this.has_pending_snippet();
      __privateSet(this, _main_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
        __privateSet(this, _is_creating_fallback, false);
        return branch(() => __privateGet(this, _children).call(this, __privateGet(this, _anchor)));
      }));
      if (__privateGet(this, _pending_count) > 0) {
        __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
      } else {
        this.is_pending = false;
      }
    };
    var previous_reaction = active_reaction;
    try {
      set_active_reaction(null);
      calling_on_error = true;
      onerror == null ? void 0 : onerror(error, reset2);
      calling_on_error = false;
    } catch (error2) {
      invoke_error_boundary(error2, __privateGet(this, _effect) && __privateGet(this, _effect).parent);
    } finally {
      set_active_reaction(previous_reaction);
    }
    if (failed) {
      queue_micro_task(() => {
        __privateSet(this, _failed_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
          Batch.ensure();
          __privateSet(this, _is_creating_fallback, true);
          try {
            return branch(() => {
              failed(
                __privateGet(this, _anchor),
                () => error,
                () => reset2
              );
            });
          } catch (error2) {
            invoke_error_boundary(
              error2,
              /** @type {Effect} */
              __privateGet(this, _effect).parent
            );
            return null;
          } finally {
            __privateSet(this, _is_creating_fallback, false);
          }
        }));
      });
    }
  }
};
_anchor = new WeakMap();
_hydrate_open = new WeakMap();
_props = new WeakMap();
_children = new WeakMap();
_effect = new WeakMap();
_main_effect = new WeakMap();
_pending_effect = new WeakMap();
_failed_effect = new WeakMap();
_offscreen_fragment = new WeakMap();
_pending_anchor = new WeakMap();
_local_pending_count = new WeakMap();
_pending_count = new WeakMap();
_is_creating_fallback = new WeakMap();
_dirty_effects2 = new WeakMap();
_maybe_dirty_effects2 = new WeakMap();
_effect_pending = new WeakMap();
_effect_pending_subscriber = new WeakMap();
_Boundary_instances = new WeakSet();
hydrate_resolved_content_fn = function() {
  try {
    __privateSet(this, _main_effect, branch(() => __privateGet(this, _children).call(this, __privateGet(this, _anchor))));
  } catch (error) {
    this.error(error);
  }
};
hydrate_pending_content_fn = function() {
  const pending2 = __privateGet(this, _props).pending;
  if (!pending2) {
    return;
  }
  __privateSet(this, _pending_effect, branch(() => pending2(__privateGet(this, _anchor))));
  Batch.enqueue(() => {
    var anchor = __privateMethod(this, _Boundary_instances, get_anchor_fn).call(this);
    __privateSet(this, _main_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
      Batch.ensure();
      return branch(() => __privateGet(this, _children).call(this, anchor));
    }));
    if (__privateGet(this, _pending_count) > 0) {
      __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
    } else {
      pause_effect(
        /** @type {Effect} */
        __privateGet(this, _pending_effect),
        () => {
          __privateSet(this, _pending_effect, null);
        }
      );
      this.is_pending = false;
    }
  });
};
get_anchor_fn = function() {
  var anchor = __privateGet(this, _anchor);
  if (this.is_pending) {
    __privateSet(this, _pending_anchor, create_text());
    __privateGet(this, _anchor).before(__privateGet(this, _pending_anchor));
    anchor = __privateGet(this, _pending_anchor);
  }
  return anchor;
};
/**
 * @param {() => Effect | null} fn
 */
run_fn = function(fn) {
  var previous_effect = active_effect;
  var previous_reaction = active_reaction;
  var previous_ctx = component_context;
  set_active_effect(__privateGet(this, _effect));
  set_active_reaction(__privateGet(this, _effect));
  set_component_context(__privateGet(this, _effect).ctx);
  try {
    return fn();
  } catch (e) {
    handle_error(e);
    return null;
  } finally {
    set_active_effect(previous_effect);
    set_active_reaction(previous_reaction);
    set_component_context(previous_ctx);
  }
};
show_pending_snippet_fn = function() {
  const pending2 = (
    /** @type {(anchor: Node) => void} */
    __privateGet(this, _props).pending
  );
  if (__privateGet(this, _main_effect) !== null) {
    __privateSet(this, _offscreen_fragment, document.createDocumentFragment());
    __privateGet(this, _offscreen_fragment).append(
      /** @type {TemplateNode} */
      __privateGet(this, _pending_anchor)
    );
    move_effect(__privateGet(this, _main_effect), __privateGet(this, _offscreen_fragment));
  }
  if (__privateGet(this, _pending_effect) === null) {
    __privateSet(this, _pending_effect, branch(() => pending2(__privateGet(this, _anchor))));
  }
};
/**
 * Updates the pending count associated with the currently visible pending snippet,
 * if any, such that we can replace the snippet with content once work is done
 * @param {1 | -1} d
 */
update_pending_count_fn = function(d) {
  var _a3;
  if (!this.has_pending_snippet()) {
    if (this.parent) {
      __privateMethod(_a3 = this.parent, _Boundary_instances, update_pending_count_fn).call(_a3, d);
    }
    return;
  }
  __privateSet(this, _pending_count, __privateGet(this, _pending_count) + d);
  if (__privateGet(this, _pending_count) === 0) {
    this.is_pending = false;
    for (const e of __privateGet(this, _dirty_effects2)) {
      set_signal_status(e, DIRTY);
      schedule_effect(e);
    }
    for (const e of __privateGet(this, _maybe_dirty_effects2)) {
      set_signal_status(e, MAYBE_DIRTY);
      schedule_effect(e);
    }
    __privateGet(this, _dirty_effects2).clear();
    __privateGet(this, _maybe_dirty_effects2).clear();
    if (__privateGet(this, _pending_effect)) {
      pause_effect(__privateGet(this, _pending_effect), () => {
        __privateSet(this, _pending_effect, null);
      });
    }
    if (__privateGet(this, _offscreen_fragment)) {
      __privateGet(this, _anchor).before(__privateGet(this, _offscreen_fragment));
      __privateSet(this, _offscreen_fragment, null);
    }
  }
};

// node_modules/svelte/src/internal/client/reactivity/async.js
function flatten(blockers, sync, async2, fn) {
  const d = is_runes() ? derived : derived_safe_equal;
  if (async2.length === 0 && blockers.length === 0) {
    fn(sync.map(d));
    return;
  }
  var batch = current_batch;
  var parent = (
    /** @type {Effect} */
    active_effect
  );
  var restore = capture();
  function run3() {
    Promise.all(async2.map((expression) => async_derived(expression))).then((result) => {
      restore();
      try {
        fn([...sync.map(d), ...result]);
      } catch (error) {
        if ((parent.f & DESTROYED) === 0) {
          invoke_error_boundary(error, parent);
        }
      }
      batch == null ? void 0 : batch.deactivate();
      unset_context();
    }).catch((error) => {
      invoke_error_boundary(error, parent);
    });
  }
  if (blockers.length > 0) {
    Promise.all(blockers).then(() => {
      restore();
      try {
        return run3();
      } finally {
        batch == null ? void 0 : batch.deactivate();
        unset_context();
      }
    });
  } else {
    run3();
  }
}
function capture() {
  var previous_effect = active_effect;
  var previous_reaction = active_reaction;
  var previous_component_context = component_context;
  var previous_batch2 = current_batch;
  if (dev_fallback_default) {
    var previous_dev_stack = dev_stack;
  }
  return function restore(activate_batch = true) {
    set_active_effect(previous_effect);
    set_active_reaction(previous_reaction);
    set_component_context(previous_component_context);
    if (activate_batch) previous_batch2 == null ? void 0 : previous_batch2.activate();
    if (dev_fallback_default) {
      set_from_async_derived(null);
      set_dev_stack(previous_dev_stack);
    }
  };
}
function unset_context() {
  set_active_effect(null);
  set_active_reaction(null);
  set_component_context(null);
  if (dev_fallback_default) {
    set_from_async_derived(null);
    set_dev_stack(null);
  }
}

// node_modules/svelte/src/internal/client/reactivity/deriveds.js
var current_async_effect = null;
function set_from_async_derived(v) {
  current_async_effect = v;
}
var recent_async_deriveds = /* @__PURE__ */ new Set();
// @__NO_SIDE_EFFECTS__
function derived(fn) {
  var flags2 = DERIVED | DIRTY;
  var parent_derived = active_reaction !== null && (active_reaction.f & DERIVED) !== 0 ? (
    /** @type {Derived} */
    active_reaction
  ) : null;
  if (active_effect !== null) {
    active_effect.f |= EFFECT_PRESERVED;
  }
  const signal = {
    ctx: component_context,
    deps: null,
    effects: null,
    equals,
    f: flags2,
    fn,
    reactions: null,
    rv: 0,
    v: (
      /** @type {V} */
      UNINITIALIZED
    ),
    wv: 0,
    parent: parent_derived != null ? parent_derived : active_effect,
    ac: null
  };
  if (dev_fallback_default && tracing_mode_flag) {
    signal.created = get_error("created at");
  }
  return signal;
}
// @__NO_SIDE_EFFECTS__
function async_derived(fn, label, location) {
  let parent = (
    /** @type {Effect | null} */
    active_effect
  );
  if (parent === null) {
    async_derived_orphan();
  }
  var boundary2 = (
    /** @type {Boundary} */
    parent.b
  );
  var promise = (
    /** @type {Promise<V>} */
    /** @type {unknown} */
    void 0
  );
  var signal = source(
    /** @type {V} */
    UNINITIALIZED
  );
  if (dev_fallback_default) signal.label = label;
  var should_suspend = !active_reaction;
  var deferreds = /* @__PURE__ */ new Map();
  async_effect(() => {
    var _a3;
    if (dev_fallback_default) current_async_effect = active_effect;
    var d = deferred();
    promise = d.promise;
    try {
      Promise.resolve(fn()).then(d.resolve, d.reject).then(() => {
        if (batch === current_batch && batch.committed) {
          batch.deactivate();
        }
        unset_context();
      });
    } catch (error) {
      d.reject(error);
      unset_context();
    }
    if (dev_fallback_default) current_async_effect = null;
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    if (should_suspend) {
      var blocking = boundary2.is_rendered();
      boundary2.update_pending_count(1);
      batch.increment(blocking);
      (_a3 = deferreds.get(batch)) == null ? void 0 : _a3.reject(STALE_REACTION);
      deferreds.delete(batch);
      deferreds.set(batch, d);
    }
    const handler = (value, error = void 0) => {
      current_async_effect = null;
      batch.activate();
      if (error) {
        if (error !== STALE_REACTION) {
          signal.f |= ERROR_VALUE;
          internal_set(signal, error);
        }
      } else {
        if ((signal.f & ERROR_VALUE) !== 0) {
          signal.f ^= ERROR_VALUE;
        }
        internal_set(signal, value);
        for (const [b, d2] of deferreds) {
          deferreds.delete(b);
          if (b === batch) break;
          d2.reject(STALE_REACTION);
        }
        if (dev_fallback_default && location !== void 0) {
          recent_async_deriveds.add(signal);
          setTimeout(() => {
            if (recent_async_deriveds.has(signal)) {
              await_waterfall(
                /** @type {string} */
                signal.label,
                location
              );
              recent_async_deriveds.delete(signal);
            }
          });
        }
      }
      if (should_suspend) {
        boundary2.update_pending_count(-1);
        batch.decrement(blocking);
      }
    };
    d.promise.then(handler, (e) => handler(null, e || "unknown"));
  });
  teardown(() => {
    for (const d of deferreds.values()) {
      d.reject(STALE_REACTION);
    }
  });
  if (dev_fallback_default) {
    signal.f |= ASYNC;
  }
  return new Promise((fulfil) => {
    function next2(p) {
      function go() {
        if (p === promise) {
          fulfil(signal);
        } else {
          next2(promise);
        }
      }
      p.then(go, go);
    }
    next2(promise);
  });
}
// @__NO_SIDE_EFFECTS__
function derived_safe_equal(fn) {
  const signal = /* @__PURE__ */ derived(fn);
  signal.equals = safe_equals;
  return signal;
}
function destroy_derived_effects(derived3) {
  var effects = derived3.effects;
  if (effects !== null) {
    derived3.effects = null;
    for (var i = 0; i < effects.length; i += 1) {
      destroy_effect(
        /** @type {Effect} */
        effects[i]
      );
    }
  }
}
var stack = [];
function get_derived_parent_effect(derived3) {
  var parent = derived3.parent;
  while (parent !== null) {
    if ((parent.f & DERIVED) === 0) {
      return (parent.f & DESTROYED) === 0 ? (
        /** @type {Effect} */
        parent
      ) : null;
    }
    parent = parent.parent;
  }
  return null;
}
function execute_derived(derived3) {
  var value;
  var prev_active_effect = active_effect;
  set_active_effect(get_derived_parent_effect(derived3));
  if (dev_fallback_default) {
    let prev_eager_effects = eager_effects;
    set_eager_effects(/* @__PURE__ */ new Set());
    try {
      if (stack.includes(derived3)) {
        derived_references_self();
      }
      stack.push(derived3);
      derived3.f &= ~WAS_MARKED;
      destroy_derived_effects(derived3);
      value = update_reaction(derived3);
    } finally {
      set_active_effect(prev_active_effect);
      set_eager_effects(prev_eager_effects);
      stack.pop();
    }
  } else {
    try {
      derived3.f &= ~WAS_MARKED;
      destroy_derived_effects(derived3);
      value = update_reaction(derived3);
    } finally {
      set_active_effect(prev_active_effect);
    }
  }
  return value;
}
function update_derived(derived3) {
  var _a3, _b3;
  var value = execute_derived(derived3);
  if (!derived3.equals(value)) {
    derived3.wv = increment_write_version();
    if (!((_a3 = current_batch) == null ? void 0 : _a3.is_fork) || derived3.deps === null) {
      derived3.v = value;
      if (derived3.deps === null) {
        set_signal_status(derived3, CLEAN);
        return;
      }
    }
  }
  if (is_destroying_effect) {
    return;
  }
  if (batch_values !== null) {
    if (effect_tracking() || ((_b3 = current_batch) == null ? void 0 : _b3.is_fork)) {
      batch_values.set(derived3, value);
    }
  } else {
    update_derived_status(derived3);
  }
}

// node_modules/svelte/src/internal/client/reactivity/sources.js
var eager_effects = /* @__PURE__ */ new Set();
var old_values = /* @__PURE__ */ new Map();
function set_eager_effects(v) {
  eager_effects = v;
}
var eager_effects_deferred = false;
function set_eager_effects_deferred() {
  eager_effects_deferred = true;
}
function source(v, stack2) {
  var signal = {
    f: 0,
    // TODO ideally we could skip this altogether, but it causes type errors
    v,
    reactions: null,
    equals,
    rv: 0,
    wv: 0
  };
  if (dev_fallback_default && tracing_mode_flag) {
    signal.created = stack2 != null ? stack2 : get_error("created at");
    signal.updated = null;
    signal.set_during_effect = false;
    signal.trace = null;
  }
  return signal;
}
// @__NO_SIDE_EFFECTS__
function state(v, stack2) {
  const s = source(v, stack2);
  push_reaction_value(s);
  return s;
}
// @__NO_SIDE_EFFECTS__
function mutable_source(initial_value, immutable = false, trackable = true) {
  var _a3, _b3;
  const s = source(initial_value);
  if (!immutable) {
    s.equals = safe_equals;
  }
  if (legacy_mode_flag && trackable && component_context !== null && component_context.l !== null) {
    ((_b3 = (_a3 = component_context.l).s) != null ? _b3 : _a3.s = []).push(s);
  }
  return s;
}
function set(source2, value, should_proxy = false) {
  var _a3;
  if (active_reaction !== null && // since we are untracking the function inside `$inspect.with` we need to add this check
  // to ensure we error if state is set inside an inspect effect
  (!untracking || (active_reaction.f & EAGER_EFFECT) !== 0) && is_runes() && (active_reaction.f & (DERIVED | BLOCK_EFFECT | ASYNC | EAGER_EFFECT)) !== 0 && !((_a3 = current_sources) == null ? void 0 : _a3.includes(source2))) {
    state_unsafe_mutation();
  }
  let new_value = should_proxy ? proxy(value) : value;
  if (dev_fallback_default) {
    tag_proxy(
      new_value,
      /** @type {string} */
      source2.label
    );
  }
  return internal_set(source2, new_value);
}
function internal_set(source2, value) {
  var _a3, _b3, _c2;
  if (!source2.equals(value)) {
    var old_value = source2.v;
    if (is_destroying_effect) {
      old_values.set(source2, value);
    } else {
      old_values.set(source2, old_value);
    }
    source2.v = value;
    var batch = Batch.ensure();
    batch.capture(source2, old_value);
    if (dev_fallback_default) {
      if (tracing_mode_flag || active_effect !== null) {
        (_a3 = source2.updated) != null ? _a3 : source2.updated = /* @__PURE__ */ new Map();
        const count = ((_c2 = (_b3 = source2.updated.get("")) == null ? void 0 : _b3.count) != null ? _c2 : 0) + 1;
        source2.updated.set("", { error: (
          /** @type {any} */
          null
        ), count });
        if (tracing_mode_flag || count > 5) {
          const error = get_error("updated at");
          if (error !== null) {
            let entry = source2.updated.get(error.stack);
            if (!entry) {
              entry = { error, count: 0 };
              source2.updated.set(error.stack, entry);
            }
            entry.count++;
          }
        }
      }
      if (active_effect !== null) {
        source2.set_during_effect = true;
      }
    }
    if ((source2.f & DERIVED) !== 0) {
      const derived3 = (
        /** @type {Derived} */
        source2
      );
      if ((source2.f & DIRTY) !== 0) {
        execute_derived(derived3);
      }
      update_derived_status(derived3);
    }
    source2.wv = increment_write_version();
    mark_reactions(source2, DIRTY);
    if (is_runes() && active_effect !== null && (active_effect.f & CLEAN) !== 0 && (active_effect.f & (BRANCH_EFFECT | ROOT_EFFECT)) === 0) {
      if (untracked_writes === null) {
        set_untracked_writes([source2]);
      } else {
        untracked_writes.push(source2);
      }
    }
    if (!batch.is_fork && eager_effects.size > 0 && !eager_effects_deferred) {
      flush_eager_effects();
    }
  }
  return value;
}
function flush_eager_effects() {
  eager_effects_deferred = false;
  var prev_is_updating_effect = is_updating_effect;
  set_is_updating_effect(true);
  const inspects = Array.from(eager_effects);
  try {
    for (const effect2 of inspects) {
      if ((effect2.f & CLEAN) !== 0) {
        set_signal_status(effect2, MAYBE_DIRTY);
      }
      if (is_dirty(effect2)) {
        update_effect(effect2);
      }
    }
  } finally {
    set_is_updating_effect(prev_is_updating_effect);
  }
  eager_effects.clear();
}
function increment(source2) {
  set(source2, source2.v + 1);
}
function mark_reactions(signal, status) {
  var _a3;
  var reactions = signal.reactions;
  if (reactions === null) return;
  var runes = is_runes();
  var length = reactions.length;
  for (var i = 0; i < length; i++) {
    var reaction = reactions[i];
    var flags2 = reaction.f;
    if (!runes && reaction === active_effect) continue;
    if (dev_fallback_default && (flags2 & EAGER_EFFECT) !== 0) {
      eager_effects.add(reaction);
      continue;
    }
    var not_dirty = (flags2 & DIRTY) === 0;
    if (not_dirty) {
      set_signal_status(reaction, status);
    }
    if ((flags2 & DERIVED) !== 0) {
      var derived3 = (
        /** @type {Derived} */
        reaction
      );
      (_a3 = batch_values) == null ? void 0 : _a3.delete(derived3);
      if ((flags2 & WAS_MARKED) === 0) {
        if (flags2 & CONNECTED) {
          reaction.f |= WAS_MARKED;
        }
        mark_reactions(derived3, MAYBE_DIRTY);
      }
    } else if (not_dirty) {
      if ((flags2 & BLOCK_EFFECT) !== 0 && eager_block_effects !== null) {
        eager_block_effects.add(
          /** @type {Effect} */
          reaction
        );
      }
      schedule_effect(
        /** @type {Effect} */
        reaction
      );
    }
  }
}

// node_modules/svelte/src/internal/client/proxy.js
var regex_is_valid_identifier = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;
function proxy(value) {
  if (typeof value !== "object" || value === null || STATE_SYMBOL in value) {
    return value;
  }
  const prototype = get_prototype_of(value);
  if (prototype !== object_prototype && prototype !== array_prototype) {
    return value;
  }
  var sources = /* @__PURE__ */ new Map();
  var is_proxied_array = is_array(value);
  var version = state(0);
  var stack2 = dev_fallback_default && tracing_mode_flag ? get_error("created at") : null;
  var parent_version = update_version;
  var with_parent = (fn) => {
    if (update_version === parent_version) {
      return fn();
    }
    var reaction = active_reaction;
    var version2 = update_version;
    set_active_reaction(null);
    set_update_version(parent_version);
    var result = fn();
    set_active_reaction(reaction);
    set_update_version(version2);
    return result;
  };
  if (is_proxied_array) {
    sources.set("length", state(
      /** @type {any[]} */
      value.length,
      stack2
    ));
    if (dev_fallback_default) {
      value = /** @type {any} */
      inspectable_array(
        /** @type {any[]} */
        value
      );
    }
  }
  var path = "";
  let updating = false;
  function update_path(new_path) {
    if (updating) return;
    updating = true;
    path = new_path;
    tag(version, `${path} version`);
    for (const [prop2, source2] of sources) {
      tag(source2, get_label(path, prop2));
    }
    updating = false;
  }
  return new Proxy(
    /** @type {any} */
    value,
    {
      defineProperty(_, prop2, descriptor) {
        if (!("value" in descriptor) || descriptor.configurable === false || descriptor.enumerable === false || descriptor.writable === false) {
          state_descriptors_fixed();
        }
        var s = sources.get(prop2);
        if (s === void 0) {
          s = with_parent(() => {
            var s2 = state(descriptor.value, stack2);
            sources.set(prop2, s2);
            if (dev_fallback_default && typeof prop2 === "string") {
              tag(s2, get_label(path, prop2));
            }
            return s2;
          });
        } else {
          set(s, descriptor.value, true);
        }
        return true;
      },
      deleteProperty(target, prop2) {
        var s = sources.get(prop2);
        if (s === void 0) {
          if (prop2 in target) {
            const s2 = with_parent(() => state(UNINITIALIZED, stack2));
            sources.set(prop2, s2);
            increment(version);
            if (dev_fallback_default) {
              tag(s2, get_label(path, prop2));
            }
          }
        } else {
          set(s, UNINITIALIZED);
          increment(version);
        }
        return true;
      },
      get(target, prop2, receiver) {
        var _a3;
        if (prop2 === STATE_SYMBOL) {
          return value;
        }
        if (dev_fallback_default && prop2 === PROXY_PATH_SYMBOL) {
          return update_path;
        }
        var s = sources.get(prop2);
        var exists = prop2 in target;
        if (s === void 0 && (!exists || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable))) {
          s = with_parent(() => {
            var p = proxy(exists ? target[prop2] : UNINITIALIZED);
            var s2 = state(p, stack2);
            if (dev_fallback_default) {
              tag(s2, get_label(path, prop2));
            }
            return s2;
          });
          sources.set(prop2, s);
        }
        if (s !== void 0) {
          var v = get(s);
          return v === UNINITIALIZED ? void 0 : v;
        }
        return Reflect.get(target, prop2, receiver);
      },
      getOwnPropertyDescriptor(target, prop2) {
        var descriptor = Reflect.getOwnPropertyDescriptor(target, prop2);
        if (descriptor && "value" in descriptor) {
          var s = sources.get(prop2);
          if (s) descriptor.value = get(s);
        } else if (descriptor === void 0) {
          var source2 = sources.get(prop2);
          var value2 = source2 == null ? void 0 : source2.v;
          if (source2 !== void 0 && value2 !== UNINITIALIZED) {
            return {
              enumerable: true,
              configurable: true,
              value: value2,
              writable: true
            };
          }
        }
        return descriptor;
      },
      has(target, prop2) {
        var _a3;
        if (prop2 === STATE_SYMBOL) {
          return true;
        }
        var s = sources.get(prop2);
        var has = s !== void 0 && s.v !== UNINITIALIZED || Reflect.has(target, prop2);
        if (s !== void 0 || active_effect !== null && (!has || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable))) {
          if (s === void 0) {
            s = with_parent(() => {
              var p = has ? proxy(target[prop2]) : UNINITIALIZED;
              var s2 = state(p, stack2);
              if (dev_fallback_default) {
                tag(s2, get_label(path, prop2));
              }
              return s2;
            });
            sources.set(prop2, s);
          }
          var value2 = get(s);
          if (value2 === UNINITIALIZED) {
            return false;
          }
        }
        return has;
      },
      set(target, prop2, value2, receiver) {
        var _a3;
        var s = sources.get(prop2);
        var has = prop2 in target;
        if (is_proxied_array && prop2 === "length") {
          for (var i = value2; i < /** @type {Source<number>} */
          s.v; i += 1) {
            var other_s = sources.get(i + "");
            if (other_s !== void 0) {
              set(other_s, UNINITIALIZED);
            } else if (i in target) {
              other_s = with_parent(() => state(UNINITIALIZED, stack2));
              sources.set(i + "", other_s);
              if (dev_fallback_default) {
                tag(other_s, get_label(path, i));
              }
            }
          }
        }
        if (s === void 0) {
          if (!has || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable)) {
            s = with_parent(() => state(void 0, stack2));
            if (dev_fallback_default) {
              tag(s, get_label(path, prop2));
            }
            set(s, proxy(value2));
            sources.set(prop2, s);
          }
        } else {
          has = s.v !== UNINITIALIZED;
          var p = with_parent(() => proxy(value2));
          set(s, p);
        }
        var descriptor = Reflect.getOwnPropertyDescriptor(target, prop2);
        if (descriptor == null ? void 0 : descriptor.set) {
          descriptor.set.call(receiver, value2);
        }
        if (!has) {
          if (is_proxied_array && typeof prop2 === "string") {
            var ls = (
              /** @type {Source<number>} */
              sources.get("length")
            );
            var n = Number(prop2);
            if (Number.isInteger(n) && n >= ls.v) {
              set(ls, n + 1);
            }
          }
          increment(version);
        }
        return true;
      },
      ownKeys(target) {
        get(version);
        var own_keys = Reflect.ownKeys(target).filter((key3) => {
          var source3 = sources.get(key3);
          return source3 === void 0 || source3.v !== UNINITIALIZED;
        });
        for (var [key2, source2] of sources) {
          if (source2.v !== UNINITIALIZED && !(key2 in target)) {
            own_keys.push(key2);
          }
        }
        return own_keys;
      },
      setPrototypeOf() {
        state_prototype_fixed();
      }
    }
  );
}
function get_label(path, prop2) {
  var _a3;
  if (typeof prop2 === "symbol") return `${path}[Symbol(${(_a3 = prop2.description) != null ? _a3 : ""})]`;
  if (regex_is_valid_identifier.test(prop2)) return `${path}.${prop2}`;
  return /^\d+$/.test(prop2) ? `${path}[${prop2}]` : `${path}['${prop2}']`;
}
function get_proxied_value(value) {
  try {
    if (value !== null && typeof value === "object" && STATE_SYMBOL in value) {
      return value[STATE_SYMBOL];
    }
  } catch (e) {
  }
  return value;
}
var ARRAY_MUTATING_METHODS = /* @__PURE__ */ new Set([
  "copyWithin",
  "fill",
  "pop",
  "push",
  "reverse",
  "shift",
  "sort",
  "splice",
  "unshift"
]);
function inspectable_array(array) {
  return new Proxy(array, {
    get(target, prop2, receiver) {
      var value = Reflect.get(target, prop2, receiver);
      if (!ARRAY_MUTATING_METHODS.has(
        /** @type {string} */
        prop2
      )) {
        return value;
      }
      return function(...args) {
        set_eager_effects_deferred();
        var result = value.apply(this, args);
        flush_eager_effects();
        return result;
      };
    }
  });
}

// node_modules/svelte/src/internal/client/dev/equality.js
function init_array_prototype_warnings() {
  const array_prototype2 = Array.prototype;
  const cleanup = Array.__svelte_cleanup;
  if (cleanup) {
    cleanup();
  }
  const { indexOf, lastIndexOf, includes } = array_prototype2;
  array_prototype2.indexOf = function(item, from_index) {
    const index2 = indexOf.call(this, item, from_index);
    if (index2 === -1) {
      for (let i = from_index != null ? from_index : 0; i < this.length; i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.indexOf(...)");
          break;
        }
      }
    }
    return index2;
  };
  array_prototype2.lastIndexOf = function(item, from_index) {
    const index2 = lastIndexOf.call(this, item, from_index != null ? from_index : this.length - 1);
    if (index2 === -1) {
      for (let i = 0; i <= (from_index != null ? from_index : this.length - 1); i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.lastIndexOf(...)");
          break;
        }
      }
    }
    return index2;
  };
  array_prototype2.includes = function(item, from_index) {
    const has = includes.call(this, item, from_index);
    if (!has) {
      for (let i = 0; i < this.length; i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.includes(...)");
          break;
        }
      }
    }
    return has;
  };
  Array.__svelte_cleanup = () => {
    array_prototype2.indexOf = indexOf;
    array_prototype2.lastIndexOf = lastIndexOf;
    array_prototype2.includes = includes;
  };
}

// node_modules/svelte/src/internal/client/dom/operations.js
var $window;
var $document;
var is_firefox;
var first_child_getter;
var next_sibling_getter;
function init_operations() {
  if ($window !== void 0) {
    return;
  }
  $window = window;
  $document = document;
  is_firefox = /Firefox/.test(navigator.userAgent);
  var element_prototype = Element.prototype;
  var node_prototype = Node.prototype;
  var text_prototype = Text.prototype;
  first_child_getter = get_descriptor(node_prototype, "firstChild").get;
  next_sibling_getter = get_descriptor(node_prototype, "nextSibling").get;
  if (is_extensible(element_prototype)) {
    element_prototype.__click = void 0;
    element_prototype.__className = void 0;
    element_prototype.__attributes = null;
    element_prototype.__style = void 0;
    element_prototype.__e = void 0;
  }
  if (is_extensible(text_prototype)) {
    text_prototype.__t = void 0;
  }
  if (dev_fallback_default) {
    element_prototype.__svelte_meta = null;
    init_array_prototype_warnings();
  }
}
function create_text(value = "") {
  return document.createTextNode(value);
}
// @__NO_SIDE_EFFECTS__
function get_first_child(node) {
  return (
    /** @type {TemplateNode | null} */
    first_child_getter.call(node)
  );
}
// @__NO_SIDE_EFFECTS__
function get_next_sibling(node) {
  return (
    /** @type {TemplateNode | null} */
    next_sibling_getter.call(node)
  );
}
function child(node, is_text) {
  if (!hydrating) {
    return /* @__PURE__ */ get_first_child(node);
  }
  var child2 = /* @__PURE__ */ get_first_child(hydrate_node);
  if (child2 === null) {
    child2 = hydrate_node.appendChild(create_text());
  } else if (is_text && child2.nodeType !== TEXT_NODE) {
    var text2 = create_text();
    child2 == null ? void 0 : child2.before(text2);
    set_hydrate_node(text2);
    return text2;
  }
  set_hydrate_node(child2);
  return child2;
}
function first_child(node, is_text = false) {
  var _a3, _b3;
  if (!hydrating) {
    var first = /* @__PURE__ */ get_first_child(node);
    if (first instanceof Comment && first.data === "") return /* @__PURE__ */ get_next_sibling(first);
    return first;
  }
  if (is_text && ((_a3 = hydrate_node) == null ? void 0 : _a3.nodeType) !== TEXT_NODE) {
    var text2 = create_text();
    (_b3 = hydrate_node) == null ? void 0 : _b3.before(text2);
    set_hydrate_node(text2);
    return text2;
  }
  return hydrate_node;
}
function sibling(node, count = 1, is_text = false) {
  let next_sibling = hydrating ? hydrate_node : node;
  var last_sibling;
  while (count--) {
    last_sibling = next_sibling;
    next_sibling = /** @type {TemplateNode} */
    /* @__PURE__ */ get_next_sibling(next_sibling);
  }
  if (!hydrating) {
    return next_sibling;
  }
  if (is_text && (next_sibling == null ? void 0 : next_sibling.nodeType) !== TEXT_NODE) {
    var text2 = create_text();
    if (next_sibling === null) {
      last_sibling == null ? void 0 : last_sibling.after(text2);
    } else {
      next_sibling.before(text2);
    }
    set_hydrate_node(text2);
    return text2;
  }
  set_hydrate_node(next_sibling);
  return next_sibling;
}
function clear_text_content(node) {
  node.textContent = "";
}
function should_defer_append() {
  if (!async_mode_flag) return false;
  if (eager_block_effects !== null) return false;
  var flags2 = (
    /** @type {Effect} */
    active_effect.f
  );
  return (flags2 & EFFECT_RAN) !== 0;
}

// node_modules/svelte/src/internal/client/dom/elements/misc.js
var listening_to_form_reset = false;
function add_form_reset_listener() {
  if (!listening_to_form_reset) {
    listening_to_form_reset = true;
    document.addEventListener(
      "reset",
      (evt) => {
        Promise.resolve().then(() => {
          var _a3;
          if (!evt.defaultPrevented) {
            for (
              const e of
              /**@type {HTMLFormElement} */
              evt.target.elements
            ) {
              (_a3 = e.__on_r) == null ? void 0 : _a3.call(e);
            }
          }
        });
      },
      // In the capture phase to guarantee we get noticed of it (no possibility of stopPropagation)
      { capture: true }
    );
  }
}

// node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js
function without_reactive_context(fn) {
  var previous_reaction = active_reaction;
  var previous_effect = active_effect;
  set_active_reaction(null);
  set_active_effect(null);
  try {
    return fn();
  } finally {
    set_active_reaction(previous_reaction);
    set_active_effect(previous_effect);
  }
}
function listen_to_event_and_reset_event(element2, event2, handler, on_reset = handler) {
  element2.addEventListener(event2, () => without_reactive_context(handler));
  const prev = element2.__on_r;
  if (prev) {
    element2.__on_r = () => {
      prev();
      on_reset(true);
    };
  } else {
    element2.__on_r = () => on_reset(true);
  }
  add_form_reset_listener();
}

// node_modules/svelte/src/internal/client/reactivity/effects.js
function validate_effect(rune) {
  if (active_effect === null) {
    if (active_reaction === null) {
      effect_orphan(rune);
    }
    effect_in_unowned_derived();
  }
  if (is_destroying_effect) {
    effect_in_teardown(rune);
  }
}
function push_effect(effect2, parent_effect) {
  var parent_last = parent_effect.last;
  if (parent_last === null) {
    parent_effect.last = parent_effect.first = effect2;
  } else {
    parent_last.next = effect2;
    effect2.prev = parent_last;
    parent_effect.last = effect2;
  }
}
function create_effect(type, fn, sync) {
  var _a3;
  var parent = active_effect;
  if (dev_fallback_default) {
    while (parent !== null && (parent.f & EAGER_EFFECT) !== 0) {
      parent = parent.parent;
    }
  }
  if (parent !== null && (parent.f & INERT) !== 0) {
    type |= INERT;
  }
  var effect2 = {
    ctx: component_context,
    deps: null,
    nodes: null,
    f: type | DIRTY | CONNECTED,
    first: null,
    fn,
    last: null,
    next: null,
    parent,
    b: parent && parent.b,
    prev: null,
    teardown: null,
    wv: 0,
    ac: null
  };
  if (dev_fallback_default) {
    effect2.component_function = dev_current_component_function;
  }
  if (sync) {
    try {
      update_effect(effect2);
      effect2.f |= EFFECT_RAN;
    } catch (e2) {
      destroy_effect(effect2);
      throw e2;
    }
  } else if (fn !== null) {
    schedule_effect(effect2);
  }
  var e = effect2;
  if (sync && e.deps === null && e.teardown === null && e.nodes === null && e.first === e.last && // either `null`, or a singular child
  (e.f & EFFECT_PRESERVED) === 0) {
    e = e.first;
    if ((type & BLOCK_EFFECT) !== 0 && (type & EFFECT_TRANSPARENT) !== 0 && e !== null) {
      e.f |= EFFECT_TRANSPARENT;
    }
  }
  if (e !== null) {
    e.parent = parent;
    if (parent !== null) {
      push_effect(e, parent);
    }
    if (active_reaction !== null && (active_reaction.f & DERIVED) !== 0 && (type & ROOT_EFFECT) === 0) {
      var derived3 = (
        /** @type {Derived} */
        active_reaction
      );
      ((_a3 = derived3.effects) != null ? _a3 : derived3.effects = []).push(e);
    }
  }
  return effect2;
}
function effect_tracking() {
  return active_reaction !== null && !untracking;
}
function teardown(fn) {
  const effect2 = create_effect(RENDER_EFFECT, null, false);
  set_signal_status(effect2, CLEAN);
  effect2.teardown = fn;
  return effect2;
}
function user_effect(fn) {
  var _a3;
  validate_effect("$effect");
  if (dev_fallback_default) {
    define_property(fn, "name", {
      value: "$effect"
    });
  }
  var flags2 = (
    /** @type {Effect} */
    active_effect.f
  );
  var defer = !active_reaction && (flags2 & BRANCH_EFFECT) !== 0 && (flags2 & EFFECT_RAN) === 0;
  if (defer) {
    var context = (
      /** @type {ComponentContext} */
      component_context
    );
    ((_a3 = context.e) != null ? _a3 : context.e = []).push(fn);
  } else {
    return create_user_effect(fn);
  }
}
function create_user_effect(fn) {
  return create_effect(EFFECT | USER_EFFECT, fn, false);
}
function user_pre_effect(fn) {
  validate_effect("$effect.pre");
  if (dev_fallback_default) {
    define_property(fn, "name", {
      value: "$effect.pre"
    });
  }
  return create_effect(RENDER_EFFECT | USER_EFFECT, fn, true);
}
function effect_root(fn) {
  Batch.ensure();
  const effect2 = create_effect(ROOT_EFFECT | EFFECT_PRESERVED, fn, true);
  return () => {
    destroy_effect(effect2);
  };
}
function component_root(fn) {
  Batch.ensure();
  const effect2 = create_effect(ROOT_EFFECT | EFFECT_PRESERVED, fn, true);
  return (options = {}) => {
    return new Promise((fulfil) => {
      if (options.outro) {
        pause_effect(effect2, () => {
          destroy_effect(effect2);
          fulfil(void 0);
        });
      } else {
        destroy_effect(effect2);
        fulfil(void 0);
      }
    });
  };
}
function effect(fn) {
  return create_effect(EFFECT, fn, false);
}
function legacy_pre_effect(deps, fn) {
  var context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  var token = { effect: null, ran: false, deps };
  context.l.$.push(token);
  token.effect = render_effect(() => {
    deps();
    if (token.ran) return;
    token.ran = true;
    untrack(fn);
  });
}
function legacy_pre_effect_reset() {
  var context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  render_effect(() => {
    for (var token of context.l.$) {
      token.deps();
      var effect2 = token.effect;
      if ((effect2.f & CLEAN) !== 0 && effect2.deps !== null) {
        set_signal_status(effect2, MAYBE_DIRTY);
      }
      if (is_dirty(effect2)) {
        update_effect(effect2);
      }
      token.ran = false;
    }
  });
}
function async_effect(fn) {
  return create_effect(ASYNC | EFFECT_PRESERVED, fn, true);
}
function render_effect(fn, flags2 = 0) {
  return create_effect(RENDER_EFFECT | flags2, fn, true);
}
function template_effect(fn, sync = [], async2 = [], blockers = []) {
  flatten(blockers, sync, async2, (values) => {
    create_effect(RENDER_EFFECT, () => fn(...values.map(get)), true);
  });
}
function block(fn, flags2 = 0) {
  var effect2 = create_effect(BLOCK_EFFECT | flags2, fn, true);
  if (dev_fallback_default) {
    effect2.dev_stack = dev_stack;
  }
  return effect2;
}
function branch(fn) {
  return create_effect(BRANCH_EFFECT | EFFECT_PRESERVED, fn, true);
}
function execute_effect_teardown(effect2) {
  var teardown2 = effect2.teardown;
  if (teardown2 !== null) {
    const previously_destroying_effect = is_destroying_effect;
    const previous_reaction = active_reaction;
    set_is_destroying_effect(true);
    set_active_reaction(null);
    try {
      teardown2.call(null);
    } finally {
      set_is_destroying_effect(previously_destroying_effect);
      set_active_reaction(previous_reaction);
    }
  }
}
function destroy_effect_children(signal, remove_dom = false) {
  var effect2 = signal.first;
  signal.first = signal.last = null;
  while (effect2 !== null) {
    const controller = effect2.ac;
    if (controller !== null) {
      without_reactive_context(() => {
        controller.abort(STALE_REACTION);
      });
    }
    var next2 = effect2.next;
    if ((effect2.f & ROOT_EFFECT) !== 0) {
      effect2.parent = null;
    } else {
      destroy_effect(effect2, remove_dom);
    }
    effect2 = next2;
  }
}
function destroy_block_effect_children(signal) {
  var effect2 = signal.first;
  while (effect2 !== null) {
    var next2 = effect2.next;
    if ((effect2.f & BRANCH_EFFECT) === 0) {
      destroy_effect(effect2);
    }
    effect2 = next2;
  }
}
function destroy_effect(effect2, remove_dom = true) {
  var removed = false;
  if ((remove_dom || (effect2.f & HEAD_EFFECT) !== 0) && effect2.nodes !== null && effect2.nodes.end !== null) {
    remove_effect_dom(
      effect2.nodes.start,
      /** @type {TemplateNode} */
      effect2.nodes.end
    );
    removed = true;
  }
  destroy_effect_children(effect2, remove_dom && !removed);
  remove_reactions(effect2, 0);
  set_signal_status(effect2, DESTROYED);
  var transitions = effect2.nodes && effect2.nodes.t;
  if (transitions !== null) {
    for (const transition2 of transitions) {
      transition2.stop();
    }
  }
  execute_effect_teardown(effect2);
  var parent = effect2.parent;
  if (parent !== null && parent.first !== null) {
    unlink_effect(effect2);
  }
  if (dev_fallback_default) {
    effect2.component_function = null;
  }
  effect2.next = effect2.prev = effect2.teardown = effect2.ctx = effect2.deps = effect2.fn = effect2.nodes = effect2.ac = null;
}
function remove_effect_dom(node, end) {
  while (node !== null) {
    var next2 = node === end ? null : get_next_sibling(node);
    node.remove();
    node = next2;
  }
}
function unlink_effect(effect2) {
  var parent = effect2.parent;
  var prev = effect2.prev;
  var next2 = effect2.next;
  if (prev !== null) prev.next = next2;
  if (next2 !== null) next2.prev = prev;
  if (parent !== null) {
    if (parent.first === effect2) parent.first = next2;
    if (parent.last === effect2) parent.last = prev;
  }
}
function pause_effect(effect2, callback, destroy = true) {
  var transitions = [];
  pause_children(effect2, transitions, true);
  var fn = () => {
    if (destroy) destroy_effect(effect2);
    if (callback) callback();
  };
  var remaining = transitions.length;
  if (remaining > 0) {
    var check = () => --remaining || fn();
    for (var transition2 of transitions) {
      transition2.out(check);
    }
  } else {
    fn();
  }
}
function pause_children(effect2, transitions, local) {
  if ((effect2.f & INERT) !== 0) return;
  effect2.f ^= INERT;
  var t = effect2.nodes && effect2.nodes.t;
  if (t !== null) {
    for (const transition2 of t) {
      if (transition2.is_global || local) {
        transitions.push(transition2);
      }
    }
  }
  var child2 = effect2.first;
  while (child2 !== null) {
    var sibling2 = child2.next;
    var transparent = (child2.f & EFFECT_TRANSPARENT) !== 0 || // If this is a branch effect without a block effect parent,
    // it means the parent block effect was pruned. In that case,
    // transparency information was transferred to the branch effect.
    (child2.f & BRANCH_EFFECT) !== 0 && (effect2.f & BLOCK_EFFECT) !== 0;
    pause_children(child2, transitions, transparent ? local : false);
    child2 = sibling2;
  }
}
function resume_effect(effect2) {
  resume_children(effect2, true);
}
function resume_children(effect2, local) {
  if ((effect2.f & INERT) === 0) return;
  effect2.f ^= INERT;
  if ((effect2.f & CLEAN) === 0) {
    set_signal_status(effect2, DIRTY);
    schedule_effect(effect2);
  }
  var child2 = effect2.first;
  while (child2 !== null) {
    var sibling2 = child2.next;
    var transparent = (child2.f & EFFECT_TRANSPARENT) !== 0 || (child2.f & BRANCH_EFFECT) !== 0;
    resume_children(child2, transparent ? local : false);
    child2 = sibling2;
  }
  var t = effect2.nodes && effect2.nodes.t;
  if (t !== null) {
    for (const transition2 of t) {
      if (transition2.is_global || local) {
        transition2.in();
      }
    }
  }
}
function move_effect(effect2, fragment) {
  if (!effect2.nodes) return;
  var node = effect2.nodes.start;
  var end = effect2.nodes.end;
  while (node !== null) {
    var next2 = node === end ? null : get_next_sibling(node);
    fragment.append(node);
    node = next2;
  }
}

// node_modules/svelte/src/internal/client/legacy.js
var captured_signals = null;

// node_modules/svelte/src/internal/client/runtime.js
var is_updating_effect = false;
function set_is_updating_effect(value) {
  is_updating_effect = value;
}
var is_destroying_effect = false;
function set_is_destroying_effect(value) {
  is_destroying_effect = value;
}
var active_reaction = null;
var untracking = false;
function set_active_reaction(reaction) {
  active_reaction = reaction;
}
var active_effect = null;
function set_active_effect(effect2) {
  active_effect = effect2;
}
var current_sources = null;
function push_reaction_value(value) {
  if (active_reaction !== null && (!async_mode_flag || (active_reaction.f & DERIVED) !== 0)) {
    if (current_sources === null) {
      current_sources = [value];
    } else {
      current_sources.push(value);
    }
  }
}
var new_deps = null;
var skipped_deps = 0;
var untracked_writes = null;
function set_untracked_writes(value) {
  untracked_writes = value;
}
var write_version = 1;
var read_version = 0;
var update_version = read_version;
function set_update_version(value) {
  update_version = value;
}
function increment_write_version() {
  return ++write_version;
}
function is_dirty(reaction) {
  var flags2 = reaction.f;
  if ((flags2 & DIRTY) !== 0) {
    return true;
  }
  if (flags2 & DERIVED) {
    reaction.f &= ~WAS_MARKED;
  }
  if ((flags2 & MAYBE_DIRTY) !== 0) {
    var dependencies = (
      /** @type {Value[]} */
      reaction.deps
    );
    var length = dependencies.length;
    for (var i = 0; i < length; i++) {
      var dependency = dependencies[i];
      if (is_dirty(
        /** @type {Derived} */
        dependency
      )) {
        update_derived(
          /** @type {Derived} */
          dependency
        );
      }
      if (dependency.wv > reaction.wv) {
        return true;
      }
    }
    if ((flags2 & CONNECTED) !== 0 && // During time traveling we don't want to reset the status so that
    // traversal of the graph in the other batches still happens
    batch_values === null) {
      set_signal_status(reaction, CLEAN);
    }
  }
  return false;
}
function schedule_possible_effect_self_invalidation(signal, effect2, root9 = true) {
  var reactions = signal.reactions;
  if (reactions === null) return;
  if (!async_mode_flag && (current_sources == null ? void 0 : current_sources.includes(signal))) {
    return;
  }
  for (var i = 0; i < reactions.length; i++) {
    var reaction = reactions[i];
    if ((reaction.f & DERIVED) !== 0) {
      schedule_possible_effect_self_invalidation(
        /** @type {Derived} */
        reaction,
        effect2,
        false
      );
    } else if (effect2 === reaction) {
      if (root9) {
        set_signal_status(reaction, DIRTY);
      } else if ((reaction.f & CLEAN) !== 0) {
        set_signal_status(reaction, MAYBE_DIRTY);
      }
      schedule_effect(
        /** @type {Effect} */
        reaction
      );
    }
  }
}
function update_reaction(reaction) {
  var _a3, _b3;
  var previous_deps = new_deps;
  var previous_skipped_deps = skipped_deps;
  var previous_untracked_writes = untracked_writes;
  var previous_reaction = active_reaction;
  var previous_sources = current_sources;
  var previous_component_context = component_context;
  var previous_untracking = untracking;
  var previous_update_version = update_version;
  var flags2 = reaction.f;
  new_deps = /** @type {null | Value[]} */
  null;
  skipped_deps = 0;
  untracked_writes = null;
  active_reaction = (flags2 & (BRANCH_EFFECT | ROOT_EFFECT)) === 0 ? reaction : null;
  current_sources = null;
  set_component_context(reaction.ctx);
  untracking = false;
  update_version = ++read_version;
  if (reaction.ac !== null) {
    without_reactive_context(() => {
      reaction.ac.abort(STALE_REACTION);
    });
    reaction.ac = null;
  }
  try {
    reaction.f |= REACTION_IS_UPDATING;
    var fn = (
      /** @type {Function} */
      reaction.fn
    );
    var result = fn();
    var deps = reaction.deps;
    if (new_deps !== null) {
      var i;
      remove_reactions(reaction, skipped_deps);
      if (deps !== null && skipped_deps > 0) {
        deps.length = skipped_deps + new_deps.length;
        for (i = 0; i < new_deps.length; i++) {
          deps[skipped_deps + i] = new_deps[i];
        }
      } else {
        reaction.deps = deps = new_deps;
      }
      if (effect_tracking() && (reaction.f & CONNECTED) !== 0) {
        for (i = skipped_deps; i < deps.length; i++) {
          ((_b3 = (_a3 = deps[i]).reactions) != null ? _b3 : _a3.reactions = []).push(reaction);
        }
      }
    } else if (deps !== null && skipped_deps < deps.length) {
      remove_reactions(reaction, skipped_deps);
      deps.length = skipped_deps;
    }
    if (is_runes() && untracked_writes !== null && !untracking && deps !== null && (reaction.f & (DERIVED | MAYBE_DIRTY | DIRTY)) === 0) {
      for (i = 0; i < /** @type {Source[]} */
      untracked_writes.length; i++) {
        schedule_possible_effect_self_invalidation(
          untracked_writes[i],
          /** @type {Effect} */
          reaction
        );
      }
    }
    if (previous_reaction !== null && previous_reaction !== reaction) {
      read_version++;
      if (untracked_writes !== null) {
        if (previous_untracked_writes === null) {
          previous_untracked_writes = untracked_writes;
        } else {
          previous_untracked_writes.push(.../** @type {Source[]} */
          untracked_writes);
        }
      }
    }
    if ((reaction.f & ERROR_VALUE) !== 0) {
      reaction.f ^= ERROR_VALUE;
    }
    return result;
  } catch (error) {
    return handle_error(error);
  } finally {
    reaction.f ^= REACTION_IS_UPDATING;
    new_deps = previous_deps;
    skipped_deps = previous_skipped_deps;
    untracked_writes = previous_untracked_writes;
    active_reaction = previous_reaction;
    current_sources = previous_sources;
    set_component_context(previous_component_context);
    untracking = previous_untracking;
    update_version = previous_update_version;
  }
}
function remove_reaction(signal, dependency) {
  let reactions = dependency.reactions;
  if (reactions !== null) {
    var index2 = index_of.call(reactions, signal);
    if (index2 !== -1) {
      var new_length = reactions.length - 1;
      if (new_length === 0) {
        reactions = dependency.reactions = null;
      } else {
        reactions[index2] = reactions[new_length];
        reactions.pop();
      }
    }
  }
  if (reactions === null && (dependency.f & DERIVED) !== 0 && // Destroying a child effect while updating a parent effect can cause a dependency to appear
  // to be unused, when in fact it is used by the currently-updating parent. Checking `new_deps`
  // allows us to skip the expensive work of disconnecting and immediately reconnecting it
  (new_deps === null || !new_deps.includes(dependency))) {
    var derived3 = (
      /** @type {Derived} */
      dependency
    );
    if ((derived3.f & CONNECTED) !== 0) {
      derived3.f ^= CONNECTED;
      derived3.f &= ~WAS_MARKED;
    }
    update_derived_status(derived3);
    destroy_derived_effects(derived3);
    remove_reactions(derived3, 0);
  }
}
function remove_reactions(signal, start_index) {
  var dependencies = signal.deps;
  if (dependencies === null) return;
  for (var i = start_index; i < dependencies.length; i++) {
    remove_reaction(signal, dependencies[i]);
  }
}
function update_effect(effect2) {
  var _a3;
  var flags2 = effect2.f;
  if ((flags2 & DESTROYED) !== 0) {
    return;
  }
  set_signal_status(effect2, CLEAN);
  var previous_effect = active_effect;
  var was_updating_effect = is_updating_effect;
  active_effect = effect2;
  is_updating_effect = true;
  if (dev_fallback_default) {
    var previous_component_fn = dev_current_component_function;
    set_dev_current_component_function(effect2.component_function);
    var previous_stack = (
      /** @type {any} */
      dev_stack
    );
    set_dev_stack((_a3 = effect2.dev_stack) != null ? _a3 : dev_stack);
  }
  try {
    if ((flags2 & (BLOCK_EFFECT | MANAGED_EFFECT)) !== 0) {
      destroy_block_effect_children(effect2);
    } else {
      destroy_effect_children(effect2);
    }
    execute_effect_teardown(effect2);
    var teardown2 = update_reaction(effect2);
    effect2.teardown = typeof teardown2 === "function" ? teardown2 : null;
    effect2.wv = write_version;
    if (dev_fallback_default && tracing_mode_flag && (effect2.f & DIRTY) !== 0 && effect2.deps !== null) {
      for (var dep of effect2.deps) {
        if (dep.set_during_effect) {
          dep.wv = increment_write_version();
          dep.set_during_effect = false;
        }
      }
    }
  } finally {
    is_updating_effect = was_updating_effect;
    active_effect = previous_effect;
    if (dev_fallback_default) {
      set_dev_current_component_function(previous_component_fn);
      set_dev_stack(previous_stack);
    }
  }
}
async function tick() {
  if (async_mode_flag) {
    return new Promise((f) => {
      requestAnimationFrame(() => f());
      setTimeout(() => f());
    });
  }
  await Promise.resolve();
  flushSync();
}
function get(signal) {
  var _a3, _b3, _c2;
  var flags2 = signal.f;
  var is_derived = (flags2 & DERIVED) !== 0;
  (_a3 = captured_signals) == null ? void 0 : _a3.add(signal);
  if (active_reaction !== null && !untracking) {
    var destroyed = active_effect !== null && (active_effect.f & DESTROYED) !== 0;
    if (!destroyed && !(current_sources == null ? void 0 : current_sources.includes(signal))) {
      var deps = active_reaction.deps;
      if ((active_reaction.f & REACTION_IS_UPDATING) !== 0) {
        if (signal.rv < read_version) {
          signal.rv = read_version;
          if (new_deps === null && deps !== null && deps[skipped_deps] === signal) {
            skipped_deps++;
          } else if (new_deps === null) {
            new_deps = [signal];
          } else if (!new_deps.includes(signal)) {
            new_deps.push(signal);
          }
        }
      } else {
        ((_b3 = active_reaction.deps) != null ? _b3 : active_reaction.deps = []).push(signal);
        var reactions = signal.reactions;
        if (reactions === null) {
          signal.reactions = [active_reaction];
        } else if (!reactions.includes(active_reaction)) {
          reactions.push(active_reaction);
        }
      }
    }
  }
  if (dev_fallback_default) {
    recent_async_deriveds.delete(signal);
    if (tracing_mode_flag && !untracking && tracing_expressions !== null && active_reaction !== null && tracing_expressions.reaction === active_reaction) {
      if (signal.trace) {
        signal.trace();
      } else {
        var trace2 = get_error("traced at");
        if (trace2) {
          var entry = tracing_expressions.entries.get(signal);
          if (entry === void 0) {
            entry = { traces: [] };
            tracing_expressions.entries.set(signal, entry);
          }
          var last = entry.traces[entry.traces.length - 1];
          if (trace2.stack !== (last == null ? void 0 : last.stack)) {
            entry.traces.push(trace2);
          }
        }
      }
    }
  }
  if (is_destroying_effect && old_values.has(signal)) {
    return old_values.get(signal);
  }
  if (is_derived) {
    var derived3 = (
      /** @type {Derived} */
      signal
    );
    if (is_destroying_effect) {
      var value = derived3.v;
      if ((derived3.f & CLEAN) === 0 && derived3.reactions !== null || depends_on_old_values(derived3)) {
        value = execute_derived(derived3);
      }
      old_values.set(derived3, value);
      return value;
    }
    var should_connect = (derived3.f & CONNECTED) === 0 && !untracking && active_reaction !== null && (is_updating_effect || (active_reaction.f & CONNECTED) !== 0);
    var is_new = derived3.deps === null;
    if (is_dirty(derived3)) {
      if (should_connect) {
        derived3.f |= CONNECTED;
      }
      update_derived(derived3);
    }
    if (should_connect && !is_new) {
      reconnect(derived3);
    }
  }
  if ((_c2 = batch_values) == null ? void 0 : _c2.has(signal)) {
    return batch_values.get(signal);
  }
  if ((signal.f & ERROR_VALUE) !== 0) {
    throw signal.v;
  }
  return signal.v;
}
function reconnect(derived3) {
  var _a3;
  if (derived3.deps === null) return;
  derived3.f |= CONNECTED;
  for (const dep of derived3.deps) {
    ((_a3 = dep.reactions) != null ? _a3 : dep.reactions = []).push(derived3);
    if ((dep.f & DERIVED) !== 0 && (dep.f & CONNECTED) === 0) {
      reconnect(
        /** @type {Derived} */
        dep
      );
    }
  }
}
function depends_on_old_values(derived3) {
  if (derived3.v === UNINITIALIZED) return true;
  if (derived3.deps === null) return false;
  for (const dep of derived3.deps) {
    if (old_values.has(dep)) {
      return true;
    }
    if ((dep.f & DERIVED) !== 0 && depends_on_old_values(
      /** @type {Derived} */
      dep
    )) {
      return true;
    }
  }
  return false;
}
function untrack(fn) {
  var previous_untracking = untracking;
  try {
    untracking = true;
    return fn();
  } finally {
    untracking = previous_untracking;
  }
}
function deep_read_state(value) {
  if (typeof value !== "object" || !value || value instanceof EventTarget) {
    return;
  }
  if (STATE_SYMBOL in value) {
    deep_read(value);
  } else if (!Array.isArray(value)) {
    for (let key2 in value) {
      const prop2 = value[key2];
      if (typeof prop2 === "object" && prop2 && STATE_SYMBOL in prop2) {
        deep_read(prop2);
      }
    }
  }
}
function deep_read(value, visited = /* @__PURE__ */ new Set()) {
  if (typeof value === "object" && value !== null && // We don't want to traverse DOM elements
  !(value instanceof EventTarget) && !visited.has(value)) {
    visited.add(value);
    if (value instanceof Date) {
      value.getTime();
    }
    for (let key2 in value) {
      try {
        deep_read(value[key2], visited);
      } catch (e) {
      }
    }
    const proto = get_prototype_of(value);
    if (proto !== Object.prototype && proto !== Array.prototype && proto !== Map.prototype && proto !== Set.prototype && proto !== Date.prototype) {
      const descriptors = get_descriptors(proto);
      for (let key2 in descriptors) {
        const get3 = descriptors[key2].get;
        if (get3) {
          try {
            get3.call(value);
          } catch (e) {
          }
        }
      }
    }
  }
}

// node_modules/svelte/src/utils.js
var DOM_BOOLEAN_ATTRIBUTES = [
  "allowfullscreen",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "disabled",
  "formnovalidate",
  "indeterminate",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "seamless",
  "selected",
  "webkitdirectory",
  "defer",
  "disablepictureinpicture",
  "disableremoteplayback"
];
var DOM_PROPERTIES = [
  ...DOM_BOOLEAN_ATTRIBUTES,
  "formNoValidate",
  "isMap",
  "noModule",
  "playsInline",
  "readOnly",
  "value",
  "volume",
  "defaultValue",
  "defaultChecked",
  "srcObject",
  "noValidate",
  "allowFullscreen",
  "disablePictureInPicture",
  "disableRemotePlayback"
];
var PASSIVE_EVENTS = ["touchstart", "touchmove"];
function is_passive_event(name) {
  return PASSIVE_EVENTS.includes(name);
}
var STATE_CREATION_RUNES = (
  /** @type {const} */
  [
    "$state",
    "$state.raw",
    "$derived",
    "$derived.by"
  ]
);
var RUNES = (
  /** @type {const} */
  [
    ...STATE_CREATION_RUNES,
    "$state.eager",
    "$state.snapshot",
    "$props",
    "$props.id",
    "$bindable",
    "$effect",
    "$effect.pre",
    "$effect.tracking",
    "$effect.root",
    "$effect.pending",
    "$inspect",
    "$inspect().with",
    "$inspect.trace",
    "$host"
  ]
);

// node_modules/svelte/src/internal/client/dev/css.js
var all_styles = /* @__PURE__ */ new Map();
function register_style(hash2, style) {
  var styles = all_styles.get(hash2);
  if (!styles) {
    styles = /* @__PURE__ */ new Set();
    all_styles.set(hash2, styles);
  }
  styles.add(style);
}

// node_modules/svelte/src/internal/client/dom/elements/events.js
var all_registered_events = /* @__PURE__ */ new Set();
var root_event_handles = /* @__PURE__ */ new Set();
function create_event(event_name, dom, handler, options = {}) {
  function target_handler(event2) {
    if (!options.capture) {
      handle_event_propagation.call(dom, event2);
    }
    if (!event2.cancelBubble) {
      return without_reactive_context(() => {
        return handler == null ? void 0 : handler.call(this, event2);
      });
    }
  }
  if (event_name.startsWith("pointer") || event_name.startsWith("touch") || event_name === "wheel") {
    queue_micro_task(() => {
      dom.addEventListener(event_name, target_handler, options);
    });
  } else {
    dom.addEventListener(event_name, target_handler, options);
  }
  return target_handler;
}
function event(event_name, dom, handler, capture2, passive2) {
  var options = { capture: capture2, passive: passive2 };
  var target_handler = create_event(event_name, dom, handler, options);
  if (dom === document.body || // @ts-ignore
  dom === window || // @ts-ignore
  dom === document || // Firefox has quirky behavior, it can happen that we still get "canplay" events when the element is already removed
  dom instanceof HTMLMediaElement) {
    teardown(() => {
      dom.removeEventListener(event_name, target_handler, options);
    });
  }
}
function delegate(events) {
  for (var i = 0; i < events.length; i++) {
    all_registered_events.add(events[i]);
  }
  for (var fn of root_event_handles) {
    fn(events);
  }
}
var last_propagated_event = null;
function handle_event_propagation(event2) {
  var _a3;
  var handler_element = this;
  var owner_document = (
    /** @type {Node} */
    handler_element.ownerDocument
  );
  var event_name = event2.type;
  var path = ((_a3 = event2.composedPath) == null ? void 0 : _a3.call(event2)) || [];
  var current_target = (
    /** @type {null | Element} */
    path[0] || event2.target
  );
  last_propagated_event = event2;
  var path_idx = 0;
  var handled_at = last_propagated_event === event2 && event2.__root;
  if (handled_at) {
    var at_idx = path.indexOf(handled_at);
    if (at_idx !== -1 && (handler_element === document || handler_element === /** @type {any} */
    window)) {
      event2.__root = handler_element;
      return;
    }
    var handler_idx = path.indexOf(handler_element);
    if (handler_idx === -1) {
      return;
    }
    if (at_idx <= handler_idx) {
      path_idx = at_idx;
    }
  }
  current_target = /** @type {Element} */
  path[path_idx] || event2.target;
  if (current_target === handler_element) return;
  define_property(event2, "currentTarget", {
    configurable: true,
    get() {
      return current_target || owner_document;
    }
  });
  var previous_reaction = active_reaction;
  var previous_effect = active_effect;
  set_active_reaction(null);
  set_active_effect(null);
  try {
    var throw_error;
    var other_errors = [];
    while (current_target !== null) {
      var parent_element = current_target.assignedSlot || current_target.parentNode || /** @type {any} */
      current_target.host || null;
      try {
        var delegated = current_target["__" + event_name];
        if (delegated != null && (!/** @type {any} */
        current_target.disabled || // DOM could've been updated already by the time this is reached, so we check this as well
        // -> the target could not have been disabled because it emits the event in the first place
        event2.target === current_target)) {
          delegated.call(current_target, event2);
        }
      } catch (error) {
        if (throw_error) {
          other_errors.push(error);
        } else {
          throw_error = error;
        }
      }
      if (event2.cancelBubble || parent_element === handler_element || parent_element === null) {
        break;
      }
      current_target = parent_element;
    }
    if (throw_error) {
      for (let error of other_errors) {
        queueMicrotask(() => {
          throw error;
        });
      }
      throw throw_error;
    }
  } finally {
    event2.__root = handler_element;
    delete event2.currentTarget;
    set_active_reaction(previous_reaction);
    set_active_effect(previous_effect);
  }
}

// node_modules/svelte/src/internal/client/dom/reconciler.js
function create_fragment_from_html(html2) {
  var elem = document.createElement("template");
  elem.innerHTML = html2.replaceAll("<!>", "<!---->");
  return elem.content;
}

// node_modules/svelte/src/internal/client/dom/template.js
function assign_nodes(start, end) {
  var effect2 = (
    /** @type {Effect} */
    active_effect
  );
  if (effect2.nodes === null) {
    effect2.nodes = { start, end, a: null, t: null };
  }
}
// @__NO_SIDE_EFFECTS__
function from_html(content, flags2) {
  var is_fragment = (flags2 & TEMPLATE_FRAGMENT) !== 0;
  var use_import_node = (flags2 & TEMPLATE_USE_IMPORT_NODE) !== 0;
  var node;
  var has_start = !content.startsWith("<!>");
  return () => {
    if (hydrating) {
      assign_nodes(hydrate_node, null);
      return hydrate_node;
    }
    if (node === void 0) {
      node = create_fragment_from_html(has_start ? content : "<!>" + content);
      if (!is_fragment) node = /** @type {TemplateNode} */
      get_first_child(node);
    }
    var clone = (
      /** @type {TemplateNode} */
      use_import_node || is_firefox ? document.importNode(node, true) : node.cloneNode(true)
    );
    if (is_fragment) {
      var start = (
        /** @type {TemplateNode} */
        get_first_child(clone)
      );
      var end = (
        /** @type {TemplateNode} */
        clone.lastChild
      );
      assign_nodes(start, end);
    } else {
      assign_nodes(clone, clone);
    }
    return clone;
  };
}
function comment() {
  if (hydrating) {
    assign_nodes(hydrate_node, null);
    return hydrate_node;
  }
  var frag = document.createDocumentFragment();
  var start = document.createComment("");
  var anchor = create_text();
  frag.append(start, anchor);
  assign_nodes(start, anchor);
  return frag;
}
function append(anchor, dom) {
  if (hydrating) {
    var effect2 = (
      /** @type {Effect & { nodes: EffectNodes }} */
      active_effect
    );
    if ((effect2.f & EFFECT_RAN) === 0 || effect2.nodes.end === null) {
      effect2.nodes.end = hydrate_node;
    }
    hydrate_next();
    return;
  }
  if (anchor === null) {
    return;
  }
  anchor.before(
    /** @type {Node} */
    dom
  );
}

// node_modules/svelte/src/internal/client/render.js
var should_intro = true;
function set_text(text2, value) {
  var _a3;
  var str = value == null ? "" : typeof value === "object" ? value + "" : value;
  if (str !== ((_a3 = text2.__t) != null ? _a3 : text2.__t = text2.nodeValue)) {
    text2.__t = str;
    text2.nodeValue = str + "";
  }
}
function mount(component2, options) {
  return _mount(component2, options);
}
function hydrate(component2, options) {
  var _a3;
  init_operations();
  options.intro = (_a3 = options.intro) != null ? _a3 : false;
  const target = options.target;
  const was_hydrating = hydrating;
  const previous_hydrate_node = hydrate_node;
  try {
    var anchor = get_first_child(target);
    while (anchor && (anchor.nodeType !== COMMENT_NODE || /** @type {Comment} */
    anchor.data !== HYDRATION_START)) {
      anchor = get_next_sibling(anchor);
    }
    if (!anchor) {
      throw HYDRATION_ERROR;
    }
    set_hydrating(true);
    set_hydrate_node(
      /** @type {Comment} */
      anchor
    );
    const instance = _mount(component2, { ...options, anchor });
    set_hydrating(false);
    return (
      /**  @type {Exports} */
      instance
    );
  } catch (error) {
    if (error instanceof Error && error.message.split("\n").some((line) => line.startsWith("https://svelte.dev/e/"))) {
      throw error;
    }
    if (error !== HYDRATION_ERROR) {
      console.warn("Failed to hydrate: ", error);
    }
    if (options.recover === false) {
      hydration_failed();
    }
    init_operations();
    clear_text_content(target);
    set_hydrating(false);
    return mount(component2, options);
  } finally {
    set_hydrating(was_hydrating);
    set_hydrate_node(previous_hydrate_node);
  }
}
var document_listeners = /* @__PURE__ */ new Map();
function _mount(Component, { target, anchor, props = {}, events, context, intro = true }) {
  init_operations();
  var registered_events = /* @__PURE__ */ new Set();
  var event_handle = (events2) => {
    for (var i = 0; i < events2.length; i++) {
      var event_name = events2[i];
      if (registered_events.has(event_name)) continue;
      registered_events.add(event_name);
      var passive2 = is_passive_event(event_name);
      target.addEventListener(event_name, handle_event_propagation, { passive: passive2 });
      var n = document_listeners.get(event_name);
      if (n === void 0) {
        document.addEventListener(event_name, handle_event_propagation, { passive: passive2 });
        document_listeners.set(event_name, 1);
      } else {
        document_listeners.set(event_name, n + 1);
      }
    }
  };
  event_handle(array_from(all_registered_events));
  root_event_handles.add(event_handle);
  var component2 = void 0;
  var unmount2 = component_root(() => {
    var anchor_node = anchor != null ? anchor : target.appendChild(create_text());
    boundary(
      /** @type {TemplateNode} */
      anchor_node,
      {
        pending: () => {
        }
      },
      (anchor_node2) => {
        if (context) {
          push({});
          var ctx = (
            /** @type {ComponentContext} */
            component_context
          );
          ctx.c = context;
        }
        if (events) {
          props.$$events = events;
        }
        if (hydrating) {
          assign_nodes(
            /** @type {TemplateNode} */
            anchor_node2,
            null
          );
        }
        should_intro = intro;
        component2 = Component(anchor_node2, props) || {};
        should_intro = true;
        if (hydrating) {
          active_effect.nodes.end = hydrate_node;
          if (hydrate_node === null || hydrate_node.nodeType !== COMMENT_NODE || /** @type {Comment} */
          hydrate_node.data !== HYDRATION_END) {
            hydration_mismatch();
            throw HYDRATION_ERROR;
          }
        }
        if (context) {
          pop();
        }
      }
    );
    return () => {
      var _a3;
      for (var event_name of registered_events) {
        target.removeEventListener(event_name, handle_event_propagation);
        var n = (
          /** @type {number} */
          document_listeners.get(event_name)
        );
        if (--n === 0) {
          document.removeEventListener(event_name, handle_event_propagation);
          document_listeners.delete(event_name);
        } else {
          document_listeners.set(event_name, n);
        }
      }
      root_event_handles.delete(event_handle);
      if (anchor_node !== anchor) {
        (_a3 = anchor_node.parentNode) == null ? void 0 : _a3.removeChild(anchor_node);
      }
    };
  });
  mounted_components.set(component2, unmount2);
  return component2;
}
var mounted_components = /* @__PURE__ */ new WeakMap();
function unmount(component2, options) {
  const fn = mounted_components.get(component2);
  if (fn) {
    mounted_components.delete(component2);
    return fn(options);
  }
  if (dev_fallback_default) {
    if (STATE_SYMBOL in component2) {
      state_proxy_unmount();
    } else {
      lifecycle_double_unmount();
    }
  }
  return Promise.resolve();
}

// node_modules/svelte/src/internal/client/dom/blocks/branches.js
var _batches, _onscreen, _offscreen, _outroing, _transition, _commit, _discard;
var BranchManager = class {
  /**
   * @param {TemplateNode} anchor
   * @param {boolean} transition
   */
  constructor(anchor, transition2 = true) {
    /** @type {TemplateNode} */
    __publicField(this, "anchor");
    /** @type {Map<Batch, Key>} */
    __privateAdd(this, _batches, /* @__PURE__ */ new Map());
    /**
     * Map of keys to effects that are currently rendered in the DOM.
     * These effects are visible and actively part of the document tree.
     * Example:
     * ```
     * {#if condition}
     * 	foo
     * {:else}
     * 	bar
     * {/if}
     * ```
     * Can result in the entries `true->Effect` and `false->Effect`
     * @type {Map<Key, Effect>}
     */
    __privateAdd(this, _onscreen, /* @__PURE__ */ new Map());
    /**
     * Similar to #onscreen with respect to the keys, but contains branches that are not yet
     * in the DOM, because their insertion is deferred.
     * @type {Map<Key, Branch>}
     */
    __privateAdd(this, _offscreen, /* @__PURE__ */ new Map());
    /**
     * Keys of effects that are currently outroing
     * @type {Set<Key>}
     */
    __privateAdd(this, _outroing, /* @__PURE__ */ new Set());
    /**
     * Whether to pause (i.e. outro) on change, or destroy immediately.
     * This is necessary for `<svelte:element>`
     */
    __privateAdd(this, _transition, true);
    __privateAdd(this, _commit, () => {
      var batch = (
        /** @type {Batch} */
        current_batch
      );
      if (!__privateGet(this, _batches).has(batch)) return;
      var key2 = (
        /** @type {Key} */
        __privateGet(this, _batches).get(batch)
      );
      var onscreen = __privateGet(this, _onscreen).get(key2);
      if (onscreen) {
        resume_effect(onscreen);
        __privateGet(this, _outroing).delete(key2);
      } else {
        var offscreen = __privateGet(this, _offscreen).get(key2);
        if (offscreen) {
          __privateGet(this, _onscreen).set(key2, offscreen.effect);
          __privateGet(this, _offscreen).delete(key2);
          offscreen.fragment.lastChild.remove();
          this.anchor.before(offscreen.fragment);
          onscreen = offscreen.effect;
        }
      }
      for (const [b, k] of __privateGet(this, _batches)) {
        __privateGet(this, _batches).delete(b);
        if (b === batch) {
          break;
        }
        const offscreen2 = __privateGet(this, _offscreen).get(k);
        if (offscreen2) {
          destroy_effect(offscreen2.effect);
          __privateGet(this, _offscreen).delete(k);
        }
      }
      for (const [k, effect2] of __privateGet(this, _onscreen)) {
        if (k === key2 || __privateGet(this, _outroing).has(k)) continue;
        const on_destroy = () => {
          const keys = Array.from(__privateGet(this, _batches).values());
          if (keys.includes(k)) {
            var fragment = document.createDocumentFragment();
            move_effect(effect2, fragment);
            fragment.append(create_text());
            __privateGet(this, _offscreen).set(k, { effect: effect2, fragment });
          } else {
            destroy_effect(effect2);
          }
          __privateGet(this, _outroing).delete(k);
          __privateGet(this, _onscreen).delete(k);
        };
        if (__privateGet(this, _transition) || !onscreen) {
          __privateGet(this, _outroing).add(k);
          pause_effect(effect2, on_destroy, false);
        } else {
          on_destroy();
        }
      }
    });
    /**
     * @param {Batch} batch
     */
    __privateAdd(this, _discard, (batch) => {
      __privateGet(this, _batches).delete(batch);
      const keys = Array.from(__privateGet(this, _batches).values());
      for (const [k, branch2] of __privateGet(this, _offscreen)) {
        if (!keys.includes(k)) {
          destroy_effect(branch2.effect);
          __privateGet(this, _offscreen).delete(k);
        }
      }
    });
    this.anchor = anchor;
    __privateSet(this, _transition, transition2);
  }
  /**
   *
   * @param {any} key
   * @param {null | ((target: TemplateNode) => void)} fn
   */
  ensure(key2, fn) {
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    var defer = should_defer_append();
    if (fn && !__privateGet(this, _onscreen).has(key2) && !__privateGet(this, _offscreen).has(key2)) {
      if (defer) {
        var fragment = document.createDocumentFragment();
        var target = create_text();
        fragment.append(target);
        __privateGet(this, _offscreen).set(key2, {
          effect: branch(() => fn(target)),
          fragment
        });
      } else {
        __privateGet(this, _onscreen).set(
          key2,
          branch(() => fn(this.anchor))
        );
      }
    }
    __privateGet(this, _batches).set(batch, key2);
    if (defer) {
      for (const [k, effect2] of __privateGet(this, _onscreen)) {
        if (k === key2) {
          batch.skipped_effects.delete(effect2);
        } else {
          batch.skipped_effects.add(effect2);
        }
      }
      for (const [k, branch2] of __privateGet(this, _offscreen)) {
        if (k === key2) {
          batch.skipped_effects.delete(branch2.effect);
        } else {
          batch.skipped_effects.add(branch2.effect);
        }
      }
      batch.oncommit(__privateGet(this, _commit));
      batch.ondiscard(__privateGet(this, _discard));
    } else {
      if (hydrating) {
        this.anchor = hydrate_node;
      }
      __privateGet(this, _commit).call(this);
    }
  }
};
_batches = new WeakMap();
_onscreen = new WeakMap();
_offscreen = new WeakMap();
_outroing = new WeakMap();
_transition = new WeakMap();
_commit = new WeakMap();
_discard = new WeakMap();

// node_modules/svelte/src/internal/client/dom/blocks/if.js
function if_block(node, fn, elseif = false) {
  if (hydrating) {
    hydrate_next();
  }
  var branches = new BranchManager(node);
  var flags2 = elseif ? EFFECT_TRANSPARENT : 0;
  function update_branch(condition, fn2) {
    if (hydrating) {
      const is_else = read_hydration_instruction(node) === HYDRATION_START_ELSE;
      if (condition === is_else) {
        var anchor = skip_nodes();
        set_hydrate_node(anchor);
        branches.anchor = anchor;
        set_hydrating(false);
        branches.ensure(condition, fn2);
        set_hydrating(true);
        return;
      }
    }
    branches.ensure(condition, fn2);
  }
  block(() => {
    var has_branch = false;
    fn((fn2, flag = true) => {
      has_branch = true;
      update_branch(flag, fn2);
    });
    if (!has_branch) {
      update_branch(false, null);
    }
  }, flags2);
}

// node_modules/svelte/src/internal/client/dom/blocks/each.js
function index(_, i) {
  return i;
}
function pause_effects(state2, to_destroy, controlled_anchor) {
  var _a3;
  var transitions = [];
  var length = to_destroy.length;
  var group;
  var remaining = to_destroy.length;
  for (var i = 0; i < length; i++) {
    let effect2 = to_destroy[i];
    pause_effect(
      effect2,
      () => {
        if (group) {
          group.pending.delete(effect2);
          group.done.add(effect2);
          if (group.pending.size === 0) {
            var groups = (
              /** @type {Set<EachOutroGroup>} */
              state2.outrogroups
            );
            destroy_effects(array_from(group.done));
            groups.delete(group);
            if (groups.size === 0) {
              state2.outrogroups = null;
            }
          }
        } else {
          remaining -= 1;
        }
      },
      false
    );
  }
  if (remaining === 0) {
    var fast_path = transitions.length === 0 && controlled_anchor !== null;
    if (fast_path) {
      var anchor = (
        /** @type {Element} */
        controlled_anchor
      );
      var parent_node = (
        /** @type {Element} */
        anchor.parentNode
      );
      clear_text_content(parent_node);
      parent_node.append(anchor);
      state2.items.clear();
    }
    destroy_effects(to_destroy, !fast_path);
  } else {
    group = {
      pending: new Set(to_destroy),
      done: /* @__PURE__ */ new Set()
    };
    ((_a3 = state2.outrogroups) != null ? _a3 : state2.outrogroups = /* @__PURE__ */ new Set()).add(group);
  }
}
function destroy_effects(to_destroy, remove_dom = true) {
  for (var i = 0; i < to_destroy.length; i++) {
    destroy_effect(to_destroy[i], remove_dom);
  }
}
var offscreen_anchor;
function each(node, flags2, get_collection, get_key, render_fn, fallback_fn = null) {
  var anchor = node;
  var items = /* @__PURE__ */ new Map();
  var is_controlled = (flags2 & EACH_IS_CONTROLLED) !== 0;
  if (is_controlled) {
    var parent_node = (
      /** @type {Element} */
      node
    );
    anchor = hydrating ? set_hydrate_node(get_first_child(parent_node)) : parent_node.appendChild(create_text());
  }
  if (hydrating) {
    hydrate_next();
  }
  var fallback2 = null;
  var each_array = derived_safe_equal(() => {
    var collection = get_collection();
    return is_array(collection) ? collection : collection == null ? [] : array_from(collection);
  });
  var array;
  var first_run = true;
  function commit() {
    state2.fallback = fallback2;
    reconcile(state2, array, anchor, flags2, get_key);
    if (fallback2 !== null) {
      if (array.length === 0) {
        if ((fallback2.f & EFFECT_OFFSCREEN) === 0) {
          resume_effect(fallback2);
        } else {
          fallback2.f ^= EFFECT_OFFSCREEN;
          move(fallback2, null, anchor);
        }
      } else {
        pause_effect(fallback2, () => {
          fallback2 = null;
        });
      }
    }
  }
  var effect2 = block(() => {
    array = /** @type {V[]} */
    get(each_array);
    var length = array.length;
    let mismatch = false;
    if (hydrating) {
      var is_else = read_hydration_instruction(anchor) === HYDRATION_START_ELSE;
      if (is_else !== (length === 0)) {
        anchor = skip_nodes();
        set_hydrate_node(anchor);
        set_hydrating(false);
        mismatch = true;
      }
    }
    var keys = /* @__PURE__ */ new Set();
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    var defer = should_defer_append();
    for (var index2 = 0; index2 < length; index2 += 1) {
      if (hydrating && hydrate_node.nodeType === COMMENT_NODE && /** @type {Comment} */
      hydrate_node.data === HYDRATION_END) {
        anchor = /** @type {Comment} */
        hydrate_node;
        mismatch = true;
        set_hydrating(false);
      }
      var value = array[index2];
      var key2 = get_key(value, index2);
      var item = first_run ? null : items.get(key2);
      if (item) {
        if (item.v) internal_set(item.v, value);
        if (item.i) internal_set(item.i, index2);
        if (defer) {
          batch.skipped_effects.delete(item.e);
        }
      } else {
        item = create_item(
          items,
          first_run ? anchor : offscreen_anchor != null ? offscreen_anchor : offscreen_anchor = create_text(),
          value,
          key2,
          index2,
          render_fn,
          flags2,
          get_collection
        );
        if (!first_run) {
          item.e.f |= EFFECT_OFFSCREEN;
        }
        items.set(key2, item);
      }
      keys.add(key2);
    }
    if (length === 0 && fallback_fn && !fallback2) {
      if (first_run) {
        fallback2 = branch(() => fallback_fn(anchor));
      } else {
        fallback2 = branch(() => fallback_fn(offscreen_anchor != null ? offscreen_anchor : offscreen_anchor = create_text()));
        fallback2.f |= EFFECT_OFFSCREEN;
      }
    }
    if (hydrating && length > 0) {
      set_hydrate_node(skip_nodes());
    }
    if (!first_run) {
      if (defer) {
        for (const [key3, item2] of items) {
          if (!keys.has(key3)) {
            batch.skipped_effects.add(item2.e);
          }
        }
        batch.oncommit(commit);
        batch.ondiscard(() => {
        });
      } else {
        commit();
      }
    }
    if (mismatch) {
      set_hydrating(true);
    }
    get(each_array);
  });
  var state2 = { effect: effect2, flags: flags2, items, outrogroups: null, fallback: fallback2 };
  first_run = false;
  if (hydrating) {
    anchor = hydrate_node;
  }
}
function reconcile(state2, array, anchor, flags2, get_key) {
  var _a3, _b3, _c2, _d, _e, _f, _g, _h, _i;
  var is_animated = (flags2 & EACH_IS_ANIMATED) !== 0;
  var length = array.length;
  var items = state2.items;
  var current = state2.effect.first;
  var seen;
  var prev = null;
  var to_animate;
  var matched = [];
  var stashed = [];
  var value;
  var key2;
  var effect2;
  var i;
  if (is_animated) {
    for (i = 0; i < length; i += 1) {
      value = array[i];
      key2 = get_key(value, i);
      effect2 = /** @type {EachItem} */
      items.get(key2).e;
      if ((effect2.f & EFFECT_OFFSCREEN) === 0) {
        (_b3 = (_a3 = effect2.nodes) == null ? void 0 : _a3.a) == null ? void 0 : _b3.measure();
        (to_animate != null ? to_animate : to_animate = /* @__PURE__ */ new Set()).add(effect2);
      }
    }
  }
  for (i = 0; i < length; i += 1) {
    value = array[i];
    key2 = get_key(value, i);
    effect2 = /** @type {EachItem} */
    items.get(key2).e;
    if (state2.outrogroups !== null) {
      for (const group of state2.outrogroups) {
        group.pending.delete(effect2);
        group.done.delete(effect2);
      }
    }
    if ((effect2.f & EFFECT_OFFSCREEN) !== 0) {
      effect2.f ^= EFFECT_OFFSCREEN;
      if (effect2 === current) {
        move(effect2, null, anchor);
      } else {
        var next2 = prev ? prev.next : current;
        if (effect2 === state2.effect.last) {
          state2.effect.last = effect2.prev;
        }
        if (effect2.prev) effect2.prev.next = effect2.next;
        if (effect2.next) effect2.next.prev = effect2.prev;
        link(state2, prev, effect2);
        link(state2, effect2, next2);
        move(effect2, next2, anchor);
        prev = effect2;
        matched = [];
        stashed = [];
        current = prev.next;
        continue;
      }
    }
    if ((effect2.f & INERT) !== 0) {
      resume_effect(effect2);
      if (is_animated) {
        (_d = (_c2 = effect2.nodes) == null ? void 0 : _c2.a) == null ? void 0 : _d.unfix();
        (to_animate != null ? to_animate : to_animate = /* @__PURE__ */ new Set()).delete(effect2);
      }
    }
    if (effect2 !== current) {
      if (seen !== void 0 && seen.has(effect2)) {
        if (matched.length < stashed.length) {
          var start = stashed[0];
          var j;
          prev = start.prev;
          var a = matched[0];
          var b = matched[matched.length - 1];
          for (j = 0; j < matched.length; j += 1) {
            move(matched[j], start, anchor);
          }
          for (j = 0; j < stashed.length; j += 1) {
            seen.delete(stashed[j]);
          }
          link(state2, a.prev, b.next);
          link(state2, prev, a);
          link(state2, b, start);
          current = start;
          prev = b;
          i -= 1;
          matched = [];
          stashed = [];
        } else {
          seen.delete(effect2);
          move(effect2, current, anchor);
          link(state2, effect2.prev, effect2.next);
          link(state2, effect2, prev === null ? state2.effect.first : prev.next);
          link(state2, prev, effect2);
          prev = effect2;
        }
        continue;
      }
      matched = [];
      stashed = [];
      while (current !== null && current !== effect2) {
        (seen != null ? seen : seen = /* @__PURE__ */ new Set()).add(current);
        stashed.push(current);
        current = current.next;
      }
      if (current === null) {
        continue;
      }
    }
    if ((effect2.f & EFFECT_OFFSCREEN) === 0) {
      matched.push(effect2);
    }
    prev = effect2;
    current = effect2.next;
  }
  if (state2.outrogroups !== null) {
    for (const group of state2.outrogroups) {
      if (group.pending.size === 0) {
        destroy_effects(array_from(group.done));
        (_e = state2.outrogroups) == null ? void 0 : _e.delete(group);
      }
    }
    if (state2.outrogroups.size === 0) {
      state2.outrogroups = null;
    }
  }
  if (current !== null || seen !== void 0) {
    var to_destroy = [];
    if (seen !== void 0) {
      for (effect2 of seen) {
        if ((effect2.f & INERT) === 0) {
          to_destroy.push(effect2);
        }
      }
    }
    while (current !== null) {
      if ((current.f & INERT) === 0 && current !== state2.fallback) {
        to_destroy.push(current);
      }
      current = current.next;
    }
    var destroy_length = to_destroy.length;
    if (destroy_length > 0) {
      var controlled_anchor = (flags2 & EACH_IS_CONTROLLED) !== 0 && length === 0 ? anchor : null;
      if (is_animated) {
        for (i = 0; i < destroy_length; i += 1) {
          (_g = (_f = to_destroy[i].nodes) == null ? void 0 : _f.a) == null ? void 0 : _g.measure();
        }
        for (i = 0; i < destroy_length; i += 1) {
          (_i = (_h = to_destroy[i].nodes) == null ? void 0 : _h.a) == null ? void 0 : _i.fix();
        }
      }
      pause_effects(state2, to_destroy, controlled_anchor);
    }
  }
  if (is_animated) {
    queue_micro_task(() => {
      var _a4, _b4;
      if (to_animate === void 0) return;
      for (effect2 of to_animate) {
        (_b4 = (_a4 = effect2.nodes) == null ? void 0 : _a4.a) == null ? void 0 : _b4.apply();
      }
    });
  }
}
function create_item(items, anchor, value, key2, index2, render_fn, flags2, get_collection) {
  var v = (flags2 & EACH_ITEM_REACTIVE) !== 0 ? (flags2 & EACH_ITEM_IMMUTABLE) === 0 ? mutable_source(value, false, false) : source(value) : null;
  var i = (flags2 & EACH_INDEX_REACTIVE) !== 0 ? source(index2) : null;
  if (dev_fallback_default && v) {
    v.trace = () => {
      var _a3;
      get_collection()[(_a3 = i == null ? void 0 : i.v) != null ? _a3 : index2];
    };
  }
  return {
    v,
    i,
    e: branch(() => {
      render_fn(anchor, v != null ? v : value, i != null ? i : index2, get_collection);
      return () => {
        items.delete(key2);
      };
    })
  };
}
function move(effect2, next2, anchor) {
  if (!effect2.nodes) return;
  var node = effect2.nodes.start;
  var end = effect2.nodes.end;
  var dest = next2 && (next2.f & EFFECT_OFFSCREEN) === 0 ? (
    /** @type {EffectNodes} */
    next2.nodes.start
  ) : anchor;
  while (node !== null) {
    var next_node = (
      /** @type {TemplateNode} */
      get_next_sibling(node)
    );
    dest.before(node);
    if (node === end) {
      return;
    }
    node = next_node;
  }
}
function link(state2, prev, next2) {
  if (prev === null) {
    state2.effect.first = next2;
  } else {
    prev.next = next2;
  }
  if (next2 === null) {
    state2.effect.last = prev;
  } else {
    next2.prev = prev;
  }
}

// node_modules/svelte/src/internal/client/dom/css.js
function append_styles(anchor, css) {
  effect(() => {
    var _a3;
    var root9 = anchor.getRootNode();
    var target = (
      /** @type {ShadowRoot} */
      root9.host ? (
        /** @type {ShadowRoot} */
        root9
      ) : (
        /** @type {Document} */
        (_a3 = root9.head) != null ? _a3 : (
          /** @type {Document} */
          root9.ownerDocument.head
        )
      )
    );
    if (!target.querySelector("#" + css.hash)) {
      const style = document.createElement("style");
      style.id = css.hash;
      style.textContent = css.code;
      target.appendChild(style);
      if (dev_fallback_default) {
        register_style(css.hash, style);
      }
    }
  });
}

// node_modules/svelte/src/internal/client/dom/elements/actions.js
function action(dom, action2, get_value) {
  effect(() => {
    var payload = untrack(() => action2(dom, get_value == null ? void 0 : get_value()) || {});
    if (get_value && (payload == null ? void 0 : payload.update)) {
      var inited = false;
      var prev = (
        /** @type {any} */
        {}
      );
      render_effect(() => {
        var value = get_value();
        deep_read_state(value);
        if (inited && safe_not_equal(prev, value)) {
          prev = value;
          payload.update(value);
        }
      });
      inited = true;
    }
    if (payload == null ? void 0 : payload.destroy) {
      return () => (
        /** @type {Function} */
        payload.destroy()
      );
    }
  });
}

// node_modules/svelte/src/internal/shared/attributes.js
var whitespace = [..." 	\n\r\f\xA0\v\uFEFF"];
function to_class(value, hash2, directives) {
  var classname = value == null ? "" : "" + value;
  if (hash2) {
    classname = classname ? classname + " " + hash2 : hash2;
  }
  if (directives) {
    for (var key2 in directives) {
      if (directives[key2]) {
        classname = classname ? classname + " " + key2 : key2;
      } else if (classname.length) {
        var len = key2.length;
        var a = 0;
        while ((a = classname.indexOf(key2, a)) >= 0) {
          var b = a + len;
          if ((a === 0 || whitespace.includes(classname[a - 1])) && (b === classname.length || whitespace.includes(classname[b]))) {
            classname = (a === 0 ? "" : classname.substring(0, a)) + classname.substring(b + 1);
          } else {
            a = b;
          }
        }
      }
    }
  }
  return classname === "" ? null : classname;
}
function append_styles2(styles, important = false) {
  var separator = important ? " !important;" : ";";
  var css = "";
  for (var key2 in styles) {
    var value = styles[key2];
    if (value != null && value !== "") {
      css += " " + key2 + ": " + value + separator;
    }
  }
  return css;
}
function to_css_name(name) {
  if (name[0] !== "-" || name[1] !== "-") {
    return name.toLowerCase();
  }
  return name;
}
function to_style(value, styles) {
  if (styles) {
    var new_style = "";
    var normal_styles;
    var important_styles;
    if (Array.isArray(styles)) {
      normal_styles = styles[0];
      important_styles = styles[1];
    } else {
      normal_styles = styles;
    }
    if (value) {
      value = String(value).replaceAll(/\s*\/\*.*?\*\/\s*/g, "").trim();
      var in_str = false;
      var in_apo = 0;
      var in_comment = false;
      var reserved_names = [];
      if (normal_styles) {
        reserved_names.push(...Object.keys(normal_styles).map(to_css_name));
      }
      if (important_styles) {
        reserved_names.push(...Object.keys(important_styles).map(to_css_name));
      }
      var start_index = 0;
      var name_index = -1;
      const len = value.length;
      for (var i = 0; i < len; i++) {
        var c = value[i];
        if (in_comment) {
          if (c === "/" && value[i - 1] === "*") {
            in_comment = false;
          }
        } else if (in_str) {
          if (in_str === c) {
            in_str = false;
          }
        } else if (c === "/" && value[i + 1] === "*") {
          in_comment = true;
        } else if (c === '"' || c === "'") {
          in_str = c;
        } else if (c === "(") {
          in_apo++;
        } else if (c === ")") {
          in_apo--;
        }
        if (!in_comment && in_str === false && in_apo === 0) {
          if (c === ":" && name_index === -1) {
            name_index = i;
          } else if (c === ";" || i === len - 1) {
            if (name_index !== -1) {
              var name = to_css_name(value.substring(start_index, name_index).trim());
              if (!reserved_names.includes(name)) {
                if (c !== ";") {
                  i++;
                }
                var property = value.substring(start_index, i).trim();
                new_style += " " + property + ";";
              }
            }
            start_index = i + 1;
            name_index = -1;
          }
        }
      }
    }
    if (normal_styles) {
      new_style += append_styles2(normal_styles);
    }
    if (important_styles) {
      new_style += append_styles2(important_styles, true);
    }
    new_style = new_style.trim();
    return new_style === "" ? null : new_style;
  }
  return value == null ? null : String(value);
}

// node_modules/svelte/src/internal/client/dom/elements/class.js
function set_class(dom, is_html, value, hash2, prev_classes, next_classes) {
  var prev = dom.__className;
  if (hydrating || prev !== value || prev === void 0) {
    var next_class_name = to_class(value, hash2, next_classes);
    if (!hydrating || next_class_name !== dom.getAttribute("class")) {
      if (next_class_name == null) {
        dom.removeAttribute("class");
      } else if (is_html) {
        dom.className = next_class_name;
      } else {
        dom.setAttribute("class", next_class_name);
      }
    }
    dom.__className = value;
  } else if (next_classes && prev_classes !== next_classes) {
    for (var key2 in next_classes) {
      var is_present = !!next_classes[key2];
      if (prev_classes == null || is_present !== !!prev_classes[key2]) {
        dom.classList.toggle(key2, is_present);
      }
    }
  }
  return next_classes;
}

// node_modules/svelte/src/internal/client/dom/elements/style.js
function update_styles(dom, prev = {}, next2, priority) {
  for (var key2 in next2) {
    var value = next2[key2];
    if (prev[key2] !== value) {
      if (next2[key2] == null) {
        dom.style.removeProperty(key2);
      } else {
        dom.style.setProperty(key2, value, priority);
      }
    }
  }
}
function set_style(dom, value, prev_styles, next_styles) {
  var prev = dom.__style;
  if (hydrating || prev !== value) {
    var next_style_attr = to_style(value, next_styles);
    if (!hydrating || next_style_attr !== dom.getAttribute("style")) {
      if (next_style_attr == null) {
        dom.removeAttribute("style");
      } else {
        dom.style.cssText = next_style_attr;
      }
    }
    dom.__style = value;
  } else if (next_styles) {
    if (Array.isArray(next_styles)) {
      update_styles(dom, prev_styles == null ? void 0 : prev_styles[0], next_styles[0]);
      update_styles(dom, prev_styles == null ? void 0 : prev_styles[1], next_styles[1], "important");
    } else {
      update_styles(dom, prev_styles, next_styles);
    }
  }
  return next_styles;
}

// node_modules/svelte/src/internal/client/dom/elements/attributes.js
var CLASS = Symbol("class");
var STYLE = Symbol("style");
var IS_CUSTOM_ELEMENT = Symbol("is custom element");
var IS_HTML = Symbol("is html");
function remove_input_defaults(input) {
  if (!hydrating) return;
  var already_removed = false;
  var remove_defaults = () => {
    if (already_removed) return;
    already_removed = true;
    if (input.hasAttribute("value")) {
      var value = input.value;
      set_attribute2(input, "value", null);
      input.value = value;
    }
    if (input.hasAttribute("checked")) {
      var checked = input.checked;
      set_attribute2(input, "checked", null);
      input.checked = checked;
    }
  };
  input.__on_r = remove_defaults;
  queue_micro_task(remove_defaults);
  add_form_reset_listener();
}
function set_value(element2, value) {
  var attributes = get_attributes(element2);
  if (attributes.value === (attributes.value = // treat null and undefined the same for the initial value
  value != null ? value : void 0) || // @ts-expect-error
  // `progress` elements always need their value set when it's `0`
  element2.value === value && (value !== 0 || element2.nodeName !== "PROGRESS")) {
    return;
  }
  element2.value = value != null ? value : "";
}
function set_attribute2(element2, attribute, value, skip_warning) {
  var attributes = get_attributes(element2);
  if (hydrating) {
    attributes[attribute] = element2.getAttribute(attribute);
    if (attribute === "src" || attribute === "srcset" || attribute === "href" && element2.nodeName === "LINK") {
      if (!skip_warning) {
        check_src_in_dev_hydration(element2, attribute, value != null ? value : "");
      }
      return;
    }
  }
  if (attributes[attribute] === (attributes[attribute] = value)) return;
  if (attribute === "loading") {
    element2[LOADING_ATTR_SYMBOL] = value;
  }
  if (value == null) {
    element2.removeAttribute(attribute);
  } else if (typeof value !== "string" && get_setters(element2).includes(attribute)) {
    element2[attribute] = value;
  } else {
    element2.setAttribute(attribute, value);
  }
}
function get_attributes(element2) {
  var _a3;
  return (
    /** @type {Record<string | symbol, unknown>} **/
    // @ts-expect-error
    (_a3 = element2.__attributes) != null ? _a3 : element2.__attributes = {
      [IS_CUSTOM_ELEMENT]: element2.nodeName.includes("-"),
      [IS_HTML]: element2.namespaceURI === NAMESPACE_HTML
    }
  );
}
var setters_cache = /* @__PURE__ */ new Map();
function get_setters(element2) {
  var cache_key = element2.getAttribute("is") || element2.nodeName;
  var setters = setters_cache.get(cache_key);
  if (setters) return setters;
  setters_cache.set(cache_key, setters = []);
  var descriptors;
  var proto = element2;
  var element_proto = Element.prototype;
  while (element_proto !== proto) {
    descriptors = get_descriptors(proto);
    for (var key2 in descriptors) {
      if (descriptors[key2].set) {
        setters.push(key2);
      }
    }
    proto = get_prototype_of(proto);
  }
  return setters;
}
function check_src_in_dev_hydration(element2, attribute, value) {
  var _a3;
  if (!dev_fallback_default) return;
  if (attribute === "srcset" && srcset_url_equal(element2, value)) return;
  if (src_url_equal((_a3 = element2.getAttribute(attribute)) != null ? _a3 : "", value)) return;
  hydration_attribute_changed(
    attribute,
    element2.outerHTML.replace(element2.innerHTML, element2.innerHTML && "..."),
    String(value)
  );
}
function src_url_equal(element_src, url) {
  if (element_src === url) return true;
  return new URL(element_src, document.baseURI).href === new URL(url, document.baseURI).href;
}
function split_srcset(srcset) {
  return srcset.split(",").map((src) => src.trim().split(" ").filter(Boolean));
}
function srcset_url_equal(element2, srcset) {
  var element_urls = split_srcset(element2.srcset);
  var urls = split_srcset(srcset);
  return urls.length === element_urls.length && urls.every(
    ([url, width], i) => width === element_urls[i][1] && // We need to test both ways because Vite will create an a full URL with
    // `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the
    // relative URLs inside srcset are not automatically resolved to absolute URLs by
    // browsers (in contrast to img.src). This means both SSR and DOM code could
    // contain relative or absolute URLs.
    (src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))
  );
}

// node_modules/svelte/src/internal/client/dom/elements/bindings/input.js
function bind_value(input, get3, set2 = get3) {
  var batches2 = /* @__PURE__ */ new WeakSet();
  listen_to_event_and_reset_event(input, "input", async (is_reset) => {
    if (dev_fallback_default && input.type === "checkbox") {
      bind_invalid_checkbox_value();
    }
    var value = is_reset ? input.defaultValue : input.value;
    value = is_numberlike_input(input) ? to_number(value) : value;
    set2(value);
    if (current_batch !== null) {
      batches2.add(current_batch);
    }
    await tick();
    if (value !== (value = get3())) {
      var start = input.selectionStart;
      var end = input.selectionEnd;
      var length = input.value.length;
      input.value = value != null ? value : "";
      if (end !== null) {
        var new_length = input.value.length;
        if (start === end && end === length && new_length > length) {
          input.selectionStart = new_length;
          input.selectionEnd = new_length;
        } else {
          input.selectionStart = start;
          input.selectionEnd = Math.min(end, new_length);
        }
      }
    }
  });
  if (
    // If we are hydrating and the value has since changed,
    // then use the updated value from the input instead.
    hydrating && input.defaultValue !== input.value || // If defaultValue is set, then value == defaultValue
    // TODO Svelte 6: remove input.value check and set to empty string?
    untrack(get3) == null && input.value
  ) {
    set2(is_numberlike_input(input) ? to_number(input.value) : input.value);
    if (current_batch !== null) {
      batches2.add(current_batch);
    }
  }
  render_effect(() => {
    var _a3;
    if (dev_fallback_default && input.type === "checkbox") {
      bind_invalid_checkbox_value();
    }
    var value = get3();
    if (input === document.activeElement) {
      var batch = (
        /** @type {Batch} */
        (_a3 = previous_batch) != null ? _a3 : current_batch
      );
      if (batches2.has(batch)) {
        return;
      }
    }
    if (is_numberlike_input(input) && value === to_number(input.value)) {
      return;
    }
    if (input.type === "date" && !value && !input.value) {
      return;
    }
    if (value !== input.value) {
      input.value = value != null ? value : "";
    }
  });
}
function is_numberlike_input(input) {
  var type = input.type;
  return type === "number" || type === "range";
}
function to_number(value) {
  return value === "" ? null : +value;
}

// node_modules/svelte/src/internal/client/dom/legacy/lifecycle.js
function init(immutable = false) {
  const context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  const callbacks = context.l.u;
  if (!callbacks) return;
  let props = () => deep_read_state(context.s);
  if (immutable) {
    let version = 0;
    let prev = (
      /** @type {Record<string, any>} */
      {}
    );
    const d = derived(() => {
      let changed = false;
      const props2 = context.s;
      for (const key2 in props2) {
        if (props2[key2] !== prev[key2]) {
          prev[key2] = props2[key2];
          changed = true;
        }
      }
      if (changed) version++;
      return version;
    });
    props = () => get(d);
  }
  if (callbacks.b.length) {
    user_pre_effect(() => {
      observe_all(context, props);
      run_all(callbacks.b);
    });
  }
  user_effect(() => {
    const fns = untrack(() => callbacks.m.map(run));
    return () => {
      for (const fn of fns) {
        if (typeof fn === "function") {
          fn();
        }
      }
    };
  });
  if (callbacks.a.length) {
    user_effect(() => {
      observe_all(context, props);
      run_all(callbacks.a);
    });
  }
}
function observe_all(context, props) {
  if (context.l.s) {
    for (const signal of context.l.s) get(signal);
  }
  props();
}

// node_modules/svelte/src/store/utils.js
function subscribe_to_store(store, run3, invalidate) {
  if (store == null) {
    run3(void 0);
    if (invalidate) invalidate(void 0);
    return noop;
  }
  const unsub = untrack(
    () => store.subscribe(
      run3,
      // @ts-expect-error
      invalidate
    )
  );
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}

// node_modules/svelte/src/store/shared/index.js
var subscriber_queue = [];
function readable(value, start) {
  return {
    subscribe: writable(value, start).subscribe
  };
}
function writable(value, start = noop) {
  let stop = null;
  const subscribers = /* @__PURE__ */ new Set();
  function set2(new_value) {
    if (safe_not_equal(value, new_value)) {
      value = new_value;
      if (stop) {
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }
  function update2(fn) {
    set2(fn(
      /** @type {T} */
      value
    ));
  }
  function subscribe(run3, invalidate = noop) {
    const subscriber = [run3, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set2, update2) || noop;
    }
    run3(
      /** @type {T} */
      value
    );
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0 && stop) {
        stop();
        stop = null;
      }
    };
  }
  return { set: set2, update: update2, subscribe };
}
function derived2(stores, fn, initial_value) {
  const single = !Array.isArray(stores);
  const stores_array = single ? [stores] : stores;
  if (!stores_array.every(Boolean)) {
    throw new Error("derived() expects stores as input, got a falsy value");
  }
  const auto = fn.length < 2;
  return readable(initial_value, (set2, update2) => {
    let started = false;
    const values = [];
    let pending2 = 0;
    let cleanup = noop;
    const sync = () => {
      if (pending2) {
        return;
      }
      cleanup();
      const result = fn(single ? values[0] : values, set2, update2);
      if (auto) {
        set2(result);
      } else {
        cleanup = typeof result === "function" ? result : noop;
      }
    };
    const unsubscribers = stores_array.map(
      (store, i) => subscribe_to_store(
        store,
        (value) => {
          values[i] = value;
          pending2 &= ~(1 << i);
          if (started) {
            sync();
          }
        },
        () => {
          pending2 |= 1 << i;
        }
      )
    );
    started = true;
    sync();
    return function stop() {
      run_all(unsubscribers);
      cleanup();
      started = false;
    };
  });
}
function get2(store) {
  let value;
  subscribe_to_store(store, (_) => value = _)();
  return value;
}

// node_modules/svelte/src/internal/client/reactivity/store.js
var IS_UNMOUNTED = Symbol();
function store_get(store, store_name, stores) {
  var _a3;
  const entry = (_a3 = stores[store_name]) != null ? _a3 : stores[store_name] = {
    store: null,
    source: mutable_source(void 0),
    unsubscribe: noop
  };
  if (dev_fallback_default) {
    entry.source.label = store_name;
  }
  if (entry.store !== store && !(IS_UNMOUNTED in stores)) {
    entry.unsubscribe();
    entry.store = store != null ? store : null;
    if (store == null) {
      entry.source.v = void 0;
      entry.unsubscribe = noop;
    } else {
      var is_synchronous_callback = true;
      entry.unsubscribe = subscribe_to_store(store, (v) => {
        if (is_synchronous_callback) {
          entry.source.v = v;
        } else {
          set(entry.source, v);
        }
      });
      is_synchronous_callback = false;
    }
  }
  if (store && IS_UNMOUNTED in stores) {
    return get2(store);
  }
  return get(entry.source);
}
function store_set(store, value) {
  store.set(value);
  return value;
}
function setup_stores() {
  const stores = {};
  function cleanup() {
    teardown(() => {
      for (var store_name in stores) {
        const ref = stores[store_name];
        ref.unsubscribe();
      }
      define_property(stores, IS_UNMOUNTED, {
        enumerable: false,
        value: true
      });
    });
  }
  return [stores, cleanup];
}

// node_modules/svelte/src/legacy/legacy-client.js
function createClassComponent(options) {
  return new Svelte4Component(options);
}
var _events, _instance;
var Svelte4Component = class {
  /**
   * @param {ComponentConstructorOptions & {
   *  component: any;
   * }} options
   */
  constructor(options) {
    /** @type {any} */
    __privateAdd(this, _events);
    /** @type {Record<string, any>} */
    __privateAdd(this, _instance);
    var _a3, _b3;
    var sources = /* @__PURE__ */ new Map();
    var add_source = (key2, value) => {
      var s = mutable_source(value, false, false);
      sources.set(key2, s);
      return s;
    };
    const props = new Proxy(
      { ...options.props || {}, $$events: {} },
      {
        get(target, prop2) {
          var _a4;
          return get((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, Reflect.get(target, prop2)));
        },
        has(target, prop2) {
          var _a4;
          if (prop2 === LEGACY_PROPS) return true;
          get((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, Reflect.get(target, prop2)));
          return Reflect.has(target, prop2);
        },
        set(target, prop2, value) {
          var _a4;
          set((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, value), value);
          return Reflect.set(target, prop2, value);
        }
      }
    );
    __privateSet(this, _instance, (options.hydrate ? hydrate : mount)(options.component, {
      target: options.target,
      anchor: options.anchor,
      props,
      context: options.context,
      intro: (_a3 = options.intro) != null ? _a3 : false,
      recover: options.recover
    }));
    if (!async_mode_flag && (!((_b3 = options == null ? void 0 : options.props) == null ? void 0 : _b3.$$host) || options.sync === false)) {
      flushSync();
    }
    __privateSet(this, _events, props.$$events);
    for (const key2 of Object.keys(__privateGet(this, _instance))) {
      if (key2 === "$set" || key2 === "$destroy" || key2 === "$on") continue;
      define_property(this, key2, {
        get() {
          return __privateGet(this, _instance)[key2];
        },
        /** @param {any} value */
        set(value) {
          __privateGet(this, _instance)[key2] = value;
        },
        enumerable: true
      });
    }
    __privateGet(this, _instance).$set = /** @param {Record<string, any>} next */
    (next2) => {
      Object.assign(props, next2);
    };
    __privateGet(this, _instance).$destroy = () => {
      unmount(__privateGet(this, _instance));
    };
  }
  /** @param {Record<string, any>} props */
  $set(props) {
    __privateGet(this, _instance).$set(props);
  }
  /**
   * @param {string} event
   * @param {(...args: any[]) => any} callback
   * @returns {any}
   */
  $on(event2, callback) {
    __privateGet(this, _events)[event2] = __privateGet(this, _events)[event2] || [];
    const cb = (...args) => callback.call(this, ...args);
    __privateGet(this, _events)[event2].push(cb);
    return () => {
      __privateGet(this, _events)[event2] = __privateGet(this, _events)[event2].filter(
        /** @param {any} fn */
        (fn) => fn !== cb
      );
    };
  }
  $destroy() {
    __privateGet(this, _instance).$destroy();
  }
};
_events = new WeakMap();
_instance = new WeakMap();

// node_modules/svelte/src/internal/client/dom/elements/custom-element.js
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    /**
     * @param {*} $$componentCtor
     * @param {*} $$slots
     * @param {*} use_shadow_dom
     */
    constructor($$componentCtor, $$slots, use_shadow_dom) {
      super();
      /** The Svelte component constructor */
      __publicField(this, "$$ctor");
      /** Slots */
      __publicField(this, "$$s");
      /** @type {any} The Svelte component instance */
      __publicField(this, "$$c");
      /** Whether or not the custom element is connected */
      __publicField(this, "$$cn", false);
      /** @type {Record<string, any>} Component props data */
      __publicField(this, "$$d", {});
      /** `true` if currently in the process of reflecting component props back to attributes */
      __publicField(this, "$$r", false);
      /** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */
      __publicField(this, "$$p_d", {});
      /** @type {Record<string, EventListenerOrEventListenerObject[]>} Event listeners */
      __publicField(this, "$$l", {});
      /** @type {Map<EventListenerOrEventListenerObject, Function>} Event listener unsubscribe functions */
      __publicField(this, "$$l_u", /* @__PURE__ */ new Map());
      /** @type {any} The managed render effect for reflecting attributes */
      __publicField(this, "$$me");
      this.$$ctor = $$componentCtor;
      this.$$s = $$slots;
      if (use_shadow_dom) {
        this.attachShadow({ mode: "open" });
      }
    }
    /**
     * @param {string} type
     * @param {EventListenerOrEventListenerObject} listener
     * @param {boolean | AddEventListenerOptions} [options]
     */
    addEventListener(type, listener, options) {
      this.$$l[type] = this.$$l[type] || [];
      this.$$l[type].push(listener);
      if (this.$$c) {
        const unsub = this.$$c.$on(type, listener);
        this.$$l_u.set(listener, unsub);
      }
      super.addEventListener(type, listener, options);
    }
    /**
     * @param {string} type
     * @param {EventListenerOrEventListenerObject} listener
     * @param {boolean | AddEventListenerOptions} [options]
     */
    removeEventListener(type, listener, options) {
      super.removeEventListener(type, listener, options);
      if (this.$$c) {
        const unsub = this.$$l_u.get(listener);
        if (unsub) {
          unsub();
          this.$$l_u.delete(listener);
        }
      }
    }
    async connectedCallback() {
      this.$$cn = true;
      if (!this.$$c) {
        let create_slot = function(name) {
          return (anchor) => {
            const slot2 = document.createElement("slot");
            if (name !== "default") slot2.name = name;
            append(anchor, slot2);
          };
        };
        await Promise.resolve();
        if (!this.$$cn || this.$$c) {
          return;
        }
        const $$slots = {};
        const existing_slots = get_custom_elements_slots(this);
        for (const name of this.$$s) {
          if (name in existing_slots) {
            if (name === "default" && !this.$$d.children) {
              this.$$d.children = create_slot(name);
              $$slots.default = true;
            } else {
              $$slots[name] = create_slot(name);
            }
          }
        }
        for (const attribute of this.attributes) {
          const name = this.$$g_p(attribute.name);
          if (!(name in this.$$d)) {
            this.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, "toProp");
          }
        }
        for (const key2 in this.$$p_d) {
          if (!(key2 in this.$$d) && this[key2] !== void 0) {
            this.$$d[key2] = this[key2];
            delete this[key2];
          }
        }
        this.$$c = createClassComponent({
          component: this.$$ctor,
          target: this.shadowRoot || this,
          props: {
            ...this.$$d,
            $$slots,
            $$host: this
          }
        });
        this.$$me = effect_root(() => {
          render_effect(() => {
            var _a3;
            this.$$r = true;
            for (const key2 of object_keys(this.$$c)) {
              if (!((_a3 = this.$$p_d[key2]) == null ? void 0 : _a3.reflect)) continue;
              this.$$d[key2] = this.$$c[key2];
              const attribute_value = get_custom_element_value(
                key2,
                this.$$d[key2],
                this.$$p_d,
                "toAttribute"
              );
              if (attribute_value == null) {
                this.removeAttribute(this.$$p_d[key2].attribute || key2);
              } else {
                this.setAttribute(this.$$p_d[key2].attribute || key2, attribute_value);
              }
            }
            this.$$r = false;
          });
        });
        for (const type in this.$$l) {
          for (const listener of this.$$l[type]) {
            const unsub = this.$$c.$on(type, listener);
            this.$$l_u.set(listener, unsub);
          }
        }
        this.$$l = {};
      }
    }
    // We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte
    // and setting attributes through setAttribute etc, this is helpful
    /**
     * @param {string} attr
     * @param {string} _oldValue
     * @param {string} newValue
     */
    attributeChangedCallback(attr2, _oldValue, newValue) {
      var _a3;
      if (this.$$r) return;
      attr2 = this.$$g_p(attr2);
      this.$$d[attr2] = get_custom_element_value(attr2, newValue, this.$$p_d, "toProp");
      (_a3 = this.$$c) == null ? void 0 : _a3.$set({ [attr2]: this.$$d[attr2] });
    }
    disconnectedCallback() {
      this.$$cn = false;
      Promise.resolve().then(() => {
        if (!this.$$cn && this.$$c) {
          this.$$c.$destroy();
          this.$$me();
          this.$$c = void 0;
        }
      });
    }
    /**
     * @param {string} attribute_name
     */
    $$g_p(attribute_name) {
      return object_keys(this.$$p_d).find(
        (key2) => this.$$p_d[key2].attribute === attribute_name || !this.$$p_d[key2].attribute && key2.toLowerCase() === attribute_name
      ) || attribute_name;
    }
  };
}
function get_custom_element_value(prop2, value, props_definition, transform) {
  var _a3;
  const type = (_a3 = props_definition[prop2]) == null ? void 0 : _a3.type;
  value = type === "Boolean" && typeof value !== "boolean" ? value != null : value;
  if (!transform || !props_definition[prop2]) {
    return value;
  } else if (transform === "toAttribute") {
    switch (type) {
      case "Object":
      case "Array":
        return value == null ? null : JSON.stringify(value);
      case "Boolean":
        return value ? "" : null;
      case "Number":
        return value == null ? null : value;
      default:
        return value;
    }
  } else {
    switch (type) {
      case "Object":
      case "Array":
        return value && JSON.parse(value);
      case "Boolean":
        return value;
      // conversion already handled above
      case "Number":
        return value != null ? +value : value;
      default:
        return value;
    }
  }
}
function get_custom_elements_slots(element2) {
  const result = {};
  element2.childNodes.forEach((node) => {
    result[
      /** @type {Element} node */
      node.slot || "default"
    ] = true;
  });
  return result;
}

// node_modules/svelte/src/index-client.js
if (dev_fallback_default) {
  let throw_rune_error = function(rune) {
    if (!(rune in globalThis)) {
      let value;
      Object.defineProperty(globalThis, rune, {
        configurable: true,
        // eslint-disable-next-line getter-return
        get: () => {
          if (value !== void 0) {
            return value;
          }
          rune_outside_svelte(rune);
        },
        set: (v) => {
          value = v;
        }
      });
    }
  };
  throw_rune_error("$state");
  throw_rune_error("$effect");
  throw_rune_error("$derived");
  throw_rune_error("$inspect");
  throw_rune_error("$props");
  throw_rune_error("$bindable");
}
function onMount(fn) {
  if (component_context === null) {
    lifecycle_outside_component("onMount");
  }
  if (legacy_mode_flag && component_context.l !== null) {
    init_update_callbacks(component_context).m.push(fn);
  } else {
    user_effect(() => {
      const cleanup = untrack(fn);
      if (typeof cleanup === "function") return (
        /** @type {() => void} */
        cleanup
      );
    });
  }
}
function init_update_callbacks(context) {
  var _a3;
  var l = (
    /** @type {ComponentContextLegacy} */
    context.l
  );
  return (_a3 = l.u) != null ? _a3 : l.u = { a: [], b: [], m: [] };
}

// node_modules/svelte/src/version.js
var PUBLIC_VERSION = "5";

// node_modules/svelte/src/internal/disclose-version.js
var _a2, _b2, _c;
if (typeof window !== "undefined") {
  ((_c = (_b2 = (_a2 = window.__svelte) != null ? _a2 : window.__svelte = {}).v) != null ? _c : _b2.v = /* @__PURE__ */ new Set()).add(PUBLIC_VERSION);
}

// node_modules/svelte/src/internal/flags/legacy.js
enable_legacy_mode_flag();

// src/ui/stores.ts
var plugin = writable();
var draftName = writable("Focus Session");
var draftMinutes = writable(25);
var draftSeconds = writable(0);
var session = readable(null, (set2) => {
  let sessionManager;
  const unsubscribePlugin = plugin.subscribe((p) => {
    if (p) {
      sessionManager = p.sessionManager;
      set2(sessionManager.getActiveSession());
      sessionManager.onChange(() => {
        set2(sessionManager.getActiveSession());
      });
    }
  });
  return () => {
    unsubscribePlugin();
  };
});
var timeRemaining = derived2(
  session,
  ($session, set2) => {
    if (!$session || $session.status === "completed") {
      set2(0);
      return;
    }
    const update2 = () => {
      if ($session.status === "running") {
        const remaining = getRemainingTime(
          $session.duration,
          $session.elapsed,
          $session.status,
          $session.lastResumed
        );
        set2(remaining);
      } else if ($session.status === "paused") {
        const remaining = getRemainingTime(
          $session.duration,
          $session.elapsed,
          $session.status,
          $session.lastResumed
        );
        set2(remaining);
      }
    };
    update2();
    const interval = setInterval(update2, 1e3);
    return () => {
      clearInterval(interval);
    };
  },
  0
  // Initial value
);

// src/ui/components/SessionHeader.svelte
var root_1 = from_html(`<h3 class="svelte-1mauid4"> </h3> <span> </span>`, 1);
var root_2 = from_html(`<h3 class="svelte-1mauid4">No active session</h3>`);
var root = from_html(`<div class="session-header svelte-1mauid4"><!></div>`);
var $$css = {
  hash: "svelte-1mauid4",
  code: ".session-header.svelte-1mauid4 {display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--background-modifier-border);}h3.svelte-1mauid4 {margin:0;}.status-tag.svelte-1mauid4 {padding:4px 8px;border-radius:4px;font-size:0.8em;text-transform:uppercase;font-weight:bold;}.status-tag.running.svelte-1mauid4 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.status-tag.paused.svelte-1mauid4 {background-color:var(--background-modifier-warning);color:var(--text-normal);}.status-tag.completed.svelte-1mauid4 {background-color:var(--background-modifier-success);color:var(--text-on-accent);}"
};
function SessionHeader($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css);
  const $session = () => store_get(session, "$session", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  init();
  var div = root();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_1();
      var h3 = first_child(fragment);
      var text2 = child(h3, true);
      reset(h3);
      var span = sibling(h3, 2);
      var text_1 = child(span, true);
      reset(span);
      template_effect(() => {
        var _a3;
        set_text(text2, $session().name);
        set_class(span, 1, `status-tag ${(_a3 = $session().status) != null ? _a3 : ""}`, "svelte-1mauid4");
        set_text(text_1, $session().status);
      });
      append($$anchor2, fragment);
    };
    var alternate = ($$anchor2) => {
      var h3_1 = root_2();
      append($$anchor2, h3_1);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/components/SessionTimer.svelte
var root_12 = from_html(`<div> </div> <div class="progress-bar-container svelte-1a9y1bm"><div class="progress-bar svelte-1a9y1bm"></div></div>`, 1);
var root_3 = from_html(`<input type="text" class="fs-timer-name-input svelte-1a9y1bm" placeholder="Session Name"/>`);
var root_4 = from_html(`<div class="fs-timer-name-display svelte-1a9y1bm" role="button" tabindex="0"> </div>`);
var root_22 = from_html(`<div class="custom-timer-container svelte-1a9y1bm"><!> <div class="fs-timer-inputs svelte-1a9y1bm"><input type="text" inputmode="numeric" class="fs-timer-input svelte-1a9y1bm"/> <span class="fs-timer-separator svelte-1a9y1bm">:</span> <input type="text" inputmode="numeric" class="fs-timer-input svelte-1a9y1bm"/></div></div>`);
var root2 = from_html(`<div class="session-timer svelte-1a9y1bm"><!></div>`);
var $$css2 = {
  hash: "svelte-1a9y1bm",
  code: ".session-timer.svelte-1a9y1bm {text-align:center;margin:2rem 0;}.time-display.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);}.progress-bar-container.svelte-1a9y1bm {height:4px;background-color:var(--background-modifier-border);border-radius:2px;margin-top:1rem;overflow:hidden;}.progress-bar.svelte-1a9y1bm {height:100%;background-color:var(--interactive-accent);transition:width 1s linear;}\n\n	/* Custom Timer Styles */.custom-timer-container.svelte-1a9y1bm {display:flex;flex-direction:column;align-items:center;gap:0.5rem;}.fs-timer-name-display.svelte-1a9y1bm {font-size:1.2em;color:var(--text-muted);cursor:pointer;border-bottom:1px dashed transparent;transition:border-color 0.2s,\n			color 0.2s;}.fs-timer-name-display.svelte-1a9y1bm:hover {border-bottom-color:var(--text-muted);color:var(--text-normal);}.fs-timer-name-input.svelte-1a9y1bm {font-size:1.2em;text-align:center;background:transparent;border:none;border-bottom:1px solid var(--interactive-accent);color:var(--text-normal);width:200px;}.fs-timer-inputs.svelte-1a9y1bm {display:flex;align-items:center;justify-content:center;gap:0.25rem;}.fs-timer-input.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);background:transparent;border:none;width:5rem; /* Approx width for 2 digits */height:4rem;text-align:center;padding:0;-moz-appearance:textfield;appearance:textfield;}.fs-timer-input.svelte-1a9y1bm:hover {color:var(--interactive-accent);}.fs-timer-input.svelte-1a9y1bm::-webkit-outer-spin-button,\n	.fs-timer-input.svelte-1a9y1bm::-webkit-inner-spin-button {-webkit-appearance:none;margin:0;}.fs-timer-input.svelte-1a9y1bm:focus {outline:none;box-shadow:none;color:var(--interactive-accent);}.fs-timer-separator.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);margin-bottom:0.5rem; /* Optical alignment */}"
};
function SessionTimer($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css2);
  const $draftMinutes = () => store_get(draftMinutes, "$draftMinutes", $$stores);
  const $draftSeconds = () => store_get(draftSeconds, "$draftSeconds", $$stores);
  const $session = () => store_get(session, "$session", $$stores);
  const $timeRemaining = () => store_get(timeRemaining, "$timeRemaining", $$stores);
  const $draftName = () => store_get(draftName, "$draftName", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  let showNameInput = mutable_source(false);
  function toggleNameInput() {
    set(showNameInput, !get(showNameInput));
  }
  function formatDisplay(val) {
    return val.toString().padStart(2, "0");
  }
  function handleMinutesInput(e) {
    const input = e.currentTarget.value.replace(/[^0-9]/g, "");
    let val = parseInt(input, 10);
    if (isNaN(val)) val = 0;
    if (val > 99) val = 99;
    store_set(draftMinutes, val);
    e.currentTarget.value = formatDisplay(val);
  }
  function handleSecondsInput(e) {
    const input = e.currentTarget.value.replace(/[^0-9]/g, "");
    let val = parseInt(input, 10);
    if (isNaN(val)) val = 0;
    if (val > 59) val = 59;
    store_set(draftSeconds, val);
    e.currentTarget.value = formatDisplay(val);
  }
  init();
  var div = root2();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_12();
      var div_1 = first_child(fragment);
      let classes;
      var text2 = child(div_1, true);
      reset(div_1);
      var div_2 = sibling(div_1, 2);
      var div_3 = child(div_2);
      reset(div_2);
      template_effect(
        ($0, $1) => {
          classes = set_class(div_1, 1, "time-display svelte-1a9y1bm", null, classes, { "is-overtime": $timeRemaining() < 0 });
          set_text(text2, $0);
          set_style(div_3, `width: ${$1 != null ? $1 : ""}%`);
        },
        [
          () => formatDuration($timeRemaining()),
          () => Math.min(100, $session().elapsed / $session().duration * 100)
        ]
      );
      append($$anchor2, fragment);
    };
    var alternate_1 = ($$anchor2) => {
      var div_4 = root_22();
      var node_1 = child(div_4);
      {
        var consequent_1 = ($$anchor3) => {
          var input_1 = root_3();
          remove_input_defaults(input_1);
          bind_value(input_1, $draftName, ($$value) => store_set(draftName, $$value));
          event("blur", input_1, () => set(showNameInput, false));
          append($$anchor3, input_1);
        };
        var alternate = ($$anchor3) => {
          var div_5 = root_4();
          var text_1 = child(div_5, true);
          reset(div_5);
          template_effect(() => set_text(text_1, $draftName()));
          event("click", div_5, toggleNameInput);
          event("keypress", div_5, (e) => e.key === "Enter" && toggleNameInput());
          append($$anchor3, div_5);
        };
        if_block(node_1, ($$render) => {
          if (get(showNameInput)) $$render(consequent_1);
          else $$render(alternate, false);
        });
      }
      var div_6 = sibling(node_1, 2);
      var input_2 = child(div_6);
      remove_input_defaults(input_2);
      var input_3 = sibling(input_2, 4);
      remove_input_defaults(input_3);
      reset(div_6);
      reset(div_4);
      template_effect(
        ($0, $1) => {
          set_value(input_2, $0);
          set_value(input_3, $1);
        },
        [
          () => formatDisplay($draftMinutes()),
          () => formatDisplay($draftSeconds())
        ]
      );
      event("input", input_2, handleMinutesInput);
      event("input", input_3, handleSecondsInput);
      event("focus", input_3, (e) => e.currentTarget.select());
      append($$anchor2, div_4);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate_1, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/session-end-modal.ts
var import_obsidian2 = require("obsidian");
var SessionEndModal = class extends import_obsidian2.Modal {
  constructor(app, sessionManager) {
    super(app);
    this.sessionManager = sessionManager;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("fs-session-end-modal");
    contentEl.createEl("h2", { text: "Focus session completed!" });
    const controls = contentEl.createDiv({ cls: "fs-modal-controls" });
    const extensionsDiv = controls.createDiv({ cls: "fs-extension-options" });
    extensionsDiv.createDiv({ cls: "fs-label", text: "Need more time?" });
    const btnRow = extensionsDiv.createDiv({ cls: "fs-controls-row" });
    const times = [
      { label: "+30s", val: 0.5 },
      { label: "+1m", val: 1 },
      { label: "+5m", val: 5 }
    ];
    times.forEach((t) => {
      const btn = btnRow.createEl("button", { cls: "fs-control-text-btn", text: t.label });
      btn.onclick = () => {
        this.sessionManager.addTime(t.val);
        this.close();
      };
    });
    controls.createDiv({ cls: "fs-spacer" });
    const finishBtn = controls.createEl("button", { cls: "mod-cta fs-finish-btn", text: "Finish session" });
    finishBtn.onclick = async () => {
      await this.sessionManager.stopSession("modal");
      this.close();
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
    const session2 = this.sessionManager.getActiveSession();
    if (session2 && session2.status === "completed") {
      void this.sessionManager.stopSession("modal");
    }
  }
};

// src/ui/components/SessionControls.svelte
var import_obsidian3 = require("obsidian");
var root_23 = from_html(`<div class="fs-status-msg svelte-xg6qn1">Session Completed</div> <button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Finish"><div></div></button>`, 1);
var root_42 = from_html(`<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Pause"><div></div></button>`);
var root_5 = from_html(`<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Resume"><div></div></button>`);
var root_32 = from_html(`<button class="fs-control-btn fs-secondary svelte-xg6qn1" aria-label="Stop Session"><div></div></button> <!>`, 1);
var root_6 = from_html(`<button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Short Break"><div></div></button> <button class="fs-control-btn fs-primary fs-large svelte-xg6qn1" aria-label="Start Session"><div></div></button> <button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Long Break"><div></div></button>`, 1);
var root_7 = from_html(`<div class="fs-controls-row fs-mt-2 svelte-xg6qn1"><button class="fs-control-text-btn svelte-xg6qn1">+30s</button> <button class="fs-control-text-btn svelte-xg6qn1">+1m</button> <button class="fs-control-text-btn svelte-xg6qn1">+5m</button></div>`);
var root3 = from_html(`<div class="fs-controls svelte-xg6qn1"><div class="fs-controls-row svelte-xg6qn1"><!></div> <!></div>`);
var $$css3 = {
  hash: "svelte-xg6qn1",
  code: ".fs-controls.svelte-xg6qn1 {display:flex;flex-direction:column;align-items:center;gap:1rem;}.fs-controls-row.svelte-xg6qn1 {display:flex;gap:1rem;align-items:center;justify-content:center;}.fs-mt-2.svelte-xg6qn1 {margin-top:0.5rem;}.fs-control-btn.svelte-xg6qn1 {display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:none;cursor:pointer;background-color:var(--interactive-normal);color:var(--text-normal);transition:background-color 0.2s;padding:0;}.fs-control-btn.fs-large.svelte-xg6qn1 {width:56px;height:56px;}.fs-control-btn.fs-small.svelte-xg6qn1 {width:32px;height:32px;opacity:0.8;}.fs-control-btn.svelte-xg6qn1:hover {background-color:var(--interactive-hover);opacity:1;}.fs-control-btn.fs-primary.svelte-xg6qn1 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.fs-control-btn.fs-primary.svelte-xg6qn1:hover {background-color:var(--interactive-accent-hover);}.fs-control-text-btn.svelte-xg6qn1 {background:none;border:1px solid var(--background-modifier-border);padding:4px 8px;border-radius:4px;cursor:pointer;font-size:0.8em;color:var(--text-muted);}.fs-control-text-btn.svelte-xg6qn1:hover {background-color:var(--background-modifier-hover);color:var(--text-normal);}.fs-status-msg.svelte-xg6qn1 {font-weight:bold;color:var(--text-success);margin-right:1rem;}"
};
function SessionControls($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css3);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const $draftMinutes = () => store_get(draftMinutes, "$draftMinutes", $$stores);
  const $draftSeconds = () => store_get(draftSeconds, "$draftSeconds", $$stores);
  const $draftName = () => store_get(draftName, "$draftName", $$stores);
  const $session = () => store_get(session, "$session", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  function icon(node, iconName) {
    (0, import_obsidian3.setIcon)(node, iconName);
    return {
      update(newIconName) {
        node.empty();
        (0, import_obsidian3.setIcon)(node, newIconName);
      }
    };
  }
  function startSession(name) {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.startSession(name);
  }
  function startCustomSession() {
    const duration = $draftMinutes() * 60 + $draftSeconds();
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.startSession($draftName(), duration);
  }
  function stopSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.pauseSession();
    new SessionEndModal($plugin().app, $plugin().sessionManager).open();
  }
  function pauseSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.pauseSession();
  }
  function resumeSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.resumeSession();
  }
  function addTime(minutes) {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.addTime(minutes);
  }
  init();
  var div = root3();
  var div_1 = child(div);
  var node_1 = child(div_1);
  {
    var consequent_2 = ($$anchor2) => {
      var fragment = comment();
      var node_2 = first_child(fragment);
      {
        var consequent = ($$anchor3) => {
          var fragment_1 = root_23();
          var button = sibling(first_child(fragment_1), 2);
          var div_2 = child(button);
          action(div_2, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "check");
          reset(button);
          event("click", button, stopSession);
          append($$anchor3, fragment_1);
        };
        var alternate_1 = ($$anchor3) => {
          var fragment_2 = root_32();
          var button_1 = first_child(fragment_2);
          var div_3 = child(button_1);
          action(div_3, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "square");
          reset(button_1);
          var node_3 = sibling(button_1, 2);
          {
            var consequent_1 = ($$anchor4) => {
              var button_2 = root_42();
              var div_4 = child(button_2);
              action(div_4, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "pause");
              reset(button_2);
              event("click", button_2, pauseSession);
              append($$anchor4, button_2);
            };
            var alternate = ($$anchor4) => {
              var button_3 = root_5();
              var div_5 = child(button_3);
              action(div_5, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "play");
              reset(button_3);
              event("click", button_3, resumeSession);
              append($$anchor4, button_3);
            };
            if_block(node_3, ($$render) => {
              if ($session().status === "running") $$render(consequent_1);
              else $$render(alternate, false);
            });
          }
          event("click", button_1, stopSession);
          append($$anchor3, fragment_2);
        };
        if_block(node_2, ($$render) => {
          if ($session().status === "completed") $$render(consequent);
          else $$render(alternate_1, false);
        });
      }
      append($$anchor2, fragment);
    };
    var alternate_2 = ($$anchor2) => {
      var fragment_3 = root_6();
      var button_4 = first_child(fragment_3);
      var div_6 = child(button_4);
      action(div_6, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "coffee");
      reset(button_4);
      var button_5 = sibling(button_4, 2);
      var div_7 = child(button_5);
      action(div_7, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "play");
      reset(button_5);
      var button_6 = sibling(button_5, 2);
      var div_8 = child(button_6);
      action(div_8, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "armchair");
      reset(button_6);
      event("click", button_4, () => startSession("Short Break"));
      event("click", button_5, startCustomSession);
      event("click", button_6, () => startSession("Long Break"));
      append($$anchor2, fragment_3);
    };
    if_block(node_1, ($$render) => {
      if ($session()) $$render(consequent_2);
      else $$render(alternate_2, false);
    });
  }
  reset(div_1);
  var node_4 = sibling(div_1, 2);
  {
    var consequent_3 = ($$anchor2) => {
      var div_9 = root_7();
      var button_7 = child(div_9);
      var button_8 = sibling(button_7, 2);
      var button_9 = sibling(button_8, 2);
      reset(div_9);
      event("click", button_7, () => addTime(0.5));
      event("click", button_8, () => addTime(1));
      event("click", button_9, () => addTime(5));
      append($$anchor2, div_9);
    };
    if_block(node_4, ($$render) => {
      if ($session() && ($session().status === "running" || $session().status === "paused")) $$render(consequent_3);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/components/SessionFooter.svelte
var root4 = from_html(`<div class="session-footer svelte-vabpp2"><small> </small></div>`);
var $$css4 = {
  hash: "svelte-vabpp2",
  code: ".session-footer.svelte-vabpp2 {margin-top:auto;padding-top:1rem;text-align:center;color:var(--text-faint);border-top:1px solid var(--background-modifier-border);}"
};
function SessionFooter($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css4);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  init();
  var div = root4();
  var small = child(div);
  var text2 = child(small);
  reset(small);
  reset(div);
  template_effect(() => {
    var _a3, _b3;
    return set_text(text2, `v${(_b3 = (_a3 = $plugin()) == null ? void 0 : _a3.manifest.version) != null ? _b3 : ""}`);
  });
  append($$anchor, div);
  pop();
  $$cleanup();
}

// node_modules/tslib/tslib.es6.js
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// src/ui/session-details-modal.ts
var import_obsidian4 = require("obsidian");
var SessionDetailsModal = class extends import_obsidian4.Modal {
  constructor(app, sessionData) {
    super(app);
    this.sessionData = sessionData;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("session-details-modal");
    contentEl.createEl("h2", { text: "Session details" });
    const pre = contentEl.createEl("pre");
    pre.createEl("code", {
      text: JSON.stringify(this.sessionData, null, 2)
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/SessionHistory.svelte
var import_obsidian5 = require("obsidian");
var root_13 = from_html(`<div class="fs-history-item svelte-1ox4dpz" role="button" tabindex="0"><div class="fs-history-icon svelte-1ox4dpz"><div class="fs-status-dot-sm"></div></div> <div class="fs-history-info svelte-1ox4dpz"><div class="fs-history-name svelte-1ox4dpz"> </div> <div class="fs-history-meta svelte-1ox4dpz"> </div></div></div>`);
var root_24 = from_html(`<div class="fs-history-empty svelte-1ox4dpz">No recent sessions found</div>`);
var root5 = from_html(`<div class="fs-history svelte-1ox4dpz"><div class="fs-history-header svelte-1ox4dpz">Recent Sessions</div> <div class="fs-history-list svelte-1ox4dpz"></div></div>`);
var $$css5 = {
  hash: "svelte-1ox4dpz",
  code: ".fs-history.svelte-1ox4dpz {margin-top:24px;width:100%;border-top:1px solid var(--background-modifier-border);padding-top:16px;}.fs-history-header.svelte-1ox4dpz {font-size:12px;font-weight:600;color:var(--text-muted);letter-spacing:0.5px;margin-bottom:12px;text-transform:uppercase;}.fs-history-list.svelte-1ox4dpz {display:flex;flex-direction:column;gap:8px;}.fs-history-item.svelte-1ox4dpz {display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:8px;background-color:var(--background-primary);border:1px solid var(--background-modifier-border);cursor:pointer;transition:all 0.2s;}.fs-history-item.svelte-1ox4dpz:hover {background-color:var(--background-modifier-hover);border-color:var(--interactive-accent);}.fs-history-icon.svelte-1ox4dpz {display:flex;align-items:center;justify-content:center;}.fs-history-info.svelte-1ox4dpz {flex:1;display:flex;flex-direction:column;gap:2px;}.fs-history-name.svelte-1ox4dpz {font-size:13px;font-weight:500;color:var(--text-normal);}.fs-history-meta.svelte-1ox4dpz {font-size:11px;color:var(--text-muted);}.fs-history-empty.svelte-1ox4dpz {text-align:center;color:var(--text-muted);font-size:13px;padding:16px;}"
};
function SessionHistory($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css5);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  const sessionManager = mutable_source();
  let history = mutable_source([]);
  function loadHistory() {
    return __awaiter(this, void 0, void 0, function* () {
      if (get(sessionManager)) {
        set(history, yield get(sessionManager).getSessionHistory());
      }
    });
  }
  function openDetails(session2) {
    new SessionDetailsModal($plugin().app, session2).open();
  }
  function formatTime(ts) {
    return new Date(ts).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
  }
  function formatDuration2(session2) {
    var _a3;
    if (session2.end && session2.start) {
      const diffMs = session2.end - session2.start;
      const minutes = Math.round(diffMs / 1e3 / 60);
      return `${minutes}m`;
    }
    return `${((_a3 = session2.config) === null || _a3 === void 0 ? void 0 : _a3.durationMinutes) || "?"}m`;
  }
  legacy_pre_effect(() => $plugin(), () => {
    set(sessionManager, $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager);
  });
  legacy_pre_effect(() => get(sessionManager), () => {
    if (get(sessionManager)) {
      loadHistory();
      get(sessionManager).onSessionComplete(() => {
        setTimeout(loadHistory, 500);
      });
    }
  });
  legacy_pre_effect_reset();
  init();
  var div = root5();
  var div_1 = sibling(child(div), 2);
  each(
    div_1,
    5,
    () => get(history),
    index,
    ($$anchor2, session2) => {
      var div_2 = root_13();
      var div_3 = child(div_2);
      var div_4 = child(div_3);
      reset(div_3);
      var div_5 = sibling(div_3, 2);
      var div_6 = child(div_5);
      var text2 = child(div_6, true);
      reset(div_6);
      var div_7 = sibling(div_6, 2);
      var text_1 = child(div_7);
      reset(div_7);
      reset(div_5);
      reset(div_2);
      template_effect(
        ($0, $1) => {
          var _a3;
          set_style(div_4, `background-color: ${(_a3 = (get(session2), untrack(() => get(session2).end ? "var(--text-muted)" : "var(--interactive-accent)"))) != null ? _a3 : ""}`);
          set_text(text2, (get(session2), untrack(() => {
            var _a4;
            return ((_a4 = get(session2).config) == null ? void 0 : _a4.name) || "Untitled Session";
          })));
          set_text(text_1, `${$0 != null ? $0 : ""} \u2022 ${$1 != null ? $1 : ""}`);
        },
        [
          () => (get(session2), untrack(() => formatTime(get(session2).start))),
          () => (get(session2), untrack(() => formatDuration2(get(session2))))
        ]
      );
      event("click", div_2, () => openDetails(get(session2)));
      event("keydown", div_2, (e) => (e.key === "Enter" || e.key === " ") && openDetails(get(session2)));
      append($$anchor2, div_2);
    },
    ($$anchor2) => {
      var div_8 = root_24();
      append($$anchor2, div_8);
    }
  );
  reset(div_1);
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/FocusSessionView.svelte
var root6 = from_html(`<div class="focus-session-container svelte-76swht"><!> <!> <!> <!> <!></div>`);
var $$css6 = {
  hash: "svelte-76swht",
  code: ".focus-session-container.svelte-76swht {display:flex;flex-direction:column;height:100%;padding:1rem;}"
};
function FocusSessionView($$anchor) {
  append_styles($$anchor, $$css6);
  var div = root6();
  var node = child(div);
  SessionHeader(node, {});
  var node_1 = sibling(node, 2);
  SessionTimer(node_1, {});
  var node_2 = sibling(node_1, 2);
  SessionControls(node_2, {});
  var node_3 = sibling(node_2, 2);
  SessionHistory(node_3, {});
  var node_4 = sibling(node_3, 2);
  SessionFooter(node_4, {});
  reset(div);
  append($$anchor, div);
}

// src/ui/focus-session-view.ts
var FOCUS_SESSION_VIEW_TYPE = "focus-session-view";
var FocusSessionView2 = class extends import_obsidian6.ItemView {
  constructor(leaf, sessionManager, pluginVersion) {
    super(leaf);
    this.component = null;
    this.sessionManager = sessionManager;
    this.pluginVersion = pluginVersion;
  }
  getViewType() {
    return FOCUS_SESSION_VIEW_TYPE;
  }
  getDisplayText() {
    return "Focus sessions";
  }
  async onOpen() {
    const container = this.contentEl;
    container.empty();
    container.addClass("focus-session-view");
    this.component = mount(FocusSessionView, {
      target: container
    });
  }
  async onClose() {
    if (this.component) {
      void unmount(this.component);
    }
  }
};

// src/ui/session-modal.ts
var import_obsidian7 = require("obsidian");

// src/ui/SessionModal.svelte
var root_14 = from_html(`<h2> </h2> <div class="stats svelte-1fktv0t"><p> </p> <p> </p></div> <button class="mod-warning svelte-1fktv0t">Stop session</button>`, 1);
var root_25 = from_html(`<h2>No active session</h2> <p>Go to the side panel to start a new session.</p>`, 1);
var root7 = from_html(`<div class="session-modal-content svelte-1fktv0t"><!></div>`);
var $$css7 = {
  hash: "svelte-1fktv0t",
  code: ".session-modal-content.svelte-1fktv0t {text-align:center;padding:1rem;}.stats.svelte-1fktv0t {margin:1.5rem 0;font-size:1.1em;}button.svelte-1fktv0t {cursor:pointer;}"
};
function SessionModal($$anchor, $$props) {
  push($$props, true);
  append_styles($$anchor, $$css7);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const $session = () => store_get(session, "$session", $$stores);
  const $timeRemaining = () => store_get(timeRemaining, "$timeRemaining", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  function stop() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.stopSession();
    $$props.close();
  }
  var div = root7();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_14();
      var h2 = first_child(fragment);
      var text2 = child(h2, true);
      reset(h2);
      var div_1 = sibling(h2, 2);
      var p = child(div_1);
      var text_1 = child(p);
      reset(p);
      var p_1 = sibling(p, 2);
      var text_2 = child(p_1);
      reset(p_1);
      reset(div_1);
      var button = sibling(div_1, 2);
      button.__click = stop;
      template_effect(
        ($0, $1) => {
          set_text(text2, $session().name);
          set_text(text_1, `Duration: ${$0 != null ? $0 : ""}`);
          set_text(text_2, `Time remaining: ${$1 != null ? $1 : ""}`);
        },
        [
          () => formatDuration($session().duration),
          () => formatDuration($timeRemaining())
        ]
      );
      append($$anchor2, fragment);
    };
    var alternate = ($$anchor2) => {
      var fragment_1 = root_25();
      next(2);
      append($$anchor2, fragment_1);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}
delegate(["click"]);

// src/ui/session-modal.ts
var SessionModal2 = class extends import_obsidian7.Modal {
  constructor(app) {
    super(app);
    this.component = null;
  }
  onOpen() {
    this.component = mount(SessionModal, {
      target: this.contentEl,
      props: {
        close: () => this.close()
      }
    });
  }
  onClose() {
    if (this.component) {
      void unmount(this.component);
    }
    this.contentEl.empty();
  }
};

// src/ui/SvelteModal.ts
var import_obsidian9 = require("obsidian");

// src/ui/components/TestSvelteModal.svelte
var import_obsidian8 = require("obsidian");
var root8 = from_html(`<div class="svelte-modal-content"><h2></h2> <p>This is a reactive Svelte 5 component using Runes.</p> <div class="counter-section"><p>Count: <strong> </strong></p> <button>Increment</button></div> <style>.svelte-modal-content {
			padding: 1rem;
			text-align: center;
		}
		.counter-section {
			margin-top: 2rem;
			padding: 1rem;
			background-color: var(--background-secondary);
			border-radius: 8px;
		}
		button {
			margin-top: 1rem;
			cursor: pointer;
		}</style></div>`);
function TestSvelteModal($$anchor, $$props) {
  push($$props, true);
  let count = state(0);
  let message = "Hello Svelte 5!";
  function increment2() {
    set(count, get(count) + 1);
    new import_obsidian8.Notice(`Count is now ${get(count)}`);
  }
  onMount(() => {
    console.log("Svelte 5 component mounted in app:", $$props.app);
  });
  var div = root8();
  var h2 = child(div);
  h2.textContent = "Hello Svelte 5!";
  var div_1 = sibling(h2, 4);
  var p = child(div_1);
  var strong = sibling(child(p));
  var text2 = child(strong, true);
  reset(strong);
  reset(p);
  var button = sibling(p, 2);
  button.__click = increment2;
  reset(div_1);
  next(2);
  reset(div);
  template_effect(() => set_text(text2, get(count)));
  append($$anchor, div);
  pop();
}
delegate(["click"]);

// src/ui/SvelteModal.ts
var SvelteModal = class extends import_obsidian9.Modal {
  constructor(app) {
    super(app);
    this.component = null;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.component = mount(TestSvelteModal, {
      target: contentEl,
      props: {
        app: this.app
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    if (this.component) {
      void unmount(this.component);
    }
    contentEl.empty();
  }
};

// src/settings.ts
var DEFAULT_SETTINGS = {
  focusDuration: 25,
  shortBreakDuration: 5,
  longBreakDuration: 15,
  enableSound: true
};

// src/ui/settings-tab.ts
var import_obsidian10 = require("obsidian");
var FocusSessionSettingTab = class extends import_obsidian10.PluginSettingTab {
  constructor(app, plugin2) {
    super(app, plugin2);
    this.plugin = plugin2;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian10.Setting(containerEl).setName("Focus duration (minutes)").setDesc("The length of a focus session.").addSlider(
      (slider) => slider.setLimits(1, 120, 1).setValue(this.plugin.settings.focusDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.focusDuration = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian10.Setting(containerEl).setName("Short break duration (minutes)").setDesc("The length of a short break.").addSlider(
      (slider) => slider.setLimits(1, 30, 1).setValue(this.plugin.settings.shortBreakDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.shortBreakDuration = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian10.Setting(containerEl).setName("Long break duration (minutes)").setDesc("The length of a long break.").addSlider(
      (slider) => slider.setLimits(1, 60, 1).setValue(this.plugin.settings.longBreakDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.longBreakDuration = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/services/hub-service.ts
var import_obsidian11 = require("obsidian");
var HubService = class {
  constructor(app) {
    this.app = app;
  }
  getApi() {
    var _a3;
    return (_a3 = this.app.plugins.getPlugin("obsidian-hub-plugin")) == null ? void 0 : _a3.api;
  }
  isAvailable() {
    return !!this.getApi();
  }
  async startSession(name, durationMinutes, durationSeconds) {
    const api = this.getApi();
    if (!api) return null;
    return await api.sessions.startSession({
      durationMinutes,
      durationSeconds: durationSeconds != null ? durationSeconds : durationMinutes * 60,
      name,
      metadata: { source: "obsidian-focus-sessions" }
    });
  }
  async endSession() {
    const api = this.getApi();
    if (!api) return;
    await api.sessions.endSession();
  }
  async getActiveSession() {
    const api = this.getApi();
    if (!api) return null;
    return null;
  }
  // We need a specific method to recover session state
  async asyncRecoverActiveSession() {
    var _a3, _b3;
    const api = this.getApi();
    if (!api) return null;
    const hubPlugin = this.app.plugins.getPlugin("obsidian-hub-plugin");
    if (hubPlugin && ((_a3 = hubPlugin.settings) == null ? void 0 : _a3.activeSession)) {
      const s = hubPlugin.settings.activeSession;
      const durationSeconds = (_b3 = s.config.durationSeconds) != null ? _b3 : s.config.durationMinutes * 60;
      return {
        id: s.id,
        startTime: s.startTime,
        duration: durationSeconds / 60,
        // Return minutes for compatibility or update return type??
        // Wait, the return type of asyncRecoverActiveSession is just an object.
        // SessionManager expects duration in minutes usually?
        // Let's check SessionManager.ts again.
        // SessionManager.ts lines 55-62:
        // duration: hubSession.duration * 60
        // So hubSession.duration IS EXPECTED TO BE MINUTES there currently.
        // BUT I want precise duration.
        // So I should return seconds here and update SessionManager to treat it as seconds?
        // OR I should change this return type to return explicit seconds.
        // Let's stick to returning "duration" as the primary value, but maybe make it seconds?
        // Be careful. SessionManager lines:
        // duration: hubSession.duration * 60,
        // IF I return seconds here, I need to remove * 60 in SessionManager.
        name: s.config.name
      };
    }
    return null;
  }
  async getRecentSessions(limit = 10) {
    const api = this.getApi();
    if (!api) return [];
    const sessions = await api.sessions.getSessionHistory(7);
    return sessions.slice(0, limit);
  }
  async getSessionContext(sessionId) {
    const api = this.getApi();
    if (!api) return null;
    return await api.sessions.getSessionContext(sessionId);
  }
};

// src/main.ts
var FocusSessionsPlugin2 = class extends import_obsidian12.Plugin {
  async onload() {
    await this.loadSettings();
    plugin.set(this);
    this.hubService = new HubService(this.app);
    this.audioService = new AudioService(this.settings.enableSound);
    this.sessionManager = new SessionManager(this.app, this.settings, this.audioService, this.hubService);
    this.registerView(
      FOCUS_SESSION_VIEW_TYPE,
      (leaf) => new FocusSessionView2(leaf, this.sessionManager, this.manifest.version)
    );
    this.addRibbonIcon("clock", "Open focus sessions", () => {
      void this.activateView();
    });
    this.addCommand({
      id: "open-test-svelte-modal",
      name: "Open test svelte modal",
      callback: () => {
        new SvelteModal(this.app).open();
      }
    });
    this.statusBarItemEl = this.addStatusBarItem();
    this.updateStatusBar();
    this.sessionManager.onChange(() => {
      this.updateStatusBar();
    });
    this.sessionManager.onSessionComplete((session2, source2) => {
      if (source2 !== "modal") {
        new SessionEndModal(this.app, this.sessionManager).open();
      }
    });
    this.registerInterval(
      window.setInterval(() => {
        this.sessionManager.tick();
        this.updateStatusBar();
      }, 1e3)
    );
    this.statusBarItemEl.addClass("mod-clickable");
    this.statusBarItemEl.onClickEvent(() => {
      new SessionModal2(this.app).open();
    });
    this.addSettingTab(new FocusSessionSettingTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  onunload() {
  }
  updateStatusBar() {
    const session2 = this.sessionManager.getActiveSession();
    if (session2) {
      const remainingSec = getRemainingTime(
        session2.duration,
        session2.elapsed,
        session2.status,
        session2.lastResumed
      );
      const timeString = formatDuration(remainingSec);
      this.statusBarItemEl.setText(`${session2.name} (${timeString})`);
    } else {
      this.statusBarItemEl.setText("");
    }
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(FOCUS_SESSION_VIEW_TYPE);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      const rightLeaf = workspace.getRightLeaf(false);
      if (rightLeaf) {
        leaf = rightLeaf;
        await leaf.setViewState({ type: FOCUS_SESSION_VIEW_TYPE, active: true });
      }
    }
    if (leaf) {
      void workspace.revealLeaf(leaf);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NlcnZpY2VzL2F1ZGlvLXNlcnZpY2UudHMiLCAic3JjL3V0aWxzL3RpbWUtdXRpbHMudHMiLCAic3JjL3NlcnZpY2VzL3Nlc3Npb24tbWFuYWdlci50cyIsICJzcmMvdWkvZm9jdXMtc2Vzc2lvbi12aWV3LnRzIiwgIm5vZGVfbW9kdWxlcy9lc20tZW52L2Rldi1mYWxsYmFjay5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2NvbnN0YW50cy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvZXJyb3JzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9lcnJvcnMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvY29uc3RhbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC93YXJuaW5ncy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2h5ZHJhdGlvbi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9lcXVhbGl0eS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9mbGFncy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZGV2L3RyYWNpbmcuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvc2hhcmVkL2Rldi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL3Rhc2suanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Vycm9yLWhhbmRsaW5nLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3N0YXR1cy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS91dGlscy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9iYXRjaC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9yZWFjdGl2aXR5L2NyZWF0ZS1zdWJzY3JpYmVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2FzeW5jLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3NvdXJjZXMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3Byb3h5LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kZXYvZXF1YWxpdHkuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9vcGVyYXRpb25zLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvbWlzYy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2JpbmRpbmdzL3NoYXJlZC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9lZmZlY3RzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9sZWdhY3kuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Rldi9jc3MuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9ldmVudHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9yZWNvbmNpbGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vdGVtcGxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlbmRlci5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9icmFuY2hlcy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9pZi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9lYWNoLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vY3NzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYWN0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvYXR0cmlidXRlcy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2NsYXNzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvc3R5bGUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9hdHRyaWJ1dGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYmluZGluZ3MvaW5wdXQuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9sZWdhY3kvbGlmZWN5Y2xlLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3N0b3JlL3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3N0b3JlL3NoYXJlZC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zdG9yZS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9sZWdhY3kvbGVnYWN5LWNsaWVudC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2N1c3RvbS1lbGVtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2luZGV4LWNsaWVudC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24uanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvZmxhZ3MvbGVnYWN5LmpzIiwgInNyYy91aS9zdG9yZXMudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvbkhlYWRlci5zdmVsdGUiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvblRpbWVyLnN2ZWx0ZSIsICJzcmMvdWkvc2Vzc2lvbi1lbmQtbW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvbkNvbnRyb2xzLnN2ZWx0ZSIsICJzcmMvdWkvY29tcG9uZW50cy9TZXNzaW9uRm9vdGVyLnN2ZWx0ZSIsICJub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwgInNyYy91aS9zZXNzaW9uLWRldGFpbHMtbW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvbkhpc3Rvcnkuc3ZlbHRlIiwgInNyYy91aS9Gb2N1c1Nlc3Npb25WaWV3LnN2ZWx0ZSIsICJzcmMvdWkvc2Vzc2lvbi1tb2RhbC50cyIsICJzcmMvdWkvU2Vzc2lvbk1vZGFsLnN2ZWx0ZSIsICJzcmMvdWkvU3ZlbHRlTW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvVGVzdFN2ZWx0ZU1vZGFsLnN2ZWx0ZSIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL3VpL3NldHRpbmdzLXRhYi50cyIsICJzcmMvc2VydmljZXMvaHViLXNlcnZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgU2Vzc2lvbk1hbmFnZXIgfSBmcm9tIFwiQC9zZXJ2aWNlcy9zZXNzaW9uLW1hbmFnZXJcIjtcbmltcG9ydCB7IGZvcm1hdER1cmF0aW9uLCBnZXRSZW1haW5pbmdUaW1lIH0gZnJvbSBcIkAvdXRpbHMvdGltZS11dGlsc1wiO1xuaW1wb3J0IHsgRk9DVVNfU0VTU0lPTl9WSUVXX1RZUEUsIEZvY3VzU2Vzc2lvblZpZXcgfSBmcm9tIFwiQC91aS9mb2N1cy1zZXNzaW9uLXZpZXdcIjtcbmltcG9ydCB7IFNlc3Npb25Nb2RhbCB9IGZyb20gXCJAL3VpL3Nlc3Npb24tbW9kYWxcIjtcbmltcG9ydCB7IFNlc3Npb25FbmRNb2RhbCB9IGZyb20gXCJAL3VpL3Nlc3Npb24tZW5kLW1vZGFsXCI7XG5pbXBvcnQgeyBTdmVsdGVNb2RhbCB9IGZyb20gXCJAL3VpL1N2ZWx0ZU1vZGFsXCI7XG5cbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIHR5cGUgRm9jdXNTZXNzaW9uU2V0dGluZ3MgfSBmcm9tIFwiQC9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgRm9jdXNTZXNzaW9uU2V0dGluZ1RhYiB9IGZyb20gXCJAL3VpL3NldHRpbmdzLXRhYlwiO1xuaW1wb3J0IHsgQXVkaW9TZXJ2aWNlIH0gZnJvbSBcIkAvc2VydmljZXMvYXVkaW8tc2VydmljZVwiO1xuaW1wb3J0IHsgSHViU2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL2h1Yi1zZXJ2aWNlXCI7XG5cbmltcG9ydCB7IHBsdWdpbiB9IGZyb20gXCJAL3VpL3N0b3Jlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb2N1c1Nlc3Npb25zUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyO1xuXHRzdGF0dXNCYXJJdGVtRWw6IEhUTUxFbGVtZW50O1xuXHRzZXR0aW5nczogRm9jdXNTZXNzaW9uU2V0dGluZ3M7XG5cdGF1ZGlvU2VydmljZTogQXVkaW9TZXJ2aWNlO1xuXHRodWJTZXJ2aWNlOiBIdWJTZXJ2aWNlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHBsdWdpbi5zZXQodGhpcyk7XG5cblx0XHR0aGlzLmh1YlNlcnZpY2UgPSBuZXcgSHViU2VydmljZSh0aGlzLmFwcCk7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UgPSBuZXcgQXVkaW9TZXJ2aWNlKHRoaXMuc2V0dGluZ3MuZW5hYmxlU291bmQpO1xuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIgPSBuZXcgU2Vzc2lvbk1hbmFnZXIodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MsIHRoaXMuYXVkaW9TZXJ2aWNlLCB0aGlzLmh1YlNlcnZpY2UpO1xuXG5cdFx0Ly8gUmVnaXN0ZXIgdGhlIFZpZXdcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdEZPQ1VTX1NFU1NJT05fVklFV19UWVBFLFxuXHRcdFx0KGxlYWYpID0+IG5ldyBGb2N1c1Nlc3Npb25WaWV3KGxlYWYsIHRoaXMuc2Vzc2lvbk1hbmFnZXIsIHRoaXMubWFuaWZlc3QudmVyc2lvbiksXG5cdFx0KTtcblxuXHRcdC8vIFJpYmJvbiBJY29uXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwiY2xvY2tcIiwgXCJPcGVuIGZvY3VzIHNlc3Npb25zXCIsICgpID0+IHtcblx0XHRcdHZvaWQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJvcGVuLXRlc3Qtc3ZlbHRlLW1vZGFsXCIsXG5cdFx0XHRuYW1lOiBcIk9wZW4gdGVzdCBzdmVsdGUgbW9kYWxcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBTdmVsdGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdC8vIFN0YXR1cyBCYXJcblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHRoaXMudXBkYXRlU3RhdHVzQmFyKCk7XG5cblx0XHQvLyBVcGRhdGUgc3RhdHVzIGJhciBvbiBzZXNzaW9uIGNoYW5nZVxuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIub25DaGFuZ2UoKCkgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcblx0XHR9KTtcblxuXHRcdC8vIE1vZGFsIG9uIHNlc3Npb24gY29tcGxldGlvblxuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uQ29tcGxldGUoKHNlc3Npb24sIHNvdXJjZSkgPT4ge1xuXHRcdFx0aWYgKHNvdXJjZSAhPT0gXCJtb2RhbFwiKSB7XG5cdFx0XHRcdG5ldyBTZXNzaW9uRW5kTW9kYWwodGhpcy5hcHAsIHRoaXMuc2Vzc2lvbk1hbmFnZXIpLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFBlcmlvZGljIHVwZGF0ZSBmb3IgdGltZXIgaW4gc3RhdHVzIGJhciBhbmQgc2Vzc2lvbiBsb2dpY1xuXHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcblx0XHRcdHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIudGljaygpO1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuXHRcdFx0fSwgMTAwMCksXG5cdFx0KTtcblxuXHRcdC8vIENsaWNrIG9uIHN0YXR1cyBiYXIgdG8gb3BlbiBtb2RhbFxuXHRcdHRoaXMuc3RhdHVzQmFySXRlbUVsLmFkZENsYXNzKFwibW9kLWNsaWNrYWJsZVwiKTtcblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5vbkNsaWNrRXZlbnQoKCkgPT4ge1xuXHRcdFx0bmV3IFNlc3Npb25Nb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBGb2N1c1Nlc3Npb25TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIENsZWFuIHVwIGlzIGhhbmRsZWQgYnkgT2JzaWRpYW4gcHJpbWFyaWx5XG5cdH1cblxuXHR1cGRhdGVTdGF0dXNCYXIoKSB7XG5cdFx0Y29uc3Qgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbk1hbmFnZXIuZ2V0QWN0aXZlU2Vzc2lvbigpO1xuXHRcdGlmIChzZXNzaW9uKSB7XG5cdFx0XHRjb25zdCByZW1haW5pbmdTZWMgPSBnZXRSZW1haW5pbmdUaW1lKFxuXHRcdFx0XHRzZXNzaW9uLmR1cmF0aW9uLFxuXHRcdFx0XHRzZXNzaW9uLmVsYXBzZWQsXG5cdFx0XHRcdHNlc3Npb24uc3RhdHVzLFxuXHRcdFx0XHRzZXNzaW9uLmxhc3RSZXN1bWVkLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IHRpbWVTdHJpbmcgPSBmb3JtYXREdXJhdGlvbihyZW1haW5pbmdTZWMpO1xuXG5cdFx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KGAke3Nlc3Npb24ubmFtZX0gKCR7dGltZVN0cmluZ30pYCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3RhdHVzQmFySXRlbUVsLnNldFRleHQoXCJcIik7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XG5cdFx0Y29uc3QgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShGT0NVU19TRVNTSU9OX1ZJRVdfVFlQRSk7XG5cblx0XHRpZiAobGVhdmVzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vIEEgbGVhZiB3aXRoIG91ciB2aWV3IGFscmVhZHkgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdFx0bGVhZiA9IGxlYXZlc1swXSBhcyBXb3Jrc3BhY2VMZWFmO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBPdXIgdmlldyBjb3VsZCBub3QgYmUgZm91bmQgaW4gdGhlIHdvcmtzcGFjZSwgY3JlYXRlIGEgbmV3IGxlYWZcblx0XHRcdC8vIGluIHRoZSByaWdodCBzaWRlYmFyIGZvciBpdFxuXHRcdFx0Y29uc3QgcmlnaHRMZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG5cdFx0XHRpZiAocmlnaHRMZWFmKSB7XG5cdFx0XHRcdGxlYWYgPSByaWdodExlYWY7XG5cdFx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogRk9DVVNfU0VTU0lPTl9WSUVXX1RZUEUsIGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBcIlJldmVhbFwiIHRoZSBsZWFmIGluIGNhc2UgaXQgaXMgaW4gYSBjb2xsYXBzZWQgc2lkZWJhclxuXHRcdGlmIChsZWFmKSB7XG5cdFx0XHR2b2lkIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHRcdH1cblx0fVxufVxuIiwgImV4cG9ydCBjbGFzcyBBdWRpb1NlcnZpY2Uge1xuXHRwcml2YXRlIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgZW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG5cblx0Y29uc3RydWN0b3IoZW5hYmxlZDogYm9vbGVhbiA9IHRydWUpIHtcblx0XHR0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRcdC8vIExhemlseSBpbml0IGF1ZGlvIGNvbnRleHQgb24gZmlyc3QgdXNlciBpbnRlcmFjdGlvbiBpZiBwb3NzaWJsZSxcblx0XHQvLyBidXQgaGVyZSB3ZSBtaWdodCBqdXN0IGluaXQgaXQgd2hlbiBuZWVkZWQgdG8gYXZvaWQgYXV0b3BsYXkgcG9saWNpZXMgaXNzdWVzP1xuXHRcdC8vIEFjdHVhbGx5LCBPYnNpZGlhbiBhcHBzIHJ1biBpbiBhbiBlbnZpcm9ubWVudCB3aGVyZSBhdWRpbyBpcyB1c3VhbGx5IGFsbG93ZWQuXG5cdH1cblxuXHRzZXRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcblx0XHR0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRDb250ZXh0KCk6IEF1ZGlvQ29udGV4dCB7XG5cdFx0aWYgKCF0aGlzLmF1ZGlvQ29udGV4dCkge1xuXHRcdFx0dGhpcy5hdWRpb0NvbnRleHQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0O1xuXHR9XG5cblx0cHJpdmF0ZSBhY3RpdmVPc2NpbGxhdG9yczogT3NjaWxsYXRvck5vZGVbXSA9IFtdO1xuXHRwcml2YXRlIGxvb3BJbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cblx0cHJpdmF0ZSBwbGF5VG9uZShmcmVxOiBudW1iZXIsIHR5cGU6IE9zY2lsbGF0b3JUeXBlLCBkdXJhdGlvbjogbnVtYmVyLCBzdGFydFRpbWU6IG51bWJlciA9IDApIHtcblx0XHRpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuO1xuXHRcdGNvbnN0IGN0eCA9IHRoaXMuZ2V0Q29udGV4dCgpO1xuXHRcdGNvbnN0IG9zYyA9IGN0eC5jcmVhdGVPc2NpbGxhdG9yKCk7XG5cdFx0Y29uc3QgZ2FpbiA9IGN0eC5jcmVhdGVHYWluKCk7XG5cblx0XHRvc2MudHlwZSA9IHR5cGU7XG5cdFx0b3NjLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZShmcmVxLCBjdHguY3VycmVudFRpbWUgKyBzdGFydFRpbWUpO1xuXG5cdFx0Z2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAuMSwgY3R4LmN1cnJlbnRUaW1lICsgc3RhcnRUaW1lKTtcblx0XHRnYWluLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMDAxLCBjdHguY3VycmVudFRpbWUgKyBzdGFydFRpbWUgKyBkdXJhdGlvbik7XG5cblx0XHRvc2MuY29ubmVjdChnYWluKTtcblx0XHRnYWluLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTtcblxuXHRcdG9zYy5zdGFydChjdHguY3VycmVudFRpbWUgKyBzdGFydFRpbWUpO1xuXHRcdG9zYy5zdG9wKGN0eC5jdXJyZW50VGltZSArIHN0YXJ0VGltZSArIGR1cmF0aW9uKTtcblxuXHRcdHRoaXMuYWN0aXZlT3NjaWxsYXRvcnMucHVzaChvc2MpO1xuXHRcdG9zYy5vbmVuZGVkID0gKCkgPT4ge1xuXHRcdFx0dGhpcy5hY3RpdmVPc2NpbGxhdG9ycyA9IHRoaXMuYWN0aXZlT3NjaWxsYXRvcnMuZmlsdGVyKChvKSA9PiBvICE9PSBvc2MpO1xuXHRcdH07XG5cdH1cblxuXHRwbGF5U3RhcnQoKSB7XG5cdFx0dGhpcy5zdG9wQWxhcm0oKTtcblx0XHQvLyBTaW1wbGUgaGlnaCBwaW5nXG5cdFx0dGhpcy5wbGF5VG9uZSg4ODAsIFwic2luZVwiLCAwLjUpO1xuXHR9XG5cblx0cGxheVBhdXNlKCkge1xuXHRcdHRoaXMuc3RvcEFsYXJtKCk7XG5cdFx0Ly8gRGVzY2VuZGluZyB0b25lXG5cdFx0dGhpcy5wbGF5VG9uZSg0NDAsIFwic2luZVwiLCAwLjEpO1xuXHRcdHRoaXMucGxheVRvbmUoMzMwLCBcInNpbmVcIiwgMC4zLCAwLjEpO1xuXHR9XG5cblx0cGxheVJlc3VtZSgpIHtcblx0XHR0aGlzLnN0b3BBbGFybSgpO1xuXHRcdC8vIEFzY2VuZGluZyB0b25lXG5cdFx0dGhpcy5wbGF5VG9uZSgzMzAsIFwic2luZVwiLCAwLjEpO1xuXHRcdHRoaXMucGxheVRvbmUoNDQwLCBcInNpbmVcIiwgMC4zLCAwLjEpO1xuXHR9XG5cblx0cGxheUNvbXBsZXRlKGxvb3AgPSBmYWxzZSkge1xuXHRcdHRoaXMuc3RvcEFsYXJtKCk7XG5cdFx0Y29uc3QgcGxheU1lbG9keSA9ICgpID0+IHtcblx0XHRcdC8vIExpdHRsZSBtZWxvZHk6IEMgLSBFIC0gRyAtIENcblx0XHRcdGNvbnN0IG5vdyA9IDA7XG5cdFx0XHR0aGlzLnBsYXlUb25lKDUyMy4yNSwgXCJzaW5lXCIsIDAuMiwgbm93KTtcblx0XHRcdHRoaXMucGxheVRvbmUoNjU5LjI1LCBcInNpbmVcIiwgMC4yLCBub3cgKyAwLjIpO1xuXHRcdFx0dGhpcy5wbGF5VG9uZSg3ODMuOTksIFwic2luZVwiLCAwLjIsIG5vdyArIDAuNCk7XG5cdFx0XHR0aGlzLnBsYXlUb25lKDEwNDYuNSwgXCJzaW5lXCIsIDAuNiwgbm93ICsgMC42KTtcblx0XHR9O1xuXG5cdFx0cGxheU1lbG9keSgpO1xuXG5cdFx0aWYgKGxvb3ApIHtcblx0XHRcdHRoaXMubG9vcEludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHBsYXlNZWxvZHksIDIwMDApOyAvLyBSZXBlYXQgZXZlcnkgMnNcblx0XHR9XG5cdH1cblxuXHRzdG9wQWxhcm0oKSB7XG5cdFx0aWYgKHRoaXMubG9vcEludGVydmFsKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmxvb3BJbnRlcnZhbCk7XG5cdFx0XHR0aGlzLmxvb3BJbnRlcnZhbCA9IG51bGw7XG5cdFx0fVxuXHRcdHRoaXMuYWN0aXZlT3NjaWxsYXRvcnMuZm9yRWFjaCgob3NjKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRvc2Muc3RvcCgpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIElnbm9yZSBpZiBhbHJlYWR5IHN0b3BwZWRcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0aGlzLmFjdGl2ZU9zY2lsbGF0b3JzID0gW107XG5cdH1cbn1cbiIsICJleHBvcnQgY29uc3QgZm9ybWF0RHVyYXRpb24gPSAoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nID0+IHtcblx0Y29uc3Qgc2lnbiA9IHNlY29uZHMgPCAwID8gXCIrXCIgOiBcIlwiO1xuXHRjb25zdCBhYnNTZWNvbmRzID0gTWF0aC5hYnMoc2Vjb25kcyk7XG5cdGNvbnN0IG0gPSBNYXRoLmZsb29yKGFic1NlY29uZHMgLyA2MCk7XG5cdGNvbnN0IHMgPSBhYnNTZWNvbmRzICUgNjA7XG5cdHJldHVybiBgJHtzaWdufSR7bX06JHtzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0VGltZXJEaXNwbGF5ID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XG5cdHJldHVybiBmb3JtYXREdXJhdGlvbihzZWNvbmRzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSZW1haW5pbmdUaW1lID0gKFxuXHRkdXJhdGlvblNlY29uZHM6IG51bWJlcixcblx0ZWxhcHNlZDogbnVtYmVyLFxuXHRzdGF0dXM6IFwicnVubmluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiY29tcGxldGVkXCIsXG5cdGxhc3RSZXN1bWVkOiBudW1iZXIsXG4pOiBudW1iZXIgPT4ge1xuXHRpZiAoc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSByZXR1cm4gMDtcblxuXHQvLyBkdXJhdGlvblNlY29uZHMgaXMgYWxyZWFkeSBpbiBzZWNvbmRzXG5cdGNvbnN0IHRvdGFsU2VjID0gZHVyYXRpb25TZWNvbmRzO1xuXHRsZXQgY3VycmVudEVsYXBzZWQgPSBlbGFwc2VkO1xuXG5cdGlmIChzdGF0dXMgPT09IFwicnVubmluZ1wiKSB7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRjb25zdCBhZGRpdGlvbmFsID0gTWF0aC5mbG9vcigobm93IC0gbGFzdFJlc3VtZWQpIC8gMTAwMCk7XG5cdFx0Y3VycmVudEVsYXBzZWQgKz0gYWRkaXRpb25hbDtcblx0fVxuXG5cdHJldHVybiB0b3RhbFNlYyAtIGN1cnJlbnRFbGFwc2VkO1xufTtcbiIsICJleHBvcnQgaW50ZXJmYWNlIEZvY3VzU2Vzc2lvbiB7XG5cdG5hbWU6IHN0cmluZztcblx0ZHVyYXRpb246IG51bWJlcjsgLy8gZHVyYXRpb24gaW4gc2Vjb25kc1xuXHRzdGFydFRpbWU6IG51bWJlcjtcblx0c3RhdHVzOiBcInJ1bm5pbmdcIiB8IFwicGF1c2VkXCIgfCBcImNvbXBsZXRlZFwiO1xuXHRlbGFwc2VkOiBudW1iZXI7IC8vIGFjY3VtdWxhdGVkIHRpbWUgaW4gc2Vjb25kc1xuXHRsYXN0UmVzdW1lZDogbnVtYmVyOyAvLyB0aW1lc3RhbXAgd2hlbiBsYXN0IHJlc3VtZWQvc3RhcnRlZFxuXHRpc092ZXJ0aW1lPzogYm9vbGVhbjtcbn1cblxuaW1wb3J0IHR5cGUgeyBGb2N1c1Nlc3Npb25TZXR0aW5ncyB9IGZyb20gXCJAL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBBdWRpb1NlcnZpY2UgfSBmcm9tIFwiQC9zZXJ2aWNlcy9hdWRpby1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBnZXRSZW1haW5pbmdUaW1lIH0gZnJvbSBcIkAvdXRpbHMvdGltZS11dGlsc1wiO1xuaW1wb3J0IHR5cGUgeyBIdWJTZXJ2aWNlIH0gZnJvbSBcIi4vaHViLXNlcnZpY2VcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY2xhc3MgU2Vzc2lvbk1hbmFnZXIge1xuXHRwcml2YXRlIGFjdGl2ZVNlc3Npb246IEZvY3VzU2Vzc2lvbiB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcblx0cHJpdmF0ZSBjb21wbGV0aW9uTGlzdGVuZXJzOiAoKHNlc3Npb246IEZvY3VzU2Vzc2lvbiwgc291cmNlPzogc3RyaW5nKSA9PiB2b2lkKVtdID0gW107XG5cdHByaXZhdGUgc2V0dGluZ3M6IEZvY3VzU2Vzc2lvblNldHRpbmdzO1xuXHRwcml2YXRlIGF1ZGlvU2VydmljZTogQXVkaW9TZXJ2aWNlO1xuXHRwcml2YXRlIGh1YlNlcnZpY2U6IEh1YlNlcnZpY2U7XG5cblx0cHJpdmF0ZSBjdXN0b21EdXJhdGlvbjogbnVtYmVyO1xuXG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzOiBGb2N1c1Nlc3Npb25TZXR0aW5ncywgYXVkaW9TZXJ2aWNlOiBBdWRpb1NlcnZpY2UsIGh1YlNlcnZpY2U6IEh1YlNlcnZpY2UpIHtcblx0XHR0aGlzLmFwcCA9IGFwcDtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UgPSBhdWRpb1NlcnZpY2U7XG5cdFx0dGhpcy5odWJTZXJ2aWNlID0gaHViU2VydmljZTtcblx0XHR0aGlzLmF1ZGlvU2VydmljZS5zZXRFbmFibGVkKHNldHRpbmdzLmVuYWJsZVNvdW5kICE9PSBmYWxzZSk7IC8vIERlZmF1bHQgdHJ1ZSBpZiB1bmRlZmluZWRcblx0XHR0aGlzLmN1c3RvbUR1cmF0aW9uID0gc2V0dGluZ3MuZm9jdXNEdXJhdGlvbjtcblxuXHRcdC8vIEF0dGVtcHQgdG8gcmVzdG9yZSBzZXNzaW9uIGZyb20gSHViXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuXHRcdFx0dm9pZCB0aGlzLnJlc3RvcmVTZXNzaW9uKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHJlc3RvcmVTZXNzaW9uKCkge1xuXHRcdC8vIFJldHJ5IGEgZmV3IHRpbWVzIGlmIEh1YiBpcyBub3QgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IChyYWNlIGNvbmRpdGlvbiBvbiBsb2FkKVxuXHRcdC8vIEV2ZW4gd2l0aCBvbkxheW91dFJlYWR5LCBvdGhlciBwbHVnaW5zIG1pZ2h0IGluaXRpYWxpemUgYXN5bmMuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5odWJTZXJ2aWNlLmlzQXZhaWxhYmxlKCkpIHtcblx0XHRcdFx0Y29uc3QgaHViU2Vzc2lvbiA9IGF3YWl0IHRoaXMuaHViU2VydmljZS5hc3luY1JlY292ZXJBY3RpdmVTZXNzaW9uKCk7XG5cdFx0XHRcdGlmIChodWJTZXNzaW9uKSB7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgc2Vzc2lvbiBpcyBhbHJlYWR5IGNvbXBsZXRlZCBpbiBIdWIgKHVubGlrZWx5IGlmIGFjdGl2ZVNlc3Npb24gaXMgc2V0KVxuXHRcdFx0XHRcdC8vIENhbGN1bGF0ZSBlbGFwc2VkIGJhc2VkIG9uIHN0YXJ0VGltZVxuXHRcdFx0XHRcdC8vIENhbGN1bGF0ZSBlbGFwc2VkIGJhc2VkIG9uIHN0YXJ0VGltZVxuXHRcdFx0XHRcdC8vIElmIEh1YiBzZXNzaW9uIHN0YXJ0IHRpbWUgaXMgaW4gdGhlIGZ1dHVyZSAoZHJpZnQ/KSwgaGFuZGxlIGdyYWNlZnVsbHk/IE5vLCBhc3N1bWUgY29ycmVjdC5cblxuXHRcdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbiA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IGh1YlNlc3Npb24ubmFtZSB8fCBcIkZvY3VzIFNlc3Npb25cIixcblx0XHRcdFx0XHRcdGR1cmF0aW9uOiBodWJTZXNzaW9uLmR1cmF0aW9uICogNjAsXG5cdFx0XHRcdFx0XHRzdGFydFRpbWU6IGh1YlNlc3Npb24uc3RhcnRUaW1lLFxuXHRcdFx0XHRcdFx0c3RhdHVzOiBcInJ1bm5pbmdcIixcblx0XHRcdFx0XHRcdGVsYXBzZWQ6IDAsXG5cdFx0XHRcdFx0XHRsYXN0UmVzdW1lZDogaHViU2Vzc2lvbi5zdGFydFRpbWUsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHQvLyBDaGVjayBmb3IgaW1tZWRpYXRlIGNvbXBsZXRpb24vb3ZlcnRpbWUgb24gcmVzdG9yZVxuXHRcdFx0XHRcdC8vIHRpY2soKSB3aWxsIGhhbmRsZSB0aGlzIG9uIG5leHQgaW50ZXJ2YWwsIGJ1dCB3ZSBjYW4gc2V0IGluaXRpYWwgc3RhdGVcblx0XHRcdFx0XHRjb25zdCByZW1haW5pbmcgPSBnZXRSZW1haW5pbmdUaW1lKFxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0MCwgLy8gZWxhcHNlZCBpcyAwIHJlbGF0aXZlIHRvIGxhc3RSZXN1bWVkPXN0YXJ0VGltZVxuXHRcdFx0XHRcdFx0XCJydW5uaW5nXCIsXG5cdFx0XHRcdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhcnRUaW1lLFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRpZiAocmVtYWluaW5nIDw9IDApIHtcblx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5pc092ZXJ0aW1lID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXHRcdH1cblx0fVxuXG5cdHNldEN1c3RvbUR1cmF0aW9uKG1pbnV0ZXM6IG51bWJlcikge1xuXHRcdHRoaXMuY3VzdG9tRHVyYXRpb24gPSBNYXRoLm1heCgxLCBtaW51dGVzKTsgLy8gTWluaW11bSAxIG1pbnV0ZVxuXHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdH1cblxuXHRnZXRDdXN0b21EdXJhdGlvbigpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmN1c3RvbUR1cmF0aW9uO1xuXHR9XG5cblx0YXN5bmMgc3RhcnRTZXNzaW9uKG5hbWU6IHN0cmluZywgZHVyYXRpb25TZWNvbmRzPzogbnVtYmVyKSB7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRsZXQgZHVyYXRpb24gPSBkdXJhdGlvblNlY29uZHM7XG5cblx0XHRpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gRGV0ZXJtaW5lIGRlZmF1bHQgZHVyYXRpb24gYmFzZWQgb24gbmFtZSBvciBkZWZhdWx0IHRvIGZvY3VzIGR1cmF0aW9uXG5cdFx0XHRpZiAobmFtZSA9PT0gXCJTaG9ydCBCcmVha1wiKSB7XG5cdFx0XHRcdGR1cmF0aW9uID0gdGhpcy5zZXR0aW5ncy5zaG9ydEJyZWFrRHVyYXRpb24gKiA2MDtcblx0XHRcdH0gZWxzZSBpZiAobmFtZSA9PT0gXCJMb25nIEJyZWFrXCIpIHtcblx0XHRcdFx0ZHVyYXRpb24gPSB0aGlzLnNldHRpbmdzLmxvbmdCcmVha0R1cmF0aW9uICogNjA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMuY3VzdG9tRHVyYXRpb24gKiA2MDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmFjdGl2ZVNlc3Npb24gPSB7XG5cdFx0XHRuYW1lLFxuXHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uLFxuXHRcdFx0c3RhcnRUaW1lOiBub3csXG5cdFx0XHRzdGF0dXM6IFwicnVubmluZ1wiLFxuXHRcdFx0ZWxhcHNlZDogMCxcblx0XHRcdGxhc3RSZXN1bWVkOiBub3csXG5cdFx0fTtcblxuXHRcdC8vIFN5bmMgd2l0aCBIdWJcblx0XHRpZiAodGhpcy5odWJTZXJ2aWNlLmlzQXZhaWxhYmxlKCkpIHtcblx0XHRcdGF3YWl0IHRoaXMuaHViU2VydmljZS5zdGFydFNlc3Npb24obmFtZSwgTWF0aC5jZWlsKGR1cmF0aW9uIC8gNjApLCBkdXJhdGlvbik7XG5cdFx0fVxuXG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UucGxheVN0YXJ0KCk7XG5cdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdHBhdXNlU2Vzc2lvbigpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uICYmIHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMgPT09IFwicnVubmluZ1wiKSB7XG5cdFx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXHRcdFx0Y29uc3QgZWxhcHNlZFNpbmNlTGFzdFJlc3VtZSA9IE1hdGguZmxvb3IoKG5vdyAtIHRoaXMuYWN0aXZlU2Vzc2lvbi5sYXN0UmVzdW1lZCkgLyAxMDAwKTtcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5lbGFwc2VkICs9IGVsYXBzZWRTaW5jZUxhc3RSZXN1bWU7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID0gXCJwYXVzZWRcIjtcblx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXlQYXVzZSgpO1xuXHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblxuXHRcdFx0Ly8gTm90ZTogSHViIGRvZXNuJ3Qgc3VwcG9ydCBwYXVzZSB5ZXQsIHNvIHdlIGRvbid0IG5vdGlmeSBpdC5cblx0XHR9XG5cdH1cblxuXHRyZXN1bWVTZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24gJiYgdGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9PT0gXCJwYXVzZWRcIikge1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9IFwicnVubmluZ1wiO1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmxhc3RSZXN1bWVkID0gRGF0ZS5ub3coKTtcblx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXlSZXN1bWUoKTtcblx0XHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgc3RvcFNlc3Npb24oc291cmNlPzogc3RyaW5nKSB7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2Uuc3RvcEFsYXJtKCk7XG5cdFx0aWYgKHRoaXMuYWN0aXZlU2Vzc2lvbikge1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9IFwiY29tcGxldGVkXCI7XG5cblx0XHRcdC8vIFN5bmMgd2l0aCBIdWJcblx0XHRcdGlmICh0aGlzLmh1YlNlcnZpY2UuaXNBdmFpbGFibGUoKSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmh1YlNlcnZpY2UuZW5kU2Vzc2lvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm5vdGlmeUNvbXBsZXRpb24odGhpcy5hY3RpdmVTZXNzaW9uLCBzb3VyY2UpO1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uID0gbnVsbDtcblx0XHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdFx0fVxuXHR9XG5cblx0cmVzZXRTZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24pIHtcblx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnN0b3BBbGFybSgpO1xuXHRcdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5lbGFwc2VkID0gMDtcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5sYXN0UmVzdW1lZCA9IG5vdztcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGFydFRpbWUgPSBub3c7IC8vIFRlY2huaWNhbGx5IGEgbmV3IHN0YXJ0XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID0gXCJydW5uaW5nXCI7XG5cdFx0XHR0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuXG5cdFx0XHQvLyBGb3IgSHViLCB0aGlzIGlzIHRyaWNreS4gV2Ugc2hvdWxkIHByb2JhYmx5IHJlc3RhcnQgdGhlIHNlc3Npb24gdGhlcmUgdG9vIGlmIHdlIHdhbnQgYWNjdXJhdGUgbG9ncy5cblx0XHRcdC8vIEJ1dCBmb3Igbm93IGtlZXBpbmcgaXQgc2ltcGxlLiBNYXliZSB0b2RvIGZvciBsYXRlci5cblx0XHR9XG5cdH1cblxuXHRhZGRUaW1lKG1pbnV0ZXM6IG51bWJlcikge1xuXHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24pIHtcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5kdXJhdGlvbiArPSBtaW51dGVzICogNjA7XG5cblx0XHRcdC8vIElmIGFkZGluZyB0aW1lIHRvIGEgY29tcGxldGVkIG9yIHBhdXNlZCBzZXNzaW9uLCByZXN1bWUgaXRcblx0XHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID09PSBcImNvbXBsZXRlZFwiIHx8IHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMgPT09IFwicGF1c2VkXCIpIHtcblx0XHRcdFx0dGhpcy5hdWRpb1NlcnZpY2Uuc3RvcEFsYXJtKCk7XG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMgPSBcInJ1bm5pbmdcIjtcblx0XHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmxhc3RSZXN1bWVkID0gRGF0ZS5ub3coKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0XHR9XG5cdH1cblxuXHR0aWNrKCkge1xuXHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24gJiYgdGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9PT0gXCJydW5uaW5nXCIpIHtcblx0XHRcdGNvbnN0IHJlbWFpbmluZyA9IGdldFJlbWFpbmluZ1RpbWUoXG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5kdXJhdGlvbixcblx0XHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmVsYXBzZWQsXG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMsXG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5sYXN0UmVzdW1lZCxcblx0XHRcdCk7XG5cblx0XHRcdGlmIChyZW1haW5pbmcgPD0gMCAmJiAhdGhpcy5hY3RpdmVTZXNzaW9uLmlzT3ZlcnRpbWUpIHtcblx0XHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmlzT3ZlcnRpbWUgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLmF1ZGlvU2VydmljZS5wbGF5Q29tcGxldGUodHJ1ZSk7IC8vIExvb3A6IHRydWVcblx0XHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRnZXRBY3RpdmVTZXNzaW9uKCk6IEZvY3VzU2Vzc2lvbiB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZVNlc3Npb247XG5cdH1cblxuXHRhc3luYyBnZXRTZXNzaW9uSGlzdG9yeShsaW1pdDogbnVtYmVyID0gMTApOiBQcm9taXNlPGFueVtdPiB7XG5cdFx0aWYgKCF0aGlzLmh1YlNlcnZpY2UuaXNBdmFpbGFibGUoKSkgcmV0dXJuIFtdO1xuXHRcdHJldHVybiB0aGlzLmh1YlNlcnZpY2UuZ2V0UmVjZW50U2Vzc2lvbnMobGltaXQpO1xuXHR9XG5cblx0b25DaGFuZ2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcblx0fVxuXG5cdG9uU2Vzc2lvbkNvbXBsZXRlKGNhbGxiYWNrOiAoc2Vzc2lvbjogRm9jdXNTZXNzaW9uLCBzb3VyY2U/OiBzdHJpbmcpID0+IHZvaWQpIHtcblx0XHR0aGlzLmNvbXBsZXRpb25MaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG5cdH1cblxuXHRyZW1vdmVMaXN0ZW5lcihjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuXHRcdHRoaXMubGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZmlsdGVyKChsKSA9PiBsICE9PSBjYWxsYmFjayk7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUxpc3RlbmVycygpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUNvbXBsZXRpb24oc2Vzc2lvbjogRm9jdXNTZXNzaW9uLCBzb3VyY2U/OiBzdHJpbmcpIHtcblx0XHR0aGlzLmNvbXBsZXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKHNlc3Npb24sIHNvdXJjZSkpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IG1vdW50LCB1bm1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuaW1wb3J0IHsgU2Vzc2lvbk1hbmFnZXIgfSBmcm9tIFwiQC9zZXJ2aWNlcy9zZXNzaW9uLW1hbmFnZXJcIjtcbmltcG9ydCBGb2N1c1Nlc3Npb25WaWV3Q29tcG9uZW50IGZyb20gXCIuL0ZvY3VzU2Vzc2lvblZpZXcuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjb25zdCBGT0NVU19TRVNTSU9OX1ZJRVdfVFlQRSA9IFwiZm9jdXMtc2Vzc2lvbi12aWV3XCI7XG5cbmV4cG9ydCBjbGFzcyBGb2N1c1Nlc3Npb25WaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIHNlc3Npb25NYW5hZ2VyOiBTZXNzaW9uTWFuYWdlcjtcblx0cHJpdmF0ZSBwbHVnaW5WZXJzaW9uOiBzdHJpbmc7XG5cdGNvbXBvbmVudDogUmV0dXJuVHlwZTx0eXBlb2YgbW91bnQ+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgc2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyLCBwbHVnaW5WZXJzaW9uOiBzdHJpbmcpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnNlc3Npb25NYW5hZ2VyID0gc2Vzc2lvbk1hbmFnZXI7XG5cdFx0dGhpcy5wbHVnaW5WZXJzaW9uID0gcGx1Z2luVmVyc2lvbjtcblx0fVxuXG5cdGdldFZpZXdUeXBlKCkge1xuXHRcdHJldHVybiBGT0NVU19TRVNTSU9OX1ZJRVdfVFlQRTtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdHJldHVybiBcIkZvY3VzIHNlc3Npb25zXCI7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250ZW50RWw7XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cdFx0Y29udGFpbmVyLmFkZENsYXNzKFwiZm9jdXMtc2Vzc2lvbi12aWV3XCIpO1xuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcblx0XHR0aGlzLmNvbXBvbmVudCA9IG1vdW50KEZvY3VzU2Vzc2lvblZpZXdDb21wb25lbnQgYXMgYW55LCB7XG5cdFx0XHR0YXJnZXQ6IGNvbnRhaW5lcixcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XG5cdFx0aWYgKHRoaXMuY29tcG9uZW50KSB7XG5cdFx0XHR2b2lkIHVubW91bnQodGhpcy5jb21wb25lbnQpO1xuXHRcdH1cblx0fVxufVxuIiwgImNvbnN0IG5vZGVfZW52ID0gZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnY/Lk5PREVfRU5WO1xuZXhwb3J0IGRlZmF1bHQgbm9kZV9lbnYgJiYgIW5vZGVfZW52LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgncHJvZCcpO1xuIiwgIi8vIFN0b3JlIHRoZSByZWZlcmVuY2VzIHRvIGdsb2JhbHMgaW4gY2FzZSBzb21lb25lIHRyaWVzIHRvIG1vbmtleSBwYXRjaCB0aGVzZSwgY2F1c2luZyB0aGUgYmVsb3dcbi8vIHRvIGRlLW9wdCAodGhpcyBvY2N1cnMgb2Z0ZW4gd2hlbiB1c2luZyBwb3B1bGFyIGV4dGVuc2lvbnMpLlxuZXhwb3J0IHZhciBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgdmFyIGluZGV4X29mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG5leHBvcnQgdmFyIGFycmF5X2Zyb20gPSBBcnJheS5mcm9tO1xuZXhwb3J0IHZhciBvYmplY3Rfa2V5cyA9IE9iamVjdC5rZXlzO1xuZXhwb3J0IHZhciBkZWZpbmVfcHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5leHBvcnQgdmFyIGdldF9kZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmV4cG9ydCB2YXIgZ2V0X2Rlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG5leHBvcnQgdmFyIG9iamVjdF9wcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZXhwb3J0IHZhciBhcnJheV9wcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5leHBvcnQgdmFyIGdldF9wcm90b3R5cGVfb2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5leHBvcnQgdmFyIGlzX2V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBbVD1hbnldXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEByZXR1cm5zIHt2YWx1ZSBpcyBQcm9taXNlTGlrZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZT8udGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEBwYXJhbSB7RnVuY3Rpb259IGZuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG4vKiogQHBhcmFtIHtBcnJheTwoKSA9PiB2b2lkPn0gYXJyICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChhcnIpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0XHRhcnJbaV0oKTtcblx0fVxufVxuXG4vKipcbiAqIFRPRE8gcmVwbGFjZSB3aXRoIFByb21pc2Uud2l0aFJlc29sdmVycyBvbmNlIHN1cHBvcnRlZCB3aWRlbHkgZW5vdWdoXG4gKiBAdGVtcGxhdGUgW1Q9dm9pZF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVycmVkKCkge1xuXHQvKiogQHR5cGUgeyh2YWx1ZTogVCkgPT4gdm9pZH0gKi9cblx0dmFyIHJlc29sdmU7XG5cblx0LyoqIEB0eXBlIHsocmVhc29uOiBhbnkpID0+IHZvaWR9ICovXG5cdHZhciByZWplY3Q7XG5cblx0LyoqIEB0eXBlIHtQcm9taXNlPFQ+fSAqL1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuXHRcdHJlc29sdmUgPSByZXM7XG5cdFx0cmVqZWN0ID0gcmVqO1xuXHR9KTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHJldHVybiB7IHByb21pc2UsIHJlc29sdmUsIHJlamVjdCB9O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge1YgfCAoKCkgPT4gVil9IGZhbGxiYWNrXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtsYXp5XVxuICogQHJldHVybnMge1Z9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWxsYmFjayh2YWx1ZSwgZmFsbGJhY2ssIGxhenkgPSBmYWxzZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZFxuXHRcdD8gbGF6eVxuXHRcdFx0PyAvKiogQHR5cGUgeygpID0+IFZ9ICovIChmYWxsYmFjaykoKVxuXHRcdFx0OiAvKiogQHR5cGUge1Z9ICovIChmYWxsYmFjaylcblx0XHQ6IHZhbHVlO1xufVxuXG4vKipcbiAqIFdoZW4gZW5jb3VudGVyaW5nIGEgc2l0dWF0aW9uIGxpa2UgYGxldCBbYSwgYiwgY10gPSAkZGVyaXZlZChibGFoKCkpYCxcbiAqIHdlIG5lZWQgdG8gc3Rhc2ggYW4gaW50ZXJtZWRpYXRlIHZhbHVlIHRoYXQgYGFgLCBgYmAsIGFuZCBgY2AgZGVyaXZlXG4gKiBmcm9tLCBpbiBjYXNlIGl0J3MgYW4gaXRlcmFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPiB8IEl0ZXJhYmxlPFQ+fSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtuXVxuICogQHJldHVybnMge0FycmF5PFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9fYXJyYXkodmFsdWUsIG4pIHtcblx0Ly8gcmV0dXJuIGFycmF5cyB1bmNoYW5nZWRcblx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Ly8gaWYgdmFsdWUgaXMgbm90IGl0ZXJhYmxlLCBvciBgbmAgaXMgdW5zcGVjaWZpZWQgKGluZGljYXRlcyBhIHJlc3Rcblx0Ly8gZWxlbWVudCwgd2hpY2ggbWVhbnMgd2UncmUgbm90IGNvbmNlcm5lZCBhYm91dCB1bmJvdW5kZWQgaXRlcmFibGVzKVxuXHQvLyBjb252ZXJ0IHRvIGFuIGFycmF5IHdpdGggYEFycmF5LmZyb21gXG5cdGlmIChuID09PSB1bmRlZmluZWQgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsdWUpKSB7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xuXHR9XG5cblx0Ly8gb3RoZXJ3aXNlLCBwb3B1bGF0ZSBhbiBhcnJheSB3aXRoIGBuYCB2YWx1ZXNcblxuXHQvKiogQHR5cGUge1RbXX0gKi9cblx0Y29uc3QgYXJyYXkgPSBbXTtcblxuXHRmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdmFsdWUpIHtcblx0XHRhcnJheS5wdXNoKGVsZW1lbnQpO1xuXHRcdGlmIChhcnJheS5sZW5ndGggPT09IG4pIGJyZWFrO1xuXHR9XG5cblx0cmV0dXJuIGFycmF5O1xufVxuIiwgIi8vIEdlbmVyYWwgZmxhZ3NcbmV4cG9ydCBjb25zdCBERVJJVkVEID0gMSA8PCAxO1xuZXhwb3J0IGNvbnN0IEVGRkVDVCA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBSRU5ERVJfRUZGRUNUID0gMSA8PCAzO1xuLyoqXG4gKiBBbiBlZmZlY3QgdGhhdCBkb2VzIG5vdCBkZXN0cm95IGl0cyBjaGlsZCBlZmZlY3RzIHdoZW4gaXQgcmVydW5zLlxuICogUnVucyBhcyBwYXJ0IG9mIHJlbmRlciBlZmZlY3RzLCBpLmUuIG5vdCBlYWdlcmx5IGFzIHBhcnQgb2YgdHJlZSB0cmF2ZXJzYWwgb3IgZWZmZWN0IGZsdXNoaW5nLlxuICovXG5leHBvcnQgY29uc3QgTUFOQUdFRF9FRkZFQ1QgPSAxIDw8IDI0O1xuLyoqXG4gKiBBbiBlZmZlY3QgdGhhdCBkb2VzIG5vdCBkZXN0cm95IGl0cyBjaGlsZCBlZmZlY3RzIHdoZW4gaXQgcmVydW5zIChsaWtlIE1BTkFHRURfRUZGRUNUKS5cbiAqIFJ1bnMgZWFnZXJseSBhcyBwYXJ0IG9mIHRyZWUgdHJhdmVyc2FsIG9yIGVmZmVjdCBmbHVzaGluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IEJMT0NLX0VGRkVDVCA9IDEgPDwgNDtcbmV4cG9ydCBjb25zdCBCUkFOQ0hfRUZGRUNUID0gMSA8PCA1O1xuZXhwb3J0IGNvbnN0IFJPT1RfRUZGRUNUID0gMSA8PCA2O1xuZXhwb3J0IGNvbnN0IEJPVU5EQVJZX0VGRkVDVCA9IDEgPDwgNztcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgYSByZWFjdGlvbiBpcyBjb25uZWN0ZWQgdG8gYW4gZWZmZWN0IHJvb3QgXHUyMDE0IGVpdGhlciBpdCBpcyBhbiBlZmZlY3QsXG4gKiBvciBpdCBpcyBhIGRlcml2ZWQgdGhhdCBpcyBkZXBlbmRlZCBvbiBieSBhdCBsZWFzdCBvbmUgZWZmZWN0LiBJZiBhIGRlcml2ZWQgaGFzXG4gKiBubyBkZXBlbmRlbnRzLCB3ZSBjYW4gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSBncmFwaCwgYWxsb3dpbmcgaXQgdG8gZWl0aGVyIGJlXG4gKiBHQydkIG9yIHJlY29ubmVjdGVkIGxhdGVyIGlmIGFuIGVmZmVjdCBjb21lcyB0byBkZXBlbmQgb24gaXQgYWdhaW5cbiAqL1xuZXhwb3J0IGNvbnN0IENPTk5FQ1RFRCA9IDEgPDwgOTtcbmV4cG9ydCBjb25zdCBDTEVBTiA9IDEgPDwgMTA7XG5leHBvcnQgY29uc3QgRElSVFkgPSAxIDw8IDExO1xuZXhwb3J0IGNvbnN0IE1BWUJFX0RJUlRZID0gMSA8PCAxMjtcbmV4cG9ydCBjb25zdCBJTkVSVCA9IDEgPDwgMTM7XG5leHBvcnQgY29uc3QgREVTVFJPWUVEID0gMSA8PCAxNDtcblxuLy8gRmxhZ3MgZXhjbHVzaXZlIHRvIGVmZmVjdHNcbi8qKiBTZXQgb25jZSBhbiBlZmZlY3QgdGhhdCBzaG91bGQgcnVuIHN5bmNocm9ub3VzbHkgaGFzIHJ1biAqL1xuZXhwb3J0IGNvbnN0IEVGRkVDVF9SQU4gPSAxIDw8IDE1O1xuLyoqXG4gKiAnVHJhbnNwYXJlbnQnIGVmZmVjdHMgZG8gbm90IGNyZWF0ZSBhIHRyYW5zaXRpb24gYm91bmRhcnkuXG4gKiBUaGlzIGlzIG9uIGEgYmxvY2sgZWZmZWN0IDk5JSBvZiB0aGUgdGltZSBidXQgbWF5IGFsc28gYmUgb24gYSBicmFuY2ggZWZmZWN0IGlmIGl0cyBwYXJlbnQgYmxvY2sgZWZmZWN0IHdhcyBwcnVuZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEVGRkVDVF9UUkFOU1BBUkVOVCA9IDEgPDwgMTY7XG5leHBvcnQgY29uc3QgRUFHRVJfRUZGRUNUID0gMSA8PCAxNztcbmV4cG9ydCBjb25zdCBIRUFEX0VGRkVDVCA9IDEgPDwgMTg7XG5leHBvcnQgY29uc3QgRUZGRUNUX1BSRVNFUlZFRCA9IDEgPDwgMTk7XG5leHBvcnQgY29uc3QgVVNFUl9FRkZFQ1QgPSAxIDw8IDIwO1xuZXhwb3J0IGNvbnN0IEVGRkVDVF9PRkZTQ1JFRU4gPSAxIDw8IDI1O1xuXG4vLyBGbGFncyBleGNsdXNpdmUgdG8gZGVyaXZlZHNcbi8qKlxuICogVGVsbHMgdGhhdCB3ZSBtYXJrZWQgdGhpcyBkZXJpdmVkIGFuZCBpdHMgcmVhY3Rpb25zIGFzIHZpc2l0ZWQgZHVyaW5nIHRoZSBcIm1hcmsgYXMgKG1heWJlKSBkaXJ0eVwiLXBoYXNlLlxuICogV2lsbCBiZSBsaWZ0ZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiB0aGUgZGVyaXZlZCBhbmQgZHVyaW5nIGNoZWNraW5nIGl0cyBkaXJ0eSBzdGF0ZSAoYm90aCBhcmUgbmVjZXNzYXJ5XG4gKiBiZWNhdXNlIGEgZGVyaXZlZCBtaWdodCBiZSBjaGVja2VkIGJ1dCBub3QgZXhlY3V0ZWQpLlxuICovXG5leHBvcnQgY29uc3QgV0FTX01BUktFRCA9IDEgPDwgMTU7XG5cbi8vIEZsYWdzIHVzZWQgZm9yIGFzeW5jXG5leHBvcnQgY29uc3QgUkVBQ1RJT05fSVNfVVBEQVRJTkcgPSAxIDw8IDIxO1xuZXhwb3J0IGNvbnN0IEFTWU5DID0gMSA8PCAyMjtcblxuZXhwb3J0IGNvbnN0IEVSUk9SX1ZBTFVFID0gMSA8PCAyMztcblxuZXhwb3J0IGNvbnN0IFNUQVRFX1NZTUJPTCA9IFN5bWJvbCgnJHN0YXRlJyk7XG5leHBvcnQgY29uc3QgTEVHQUNZX1BST1BTID0gU3ltYm9sKCdsZWdhY3kgcHJvcHMnKTtcbmV4cG9ydCBjb25zdCBMT0FESU5HX0FUVFJfU1lNQk9MID0gU3ltYm9sKCcnKTtcbmV4cG9ydCBjb25zdCBQUk9YWV9QQVRIX1NZTUJPTCA9IFN5bWJvbCgncHJveHkgcGF0aCcpO1xuXG4vKiogYWxsb3cgdXNlcnMgdG8gaWdub3JlIGFib3J0ZWQgc2lnbmFsIGVycm9ycyBpZiBgcmVhc29uLm5hbWUgPT09ICdTdGFsZVJlYWN0aW9uRXJyb3JgICovXG5leHBvcnQgY29uc3QgU1RBTEVfUkVBQ1RJT04gPSBuZXcgKGNsYXNzIFN0YWxlUmVhY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0bmFtZSA9ICdTdGFsZVJlYWN0aW9uRXJyb3InO1xuXHRtZXNzYWdlID0gJ1RoZSByZWFjdGlvbiB0aGF0IGNhbGxlZCBgZ2V0QWJvcnRTaWduYWwoKWAgd2FzIHJlLXJ1biBvciBkZXN0cm95ZWQnO1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfTk9ERSA9IDE7XG5leHBvcnQgY29uc3QgVEVYVF9OT0RFID0gMztcbmV4cG9ydCBjb25zdCBDT01NRU5UX05PREUgPSA4O1xuZXhwb3J0IGNvbnN0IERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcbiIsICIvKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNjcmlwdHMvcHJvY2Vzcy1tZXNzYWdlcy9pbmRleC5qcy4gRG8gbm90IGVkaXQhICovXG5cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuXG4vKipcbiAqIENhbm5vdCB1c2UgYCVuYW1lJSguLi4pYCB1bmxlc3MgdGhlIGBleHBlcmltZW50YWwuYXN5bmNgIGNvbXBpbGVyIG9wdGlvbiBpcyBgdHJ1ZWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBlcmltZW50YWxfYXN5bmNfcmVxdWlyZWQobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGV4cGVyaW1lbnRhbF9hc3luY19yZXF1aXJlZFxcbkNhbm5vdCB1c2UgXFxgJHtuYW1lfSguLi4pXFxgIHVubGVzcyB0aGUgXFxgZXhwZXJpbWVudGFsLmFzeW5jXFxgIGNvbXBpbGVyIG9wdGlvbiBpcyBcXGB0cnVlXFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2V4cGVyaW1lbnRhbF9hc3luY19yZXF1aXJlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IHVzZSBge0ByZW5kZXIgY2hpbGRyZW4oLi4uKX1gIGlmIHRoZSBwYXJlbnQgY29tcG9uZW50IHVzZXMgYGxldDpgIGRpcmVjdGl2ZXMuIENvbnNpZGVyIHVzaW5nIGEgbmFtZWQgc25pcHBldCBpbnN0ZWFkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX2RlZmF1bHRfc25pcHBldCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBpbnZhbGlkX2RlZmF1bHRfc25pcHBldFxcbkNhbm5vdCB1c2UgXFxge0ByZW5kZXIgY2hpbGRyZW4oLi4uKX1cXGAgaWYgdGhlIHBhcmVudCBjb21wb25lbnQgdXNlcyBcXGBsZXQ6XFxgIGRpcmVjdGl2ZXMuIENvbnNpZGVyIHVzaW5nIGEgbmFtZWQgc25pcHBldCBpbnN0ZWFkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9kZWZhdWx0X3NuaXBwZXRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9kZWZhdWx0X3NuaXBwZXRgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgc25pcHBldCBmdW5jdGlvbiB3YXMgcGFzc2VkIGludmFsaWQgYXJndW1lbnRzLiBTbmlwcGV0cyBzaG91bGQgb25seSBiZSBpbnN0YW50aWF0ZWQgdmlhIGB7QHJlbmRlciAuLi59YFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50cygpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBpbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzXFxuQSBzbmlwcGV0IGZ1bmN0aW9uIHdhcyBwYXNzZWQgaW52YWxpZCBhcmd1bWVudHMuIFNuaXBwZXRzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZCB2aWEgXFxge0ByZW5kZXIgLi4ufVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfc25pcHBldF9hcmd1bWVudHNgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50c2ApO1xuXHR9XG59XG5cbi8qKlxuICogYCVuYW1lJSguLi4pYCBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudFxcblxcYCR7bmFtZX0oLi4uKVxcYCBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb250ZXh0IHdhcyBub3Qgc2V0IGluIGEgcGFyZW50IGNvbXBvbmVudFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWlzc2luZ19jb250ZXh0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYG1pc3NpbmdfY29udGV4dFxcbkNvbnRleHQgd2FzIG5vdCBzZXQgaW4gYSBwYXJlbnQgY29tcG9uZW50XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbWlzc2luZ19jb250ZXh0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL21pc3NpbmdfY29udGV4dGApO1xuXHR9XG59XG5cbi8qKlxuICogQXR0ZW1wdGVkIHRvIHJlbmRlciBhIHNuaXBwZXQgd2l0aG91dCBhIGB7QHJlbmRlcn1gIGJsb2NrLiBUaGlzIHdvdWxkIGNhdXNlIHRoZSBzbmlwcGV0IGNvZGUgdG8gYmUgc3RyaW5naWZpZWQgaW5zdGVhZCBvZiBpdHMgY29udGVudCBiZWluZyByZW5kZXJlZCB0byB0aGUgRE9NLiBUbyBmaXggdGhpcywgY2hhbmdlIGB7c25pcHBldH1gIHRvIGB7QHJlbmRlciBzbmlwcGV0KCl9YC5cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHNuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnXFxuQXR0ZW1wdGVkIHRvIHJlbmRlciBhIHNuaXBwZXQgd2l0aG91dCBhIFxcYHtAcmVuZGVyfVxcYCBibG9jay4gVGhpcyB3b3VsZCBjYXVzZSB0aGUgc25pcHBldCBjb2RlIHRvIGJlIHN0cmluZ2lmaWVkIGluc3RlYWQgb2YgaXRzIGNvbnRlbnQgYmVpbmcgcmVuZGVyZWQgdG8gdGhlIERPTS4gVG8gZml4IHRoaXMsIGNoYW5nZSBcXGB7c25pcHBldH1cXGAgdG8gXFxge0ByZW5kZXIgc25pcHBldCgpfVxcYC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zbmlwcGV0X3dpdGhvdXRfcmVuZGVyX3RhZ2ApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zbmlwcGV0X3dpdGhvdXRfcmVuZGVyX3RhZ2ApO1xuXHR9XG59XG5cbi8qKlxuICogYCVuYW1lJWAgaXMgbm90IGEgc3RvcmUgd2l0aCBhIGBzdWJzY3JpYmVgIG1ldGhvZFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX2ludmFsaWRfc2hhcGUobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN0b3JlX2ludmFsaWRfc2hhcGVcXG5cXGAke25hbWV9XFxgIGlzIG5vdCBhIHN0b3JlIHdpdGggYSBcXGBzdWJzY3JpYmVcXGAgbWV0aG9kXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RvcmVfaW52YWxpZF9zaGFwZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdG9yZV9pbnZhbGlkX3NoYXBlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYHRoaXNgIHByb3Agb24gYDxzdmVsdGU6ZWxlbWVudD5gIG11c3QgYmUgYSBzdHJpbmcsIGlmIGRlZmluZWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZSgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdmVsdGVfZWxlbWVudF9pbnZhbGlkX3RoaXNfdmFsdWVcXG5UaGUgXFxgdGhpc1xcYCBwcm9wIG9uIFxcYDxzdmVsdGU6ZWxlbWVudD5cXGAgbXVzdCBiZSBhIHN0cmluZywgaWYgZGVmaW5lZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdmVsdGVfZWxlbWVudF9pbnZhbGlkX3RoaXNfdmFsdWVgKTtcblx0fVxufSIsICIvKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNjcmlwdHMvcHJvY2Vzcy1tZXNzYWdlcy9pbmRleC5qcy4gRG8gbm90IGVkaXQhICovXG5cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuXG5leHBvcnQgKiAgZnJvbSAnLi4vc2hhcmVkL2Vycm9ycy5qcyc7XG5cbi8qKlxuICogQ2Fubm90IGNyZWF0ZSBhIGAkZGVyaXZlZCguLi4pYCB3aXRoIGFuIGBhd2FpdGAgZXhwcmVzc2lvbiBvdXRzaWRlIG9mIGFuIGVmZmVjdCB0cmVlXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3luY19kZXJpdmVkX29ycGhhbigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBhc3luY19kZXJpdmVkX29ycGhhblxcbkNhbm5vdCBjcmVhdGUgYSBcXGAkZGVyaXZlZCguLi4pXFxgIHdpdGggYW4gXFxgYXdhaXRcXGAgZXhwcmVzc2lvbiBvdXRzaWRlIG9mIGFuIGVmZmVjdCB0cmVlXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXN5bmNfZGVyaXZlZF9vcnBoYW5gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXN5bmNfZGVyaXZlZF9vcnBoYW5gKTtcblx0fVxufVxuXG4vKipcbiAqIFVzaW5nIGBiaW5kOnZhbHVlYCB0b2dldGhlciB3aXRoIGEgY2hlY2tib3ggaW5wdXQgaXMgbm90IGFsbG93ZWQuIFVzZSBgYmluZDpjaGVja2VkYCBpbnN0ZWFkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWUoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlXFxuVXNpbmcgXFxgYmluZDp2YWx1ZVxcYCB0b2dldGhlciB3aXRoIGEgY2hlY2tib3ggaW5wdXQgaXMgbm90IGFsbG93ZWQuIFVzZSBcXGBiaW5kOmNoZWNrZWRcXGAgaW5zdGVhZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIENvbXBvbmVudCAlY29tcG9uZW50JSBoYXMgYW4gZXhwb3J0IG5hbWVkIGAla2V5JWAgdGhhdCBhIGNvbnN1bWVyIGNvbXBvbmVudCBpcyB0cnlpbmcgdG8gYWNjZXNzIHVzaW5nIGBiaW5kOiVrZXklYCwgd2hpY2ggaXMgZGlzYWxsb3dlZC4gSW5zdGVhZCwgdXNlIGBiaW5kOnRoaXNgIChlLmcuIGA8JW5hbWUlIGJpbmQ6dGhpcz17Y29tcG9uZW50fSAvPmApIGFuZCB0aGVuIGFjY2VzcyB0aGUgcHJvcGVydHkgb24gdGhlIGJvdW5kIGNvbXBvbmVudCBpbnN0YW5jZSAoZS5nLiBgY29tcG9uZW50LiVrZXklYClcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX2ludmFsaWRfZXhwb3J0KGNvbXBvbmVudCwga2V5LCBuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYmluZF9pbnZhbGlkX2V4cG9ydFxcbkNvbXBvbmVudCAke2NvbXBvbmVudH0gaGFzIGFuIGV4cG9ydCBuYW1lZCBcXGAke2tleX1cXGAgdGhhdCBhIGNvbnN1bWVyIGNvbXBvbmVudCBpcyB0cnlpbmcgdG8gYWNjZXNzIHVzaW5nIFxcYGJpbmQ6JHtrZXl9XFxgLCB3aGljaCBpcyBkaXNhbGxvd2VkLiBJbnN0ZWFkLCB1c2UgXFxgYmluZDp0aGlzXFxgIChlLmcuIFxcYDwke25hbWV9IGJpbmQ6dGhpcz17Y29tcG9uZW50fSAvPlxcYCkgYW5kIHRoZW4gYWNjZXNzIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYm91bmQgY29tcG9uZW50IGluc3RhbmNlIChlLmcuIFxcYGNvbXBvbmVudC4ke2tleX1cXGApXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2V4cG9ydGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX2ludmFsaWRfZXhwb3J0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCBpcyBhdHRlbXB0aW5nIHRvIGJpbmQgdG8gYSBub24tYmluZGFibGUgcHJvcGVydHkgYCVrZXklYCBiZWxvbmdpbmcgdG8gJWNvbXBvbmVudCUgKGkuZS4gYDwlbmFtZSUgYmluZDola2V5JT17Li4ufT5gKS4gVG8gbWFyayBhIHByb3BlcnR5IGFzIGJpbmRhYmxlOiBgbGV0IHsgJWtleSUgPSAkYmluZGFibGUoKSB9ID0gJHByb3BzKClgXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9ub3RfYmluZGFibGUoa2V5LCBjb21wb25lbnQsIG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBiaW5kX25vdF9iaW5kYWJsZVxcbkEgY29tcG9uZW50IGlzIGF0dGVtcHRpbmcgdG8gYmluZCB0byBhIG5vbi1iaW5kYWJsZSBwcm9wZXJ0eSBcXGAke2tleX1cXGAgYmVsb25naW5nIHRvICR7Y29tcG9uZW50fSAoaS5lLiBcXGA8JHtuYW1lfSBiaW5kOiR7a2V5fT17Li4ufT5cXGApLiBUbyBtYXJrIGEgcHJvcGVydHkgYXMgYmluZGFibGU6IFxcYGxldCB7ICR7a2V5fSA9ICRiaW5kYWJsZSgpIH0gPSAkcHJvcHMoKVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfbm90X2JpbmRhYmxlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfbm90X2JpbmRhYmxlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYWxsaW5nIGAlbWV0aG9kJWAgb24gYSBjb21wb25lbnQgaW5zdGFuY2UgKG9mICVjb21wb25lbnQlKSBpcyBubyBsb25nZXIgdmFsaWQgaW4gU3ZlbHRlIDVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9hcGlfY2hhbmdlZChtZXRob2QsIGNvbXBvbmVudCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGNvbXBvbmVudF9hcGlfY2hhbmdlZFxcbkNhbGxpbmcgXFxgJHttZXRob2R9XFxgIG9uIGEgY29tcG9uZW50IGluc3RhbmNlIChvZiAke2NvbXBvbmVudH0pIGlzIG5vIGxvbmdlciB2YWxpZCBpbiBTdmVsdGUgNVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbXBvbmVudF9hcGlfY2hhbmdlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2NoYW5nZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIEF0dGVtcHRlZCB0byBpbnN0YW50aWF0ZSAlY29tcG9uZW50JSB3aXRoIGBuZXcgJW5hbWUlYCwgd2hpY2ggaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1LiBJZiB0aGlzIGNvbXBvbmVudCBpcyBub3QgdW5kZXIgeW91ciBjb250cm9sLCBzZXQgdGhlIGBjb21wYXRpYmlsaXR5LmNvbXBvbmVudEFwaWAgY29tcGlsZXIgb3B0aW9uIHRvIGA0YCB0byBrZWVwIGl0IHdvcmtpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X2FwaV9pbnZhbGlkX25ldyhjb21wb25lbnQsIG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBjb21wb25lbnRfYXBpX2ludmFsaWRfbmV3XFxuQXR0ZW1wdGVkIHRvIGluc3RhbnRpYXRlICR7Y29tcG9uZW50fSB3aXRoIFxcYG5ldyAke25hbWV9XFxgLCB3aGljaCBpcyBubyBsb25nZXIgdmFsaWQgaW4gU3ZlbHRlIDUuIElmIHRoaXMgY29tcG9uZW50IGlzIG5vdCB1bmRlciB5b3VyIGNvbnRyb2wsIHNldCB0aGUgXFxgY29tcGF0aWJpbGl0eS5jb21wb25lbnRBcGlcXGAgY29tcGlsZXIgb3B0aW9uIHRvIFxcYDRcXGAgdG8ga2VlcCBpdCB3b3JraW5nLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbXBvbmVudF9hcGlfaW52YWxpZF9uZXdgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29tcG9uZW50X2FwaV9pbnZhbGlkX25ld2ApO1xuXHR9XG59XG5cbi8qKlxuICogQSBkZXJpdmVkIHZhbHVlIGNhbm5vdCByZWZlcmVuY2UgaXRzZWxmIHJlY3Vyc2l2ZWx5XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkX3JlZmVyZW5jZXNfc2VsZigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBkZXJpdmVkX3JlZmVyZW5jZXNfc2VsZlxcbkEgZGVyaXZlZCB2YWx1ZSBjYW5ub3QgcmVmZXJlbmNlIGl0c2VsZiByZWN1cnNpdmVseVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2Rlcml2ZWRfcmVmZXJlbmNlc19zZWxmYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2Rlcml2ZWRfcmVmZXJlbmNlc19zZWxmYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBLZXllZCBlYWNoIGJsb2NrIGhhcyBkdXBsaWNhdGUga2V5IGAldmFsdWUlYCBhdCBpbmRleGVzICVhJSBhbmQgJWIlXG4gKiBAcGFyYW0ge3N0cmluZ30gYVxuICogQHBhcmFtIHtzdHJpbmd9IGJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gW3ZhbHVlXVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaF9rZXlfZHVwbGljYXRlKGEsIGIsIHZhbHVlKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWFjaF9rZXlfZHVwbGljYXRlXFxuJHt2YWx1ZVxuXHRcdFx0PyBgS2V5ZWQgZWFjaCBibG9jayBoYXMgZHVwbGljYXRlIGtleSBcXGAke3ZhbHVlfVxcYCBhdCBpbmRleGVzICR7YX0gYW5kICR7Yn1gXG5cdFx0XHQ6IGBLZXllZCBlYWNoIGJsb2NrIGhhcyBkdXBsaWNhdGUga2V5IGF0IGluZGV4ZXMgJHthfSBhbmQgJHtifWB9XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWFjaF9rZXlfZHVwbGljYXRlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VhY2hfa2V5X2R1cGxpY2F0ZWApO1xuXHR9XG59XG5cbi8qKlxuICogYCVydW5lJWAgY2Fubm90IGJlIHVzZWQgaW5zaWRlIGFuIGVmZmVjdCBjbGVhbnVwIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcnVuZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X2luX3RlYXJkb3duKHJ1bmUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfaW5fdGVhcmRvd25cXG5cXGAke3J1bmV9XFxgIGNhbm5vdCBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgY2xlYW51cCBmdW5jdGlvblxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9pbl90ZWFyZG93bmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdGVhcmRvd25gKTtcblx0fVxufVxuXG4vKipcbiAqIEVmZmVjdCBjYW5ub3QgYmUgY3JlYXRlZCBpbnNpZGUgYSBgJGRlcml2ZWRgIHZhbHVlIHRoYXQgd2FzIG5vdCBpdHNlbGYgY3JlYXRlZCBpbnNpZGUgYW4gZWZmZWN0XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWRcXG5FZmZlY3QgY2Fubm90IGJlIGNyZWF0ZWQgaW5zaWRlIGEgXFxgJGRlcml2ZWRcXGAgdmFsdWUgdGhhdCB3YXMgbm90IGl0c2VsZiBjcmVhdGVkIGluc2lkZSBhbiBlZmZlY3RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIGAlcnVuZSVgIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGFuIGVmZmVjdCAoZS5nLiBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uKVxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9vcnBoYW4ocnVuZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF9vcnBoYW5cXG5cXGAke3J1bmV9XFxgIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGFuIGVmZmVjdCAoZS5nLiBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uKVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9vcnBoYW5gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X29ycGhhbmApO1xuXHR9XG59XG5cbi8qKlxuICogYCRlZmZlY3QucGVuZGluZygpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb25cXG5cXGAkZWZmZWN0LnBlbmRpbmcoKVxcYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoYXQgYW4gZWZmZWN0IHJlYWRzIGFuZCB3cml0ZXMgdGhlIHNhbWUgcGllY2Ugb2Ygc3RhdGVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZFxcbk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkLiBUaGlzIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCBhbiBlZmZlY3QgcmVhZHMgYW5kIHdyaXRlcyB0aGUgc2FtZSBwaWVjZSBvZiBzdGF0ZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IHVzZSBgZmx1c2hTeW5jYCBpbnNpZGUgYW4gZWZmZWN0XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9zeW5jX2luX2VmZmVjdCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBmbHVzaF9zeW5jX2luX2VmZmVjdFxcbkNhbm5vdCB1c2UgXFxgZmx1c2hTeW5jXFxgIGluc2lkZSBhbiBlZmZlY3RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9mbHVzaF9zeW5jX2luX2VmZmVjdGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9mbHVzaF9zeW5jX2luX2VmZmVjdGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IGNvbW1pdCBhIGZvcmsgdGhhdCB3YXMgYWxyZWFkeSBkaXNjYXJkZWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtfZGlzY2FyZGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGZvcmtfZGlzY2FyZGVkXFxuQ2Fubm90IGNvbW1pdCBhIGZvcmsgdGhhdCB3YXMgYWxyZWFkeSBkaXNjYXJkZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9mb3JrX2Rpc2NhcmRlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9mb3JrX2Rpc2NhcmRlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IGNyZWF0ZSBhIGZvcmsgaW5zaWRlIGFuIGVmZmVjdCBvciB3aGVuIHN0YXRlIGNoYW5nZXMgYXJlIHBlbmRpbmdcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtfdGltaW5nKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGZvcmtfdGltaW5nXFxuQ2Fubm90IGNyZWF0ZSBhIGZvcmsgaW5zaWRlIGFuIGVmZmVjdCBvciB3aGVuIHN0YXRlIGNoYW5nZXMgYXJlIHBlbmRpbmdcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9mb3JrX3RpbWluZ2ApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9mb3JrX3RpbWluZ2ApO1xuXHR9XG59XG5cbi8qKlxuICogYGdldEFib3J0U2lnbmFsKClgIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IG9yIGRlcml2ZWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBnZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb25cXG5cXGBnZXRBYm9ydFNpZ25hbCgpXFxgIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IG9yIGRlcml2ZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9nZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBFeHBlY3RlZCB0byBmaW5kIGEgaHlkcmF0YWJsZSB3aXRoIGtleSBgJWtleSVgIGR1cmluZyBoeWRyYXRpb24sIGJ1dCBkaWQgbm90LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9yZXF1aXJlZChrZXkpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBoeWRyYXRhYmxlX21pc3NpbmdfYnV0X3JlcXVpcmVkXFxuRXhwZWN0ZWQgdG8gZmluZCBhIGh5ZHJhdGFibGUgd2l0aCBrZXkgXFxgJHtrZXl9XFxgIGR1cmluZyBoeWRyYXRpb24sIGJ1dCBkaWQgbm90Llxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGFibGVfbWlzc2luZ19idXRfcmVxdWlyZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9yZXF1aXJlZGApO1xuXHR9XG59XG5cbi8qKlxuICogRmFpbGVkIHRvIGh5ZHJhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRpb25fZmFpbGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGh5ZHJhdGlvbl9mYWlsZWRcXG5GYWlsZWQgdG8gaHlkcmF0ZSB0aGUgYXBwbGljYXRpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fZmFpbGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9mYWlsZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENvdWxkIG5vdCBge0ByZW5kZXJ9YCBzbmlwcGV0IGR1ZSB0byB0aGUgZXhwcmVzc2lvbiBiZWluZyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuIENvbnNpZGVyIHVzaW5nIG9wdGlvbmFsIGNoYWluaW5nIGB7QHJlbmRlciBzbmlwcGV0Py4oKX1gXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX3NuaXBwZXQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgaW52YWxpZF9zbmlwcGV0XFxuQ291bGQgbm90IFxcYHtAcmVuZGVyfVxcYCBzbmlwcGV0IGR1ZSB0byB0aGUgZXhwcmVzc2lvbiBiZWluZyBcXGBudWxsXFxgIG9yIFxcYHVuZGVmaW5lZFxcYC4gQ29uc2lkZXIgdXNpbmcgb3B0aW9uYWwgY2hhaW5pbmcgXFxge0ByZW5kZXIgc25pcHBldD8uKCl9XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfc25pcHBldGApO1xuXHR9XG59XG5cbi8qKlxuICogYCVuYW1lJSguLi4pYCBjYW5ub3QgYmUgdXNlZCBpbiBydW5lcyBtb2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBsaWZlY3ljbGVfbGVnYWN5X29ubHlcXG5cXGAke25hbWV9KC4uLilcXGAgY2Fubm90IGJlIHVzZWQgaW4gcnVuZXMgbW9kZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9sZWdhY3lfb25seWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfbGVnYWN5X29ubHlgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCBkbyBgYmluZDola2V5JT17dW5kZWZpbmVkfWAgd2hlbiBgJWtleSVgIGhhcyBhIGZhbGxiYWNrIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wc19pbnZhbGlkX3ZhbHVlKGtleSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHByb3BzX2ludmFsaWRfdmFsdWVcXG5DYW5ub3QgZG8gXFxgYmluZDoke2tleX09e3VuZGVmaW5lZH1cXGAgd2hlbiBcXGAke2tleX1cXGAgaGFzIGEgZmFsbGJhY2sgdmFsdWVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19pbnZhbGlkX3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX2ludmFsaWRfdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIFJlc3QgZWxlbWVudCBwcm9wZXJ0aWVzIG9mIGAkcHJvcHMoKWAgc3VjaCBhcyBgJXByb3BlcnR5JWAgYXJlIHJlYWRvbmx5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BzX3Jlc3RfcmVhZG9ubHkocHJvcGVydHkpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBwcm9wc19yZXN0X3JlYWRvbmx5XFxuUmVzdCBlbGVtZW50IHByb3BlcnRpZXMgb2YgXFxgJHByb3BzKClcXGAgc3VjaCBhcyBcXGAke3Byb3BlcnR5fVxcYCBhcmUgcmVhZG9ubHlcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19yZXN0X3JlYWRvbmx5YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX3Jlc3RfcmVhZG9ubHlgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgJXJ1bmUlYCBydW5lIGlzIG9ubHkgYXZhaWxhYmxlIGluc2lkZSBgLnN2ZWx0ZWAgYW5kIGAuc3ZlbHRlLmpzL3RzYCBmaWxlc1xuICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bmVfb3V0c2lkZV9zdmVsdGUocnVuZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHJ1bmVfb3V0c2lkZV9zdmVsdGVcXG5UaGUgXFxgJHtydW5lfVxcYCBydW5lIGlzIG9ubHkgYXZhaWxhYmxlIGluc2lkZSBcXGAuc3ZlbHRlXFxgIGFuZCBcXGAuc3ZlbHRlLmpzL3RzXFxgIGZpbGVzXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcnVuZV9vdXRzaWRlX3N2ZWx0ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9ydW5lX291dHNpZGVfc3ZlbHRlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgc2V0Q29udGV4dGAgbXVzdCBiZSBjYWxsZWQgd2hlbiBhIGNvbXBvbmVudCBmaXJzdCBpbml0aWFsaXplcywgbm90IGluIGEgc3Vic2VxdWVudCBlZmZlY3Qgb3IgYWZ0ZXIgYW4gYGF3YWl0YCBleHByZXNzaW9uXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY29udGV4dF9hZnRlcl9pbml0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHNldF9jb250ZXh0X2FmdGVyX2luaXRcXG5cXGBzZXRDb250ZXh0XFxgIG11c3QgYmUgY2FsbGVkIHdoZW4gYSBjb21wb25lbnQgZmlyc3QgaW5pdGlhbGl6ZXMsIG5vdCBpbiBhIHN1YnNlcXVlbnQgZWZmZWN0IG9yIGFmdGVyIGFuIFxcYGF3YWl0XFxgIGV4cHJlc3Npb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zZXRfY29udGV4dF9hZnRlcl9pbml0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NldF9jb250ZXh0X2FmdGVyX2luaXRgKTtcblx0fVxufVxuXG4vKipcbiAqIFByb3BlcnR5IGRlc2NyaXB0b3JzIGRlZmluZWQgb24gYCRzdGF0ZWAgb2JqZWN0cyBtdXN0IGNvbnRhaW4gYHZhbHVlYCBhbmQgYWx3YXlzIGJlIGBlbnVtZXJhYmxlYCwgYGNvbmZpZ3VyYWJsZWAgYW5kIGB3cml0YWJsZWAuXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9kZXNjcmlwdG9yc19maXhlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdGF0ZV9kZXNjcmlwdG9yc19maXhlZFxcblByb3BlcnR5IGRlc2NyaXB0b3JzIGRlZmluZWQgb24gXFxgJHN0YXRlXFxgIG9iamVjdHMgbXVzdCBjb250YWluIFxcYHZhbHVlXFxgIGFuZCBhbHdheXMgYmUgXFxgZW51bWVyYWJsZVxcYCwgXFxgY29uZmlndXJhYmxlXFxgIGFuZCBcXGB3cml0YWJsZVxcYC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9kZXNjcmlwdG9yc19maXhlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9kZXNjcmlwdG9yc19maXhlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IHNldCBwcm90b3R5cGUgb2YgYCRzdGF0ZWAgb2JqZWN0XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9wcm90b3R5cGVfZml4ZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RhdGVfcHJvdG90eXBlX2ZpeGVkXFxuQ2Fubm90IHNldCBwcm90b3R5cGUgb2YgXFxgJHN0YXRlXFxgIG9iamVjdFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3RvdHlwZV9maXhlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm90b3R5cGVfZml4ZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0aW5nIHN0YXRlIGluc2lkZSBgJGRlcml2ZWQoLi4uKWAsIGAkaW5zcGVjdCguLi4pYCBvciBhIHRlbXBsYXRlIGV4cHJlc3Npb24gaXMgZm9yYmlkZGVuLiBJZiB0aGUgdmFsdWUgc2hvdWxkIG5vdCBiZSByZWFjdGl2ZSwgZGVjbGFyZSBpdCB3aXRob3V0IGAkc3RhdGVgXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV91bnNhZmVfbXV0YXRpb24oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RhdGVfdW5zYWZlX211dGF0aW9uXFxuVXBkYXRpbmcgc3RhdGUgaW5zaWRlIFxcYCRkZXJpdmVkKC4uLilcXGAsIFxcYCRpbnNwZWN0KC4uLilcXGAgb3IgYSB0ZW1wbGF0ZSBleHByZXNzaW9uIGlzIGZvcmJpZGRlbi4gSWYgdGhlIHZhbHVlIHNob3VsZCBub3QgYmUgcmVhY3RpdmUsIGRlY2xhcmUgaXQgd2l0aG91dCBcXGAkc3RhdGVcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV91bnNhZmVfbXV0YXRpb25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfdW5zYWZlX211dGF0aW9uYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBIGA8c3ZlbHRlOmJvdW5kYXJ5PmAgYHJlc2V0YCBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIHdoaWxlIGFuIGVycm9yIGlzIHN0aWxsIGJlaW5nIGhhbmRsZWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9vbmVycm9yKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9vbmVycm9yXFxuQSBcXGA8c3ZlbHRlOmJvdW5kYXJ5PlxcYCBcXGByZXNldFxcYCBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIHdoaWxlIGFuIGVycm9yIGlzIHN0aWxsIGJlaW5nIGhhbmRsZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdmVsdGVfYm91bmRhcnlfcmVzZXRfb25lcnJvcmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdmVsdGVfYm91bmRhcnlfcmVzZXRfb25lcnJvcmApO1xuXHR9XG59IiwgImV4cG9ydCBjb25zdCBFQUNIX0lURU1fUkVBQ1RJVkUgPSAxO1xuZXhwb3J0IGNvbnN0IEVBQ0hfSU5ERVhfUkVBQ1RJVkUgPSAxIDw8IDE7XG4vKiogU2VlIEVhY2hCbG9jayBpbnRlcmZhY2UgbWV0YWRhdGEuaXNfY29udHJvbGxlZCBmb3IgYW4gZXhwbGFuYXRpb24gd2hhdCB0aGlzIGlzICovXG5leHBvcnQgY29uc3QgRUFDSF9JU19DT05UUk9MTEVEID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IEVBQ0hfSVNfQU5JTUFURUQgPSAxIDw8IDM7XG5leHBvcnQgY29uc3QgRUFDSF9JVEVNX0lNTVVUQUJMRSA9IDEgPDwgNDtcblxuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0lNTVVUQUJMRSA9IDE7XG5leHBvcnQgY29uc3QgUFJPUFNfSVNfUlVORVMgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgUFJPUFNfSVNfVVBEQVRFRCA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19CSU5EQUJMRSA9IDEgPDwgMztcbmV4cG9ydCBjb25zdCBQUk9QU19JU19MQVpZX0lOSVRJQUwgPSAxIDw8IDQ7XG5cbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX0lOID0gMTtcbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX09VVCA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX0dMT0JBTCA9IDEgPDwgMjtcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX0ZSQUdNRU5UID0gMTtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfSU1QT1JUX05PREUgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgVEVNUExBVEVfVVNFX1NWRyA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfTUFUSE1MID0gMSA8PCAzO1xuXG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX1NUQVJUID0gJ1snO1xuLyoqIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCBhbiBgezplbHNlfS4uLmAgYmxvY2sgd2FzIHJlbmRlcmVkICovXG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX1NUQVJUX0VMU0UgPSAnWyEnO1xuZXhwb3J0IGNvbnN0IEhZRFJBVElPTl9FTkQgPSAnXSc7XG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX0VSUk9SID0ge307XG5cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lTX05BTUVTUEFDRUQgPSAxO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfUFJFU0VSVkVfQVRUUklCVVRFX0NBU0UgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JU19JTlBVVCA9IDEgPDwgMjtcblxuZXhwb3J0IGNvbnN0IFVOSU5JVElBTElaRUQgPSBTeW1ib2woKTtcblxuLy8gRGV2LXRpbWUgY29tcG9uZW50IHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBGSUxFTkFNRSA9IFN5bWJvbCgnZmlsZW5hbWUnKTtcbmV4cG9ydCBjb25zdCBITVIgPSBTeW1ib2woJ2htcicpO1xuXG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX0hUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX1NWRyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX01BVEhNTCA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJztcblxuLy8gd2UgdXNlIGEgbGlzdCBvZiBpZ25vcmFibGUgcnVudGltZSB3YXJuaW5ncyBiZWNhdXNlIG5vdCBldmVyeSBydW50aW1lIHdhcm5pbmdcbi8vIGNhbiBiZSBpZ25vcmVkIGFuZCB3ZSB3YW50IHRvIGtlZXAgdGhlIHZhbGlkYXRpb24gZm9yIHN2ZWx0ZS1pZ25vcmUgaW4gcGxhY2VcbmV4cG9ydCBjb25zdCBJR05PUkFCTEVfUlVOVElNRV9XQVJOSU5HUyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovIChbXG5cdCdhd2FpdF93YXRlcmZhbGwnLFxuXHQnYXdhaXRfcmVhY3Rpdml0eV9sb3NzJyxcblx0J3N0YXRlX3NuYXBzaG90X3VuY2xvbmVhYmxlJyxcblx0J2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlJyxcblx0J2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZCcsXG5cdCdoeWRyYXRpb25faHRtbF9jaGFuZ2VkJyxcblx0J293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmcnLFxuXHQnb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb24nXG5dKTtcblxuLyoqXG4gKiBXaGl0ZXNwYWNlIGluc2lkZSBvbmUgb2YgdGhlc2UgZWxlbWVudHMgd2lsbCBub3QgcmVzdWx0IGluXG4gKiBhIHdoaXRlc3BhY2Ugbm9kZSBiZWluZyBjcmVhdGVkIGluIGFueSBjaXJjdW1zdGFuY2VzLiAoVGhpc1xuICogbGlzdCBpcyBhbG1vc3QgY2VydGFpbmx5IHZlcnkgaW5jb21wbGV0ZSlcbiAqIFRPRE8gdGhpcyBpcyBjdXJyZW50bHkgdW51c2VkXG4gKi9cbmV4cG9ydCBjb25zdCBFTEVNRU5UU19XSVRIT1VUX1RFWFQgPSBbJ2F1ZGlvJywgJ2RhdGFsaXN0JywgJ2RsJywgJ29wdGdyb3VwJywgJ3NlbGVjdCcsICd2aWRlbyddO1xuXG5leHBvcnQgY29uc3QgQVRUQUNITUVOVF9LRVkgPSAnQGF0dGFjaCc7XG4iLCAiLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSBzY3JpcHRzL3Byb2Nlc3MtbWVzc2FnZXMvaW5kZXguanMuIERvIG5vdCBlZGl0ISAqL1xuXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxudmFyIGJvbGQgPSAnZm9udC13ZWlnaHQ6IGJvbGQnO1xudmFyIG5vcm1hbCA9ICdmb250LXdlaWdodDogbm9ybWFsJztcblxuLyoqXG4gKiBBc3NpZ25tZW50IHRvIGAlcHJvcGVydHklYCBwcm9wZXJ0eSAoJWxvY2F0aW9uJSkgd2lsbCBldmFsdWF0ZSB0byB0aGUgcmlnaHQtaGFuZCBzaWRlLCBub3QgdGhlIHZhbHVlIG9mIGAlcHJvcGVydHklYCBmb2xsb3dpbmcgdGhlIGFzc2lnbm1lbnQuIFRoaXMgbWF5IHJlc3VsdCBpbiB1bmV4cGVjdGVkIGJlaGF2aW91ci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25tZW50X3ZhbHVlX3N0YWxlKHByb3BlcnR5LCBsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGFzc2lnbm1lbnRfdmFsdWVfc3RhbGVcXG4lY0Fzc2lnbm1lbnQgdG8gXFxgJHtwcm9wZXJ0eX1cXGAgcHJvcGVydHkgKCR7bG9jYXRpb259KSB3aWxsIGV2YWx1YXRlIHRvIHRoZSByaWdodC1oYW5kIHNpZGUsIG5vdCB0aGUgdmFsdWUgb2YgXFxgJHtwcm9wZXJ0eX1cXGAgZm9sbG93aW5nIHRoZSBhc3NpZ25tZW50LiBUaGlzIG1heSByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvdXIuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXNzaWdubWVudF92YWx1ZV9zdGFsZWAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9hc3NpZ25tZW50X3ZhbHVlX3N0YWxlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBEZXRlY3RlZCByZWFjdGl2aXR5IGxvc3Mgd2hlbiByZWFkaW5nIGAlbmFtZSVgLiBUaGlzIGhhcHBlbnMgd2hlbiBzdGF0ZSBpcyByZWFkIGluIGFuIGFzeW5jIGZ1bmN0aW9uIGFmdGVyIGFuIGVhcmxpZXIgYGF3YWl0YFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0X3JlYWN0aXZpdHlfbG9zcyhuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gYXdhaXRfcmVhY3Rpdml0eV9sb3NzXFxuJWNEZXRlY3RlZCByZWFjdGl2aXR5IGxvc3Mgd2hlbiByZWFkaW5nIFxcYCR7bmFtZX1cXGAuIFRoaXMgaGFwcGVucyB3aGVuIHN0YXRlIGlzIHJlYWQgaW4gYW4gYXN5bmMgZnVuY3Rpb24gYWZ0ZXIgYW4gZWFybGllciBcXGBhd2FpdFxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X3JlYWN0aXZpdHlfbG9zc2AsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9hd2FpdF9yZWFjdGl2aXR5X2xvc3NgKTtcblx0fVxufVxuXG4vKipcbiAqIEFuIGFzeW5jIGRlcml2ZWQsIGAlbmFtZSVgICglbG9jYXRpb24lKSB3YXMgbm90IHJlYWQgaW1tZWRpYXRlbHkgYWZ0ZXIgaXQgcmVzb2x2ZWQuIFRoaXMgb2Z0ZW4gaW5kaWNhdGVzIGFuIHVubmVjZXNzYXJ5IHdhdGVyZmFsbCwgd2hpY2ggY2FuIHNsb3cgZG93biB5b3VyIGFwcFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRfd2F0ZXJmYWxsKG5hbWUsIGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gYXdhaXRfd2F0ZXJmYWxsXFxuJWNBbiBhc3luYyBkZXJpdmVkLCBcXGAke25hbWV9XFxgICgke2xvY2F0aW9ufSkgd2FzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIGl0IHJlc29sdmVkLiBUaGlzIG9mdGVuIGluZGljYXRlcyBhbiB1bm5lY2Vzc2FyeSB3YXRlcmZhbGwsIHdoaWNoIGNhbiBzbG93IGRvd24geW91ciBhcHBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9hd2FpdF93YXRlcmZhbGxgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfd2F0ZXJmYWxsYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJWJpbmRpbmclYCAoJWxvY2F0aW9uJSkgaXMgYmluZGluZyB0byBhIG5vbi1yZWFjdGl2ZSBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmd9IGJpbmRpbmdcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gW2xvY2F0aW9uXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmUoYmluZGluZywgbG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAlY1tzdmVsdGVdIGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlXFxuJWMke2xvY2F0aW9uXG5cdFx0XHRcdD8gYFxcYCR7YmluZGluZ31cXGAgKCR7bG9jYXRpb259KSBpcyBiaW5kaW5nIHRvIGEgbm9uLXJlYWN0aXZlIHByb3BlcnR5YFxuXHRcdFx0XHQ6IGBcXGAke2JpbmRpbmd9XFxgIGlzIGJpbmRpbmcgdG8gYSBub24tcmVhY3RpdmUgcHJvcGVydHlgfVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCxcblx0XHRcdGJvbGQsXG5cdFx0XHRub3JtYWxcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmVgKTtcblx0fVxufVxuXG4vKipcbiAqIFlvdXIgYGNvbnNvbGUuJW1ldGhvZCVgIGNvbnRhaW5lZCBgJHN0YXRlYCBwcm94aWVzLiBDb25zaWRlciB1c2luZyBgJGluc3BlY3QoLi4uKWAgb3IgYCRzdGF0ZS5zbmFwc2hvdCguLi4pYCBpbnN0ZWFkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25zb2xlX2xvZ19zdGF0ZShtZXRob2QpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBjb25zb2xlX2xvZ19zdGF0ZVxcbiVjWW91ciBcXGBjb25zb2xlLiR7bWV0aG9kfVxcYCBjb250YWluZWQgXFxgJHN0YXRlXFxgIHByb3hpZXMuIENvbnNpZGVyIHVzaW5nIFxcYCRpbnNwZWN0KC4uLilcXGAgb3IgXFxgJHN0YXRlLnNuYXBzaG90KC4uLilcXGAgaW5zdGVhZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbnNvbGVfbG9nX3N0YXRlYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbnNvbGVfbG9nX3N0YXRlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiAlaGFuZGxlciUgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgbWVhbiB0byAlc3VnZ2VzdGlvbiU/XG4gKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlclxuICogQHBhcmFtIHtzdHJpbmd9IHN1Z2dlc3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50X2hhbmRsZXJfaW52YWxpZChoYW5kbGVyLCBzdWdnZXN0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gZXZlbnRfaGFuZGxlcl9pbnZhbGlkXFxuJWMke2hhbmRsZXJ9IHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IG1lYW4gdG8gJHtzdWdnZXN0aW9ufT9cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9ldmVudF9oYW5kbGVyX2ludmFsaWRgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXZlbnRfaGFuZGxlcl9pbnZhbGlkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBFeHBlY3RlZCB0byBmaW5kIGEgaHlkcmF0YWJsZSB3aXRoIGtleSBgJWtleSVgIGR1cmluZyBoeWRyYXRpb24sIGJ1dCBkaWQgbm90LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9leHBlY3RlZChrZXkpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBoeWRyYXRhYmxlX21pc3NpbmdfYnV0X2V4cGVjdGVkXFxuJWNFeHBlY3RlZCB0byBmaW5kIGEgaHlkcmF0YWJsZSB3aXRoIGtleSBcXGAke2tleX1cXGAgZHVyaW5nIGh5ZHJhdGlvbiwgYnV0IGRpZCBub3QuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9leHBlY3RlZGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRhYmxlX21pc3NpbmdfYnV0X2V4cGVjdGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYCVhdHRyaWJ1dGUlYCBhdHRyaWJ1dGUgb24gYCVodG1sJWAgY2hhbmdlZCBpdHMgdmFsdWUgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlLCBgJXZhbHVlJWAsIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkKGF0dHJpYnV0ZSwgaHRtbCwgdmFsdWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBoeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWRcXG4lY1RoZSBcXGAke2F0dHJpYnV0ZX1cXGAgYXR0cmlidXRlIG9uIFxcYCR7aHRtbH1cXGAgY2hhbmdlZCBpdHMgdmFsdWUgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlLCBcXGAke3ZhbHVlfVxcYCwgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZGApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIHZhbHVlIG9mIGFuIGB7QGh0bWwgLi4ufWAgYmxvY2sgJWxvY2F0aW9uJSBjaGFuZ2VkIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gW2xvY2F0aW9uXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0aW9uX2h0bWxfY2hhbmdlZChsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YCVjW3N2ZWx0ZV0gaHlkcmF0aW9uX2h0bWxfY2hhbmdlZFxcbiVjJHtsb2NhdGlvblxuXHRcdFx0XHQ/IGBUaGUgdmFsdWUgb2YgYW4gXFxge0BodG1sIC4uLn1cXGAgYmxvY2sgJHtsb2NhdGlvbn0gY2hhbmdlZCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlYFxuXHRcdFx0XHQ6ICdUaGUgdmFsdWUgb2YgYW4gYHtAaHRtbCAuLi59YCBibG9jayBjaGFuZ2VkIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWUnfVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9odG1sX2NoYW5nZWRgLFxuXHRcdFx0Ym9sZCxcblx0XHRcdG5vcm1hbFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25faHRtbF9jaGFuZ2VkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBIeWRyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIGluaXRpYWwgVUkgZG9lcyBub3QgbWF0Y2ggd2hhdCB3YXMgcmVuZGVyZWQgb24gdGhlIHNlcnZlci4gVGhlIGVycm9yIG9jY3VycmVkIG5lYXIgJWxvY2F0aW9uJVxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBbbG9jYXRpb25dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRpb25fbWlzbWF0Y2gobG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAlY1tzdmVsdGVdIGh5ZHJhdGlvbl9taXNtYXRjaFxcbiVjJHtsb2NhdGlvblxuXHRcdFx0XHQ/IGBIeWRyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIGluaXRpYWwgVUkgZG9lcyBub3QgbWF0Y2ggd2hhdCB3YXMgcmVuZGVyZWQgb24gdGhlIHNlcnZlci4gVGhlIGVycm9yIG9jY3VycmVkIG5lYXIgJHtsb2NhdGlvbn1gXG5cdFx0XHRcdDogJ0h5ZHJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgaW5pdGlhbCBVSSBkb2VzIG5vdCBtYXRjaCB3aGF0IHdhcyByZW5kZXJlZCBvbiB0aGUgc2VydmVyJ31cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fbWlzbWF0Y2hgLFxuXHRcdFx0Ym9sZCxcblx0XHRcdG5vcm1hbFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fbWlzbWF0Y2hgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgcmVuZGVyYCBmdW5jdGlvbiBwYXNzZWQgdG8gYGNyZWF0ZVJhd1NuaXBwZXRgIHNob3VsZCByZXR1cm4gSFRNTCBmb3IgYSBzaW5nbGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZF9yYXdfc25pcHBldF9yZW5kZXIoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gaW52YWxpZF9yYXdfc25pcHBldF9yZW5kZXJcXG4lY1RoZSBcXGByZW5kZXJcXGAgZnVuY3Rpb24gcGFzc2VkIHRvIFxcYGNyZWF0ZVJhd1NuaXBwZXRcXGAgc2hvdWxkIHJldHVybiBIVE1MIGZvciBhIHNpbmdsZSBlbGVtZW50XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9yYXdfc25pcHBldF9yZW5kZXJgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9yYXdfc25pcHBldF9yZW5kZXJgKTtcblx0fVxufVxuXG4vKipcbiAqIERldGVjdGVkIGEgbWlncmF0ZWQgYCQ6YCByZWFjdGl2ZSBibG9jayBpbiBgJWZpbGVuYW1lJWAgdGhhdCBib3RoIGFjY2Vzc2VzIGFuZCB1cGRhdGVzIHRoZSBzYW1lIHJlYWN0aXZlIHZhbHVlLiBUaGlzIG1heSBjYXVzZSByZWN1cnNpdmUgdXBkYXRlcyB3aGVuIGNvbnZlcnRlZCB0byBhbiBgJGVmZmVjdGAuXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9yZWN1cnNpdmVfcmVhY3RpdmVfYmxvY2soZmlsZW5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBsZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrXFxuJWNEZXRlY3RlZCBhIG1pZ3JhdGVkIFxcYCQ6XFxgIHJlYWN0aXZlIGJsb2NrIGluIFxcYCR7ZmlsZW5hbWV9XFxgIHRoYXQgYm90aCBhY2Nlc3NlcyBhbmQgdXBkYXRlcyB0aGUgc2FtZSByZWFjdGl2ZSB2YWx1ZS4gVGhpcyBtYXkgY2F1c2UgcmVjdXJzaXZlIHVwZGF0ZXMgd2hlbiBjb252ZXJ0ZWQgdG8gYW4gXFxgJGVmZmVjdFxcYC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9sZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2xlZ2FjeV9yZWN1cnNpdmVfcmVhY3RpdmVfYmxvY2tgKTtcblx0fVxufVxuXG4vKipcbiAqIFRyaWVkIHRvIHVubW91bnQgYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IG1vdW50ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpZmVjeWNsZV9kb3VibGVfdW5tb3VudCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBsaWZlY3ljbGVfZG91YmxlX3VubW91bnRcXG4lY1RyaWVkIHRvIHVubW91bnQgYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IG1vdW50ZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfZG91YmxlX3VubW91bnRgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50YCk7XG5cdH1cbn1cblxuLyoqXG4gKiAlcGFyZW50JSBwYXNzZWQgcHJvcGVydHkgYCVwcm9wJWAgdG8gJWNoaWxkJSB3aXRoIGBiaW5kOmAsIGJ1dCBpdHMgcGFyZW50IGNvbXBvbmVudCAlb3duZXIlIGRpZCBub3QgZGVjbGFyZSBgJXByb3AlYCBhcyBhIGJpbmRpbmcuIENvbnNpZGVyIGNyZWF0aW5nIGEgYmluZGluZyBiZXR3ZWVuICVvd25lciUgYW5kICVwYXJlbnQlIChlLmcuIGBiaW5kOiVwcm9wJT17Li4ufWAgaW5zdGVhZCBvZiBgJXByb3AlPXsuLi59YClcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hpbGRcbiAqIEBwYXJhbSB7c3RyaW5nfSBvd25lclxuICovXG5leHBvcnQgZnVuY3Rpb24gb3duZXJzaGlwX2ludmFsaWRfYmluZGluZyhwYXJlbnQsIHByb3AsIGNoaWxkLCBvd25lcikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIG93bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmdcXG4lYyR7cGFyZW50fSBwYXNzZWQgcHJvcGVydHkgXFxgJHtwcm9wfVxcYCB0byAke2NoaWxkfSB3aXRoIFxcYGJpbmQ6XFxgLCBidXQgaXRzIHBhcmVudCBjb21wb25lbnQgJHtvd25lcn0gZGlkIG5vdCBkZWNsYXJlIFxcYCR7cHJvcH1cXGAgYXMgYSBiaW5kaW5nLiBDb25zaWRlciBjcmVhdGluZyBhIGJpbmRpbmcgYmV0d2VlbiAke293bmVyfSBhbmQgJHtwYXJlbnR9IChlLmcuIFxcYGJpbmQ6JHtwcm9wfT17Li4ufVxcYCBpbnN0ZWFkIG9mIFxcYCR7cHJvcH09ey4uLn1cXGApXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvb3duZXJzaGlwX2ludmFsaWRfYmluZGluZ2AsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9iaW5kaW5nYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBNdXRhdGluZyB1bmJvdW5kIHByb3BzIChgJW5hbWUlYCwgYXQgJWxvY2F0aW9uJSkgaXMgc3Ryb25nbHkgZGlzY291cmFnZWQuIENvbnNpZGVyIHVzaW5nIGBiaW5kOiVwcm9wJT17Li4ufWAgaW4gJXBhcmVudCUgKG9yIHVzaW5nIGEgY2FsbGJhY2spIGluc3RlYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbihuYW1lLCBsb2NhdGlvbiwgcHJvcCwgcGFyZW50KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb25cXG4lY011dGF0aW5nIHVuYm91bmQgcHJvcHMgKFxcYCR7bmFtZX1cXGAsIGF0ICR7bG9jYXRpb259KSBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gQ29uc2lkZXIgdXNpbmcgXFxgYmluZDoke3Byb3B9PXsuLi59XFxgIGluICR7cGFyZW50fSAob3IgdXNpbmcgYSBjYWxsYmFjaykgaW5zdGVhZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL293bmVyc2hpcF9pbnZhbGlkX211dGF0aW9uYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL293bmVyc2hpcF9pbnZhbGlkX211dGF0aW9uYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYHZhbHVlYCBwcm9wZXJ0eSBvZiBhIGA8c2VsZWN0IG11bHRpcGxlPmAgZWxlbWVudCBzaG91bGQgYmUgYW4gYXJyYXksIGJ1dCBpdCByZWNlaXZlZCBhIG5vbi1hcnJheSB2YWx1ZS4gVGhlIHNlbGVjdGlvbiB3aWxsIGJlIGtlcHQgYXMgaXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfaW52YWxpZF92YWx1ZSgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBzZWxlY3RfbXVsdGlwbGVfaW52YWxpZF92YWx1ZVxcbiVjVGhlIFxcYHZhbHVlXFxgIHByb3BlcnR5IG9mIGEgXFxgPHNlbGVjdCBtdWx0aXBsZT5cXGAgZWxlbWVudCBzaG91bGQgYmUgYW4gYXJyYXksIGJ1dCBpdCByZWNlaXZlZCBhIG5vbi1hcnJheSB2YWx1ZS4gVGhlIHNlbGVjdGlvbiB3aWxsIGJlIGtlcHQgYXMgaXMuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWVgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIFJlYWN0aXZlIGAkc3RhdGUoLi4uKWAgcHJveGllcyBhbmQgdGhlIHZhbHVlcyB0aGV5IHByb3h5IGhhdmUgZGlmZmVyZW50IGlkZW50aXRpZXMuIEJlY2F1c2Ugb2YgdGhpcywgY29tcGFyaXNvbnMgd2l0aCBgJW9wZXJhdG9yJWAgd2lsbCBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0c1xuICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaChvcGVyYXRvcikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHN0YXRlX3Byb3h5X2VxdWFsaXR5X21pc21hdGNoXFxuJWNSZWFjdGl2ZSBcXGAkc3RhdGUoLi4uKVxcYCBwcm94aWVzIGFuZCB0aGUgdmFsdWVzIHRoZXkgcHJveHkgaGF2ZSBkaWZmZXJlbnQgaWRlbnRpdGllcy4gQmVjYXVzZSBvZiB0aGlzLCBjb21wYXJpc29ucyB3aXRoIFxcYCR7b3BlcmF0b3J9XFxgIHdpbGwgcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHNcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaGApO1xuXHR9XG59XG5cbi8qKlxuICogVHJpZWQgdG8gdW5tb3VudCBhIHN0YXRlIHByb3h5LCByYXRoZXIgdGhhbiBhIGNvbXBvbmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfcHJveHlfdW5tb3VudCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBzdGF0ZV9wcm94eV91bm1vdW50XFxuJWNUcmllZCB0byB1bm1vdW50IGEgc3RhdGUgcHJveHksIHJhdGhlciB0aGFuIGEgY29tcG9uZW50XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfdW5tb3VudGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm94eV91bm1vdW50YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBIGA8c3ZlbHRlOmJvdW5kYXJ5PmAgYHJlc2V0YCBmdW5jdGlvbiBvbmx5IHJlc2V0cyB0aGUgYm91bmRhcnkgdGhlIGZpcnN0IHRpbWUgaXQgaXMgY2FsbGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBzdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcFxcbiVjQSBcXGA8c3ZlbHRlOmJvdW5kYXJ5PlxcYCBcXGByZXNldFxcYCBmdW5jdGlvbiBvbmx5IHJlc2V0cyB0aGUgYm91bmRhcnkgdGhlIGZpcnN0IHRpbWUgaXQgaXMgY2FsbGVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X25vb3BgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X25vb3BgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgc2xpZGVgIHRyYW5zaXRpb24gZG9lcyBub3Qgd29yayBjb3JyZWN0bHkgZm9yIGVsZW1lbnRzIHdpdGggYGRpc3BsYXk6ICV2YWx1ZSVgXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fc2xpZGVfZGlzcGxheSh2YWx1ZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHRyYW5zaXRpb25fc2xpZGVfZGlzcGxheVxcbiVjVGhlIFxcYHNsaWRlXFxgIHRyYW5zaXRpb24gZG9lcyBub3Qgd29yayBjb3JyZWN0bHkgZm9yIGVsZW1lbnRzIHdpdGggXFxgZGlzcGxheTogJHt2YWx1ZX1cXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS90cmFuc2l0aW9uX3NsaWRlX2Rpc3BsYXlgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvdHJhbnNpdGlvbl9zbGlkZV9kaXNwbGF5YCk7XG5cdH1cbn0iLCAiLyoqIEBpbXBvcnQgeyBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuXG5pbXBvcnQgeyBDT01NRU5UX05PREUgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuXHRIWURSQVRJT05fRU5ELFxuXHRIWURSQVRJT05fRVJST1IsXG5cdEhZRFJBVElPTl9TVEFSVCxcblx0SFlEUkFUSU9OX1NUQVJUX0VMU0Vcbn0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi4vd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgZ2V0X25leHRfc2libGluZyB9IGZyb20gJy4vb3BlcmF0aW9ucy5qcyc7XG5cbi8qKlxuICogVXNlIHRoaXMgdmFyaWFibGUgdG8gZ3VhcmQgZXZlcnl0aGluZyByZWxhdGVkIHRvIGh5ZHJhdGlvbiBjb2RlIHNvIGl0IGNhbiBiZSB0cmVlc2hha2VuIG91dFxuICogaWYgdGhlIHVzZXIgZG9lc24ndCB1c2UgdGhlIGBoeWRyYXRlYCBtZXRob2QgYW5kIHRoZXNlIGNvZGUgcGF0aHMgYXJlIHRoZXJlZm9yZSBub3QgbmVlZGVkLlxuICovXG5leHBvcnQgbGV0IGh5ZHJhdGluZyA9IGZhbHNlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9oeWRyYXRpbmcodmFsdWUpIHtcblx0aHlkcmF0aW5nID0gdmFsdWU7XG59XG5cbi8qKlxuICogVGhlIG5vZGUgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgaHlkcmF0ZWQuIFRoaXMgc3RhcnRzIG91dCBhcyB0aGUgZmlyc3Qgbm9kZSBpbnNpZGUgdGhlIG9wZW5pbmdcbiAqIDwhLS1bLS0+IGNvbW1lbnQsIGFuZCB1cGRhdGVzIGVhY2ggdGltZSBhIGNvbXBvbmVudCBjYWxscyBgJC5jaGlsZCguLi4pYCBvciBgJC5zaWJsaW5nKC4uLilgLlxuICogV2hlbiBlbnRlcmluZyBhIGJsb2NrIChlLmcuIGB7I2lmIC4uLn1gKSwgYGh5ZHJhdGVfbm9kZWAgaXMgdGhlIGJsb2NrIG9wZW5pbmcgY29tbWVudDsgYnkgdGhlXG4gKiB0aW1lIHdlIGxlYXZlIHRoZSBibG9jayBpdCBpcyB0aGUgY2xvc2luZyBjb21tZW50LCB3aGljaCBzZXJ2ZXMgYXMgdGhlIGJsb2NrJ3MgYW5jaG9yLlxuICogQHR5cGUge1RlbXBsYXRlTm9kZX1cbiAqL1xuZXhwb3J0IGxldCBoeWRyYXRlX25vZGU7XG5cbi8qKiBAcGFyYW0ge1RlbXBsYXRlTm9kZSB8IG51bGx9IG5vZGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaHlkcmF0ZV9ub2RlKG5vZGUpIHtcblx0aWYgKG5vZGUgPT09IG51bGwpIHtcblx0XHR3Lmh5ZHJhdGlvbl9taXNtYXRjaCgpO1xuXHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0fVxuXG5cdHJldHVybiAoaHlkcmF0ZV9ub2RlID0gbm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlX25leHQoKSB7XG5cdHJldHVybiBzZXRfaHlkcmF0ZV9ub2RlKGdldF9uZXh0X3NpYmxpbmcoaHlkcmF0ZV9ub2RlKSk7XG59XG5cbi8qKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KG5vZGUpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHJldHVybjtcblxuXHQvLyBJZiB0aGUgbm9kZSBoYXMgcmVtYWluaW5nIHNpYmxpbmdzLCBzb21ldGhpbmcgaGFzIGdvbmUgd3Jvbmdcblx0aWYgKGdldF9uZXh0X3NpYmxpbmcoaHlkcmF0ZV9ub2RlKSAhPT0gbnVsbCkge1xuXHRcdHcuaHlkcmF0aW9uX21pc21hdGNoKCk7XG5cdFx0dGhyb3cgSFlEUkFUSU9OX0VSUk9SO1xuXHR9XG5cblx0aHlkcmF0ZV9ub2RlID0gbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlX3RlbXBsYXRlKHRlbXBsYXRlKSB7XG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRlbXBsYXRlTm9kZSBkb2Vzbid0IGluY2x1ZGUgRG9jdW1lbnRGcmFnbWVudCwgYnV0IGl0J3MgYWN0dWFsbHkgZmluZVxuXHRcdGh5ZHJhdGVfbm9kZSA9IHRlbXBsYXRlLmNvbnRlbnQ7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5leHQoY291bnQgPSAxKSB7XG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHR2YXIgaSA9IGNvdW50O1xuXHRcdHZhciBub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0bm9kZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhub2RlKSk7XG5cdFx0fVxuXG5cdFx0aHlkcmF0ZV9ub2RlID0gbm9kZTtcblx0fVxufVxuXG4vKipcbiAqIFNraXBzIG9yIHJlbW92ZXMgKGRlcGVuZGluZyBvbiB7QGxpbmsgcmVtb3ZlfSkgYWxsIG5vZGVzIHN0YXJ0aW5nIGF0IGBoeWRyYXRlX25vZGVgIHVwIHVudGlsIHRoZSBuZXh0IGh5ZHJhdGlvbiBlbmQgY29tbWVudFxuICogQHBhcmFtIHtib29sZWFufSByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBfbm9kZXMocmVtb3ZlID0gdHJ1ZSkge1xuXHR2YXIgZGVwdGggPSAwO1xuXHR2YXIgbm9kZSA9IGh5ZHJhdGVfbm9kZTtcblxuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcblx0XHRcdHZhciBkYXRhID0gLyoqIEB0eXBlIHtDb21tZW50fSAqLyAobm9kZSkuZGF0YTtcblxuXHRcdFx0aWYgKGRhdGEgPT09IEhZRFJBVElPTl9FTkQpIHtcblx0XHRcdFx0aWYgKGRlcHRoID09PSAwKSByZXR1cm4gbm9kZTtcblx0XHRcdFx0ZGVwdGggLT0gMTtcblx0XHRcdH0gZWxzZSBpZiAoZGF0YSA9PT0gSFlEUkFUSU9OX1NUQVJUIHx8IGRhdGEgPT09IEhZRFJBVElPTl9TVEFSVF9FTFNFKSB7XG5cdFx0XHRcdGRlcHRoICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIG5leHQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcobm9kZSkpO1xuXHRcdGlmIChyZW1vdmUpIG5vZGUucmVtb3ZlKCk7XG5cdFx0bm9kZSA9IG5leHQ7XG5cdH1cbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRfaHlkcmF0aW9uX2luc3RydWN0aW9uKG5vZGUpIHtcblx0aWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSkge1xuXHRcdHcuaHlkcmF0aW9uX21pc21hdGNoKCk7XG5cdFx0dGhyb3cgSFlEUkFUSU9OX0VSUk9SO1xuXHR9XG5cblx0cmV0dXJuIC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKG5vZGUpLmRhdGE7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBFcXVhbHMgfSBmcm9tICcjY2xpZW50JyAqL1xuXG4vKiogQHR5cGUge0VxdWFsc30gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHModmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSB0aGlzLnY7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBhXG4gKiBAcGFyYW0ge3Vua25vd259IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhXG5cdFx0PyBiID09IGJcblx0XHQ6IGEgIT09IGIgfHwgKGEgIT09IG51bGwgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGFcbiAqIEBwYXJhbSB7dW5rbm93bn0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPT0gYjtcbn1cblxuLyoqIEB0eXBlIHtFcXVhbHN9ICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9lcXVhbHModmFsdWUpIHtcblx0cmV0dXJuICFzYWZlX25vdF9lcXVhbCh2YWx1ZSwgdGhpcy52KTtcbn1cbiIsICIvKiogVHJ1ZSBpZiBleHBlcmltZW50YWwuYXN5bmM9dHJ1ZSAqL1xuZXhwb3J0IGxldCBhc3luY19tb2RlX2ZsYWcgPSBmYWxzZTtcbi8qKiBUcnVlIGlmIHdlJ3JlIG5vdCBjZXJ0YWluIHRoYXQgd2Ugb25seSBoYXZlIFN2ZWx0ZSA1IGNvZGUgaW4gdGhlIGNvbXBpbGF0aW9uICovXG5leHBvcnQgbGV0IGxlZ2FjeV9tb2RlX2ZsYWcgPSBmYWxzZTtcbi8qKiBUcnVlIGlmICRpbnNwZWN0LnRyYWNlIGlzIHVzZWQgKi9cbmV4cG9ydCBsZXQgdHJhY2luZ19tb2RlX2ZsYWcgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZV9hc3luY19tb2RlX2ZsYWcoKSB7XG5cdGFzeW5jX21vZGVfZmxhZyA9IHRydWU7XG59XG5cbi8qKiBPTkxZIFVTRSBUSElTIERVUklORyBURVNUSU5HICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZV9hc3luY19tb2RlX2ZsYWcoKSB7XG5cdGFzeW5jX21vZGVfZmxhZyA9IGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcoKSB7XG5cdGxlZ2FjeV9tb2RlX2ZsYWcgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlX3RyYWNpbmdfbW9kZV9mbGFnKCkge1xuXHR0cmFjaW5nX21vZGVfZmxhZyA9IHRydWU7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBSZWFjdGlvbiwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBzbmFwc2hvdCB9IGZyb20gJy4uLy4uL3NoYXJlZC9jbG9uZS5qcyc7XG5pbXBvcnQgeyBERVJJVkVELCBBU1lOQywgUFJPWFlfUEFUSF9TWU1CT0wsIFNUQVRFX1NZTUJPTCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IGVmZmVjdF90cmFja2luZyB9IGZyb20gJy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfcmVhY3Rpb24sIHVudHJhY2sgfSBmcm9tICcuLi9ydW50aW1lLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICB0cmFjZXM6IEVycm9yW107XG4gKiB9fSBUcmFjZUVudHJ5XG4gKi9cblxuLyoqIEB0eXBlIHt7IHJlYWN0aW9uOiBSZWFjdGlvbiB8IG51bGwsIGVudHJpZXM6IE1hcDxWYWx1ZSwgVHJhY2VFbnRyeT4gfSB8IG51bGx9ICovXG5leHBvcnQgbGV0IHRyYWNpbmdfZXhwcmVzc2lvbnMgPSBudWxsO1xuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWV9IHNpZ25hbFxuICogQHBhcmFtIHtUcmFjZUVudHJ5fSBbZW50cnldXG4gKi9cbmZ1bmN0aW9uIGxvZ19lbnRyeShzaWduYWwsIGVudHJ5KSB7XG5cdGNvbnN0IHZhbHVlID0gc2lnbmFsLnY7XG5cblx0aWYgKHZhbHVlID09PSBVTklOSVRJQUxJWkVEKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgdHlwZSA9IGdldF90eXBlKHNpZ25hbCk7XG5cdGNvbnN0IGN1cnJlbnRfcmVhY3Rpb24gPSAvKiogQHR5cGUge1JlYWN0aW9ufSAqLyAoYWN0aXZlX3JlYWN0aW9uKTtcblx0Y29uc3QgZGlydHkgPSBzaWduYWwud3YgPiBjdXJyZW50X3JlYWN0aW9uLnd2IHx8IGN1cnJlbnRfcmVhY3Rpb24ud3YgPT09IDA7XG5cdGNvbnN0IHN0eWxlID0gZGlydHlcblx0XHQ/ICdjb2xvcjogQ29ybmZsb3dlckJsdWU7IGZvbnQtd2VpZ2h0OiBib2xkJ1xuXHRcdDogJ2NvbG9yOiBncmV5OyBmb250LXdlaWdodDogbm9ybWFsJztcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuXHRcdHNpZ25hbC5sYWJlbCA/IGAlYyR7dHlwZX0lYyAke3NpZ25hbC5sYWJlbH1gIDogYCVjJHt0eXBlfSVjYCxcblx0XHRzdHlsZSxcblx0XHRkaXJ0eSA/ICdmb250LXdlaWdodDogbm9ybWFsJyA6IHN0eWxlLFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgU1RBVEVfU1lNQk9MIGluIHZhbHVlXG5cdFx0XHQ/IHNuYXBzaG90KHZhbHVlLCB0cnVlKVxuXHRcdFx0OiB2YWx1ZVxuXHQpO1xuXG5cdGlmICh0eXBlID09PSAnJGRlcml2ZWQnKSB7XG5cdFx0Y29uc3QgZGVwcyA9IG5ldyBTZXQoLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKS5kZXBzKTtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRsb2dfZW50cnkoZGVwKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoc2lnbmFsLmNyZWF0ZWQpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdGNvbnNvbGUubG9nKHNpZ25hbC5jcmVhdGVkKTtcblx0fVxuXG5cdGlmIChkaXJ0eSAmJiBzaWduYWwudXBkYXRlZCkge1xuXHRcdGZvciAoY29uc3QgdXBkYXRlZCBvZiBzaWduYWwudXBkYXRlZC52YWx1ZXMoKSkge1xuXHRcdFx0aWYgKHVwZGF0ZWQuZXJyb3IpIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdFx0Y29uc29sZS5sb2codXBkYXRlZC5lcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGVudHJ5KSB7XG5cdFx0Zm9yICh2YXIgdHJhY2Ugb2YgZW50cnkudHJhY2VzKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdFx0Y29uc29sZS5sb2codHJhY2UpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzaWduYWxcbiAqIEByZXR1cm5zIHsnJHN0YXRlJyB8ICckZGVyaXZlZCcgfCAnc3RvcmUnfVxuICovXG5mdW5jdGlvbiBnZXRfdHlwZShzaWduYWwpIHtcblx0aWYgKChzaWduYWwuZiAmIChERVJJVkVEIHwgQVNZTkMpKSAhPT0gMCkgcmV0dXJuICckZGVyaXZlZCc7XG5cdHJldHVybiBzaWduYWwubGFiZWw/LnN0YXJ0c1dpdGgoJyQnKSA/ICdzdG9yZScgOiAnJHN0YXRlJztcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBzdHJpbmd9IGxhYmVsXG4gKiBAcGFyYW0geygpID0+IFR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFjZShsYWJlbCwgZm4pIHtcblx0dmFyIHByZXZpb3VzbHlfdHJhY2luZ19leHByZXNzaW9ucyA9IHRyYWNpbmdfZXhwcmVzc2lvbnM7XG5cblx0dHJ5IHtcblx0XHR0cmFjaW5nX2V4cHJlc3Npb25zID0geyBlbnRyaWVzOiBuZXcgTWFwKCksIHJlYWN0aW9uOiBhY3RpdmVfcmVhY3Rpb24gfTtcblxuXHRcdHZhciBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdHZhciB2YWx1ZSA9IGZuKCk7XG5cdFx0dmFyIHRpbWUgPSAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkudG9GaXhlZCgyKTtcblxuXHRcdHZhciBwcmVmaXggPSB1bnRyYWNrKGxhYmVsKTtcblxuXHRcdGlmICghZWZmZWN0X3RyYWNraW5nKCkpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRjb25zb2xlLmxvZyhgJHtwcmVmaXh9ICVjcmFuIG91dHNpZGUgb2YgYW4gZWZmZWN0ICgke3RpbWV9bXMpYCwgJ2NvbG9yOiBncmV5Jyk7XG5cdFx0fSBlbHNlIGlmICh0cmFjaW5nX2V4cHJlc3Npb25zLmVudHJpZXMuc2l6ZSA9PT0gMCkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdGNvbnNvbGUubG9nKGAke3ByZWZpeH0gJWNubyByZWFjdGl2ZSBkZXBlbmRlbmNpZXMgKCR7dGltZX1tcylgLCAnY29sb3I6IGdyZXknKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdGNvbnNvbGUuZ3JvdXAoYCR7cHJlZml4fSAlYygke3RpbWV9bXMpYCwgJ2NvbG9yOiBncmV5Jyk7XG5cblx0XHRcdHZhciBlbnRyaWVzID0gdHJhY2luZ19leHByZXNzaW9ucy5lbnRyaWVzO1xuXG5cdFx0XHR1bnRyYWNrKCgpID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCBbc2lnbmFsLCB0cmFjZXNdIG9mIGVudHJpZXMpIHtcblx0XHRcdFx0XHRsb2dfZW50cnkoc2lnbmFsLCB0cmFjZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dHJhY2luZ19leHByZXNzaW9ucyA9IG51bGw7XG5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRjb25zb2xlLmdyb3VwRW5kKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9IGZpbmFsbHkge1xuXHRcdHRyYWNpbmdfZXhwcmVzc2lvbnMgPSBwcmV2aW91c2x5X3RyYWNpbmdfZXhwcmVzc2lvbnM7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFnKHNvdXJjZSwgbGFiZWwpIHtcblx0c291cmNlLmxhYmVsID0gbGFiZWw7XG5cdHRhZ19wcm94eShzb3VyY2UudiwgbGFiZWwpO1xuXG5cdHJldHVybiBzb3VyY2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWdfcHJveHkodmFsdWUsIGxhYmVsKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0dmFsdWU/LltQUk9YWV9QQVRIX1NZTUJPTF0/LihsYWJlbCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYWJlbCh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJykgcmV0dXJuIGBTeW1ib2woJHt2YWx1ZS5kZXNjcmlwdGlvbn0pYDtcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuICc8ZnVuY3Rpb24+Jztcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHJldHVybiAnPG9iamVjdD4nO1xuXHRyZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbiIsICJpbXBvcnQgeyBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAqIEByZXR1cm5zIHtFcnJvciAmIHsgc3RhY2s6IHN0cmluZyB9IHwgbnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9lcnJvcihsYWJlbCkge1xuXHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRjb25zdCBzdGFjayA9IGdldF9zdGFjaygpO1xuXG5cdGlmIChzdGFjay5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHN0YWNrLnVuc2hpZnQoJ1xcbicpO1xuXG5cdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ3N0YWNrJywge1xuXHRcdHZhbHVlOiBzdGFjay5qb2luKCdcXG4nKVxuXHR9KTtcblxuXHRkZWZpbmVfcHJvcGVydHkoZXJyb3IsICduYW1lJywge1xuXHRcdHZhbHVlOiBsYWJlbFxuXHR9KTtcblxuXHRyZXR1cm4gLyoqIEB0eXBlIHtFcnJvciAmIHsgc3RhY2s6IHN0cmluZyB9fSAqLyAoZXJyb3IpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdGFjaygpIHtcblx0Ly8gQHRzLWlnbm9yZSAtIGRvZXNuJ3QgZXhpc3QgZXZlcnl3aGVyZVxuXHRjb25zdCBsaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDtcblx0Ly8gQHRzLWlnbm9yZSAtIGRvZXNuJ3QgZXhpc3QgZXZlcnl3aGVyZVxuXHRFcnJvci5zdGFja1RyYWNlTGltaXQgPSBJbmZpbml0eTtcblx0Y29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblx0Ly8gQHRzLWlnbm9yZSAtIGRvZXNuJ3QgZXhpc3QgZXZlcnl3aGVyZVxuXHRFcnJvci5zdGFja1RyYWNlTGltaXQgPSBsaW1pdDtcblxuXHRpZiAoIXN0YWNrKSByZXR1cm4gW107XG5cblx0Y29uc3QgbGluZXMgPSBzdGFjay5zcGxpdCgnXFxuJyk7XG5cdGNvbnN0IG5ld19saW5lcyA9IFtdO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBsaW5lID0gbGluZXNbaV07XG5cdFx0Y29uc3QgcG9zaXhpZmllZCA9IGxpbmUucmVwbGFjZUFsbCgnXFxcXCcsICcvJyk7XG5cblx0XHRpZiAobGluZS50cmltKCkgPT09ICdFcnJvcicpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChsaW5lLmluY2x1ZGVzKCd2YWxpZGF0ZV9lYWNoX2tleXMnKSkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdGlmIChwb3NpeGlmaWVkLmluY2x1ZGVzKCdzdmVsdGUvc3JjL2ludGVybmFsJykgfHwgcG9zaXhpZmllZC5pbmNsdWRlcygnbm9kZV9tb2R1bGVzLy52aXRlJykpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdG5ld19saW5lcy5wdXNoKGxpbmUpO1xuXHR9XG5cblx0cmV0dXJuIG5ld19saW5lcztcbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIERldlN0YWNrRW50cnksIEVmZmVjdCB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGNyZWF0ZV91c2VyX2VmZmVjdCB9IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgbGVnYWN5X21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IEZJTEVOQU1FIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJSQU5DSF9FRkZFQ1QsIEVGRkVDVF9SQU4gfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGNvbXBvbmVudF9jb250ZXh0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9IGNvbnRleHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY29tcG9uZW50X2NvbnRleHQoY29udGV4dCkge1xuXHRjb21wb25lbnRfY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbi8qKiBAdHlwZSB7RGV2U3RhY2tFbnRyeSB8IG51bGx9ICovXG5leHBvcnQgbGV0IGRldl9zdGFjayA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge0RldlN0YWNrRW50cnkgfCBudWxsfSBzdGFjayAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfc3RhY2soc3RhY2spIHtcblx0ZGV2X3N0YWNrID0gc3RhY2s7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBhIGNhbGxiYWNrIHdpdGggYSBuZXcgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcGFyYW0geygpID0+IGFueX0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlXG4gKiBAcGFyYW0ge0RldlN0YWNrRW50cnlbJ3R5cGUnXX0gdHlwZSAtIFR5cGUgb2YgYmxvY2svY29tcG9uZW50XG4gKiBAcGFyYW0ge2FueX0gY29tcG9uZW50IC0gQ29tcG9uZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gbGluZSAtIExpbmUgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gQ29sdW1uIG51bWJlclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbYWRkaXRpb25hbF0gLSBBbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3N2ZWx0ZV9tZXRhKGNhbGxiYWNrLCB0eXBlLCBjb21wb25lbnQsIGxpbmUsIGNvbHVtbiwgYWRkaXRpb25hbCkge1xuXHRjb25zdCBwYXJlbnQgPSBkZXZfc3RhY2s7XG5cblx0ZGV2X3N0YWNrID0ge1xuXHRcdHR5cGUsXG5cdFx0ZmlsZTogY29tcG9uZW50W0ZJTEVOQU1FXSxcblx0XHRsaW5lLFxuXHRcdGNvbHVtbixcblx0XHRwYXJlbnQsXG5cdFx0Li4uYWRkaXRpb25hbFxuXHR9O1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNhbGxiYWNrKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0ZGV2X3N0YWNrID0gcGFyZW50O1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgY29tcG9uZW50IGZ1bmN0aW9uLiBEaWZmZXJlbnQgZnJvbSBjdXJyZW50IGNvbXBvbmVudCBjb250ZXh0OlxuICogYGBgaHRtbFxuICogPCEtLSBBcHAuc3ZlbHRlIC0tPlxuICogPEZvbz5cbiAqICAgPEJhciAvPiA8IS0tIGNvbnRleHQgPT0gRm9vLnN2ZWx0ZSwgZnVuY3Rpb24gPT0gQXBwLnN2ZWx0ZSAtLT5cbiAqIDwvRm9vPlxuICogYGBgXG4gKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dFsnZnVuY3Rpb24nXX1cbiAqL1xuZXhwb3J0IGxldCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gPSBudWxsO1xuXG4vKiogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0WydmdW5jdGlvbiddfSBmbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZm4pIHtcblx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gZm47XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBbZ2V0LCBzZXRdYCBwYWlyIG9mIGZ1bmN0aW9ucyBmb3Igd29ya2luZyB3aXRoIGNvbnRleHQgaW4gYSB0eXBlLXNhZmUgd2F5LlxuICpcbiAqIGBnZXRgIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgbm8gcGFyZW50IGNvbXBvbmVudCBjYWxsZWQgYHNldGAuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEByZXR1cm5zIHtbKCkgPT4gVCwgKGNvbnRleHQ6IFQpID0+IFRdfVxuICogQHNpbmNlIDUuNDAuMFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dCgpIHtcblx0Y29uc3Qga2V5ID0ge307XG5cblx0cmV0dXJuIFtcblx0XHQoKSA9PiB7XG5cdFx0XHRpZiAoIWhhc0NvbnRleHQoa2V5KSkge1xuXHRcdFx0XHRlLm1pc3NpbmdfY29udGV4dCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZ2V0Q29udGV4dChrZXkpO1xuXHRcdH0sXG5cdFx0KGNvbnRleHQpID0+IHNldENvbnRleHQoa2V5LCBjb250ZXh0KVxuXHRdO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIFtgY3JlYXRlQ29udGV4dGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9zdmVsdGUjY3JlYXRlQ29udGV4dCkgaXMgYSB0eXBlLXNhZmUgYWx0ZXJuYXRpdmUuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0Q29udGV4dCcpO1xuXHRjb25zdCByZXN1bHQgPSAvKiogQHR5cGUge1R9ICovIChjb250ZXh0X21hcC5nZXQoa2V5KSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBbYGNyZWF0ZUNvbnRleHRgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvc3ZlbHRlI2NyZWF0ZUNvbnRleHQpIGlzIGEgdHlwZS1zYWZlIGFsdGVybmF0aXZlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnc2V0Q29udGV4dCcpO1xuXG5cdGlmIChhc3luY19tb2RlX2ZsYWcpIHtcblx0XHR2YXIgZmxhZ3MgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmY7XG5cdFx0dmFyIHZhbGlkID1cblx0XHRcdCFhY3RpdmVfcmVhY3Rpb24gJiZcblx0XHRcdChmbGFncyAmIEJSQU5DSF9FRkZFQ1QpICE9PSAwICYmXG5cdFx0XHQvLyBwb3AoKSBydW5zIHN5bmNocm9ub3VzbHksIHNvIHRoaXMgaW5kaWNhdGVzIHdlJ3JlIHNldHRpbmcgY29udGV4dCBhZnRlciBhbiBhd2FpdFxuXHRcdFx0ISgvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCkuaSk7XG5cblx0XHRpZiAoIXZhbGlkKSB7XG5cdFx0XHRlLnNldF9jb250ZXh0X2FmdGVyX2luaXQoKTtcblx0XHR9XG5cdH1cblxuXHRjb250ZXh0X21hcC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdGNvbnN0IGNvbnRleHRfbWFwID0gZ2V0X29yX2luaXRfY29udGV4dF9tYXAoJ2hhc0NvbnRleHQnKTtcblx0cmV0dXJuIGNvbnRleHRfbWFwLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0QWxsQ29udGV4dHMnKTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKGNvbnRleHRfbWFwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBwcm9wc1xuICogQHBhcmFtIHthbnl9IHJ1bmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2gocHJvcHMsIHJ1bmVzID0gZmFsc2UsIGZuKSB7XG5cdGNvbXBvbmVudF9jb250ZXh0ID0ge1xuXHRcdHA6IGNvbXBvbmVudF9jb250ZXh0LFxuXHRcdGk6IGZhbHNlLFxuXHRcdGM6IG51bGwsXG5cdFx0ZTogbnVsbCxcblx0XHRzOiBwcm9wcyxcblx0XHR4OiBudWxsLFxuXHRcdGw6IGxlZ2FjeV9tb2RlX2ZsYWcgJiYgIXJ1bmVzID8geyBzOiBudWxsLCB1OiBudWxsLCAkOiBbXSB9IDogbnVsbFxuXHR9O1xuXG5cdGlmIChERVYpIHtcblx0XHQvLyBjb21wb25lbnQgZnVuY3Rpb25cblx0XHRjb21wb25lbnRfY29udGV4dC5mdW5jdGlvbiA9IGZuO1xuXHRcdGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiA9IGZuO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBUXG4gKiBAcGFyYW0ge1R9IFtjb21wb25lbnRdXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvcChjb21wb25lbnQpIHtcblx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cdHZhciBlZmZlY3RzID0gY29udGV4dC5lO1xuXG5cdGlmIChlZmZlY3RzICE9PSBudWxsKSB7XG5cdFx0Y29udGV4dC5lID0gbnVsbDtcblxuXHRcdGZvciAodmFyIGZuIG9mIGVmZmVjdHMpIHtcblx0XHRcdGNyZWF0ZV91c2VyX2VmZmVjdChmbik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29udGV4dC54ID0gY29tcG9uZW50O1xuXHR9XG5cblx0Y29udGV4dC5pID0gdHJ1ZTtcblxuXHRjb21wb25lbnRfY29udGV4dCA9IGNvbnRleHQucDtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gY29tcG9uZW50X2NvbnRleHQ/LmZ1bmN0aW9uID8/IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gY29tcG9uZW50ID8/IC8qKiBAdHlwZSB7VH0gKi8gKHt9KTtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3J1bmVzKCkge1xuXHRyZXR1cm4gIWxlZ2FjeV9tb2RlX2ZsYWcgfHwgKGNvbXBvbmVudF9jb250ZXh0ICE9PSBudWxsICYmIGNvbXBvbmVudF9jb250ZXh0LmwgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7TWFwPHVua25vd24sIHVua25vd24+fVxuICovXG5mdW5jdGlvbiBnZXRfb3JfaW5pdF9jb250ZXh0X21hcChuYW1lKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KG5hbWUpO1xuXHR9XG5cblx0cmV0dXJuIChjb21wb25lbnRfY29udGV4dC5jID8/PSBuZXcgTWFwKGdldF9wYXJlbnRfY29udGV4dChjb21wb25lbnRfY29udGV4dCkgfHwgdW5kZWZpbmVkKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0fSBjb21wb25lbnRfY29udGV4dFxuICogQHJldHVybnMge01hcDx1bmtub3duLCB1bmtub3duPiB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGdldF9wYXJlbnRfY29udGV4dChjb21wb25lbnRfY29udGV4dCkge1xuXHRsZXQgcGFyZW50ID0gY29tcG9uZW50X2NvbnRleHQucDtcblx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGNvbnN0IGNvbnRleHRfbWFwID0gcGFyZW50LmM7XG5cdFx0aWYgKGNvbnRleHRfbWFwICE9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dF9tYXA7XG5cdFx0fVxuXHRcdHBhcmVudCA9IHBhcmVudC5wO1xuXHR9XG5cdHJldHVybiBudWxsO1xufVxuIiwgImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgaXNfZmx1c2hpbmdfc3luYyB9IGZyb20gJy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuXG4vKiogQHR5cGUge0FycmF5PCgpID0+IHZvaWQ+fSAqL1xubGV0IG1pY3JvX3Rhc2tzID0gW107XG5cbmZ1bmN0aW9uIHJ1bl9taWNyb190YXNrcygpIHtcblx0dmFyIHRhc2tzID0gbWljcm9fdGFza3M7XG5cdG1pY3JvX3Rhc2tzID0gW107XG5cdHJ1bl9hbGwodGFza3MpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlX21pY3JvX3Rhc2soZm4pIHtcblx0aWYgKG1pY3JvX3Rhc2tzLmxlbmd0aCA9PT0gMCAmJiAhaXNfZmx1c2hpbmdfc3luYykge1xuXHRcdHZhciB0YXNrcyA9IG1pY3JvX3Rhc2tzO1xuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdC8vIElmIHRoaXMgaXMgZmFsc2UsIGEgZmx1c2hTeW5jIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZS4gRG8gX25vdF8gcnVuIG5ldyBzY2hlZHVsZWQgbWljcm90YXNrcyBpbiB0aGF0IGNhc2Vcblx0XHRcdC8vIGFzIHRoZSBvcmRlcmluZyBvZiBtaWNyb3Rhc2tzIHdvdWxkIGJlIGJyb2tlbiBhdCB0aGF0IHBvaW50IC0gY29uc2lkZXIgdGhpcyBjYXNlOlxuXHRcdFx0Ly8gLSBxdWV1ZV9taWNyb190YXNrIHNjaGVkdWxlcyBtaWNyb3Rhc2sgQSB0byBmbHVzaCB0YXNrIFhcblx0XHRcdC8vIC0gc3luY2hyb25vdXNseSBhZnRlciwgZmx1c2hTeW5jIHJ1bnMsIHByb2Nlc3NpbmcgdGFzayBYXG5cdFx0XHQvLyAtIHN5bmNocm9ub3VzbHkgYWZ0ZXIsIHNvbWUgb3RoZXIgbWljcm90YXNrIEIgaXMgc2NoZWR1bGVkLCBidXQgbm90IHRocm91Z2ggcXVldWVfbWljcm9fdGFzayBidXQgZm9yIGV4YW1wbGUgYSBQcm9taXNlLnJlc29sdmUoKSBpbiB1c2VyIGNvZGVcblx0XHRcdC8vIC0gc3luY2hyb25vdXNseSBhZnRlciwgcXVldWVfbWljcm9fdGFzayBzY2hlZHVsZXMgbWljcm90YXNrIEMgdG8gZmx1c2ggdGFzayBZXG5cdFx0XHQvLyAtIG9uZSB0aWNrIGxhdGVyLCBtaWNyb3Rhc2sgQSBub3cgcmVzb2x2ZXMsIGZsdXNoaW5nIHRhc2sgWSBiZWZvcmUgbWljcm90YXNrIEIsIHdoaWNoIGlzIGluY29ycmVjdFxuXHRcdFx0Ly8gVGhpcyBpZiBjaGVjayBwcmV2ZW50cyB0aGF0IHJhY2UgY29uZGl0aW9uICh0aGF0IHJlYWxpc3RpY2FsbHkgd2lsbCBvbmx5IGhhcHBlbiBpbiB0ZXN0cylcblx0XHRcdGlmICh0YXNrcyA9PT0gbWljcm9fdGFza3MpIHJ1bl9taWNyb190YXNrcygpO1xuXHRcdH0pO1xuXHR9XG5cblx0bWljcm9fdGFza3MucHVzaChmbik7XG59XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBydW4gYW55IHF1ZXVlZCB0YXNrcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3Rhc2tzKCkge1xuXHR3aGlsZSAobWljcm9fdGFza3MubGVuZ3RoID4gMCkge1xuXHRcdHJ1bl9taWNyb190YXNrcygpO1xuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCb3VuZGFyeSB9IGZyb20gJy4vZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgaXNfZmlyZWZveCB9IGZyb20gJy4vZG9tL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgRVJST1JfVkFMVUUsIEJPVU5EQVJZX0VGRkVDVCwgRUZGRUNUX1JBTiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgZ2V0X2Rlc2NyaXB0b3IgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcblxuY29uc3QgYWRqdXN0bWVudHMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZV9lcnJvcihlcnJvcikge1xuXHR2YXIgZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHQvLyBmb3IgdW5vd25lZCBkZXJpdmVkcywgZG9uJ3QgdGhyb3cgdW50aWwgd2UgcmVhZCB0aGUgdmFsdWVcblx0aWYgKGVmZmVjdCA9PT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbikuZiB8PSBFUlJPUl9WQUxVRTtcblx0XHRyZXR1cm4gZXJyb3I7XG5cdH1cblxuXHRpZiAoREVWICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWFkanVzdG1lbnRzLmhhcyhlcnJvcikpIHtcblx0XHRhZGp1c3RtZW50cy5zZXQoZXJyb3IsIGdldF9hZGp1c3RtZW50cyhlcnJvciwgZWZmZWN0KSk7XG5cdH1cblxuXHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX1JBTikgPT09IDApIHtcblx0XHQvLyBpZiB0aGUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhpcyBzdWJ0cmVlLCB3ZSBsZXQgaXRcblx0XHQvLyBidWJibGUgdXAgdW50aWwgaXQgaGl0cyBhIGJvdW5kYXJ5IHRoYXQgY2FuIGhhbmRsZSBpdFxuXHRcdGlmICgoZWZmZWN0LmYgJiBCT1VOREFSWV9FRkZFQ1QpID09PSAwKSB7XG5cdFx0XHRpZiAoREVWICYmICFlZmZlY3QucGFyZW50ICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdFx0YXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHQvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAoZWZmZWN0LmIpLmVycm9yKGVycm9yKTtcblx0fSBlbHNlIHtcblx0XHQvLyBvdGhlcndpc2Ugd2UgYnViYmxlIHVwIHRoZSBlZmZlY3QgdHJlZSBvdXJzZWx2ZXNcblx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIGVmZmVjdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IGVmZmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBlZmZlY3QpIHtcblx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdGlmICgoZWZmZWN0LmYgJiBCT1VOREFSWV9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAoZWZmZWN0LmIpLmVycm9yKGVycm9yKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0fVxuXG5cdGlmIChERVYgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdGFwcGx5X2FkanVzdG1lbnRzKGVycm9yKTtcblx0fVxuXG5cdHRocm93IGVycm9yO1xufVxuXG4vKipcbiAqIEFkZCB1c2VmdWwgaW5mb3JtYXRpb24gdG8gdGhlIGVycm9yIG1lc3NhZ2Uvc3RhY2sgaW4gZGV2ZWxvcG1lbnRcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmZ1bmN0aW9uIGdldF9hZGp1c3RtZW50cyhlcnJvciwgZWZmZWN0KSB7XG5cdGNvbnN0IG1lc3NhZ2VfZGVzY3JpcHRvciA9IGdldF9kZXNjcmlwdG9yKGVycm9yLCAnbWVzc2FnZScpO1xuXG5cdC8vIGlmIHRoZSBtZXNzYWdlIHdhcyBhbHJlYWR5IGNoYW5nZWQgYW5kIGl0J3Mgbm90IGNvbmZpZ3VyYWJsZSB3ZSBjYW4ndCBjaGFuZ2UgaXRcblx0Ly8gb3IgaXQgd2lsbCB0aHJvdyBhIGRpZmZlcmVudCBlcnJvciBzd2FsbG93aW5nIHRoZSBvcmlnaW5hbCBlcnJvclxuXHRpZiAobWVzc2FnZV9kZXNjcmlwdG9yICYmICFtZXNzYWdlX2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlKSByZXR1cm47XG5cblx0dmFyIGluZGVudCA9IGlzX2ZpcmVmb3ggPyAnICAnIDogJ1xcdCc7XG5cdHZhciBjb21wb25lbnRfc3RhY2sgPSBgXFxuJHtpbmRlbnR9aW4gJHtlZmZlY3QuZm4/Lm5hbWUgfHwgJzx1bmtub3duPid9YDtcblx0dmFyIGNvbnRleHQgPSBlZmZlY3QuY3R4O1xuXG5cdHdoaWxlIChjb250ZXh0ICE9PSBudWxsKSB7XG5cdFx0Y29tcG9uZW50X3N0YWNrICs9IGBcXG4ke2luZGVudH1pbiAke2NvbnRleHQuZnVuY3Rpb24/LltGSUxFTkFNRV0uc3BsaXQoJy8nKS5wb3AoKX1gO1xuXHRcdGNvbnRleHQgPSBjb250ZXh0LnA7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgKyBgXFxuJHtjb21wb25lbnRfc3RhY2t9XFxuYCxcblx0XHRzdGFjazogZXJyb3Iuc3RhY2tcblx0XHRcdD8uc3BsaXQoJ1xcbicpXG5cdFx0XHQuZmlsdGVyKChsaW5lKSA9PiAhbGluZS5pbmNsdWRlcygnc3ZlbHRlL3NyYy9pbnRlcm5hbCcpKVxuXHRcdFx0LmpvaW4oJ1xcbicpXG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3JcbiAqL1xuZnVuY3Rpb24gYXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpIHtcblx0Y29uc3QgYWRqdXN0ZWQgPSBhZGp1c3RtZW50cy5nZXQoZXJyb3IpO1xuXG5cdGlmIChhZGp1c3RlZCkge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ21lc3NhZ2UnLCB7XG5cdFx0XHR2YWx1ZTogYWRqdXN0ZWQubWVzc2FnZVxuXHRcdH0pO1xuXG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGVycm9yLCAnc3RhY2snLCB7XG5cdFx0XHR2YWx1ZTogYWRqdXN0ZWQuc3RhY2tcblx0XHR9KTtcblx0fVxufVxuIiwgIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgU2lnbmFsIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IENMRUFOLCBDT05ORUNURUQsIERJUlRZLCBNQVlCRV9ESVJUWSB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcblxuY29uc3QgU1RBVFVTX01BU0sgPSB+KERJUlRZIHwgTUFZQkVfRElSVFkgfCBDTEVBTik7XG5cbi8qKlxuICogQHBhcmFtIHtTaWduYWx9IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3NpZ25hbF9zdGF0dXMoc2lnbmFsLCBzdGF0dXMpIHtcblx0c2lnbmFsLmYgPSAoc2lnbmFsLmYgJiBTVEFUVVNfTUFTSykgfCBzdGF0dXM7XG59XG5cbi8qKlxuICogU2V0IGEgZGVyaXZlZCdzIHN0YXR1cyB0byBDTEVBTiBvciBNQVlCRV9ESVJUWSBiYXNlZCBvbiBpdHMgY29ubmVjdGlvbiBzdGF0ZS5cbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2Rlcml2ZWRfc3RhdHVzKGRlcml2ZWQpIHtcblx0Ly8gT25seSBtYXJrIGFzIE1BWUJFX0RJUlRZIGlmIGRpc2Nvbm5lY3RlZCBhbmQgaGFzIGRlcGVuZGVuY2llcy5cblx0aWYgKChkZXJpdmVkLmYgJiBDT05ORUNURUQpICE9PSAwIHx8IGRlcml2ZWQuZGVwcyA9PT0gbnVsbCkge1xuXHRcdHNldF9zaWduYWxfc3RhdHVzKGRlcml2ZWQsIENMRUFOKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfc2lnbmFsX3N0YXR1cyhkZXJpdmVkLCBNQVlCRV9ESVJUWSk7XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgQ0xFQU4sIERFUklWRUQsIERJUlRZLCBNQVlCRV9ESVJUWSwgV0FTX01BUktFRCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWVbXSB8IG51bGx9IGRlcHNcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbWFya2VkKGRlcHMpIHtcblx0aWYgKGRlcHMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0aWYgKChkZXAuZiAmIERFUklWRUQpID09PSAwIHx8IChkZXAuZiAmIFdBU19NQVJLRUQpID09PSAwKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRkZXAuZiBePSBXQVNfTUFSS0VEO1xuXG5cdFx0Y2xlYXJfbWFya2VkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCkuZGVwcyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge1NldDxFZmZlY3Q+fSBkaXJ0eV9lZmZlY3RzXG4gKiBAcGFyYW0ge1NldDxFZmZlY3Q+fSBtYXliZV9kaXJ0eV9lZmZlY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZlcl9lZmZlY3QoZWZmZWN0LCBkaXJ0eV9lZmZlY3RzLCBtYXliZV9kaXJ0eV9lZmZlY3RzKSB7XG5cdGlmICgoZWZmZWN0LmYgJiBESVJUWSkgIT09IDApIHtcblx0XHRkaXJ0eV9lZmZlY3RzLmFkZChlZmZlY3QpO1xuXHR9IGVsc2UgaWYgKChlZmZlY3QuZiAmIE1BWUJFX0RJUlRZKSAhPT0gMCkge1xuXHRcdG1heWJlX2RpcnR5X2VmZmVjdHMuYWRkKGVmZmVjdCk7XG5cdH1cblxuXHQvLyBTaW5jZSB3ZSdyZSBub3QgZXhlY3V0aW5nIHRoZXNlIGVmZmVjdHMgbm93LCB3ZSBuZWVkIHRvIGNsZWFyIGFueSBXQVNfTUFSS0VEIGZsYWdzXG5cdC8vIHNvIHRoYXQgb3RoZXIgYmF0Y2hlcyBjYW4gY29ycmVjdGx5IHJlYWNoIHRoZXNlIGVmZmVjdHMgZHVyaW5nIHRoZWlyIG93biB0cmF2ZXJzYWxcblx0Y2xlYXJfbWFya2VkKGVmZmVjdC5kZXBzKTtcblxuXHQvLyBtYXJrIGFzIGNsZWFuIHNvIHRoZXkgZ2V0IHNjaGVkdWxlZCBpZiB0aGV5IGRlcGVuZCBvbiBwZW5kaW5nIGFzeW5jIHN0YXRlXG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgQ0xFQU4pO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRm9yayB9IGZyb20gJ3N2ZWx0ZScgKi9cbi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBSZWFjdGlvbiwgU291cmNlLCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEJvdW5kYXJ5IH0gZnJvbSAnLi4vZG9tL2Jsb2Nrcy9ib3VuZGFyeScgKi9cbmltcG9ydCB7XG5cdEJMT0NLX0VGRkVDVCxcblx0QlJBTkNIX0VGRkVDVCxcblx0Q0xFQU4sXG5cdERFU1RST1lFRCxcblx0RElSVFksXG5cdEVGRkVDVCxcblx0QVNZTkMsXG5cdElORVJULFxuXHRSRU5ERVJfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0TUFZQkVfRElSVFksXG5cdERFUklWRUQsXG5cdEJPVU5EQVJZX0VGRkVDVCxcblx0RUFHRVJfRUZGRUNULFxuXHRIRUFEX0VGRkVDVCxcblx0RVJST1JfVkFMVUUsXG5cdE1BTkFHRURfRUZGRUNUXG59IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IGRlZmVycmVkLCBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0Z2V0LFxuXHRpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbixcblx0aXNfZGlydHksXG5cdGlzX3VwZGF0aW5nX2VmZmVjdCxcblx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdCxcblx0dXBkYXRlX2VmZmVjdFxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZsdXNoX3Rhc2tzLCBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vZG9tL3Rhc2suanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBpbnZva2VfZXJyb3JfYm91bmRhcnkgfSBmcm9tICcuLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBmbHVzaF9lYWdlcl9lZmZlY3RzLCBvbGRfdmFsdWVzLCBzZXRfZWFnZXJfZWZmZWN0cywgc291cmNlLCB1cGRhdGUgfSBmcm9tICcuL3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgZWFnZXJfZWZmZWN0LCB1bmxpbmtfZWZmZWN0IH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGRlZmVyX2VmZmVjdCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBzZXRfc2lnbmFsX3N0YXR1cyB9IGZyb20gJy4vc3RhdHVzLmpzJztcblxuLyoqIEB0eXBlIHtTZXQ8QmF0Y2g+fSAqL1xuY29uc3QgYmF0Y2hlcyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtCYXRjaCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGN1cnJlbnRfYmF0Y2ggPSBudWxsO1xuXG4vKipcbiAqIFRoaXMgaXMgbmVlZGVkIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGlucHV0cyBpbiBub24tYXN5bmMgbW9kZVxuICogVE9ETyA2LjAgcmVtb3ZlIHRoaXMsIGFzIG5vbi1hc3luYyBtb2RlIHdpbGwgZ28gYXdheVxuICogQHR5cGUge0JhdGNoIHwgbnVsbH1cbiAqL1xuZXhwb3J0IGxldCBwcmV2aW91c19iYXRjaCA9IG51bGw7XG5cbi8qKlxuICogV2hlbiB0aW1lIHRyYXZlbGxpbmcgKGkuZS4gd29ya2luZyBpbiBvbmUgYmF0Y2gsIHdoaWxlIG90aGVyIGJhdGNoZXNcbiAqIHN0aWxsIGhhdmUgb25nb2luZyB3b3JrKSwgd2UgaWdub3JlIHRoZSByZWFsIHZhbHVlcyBvZiBhZmZlY3RlZFxuICogc2lnbmFscyBpbiBmYXZvdXIgb2YgdGhlaXIgdmFsdWVzIHdpdGhpbiB0aGUgYmF0Y2hcbiAqIEB0eXBlIHtNYXA8VmFsdWUsIGFueT4gfCBudWxsfVxuICovXG5leHBvcnQgbGV0IGJhdGNoX3ZhbHVlcyA9IG51bGw7XG5cbi8vIFRPRE8gdGhpcyBzaG91bGQgcmVhbGx5IGJlIGEgcHJvcGVydHkgb2YgYGJhdGNoYFxuLyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cbmxldCBxdWV1ZWRfcm9vdF9lZmZlY3RzID0gW107XG5cbi8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cbmxldCBsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXG5sZXQgaXNfZmx1c2hpbmcgPSBmYWxzZTtcbmV4cG9ydCBsZXQgaXNfZmx1c2hpbmdfc3luYyA9IGZhbHNlO1xuXG5leHBvcnQgY2xhc3MgQmF0Y2gge1xuXHRjb21taXR0ZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVGhlIGN1cnJlbnQgdmFsdWVzIG9mIGFueSBzb3VyY2VzIHRoYXQgYXJlIHVwZGF0ZWQgaW4gdGhpcyBiYXRjaFxuXHQgKiBUaGV5IGtleXMgb2YgdGhpcyBtYXAgYXJlIGlkZW50aWNhbCB0byBgdGhpcy4jcHJldmlvdXNgXG5cdCAqIEB0eXBlIHtNYXA8U291cmNlLCBhbnk+fVxuXHQgKi9cblx0Y3VycmVudCA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogVGhlIHZhbHVlcyBvZiBhbnkgc291cmNlcyB0aGF0IGFyZSB1cGRhdGVkIGluIHRoaXMgYmF0Y2ggX2JlZm9yZV8gdGhvc2UgdXBkYXRlcyB0b29rIHBsYWNlLlxuXHQgKiBUaGV5IGtleXMgb2YgdGhpcyBtYXAgYXJlIGlkZW50aWNhbCB0byBgdGhpcy4jY3VycmVudGBcblx0ICogQHR5cGUge01hcDxTb3VyY2UsIGFueT59XG5cdCAqL1xuXHRwcmV2aW91cyA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogV2hlbiB0aGUgYmF0Y2ggaXMgY29tbWl0dGVkIChhbmQgdGhlIERPTSBpcyB1cGRhdGVkKSwgd2UgbmVlZCB0byByZW1vdmUgb2xkIGJyYW5jaGVzXG5cdCAqIGFuZCBhcHBlbmQgbmV3IG9uZXMgYnkgY2FsbGluZyB0aGUgZnVuY3Rpb25zIGFkZGVkIGluc2lkZSAoaWYvZWFjaC9rZXkvZXRjKSBibG9ja3Ncblx0ICogQHR5cGUge1NldDwoKSA9PiB2b2lkPn1cblx0ICovXG5cdCNjb21taXRfY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBJZiBhIGZvcmsgaXMgZGlzY2FyZGVkLCB3ZSBuZWVkIHRvIGRlc3Ryb3kgYW55IGVmZmVjdHMgdGhhdCBhcmUgbm8gbG9uZ2VyIG5lZWRlZFxuXHQgKiBAdHlwZSB7U2V0PChiYXRjaDogQmF0Y2gpID0+IHZvaWQ+fVxuXHQgKi9cblx0I2Rpc2NhcmRfY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBUaGUgbnVtYmVyIG9mIGFzeW5jIGVmZmVjdHMgdGhhdCBhcmUgY3VycmVudGx5IGluIGZsaWdodFxuXHQgKi9cblx0I3BlbmRpbmcgPSAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgbnVtYmVyIG9mIGFzeW5jIGVmZmVjdHMgdGhhdCBhcmUgY3VycmVudGx5IGluIGZsaWdodCwgX25vdF8gaW5zaWRlIGEgcGVuZGluZyBib3VuZGFyeVxuXHQgKi9cblx0I2Jsb2NraW5nX3BlbmRpbmcgPSAwO1xuXG5cdC8qKlxuXHQgKiBBIGRlZmVycmVkIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgYmF0Y2ggaXMgY29tbWl0dGVkLCB1c2VkIHdpdGggYHNldHRsZWQoKWBcblx0ICogVE9ETyByZXBsYWNlIHdpdGggUHJvbWlzZS53aXRoUmVzb2x2ZXJzIG9uY2Ugc3VwcG9ydGVkIHdpZGVseSBlbm91Z2hcblx0ICogQHR5cGUge3sgcHJvbWlzZTogUHJvbWlzZTx2b2lkPiwgcmVzb2x2ZTogKHZhbHVlPzogYW55KSA9PiB2b2lkLCByZWplY3Q6IChyZWFzb246IHVua25vd24pID0+IHZvaWQgfSB8IG51bGx9XG5cdCAqL1xuXHQjZGVmZXJyZWQgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBEZWZlcnJlZCBlZmZlY3RzICh3aGljaCBydW4gYWZ0ZXIgYXN5bmMgd29yayBoYXMgY29tcGxldGVkKSB0aGF0IGFyZSBESVJUWVxuXHQgKiBAdHlwZSB7U2V0PEVmZmVjdD59XG5cdCAqL1xuXHQjZGlydHlfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogRGVmZXJyZWQgZWZmZWN0cyB0aGF0IGFyZSBNQVlCRV9ESVJUWVxuXHQgKiBAdHlwZSB7U2V0PEVmZmVjdD59XG5cdCAqL1xuXHQjbWF5YmVfZGlydHlfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogQSBzZXQgb2YgYnJhbmNoZXMgdGhhdCBzdGlsbCBleGlzdCwgYnV0IHdpbGwgYmUgZGVzdHJveWVkIHdoZW4gdGhpcyBiYXRjaFxuXHQgKiBpcyBjb21taXR0ZWQgXHUyMDE0IHdlIHNraXAgb3ZlciB0aGVzZSBkdXJpbmcgYHByb2Nlc3NgXG5cdCAqIEB0eXBlIHtTZXQ8RWZmZWN0Pn1cblx0ICovXG5cdHNraXBwZWRfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHRpc19mb3JrID0gZmFsc2U7XG5cblx0aXNfZGVmZXJyZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXNfZm9yayB8fCB0aGlzLiNibG9ja2luZ19wZW5kaW5nID4gMDtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0ge0VmZmVjdFtdfSByb290X2VmZmVjdHNcblx0ICovXG5cdHByb2Nlc3Mocm9vdF9lZmZlY3RzKSB7XG5cdFx0cXVldWVkX3Jvb3RfZWZmZWN0cyA9IFtdO1xuXG5cdFx0cHJldmlvdXNfYmF0Y2ggPSBudWxsO1xuXG5cdFx0dGhpcy5hcHBseSgpO1xuXG5cdFx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0XHR2YXIgZWZmZWN0cyA9IFtdO1xuXG5cdFx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0XHR2YXIgcmVuZGVyX2VmZmVjdHMgPSBbXTtcblxuXHRcdGZvciAoY29uc3Qgcm9vdCBvZiByb290X2VmZmVjdHMpIHtcblx0XHRcdHRoaXMuI3RyYXZlcnNlX2VmZmVjdF90cmVlKHJvb3QsIGVmZmVjdHMsIHJlbmRlcl9lZmZlY3RzKTtcblx0XHRcdC8vIE5vdGU6ICN0cmF2ZXJzZV9lZmZlY3RfdHJlZSBydW5zIGJsb2NrIGVmZmVjdHMgZWFnZXJseSwgd2hpY2ggY2FuIHNjaGVkdWxlIGVmZmVjdHMsXG5cdFx0XHQvLyB3aGljaCBtZWFucyBxdWV1ZWRfcm9vdF9lZmZlY3RzIG5vdyBtYXkgYmUgZmlsbGVkIGFnYWluLlxuXG5cdFx0XHQvLyBIZWxwZnVsIGZvciBkZWJ1Z2dpbmcgcmVhY3Rpdml0eSBsb3NzIHRoYXQgaGFzIHRvIGRvIHdpdGggYnJhbmNoZXMgYmVpbmcgc2tpcHBlZDpcblx0XHRcdC8vIGxvZ19pbmNvbnNpc3RlbnRfYnJhbmNoZXMocm9vdCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmlzX2ZvcmspIHtcblx0XHRcdHRoaXMuI3Jlc29sdmUoKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5pc19kZWZlcnJlZCgpKSB7XG5cdFx0XHR0aGlzLiNkZWZlcl9lZmZlY3RzKHJlbmRlcl9lZmZlY3RzKTtcblx0XHRcdHRoaXMuI2RlZmVyX2VmZmVjdHMoZWZmZWN0cyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIElmIHNvdXJjZXMgYXJlIHdyaXR0ZW4gdG8sIHRoZW4gd29yayBuZWVkcyB0byBoYXBwZW4gaW4gYSBzZXBhcmF0ZSBiYXRjaCwgZWxzZSBwcmlvciBzb3VyY2VzIHdvdWxkIGJlIG1peGVkIHdpdGhcblx0XHRcdC8vIG5ld2x5IHVwZGF0ZWQgc291cmNlcywgd2hpY2ggY291bGQgbGVhZCB0byBpbmZpbml0ZSBsb29wcyB3aGVuIGVmZmVjdHMgcnVuIG92ZXIgYW5kIG92ZXIgYWdhaW4uXG5cdFx0XHRwcmV2aW91c19iYXRjaCA9IHRoaXM7XG5cdFx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblxuXHRcdFx0Zmx1c2hfcXVldWVkX2VmZmVjdHMocmVuZGVyX2VmZmVjdHMpO1xuXHRcdFx0Zmx1c2hfcXVldWVkX2VmZmVjdHMoZWZmZWN0cyk7XG5cblx0XHRcdHByZXZpb3VzX2JhdGNoID0gbnVsbDtcblxuXHRcdFx0dGhpcy4jZGVmZXJyZWQ/LnJlc29sdmUoKTtcblx0XHR9XG5cblx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYXZlcnNlIHRoZSBlZmZlY3QgdHJlZSwgZXhlY3V0aW5nIGVmZmVjdHMgb3Igc3Rhc2hpbmdcblx0ICogdGhlbSBmb3IgbGF0ZXIgZXhlY3V0aW9uIGFzIGFwcHJvcHJpYXRlXG5cdCAqIEBwYXJhbSB7RWZmZWN0fSByb290XG5cdCAqIEBwYXJhbSB7RWZmZWN0W119IGVmZmVjdHNcblx0ICogQHBhcmFtIHtFZmZlY3RbXX0gcmVuZGVyX2VmZmVjdHNcblx0ICovXG5cdCN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290LCBlZmZlY3RzLCByZW5kZXJfZWZmZWN0cykge1xuXHRcdHJvb3QuZiBePSBDTEVBTjtcblxuXHRcdHZhciBlZmZlY3QgPSByb290LmZpcnN0O1xuXG5cdFx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHRcdHZhciBwZW5kaW5nX2JvdW5kYXJ5ID0gbnVsbDtcblxuXHRcdHdoaWxlIChlZmZlY3QgIT09IG51bGwpIHtcblx0XHRcdHZhciBmbGFncyA9IGVmZmVjdC5mO1xuXHRcdFx0dmFyIGlzX2JyYW5jaCA9IChmbGFncyAmIChCUkFOQ0hfRUZGRUNUIHwgUk9PVF9FRkZFQ1QpKSAhPT0gMDtcblx0XHRcdHZhciBpc19za2lwcGFibGVfYnJhbmNoID0gaXNfYnJhbmNoICYmIChmbGFncyAmIENMRUFOKSAhPT0gMDtcblxuXHRcdFx0dmFyIHNraXAgPSBpc19za2lwcGFibGVfYnJhbmNoIHx8IChmbGFncyAmIElORVJUKSAhPT0gMCB8fCB0aGlzLnNraXBwZWRfZWZmZWN0cy5oYXMoZWZmZWN0KTtcblxuXHRcdFx0Ly8gSW5zaWRlIGEgYDxzdmVsdGU6Ym91bmRhcnk+YCB3aXRoIGEgcGVuZGluZyBzbmlwcGV0LFxuXHRcdFx0Ly8gYWxsIGVmZmVjdHMgYXJlIGRlZmVycmVkIHVudGlsIHRoZSBib3VuZGFyeSByZXNvbHZlc1xuXHRcdFx0Ly8gKGV4Y2VwdCBibG9jay9hc3luYyBlZmZlY3RzLCB3aGljaCBydW4gaW1tZWRpYXRlbHkpXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGFzeW5jX21vZGVfZmxhZyAmJlxuXHRcdFx0XHRwZW5kaW5nX2JvdW5kYXJ5ID09PSBudWxsICYmXG5cdFx0XHRcdChmbGFncyAmIEJPVU5EQVJZX0VGRkVDVCkgIT09IDAgJiZcblx0XHRcdFx0ZWZmZWN0LmI/LmlzX3BlbmRpbmdcblx0XHRcdCkge1xuXHRcdFx0XHRwZW5kaW5nX2JvdW5kYXJ5ID0gZWZmZWN0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXNraXAgJiYgZWZmZWN0LmZuICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChpc19icmFuY2gpIHtcblx0XHRcdFx0XHRlZmZlY3QuZiBePSBDTEVBTjtcblx0XHRcdFx0fSBlbHNlIGlmIChcblx0XHRcdFx0XHRwZW5kaW5nX2JvdW5kYXJ5ICE9PSBudWxsICYmXG5cdFx0XHRcdFx0KGZsYWdzICYgKEVGRkVDVCB8IFJFTkRFUl9FRkZFQ1QgfCBNQU5BR0VEX0VGRkVDVCkpICE9PSAwXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovIChwZW5kaW5nX2JvdW5kYXJ5LmIpLmRlZmVyX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKChmbGFncyAmIEVGRkVDVCkgIT09IDApIHtcblx0XHRcdFx0XHRlZmZlY3RzLnB1c2goZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIGlmIChhc3luY19tb2RlX2ZsYWcgJiYgKGZsYWdzICYgKFJFTkRFUl9FRkZFQ1QgfCBNQU5BR0VEX0VGRkVDVCkpICE9PSAwKSB7XG5cdFx0XHRcdFx0cmVuZGVyX2VmZmVjdHMucHVzaChlZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdFx0XHRpZiAoKGZsYWdzICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCkgdGhpcy4jZGlydHlfZWZmZWN0cy5hZGQoZWZmZWN0KTtcblx0XHRcdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgY2hpbGQgPSBlZmZlY3QuZmlyc3Q7XG5cblx0XHRcdFx0aWYgKGNoaWxkICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0ZWZmZWN0ID0gY2hpbGQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVmZmVjdC5wYXJlbnQ7XG5cdFx0XHRlZmZlY3QgPSBlZmZlY3QubmV4dDtcblxuXHRcdFx0d2hpbGUgKGVmZmVjdCA9PT0gbnVsbCAmJiBwYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHBhcmVudCA9PT0gcGVuZGluZ19ib3VuZGFyeSkge1xuXHRcdFx0XHRcdHBlbmRpbmdfYm91bmRhcnkgPSBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWZmZWN0ID0gcGFyZW50Lm5leHQ7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RWZmZWN0W119IGVmZmVjdHNcblx0ICovXG5cdCNkZWZlcl9lZmZlY3RzKGVmZmVjdHMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVmZmVjdHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGRlZmVyX2VmZmVjdChlZmZlY3RzW2ldLCB0aGlzLiNkaXJ0eV9lZmZlY3RzLCB0aGlzLiNtYXliZV9kaXJ0eV9lZmZlY3RzKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQXNzb2NpYXRlIGEgY2hhbmdlIHRvIGEgZ2l2ZW4gc291cmNlIHdpdGggdGhlIGN1cnJlbnRcblx0ICogYmF0Y2gsIG5vdGluZyBpdHMgcHJldmlvdXMgYW5kIGN1cnJlbnQgdmFsdWVzXG5cdCAqIEBwYXJhbSB7U291cmNlfSBzb3VyY2Vcblx0ICogQHBhcmFtIHthbnl9IHZhbHVlXG5cdCAqL1xuXHRjYXB0dXJlKHNvdXJjZSwgdmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT09IFVOSU5JVElBTElaRUQgJiYgIXRoaXMucHJldmlvdXMuaGFzKHNvdXJjZSkpIHtcblx0XHRcdHRoaXMucHJldmlvdXMuc2V0KHNvdXJjZSwgdmFsdWUpO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHNhdmUgZXJyb3JzIGluIGBiYXRjaF92YWx1ZXNgLCBvciB0aGV5IHdvbid0IGJlIHRocm93biBpbiBgcnVudGltZS5qcyNnZXRgXG5cdFx0aWYgKChzb3VyY2UuZiAmIEVSUk9SX1ZBTFVFKSA9PT0gMCkge1xuXHRcdFx0dGhpcy5jdXJyZW50LnNldChzb3VyY2UsIHNvdXJjZS52KTtcblx0XHRcdGJhdGNoX3ZhbHVlcz8uc2V0KHNvdXJjZSwgc291cmNlLnYpO1xuXHRcdH1cblx0fVxuXG5cdGFjdGl2YXRlKCkge1xuXHRcdGN1cnJlbnRfYmF0Y2ggPSB0aGlzO1xuXHRcdHRoaXMuYXBwbHkoKTtcblx0fVxuXG5cdGRlYWN0aXZhdGUoKSB7XG5cdFx0Ly8gSWYgd2UncmUgbm90IHRoZSBjdXJyZW50IGJhdGNoLCBkb24ndCBkZWFjdGl2YXRlLFxuXHRcdC8vIGVsc2Ugd2UgY291bGQgY3JlYXRlIHpvbWJpZSBiYXRjaGVzIHRoYXQgYXJlIG5ldmVyIGZsdXNoZWRcblx0XHRpZiAoY3VycmVudF9iYXRjaCAhPT0gdGhpcykgcmV0dXJuO1xuXG5cdFx0Y3VycmVudF9iYXRjaCA9IG51bGw7XG5cdFx0YmF0Y2hfdmFsdWVzID0gbnVsbDtcblx0fVxuXG5cdGZsdXNoKCkge1xuXHRcdHRoaXMuYWN0aXZhdGUoKTtcblxuXHRcdGlmIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdGZsdXNoX2VmZmVjdHMoKTtcblxuXHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwgJiYgY3VycmVudF9iYXRjaCAhPT0gdGhpcykge1xuXHRcdFx0XHQvLyB0aGlzIGNhbiBoYXBwZW4gaWYgYSBuZXcgYmF0Y2ggd2FzIGNyZWF0ZWQgZHVyaW5nIGBmbHVzaF9lZmZlY3RzKClgXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdHRoaXMucHJvY2VzcyhbXSk7IC8vIFRPRE8gdGhpcyBmZWVscyBhd2t3YXJkXG5cdFx0fVxuXG5cdFx0dGhpcy5kZWFjdGl2YXRlKCk7XG5cdH1cblxuXHRkaXNjYXJkKCkge1xuXHRcdGZvciAoY29uc3QgZm4gb2YgdGhpcy4jZGlzY2FyZF9jYWxsYmFja3MpIGZuKHRoaXMpO1xuXHRcdHRoaXMuI2Rpc2NhcmRfY2FsbGJhY2tzLmNsZWFyKCk7XG5cdH1cblxuXHQjcmVzb2x2ZSgpIHtcblx0XHRpZiAodGhpcy4jYmxvY2tpbmdfcGVuZGluZyA9PT0gMCkge1xuXHRcdFx0Ly8gYXBwZW5kL3JlbW92ZSBicmFuY2hlc1xuXHRcdFx0Zm9yIChjb25zdCBmbiBvZiB0aGlzLiNjb21taXRfY2FsbGJhY2tzKSBmbigpO1xuXHRcdFx0dGhpcy4jY29tbWl0X2NhbGxiYWNrcy5jbGVhcigpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nID09PSAwKSB7XG5cdFx0XHR0aGlzLiNjb21taXQoKTtcblx0XHR9XG5cdH1cblxuXHQjY29tbWl0KCkge1xuXHRcdC8vIElmIHRoZXJlIGFyZSBvdGhlciBwZW5kaW5nIGJhdGNoZXMsIHRoZXkgbm93IG5lZWQgdG8gYmUgJ3JlYmFzZWQnIFx1MjAxNFxuXHRcdC8vIGluIG90aGVyIHdvcmRzLCB3ZSByZS1ydW4gYmxvY2svYXN5bmMgZWZmZWN0cyB3aXRoIHRoZSBuZXdseVxuXHRcdC8vIGNvbW1pdHRlZCBzdGF0ZSwgdW5sZXNzIHRoZSBiYXRjaCBpbiBxdWVzdGlvbiBoYXMgYSBtb3JlXG5cdFx0Ly8gcmVjZW50IHZhbHVlIGZvciBhIGdpdmVuIHNvdXJjZVxuXHRcdGlmIChiYXRjaGVzLnNpemUgPiAxKSB7XG5cdFx0XHR0aGlzLnByZXZpb3VzLmNsZWFyKCk7XG5cblx0XHRcdHZhciBwcmV2aW91c19iYXRjaF92YWx1ZXMgPSBiYXRjaF92YWx1ZXM7XG5cdFx0XHR2YXIgaXNfZWFybGllciA9IHRydWU7XG5cblx0XHRcdGZvciAoY29uc3QgYmF0Y2ggb2YgYmF0Y2hlcykge1xuXHRcdFx0XHRpZiAoYmF0Y2ggPT09IHRoaXMpIHtcblx0XHRcdFx0XHRpc19lYXJsaWVyID0gZmFsc2U7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvKiogQHR5cGUge1NvdXJjZVtdfSAqL1xuXHRcdFx0XHRjb25zdCBzb3VyY2VzID0gW107XG5cblx0XHRcdFx0Zm9yIChjb25zdCBbc291cmNlLCB2YWx1ZV0gb2YgdGhpcy5jdXJyZW50KSB7XG5cdFx0XHRcdFx0aWYgKGJhdGNoLmN1cnJlbnQuaGFzKHNvdXJjZSkpIHtcblx0XHRcdFx0XHRcdGlmIChpc19lYXJsaWVyICYmIHZhbHVlICE9PSBiYXRjaC5jdXJyZW50LmdldChzb3VyY2UpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGJyaW5nIHRoZSB2YWx1ZSB1cCB0byBkYXRlXG5cdFx0XHRcdFx0XHRcdGJhdGNoLmN1cnJlbnQuc2V0KHNvdXJjZSwgdmFsdWUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gc2FtZSB2YWx1ZSBvciBsYXRlciBiYXRjaCBoYXMgbW9yZSByZWNlbnQgdmFsdWUsXG5cdFx0XHRcdFx0XHRcdC8vIG5vIG5lZWQgdG8gcmUtcnVuIHRoZXNlIGVmZmVjdHNcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c291cmNlcy5wdXNoKHNvdXJjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlLXJ1biBhc3luYy9ibG9jayBlZmZlY3RzIHRoYXQgZGVwZW5kIG9uIGRpc3RpbmN0IHZhbHVlcyBjaGFuZ2VkIGluIGJvdGggYmF0Y2hlc1xuXHRcdFx0XHRjb25zdCBvdGhlcnMgPSBbLi4uYmF0Y2guY3VycmVudC5rZXlzKCldLmZpbHRlcigocykgPT4gIXRoaXMuY3VycmVudC5oYXMocykpO1xuXHRcdFx0XHRpZiAob3RoZXJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHQvLyBBdm9pZCBydW5uaW5nIHF1ZXVlZCByb290IGVmZmVjdHMgb24gdGhlIHdyb25nIGJyYW5jaFxuXHRcdFx0XHRcdHZhciBwcmV2X3F1ZXVlZF9yb290X2VmZmVjdHMgPSBxdWV1ZWRfcm9vdF9lZmZlY3RzO1xuXHRcdFx0XHRcdHF1ZXVlZF9yb290X2VmZmVjdHMgPSBbXTtcblxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7U2V0PFZhbHVlPn0gKi9cblx0XHRcdFx0XHRjb25zdCBtYXJrZWQgPSBuZXcgU2V0KCk7XG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtNYXA8UmVhY3Rpb24sIGJvb2xlYW4+fSAqL1xuXHRcdFx0XHRcdGNvbnN0IGNoZWNrZWQgPSBuZXcgTWFwKCk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlcykge1xuXHRcdFx0XHRcdFx0bWFya19lZmZlY3RzKHNvdXJjZSwgb3RoZXJzLCBtYXJrZWQsIGNoZWNrZWQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRfYmF0Y2ggPSBiYXRjaDtcblx0XHRcdFx0XHRcdGJhdGNoLmFwcGx5KCk7XG5cblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgcm9vdCBvZiBxdWV1ZWRfcm9vdF9lZmZlY3RzKSB7XG5cdFx0XHRcdFx0XHRcdGJhdGNoLiN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290LCBbXSwgW10pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBUT0RPIGRvIHdlIG5lZWQgdG8gZG8gYW55dGhpbmcgd2l0aCB0aGUgZHVtbXkgZWZmZWN0IGFycmF5cz9cblxuXHRcdFx0XHRcdFx0YmF0Y2guZGVhY3RpdmF0ZSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHF1ZXVlZF9yb290X2VmZmVjdHMgPSBwcmV2X3F1ZXVlZF9yb290X2VmZmVjdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudF9iYXRjaCA9IG51bGw7XG5cdFx0XHRiYXRjaF92YWx1ZXMgPSBwcmV2aW91c19iYXRjaF92YWx1ZXM7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb21taXR0ZWQgPSB0cnVlO1xuXHRcdGJhdGNoZXMuZGVsZXRlKHRoaXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYmxvY2tpbmdcblx0ICovXG5cdGluY3JlbWVudChibG9ja2luZykge1xuXHRcdHRoaXMuI3BlbmRpbmcgKz0gMTtcblx0XHRpZiAoYmxvY2tpbmcpIHRoaXMuI2Jsb2NraW5nX3BlbmRpbmcgKz0gMTtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGJsb2NraW5nXG5cdCAqL1xuXHRkZWNyZW1lbnQoYmxvY2tpbmcpIHtcblx0XHR0aGlzLiNwZW5kaW5nIC09IDE7XG5cdFx0aWYgKGJsb2NraW5nKSB0aGlzLiNibG9ja2luZ19wZW5kaW5nIC09IDE7XG5cblx0XHR0aGlzLnJldml2ZSgpO1xuXHR9XG5cblx0cmV2aXZlKCkge1xuXHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNkaXJ0eV9lZmZlY3RzKSB7XG5cdFx0XHR0aGlzLiNtYXliZV9kaXJ0eV9lZmZlY3RzLmRlbGV0ZShlKTtcblx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGUsIERJUlRZKTtcblx0XHRcdHNjaGVkdWxlX2VmZmVjdChlKTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGUgb2YgdGhpcy4jbWF5YmVfZGlydHlfZWZmZWN0cykge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZSwgTUFZQkVfRElSVFkpO1xuXHRcdFx0c2NoZWR1bGVfZWZmZWN0KGUpO1xuXHRcdH1cblxuXHRcdHRoaXMuZmx1c2goKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0geygpID0+IHZvaWR9IGZuICovXG5cdG9uY29tbWl0KGZuKSB7XG5cdFx0dGhpcy4jY29tbWl0X2NhbGxiYWNrcy5hZGQoZm4pO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7KGJhdGNoOiBCYXRjaCkgPT4gdm9pZH0gZm4gKi9cblx0b25kaXNjYXJkKGZuKSB7XG5cdFx0dGhpcy4jZGlzY2FyZF9jYWxsYmFja3MuYWRkKGZuKTtcblx0fVxuXG5cdHNldHRsZWQoKSB7XG5cdFx0cmV0dXJuICh0aGlzLiNkZWZlcnJlZCA/Pz0gZGVmZXJyZWQoKSkucHJvbWlzZTtcblx0fVxuXG5cdHN0YXRpYyBlbnN1cmUoKSB7XG5cdFx0aWYgKGN1cnJlbnRfYmF0Y2ggPT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGJhdGNoID0gKGN1cnJlbnRfYmF0Y2ggPSBuZXcgQmF0Y2goKSk7XG5cdFx0XHRiYXRjaGVzLmFkZChjdXJyZW50X2JhdGNoKTtcblxuXHRcdFx0aWYgKCFpc19mbHVzaGluZ19zeW5jKSB7XG5cdFx0XHRcdEJhdGNoLmVucXVldWUoKCkgPT4ge1xuXHRcdFx0XHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSBiYXRjaCkge1xuXHRcdFx0XHRcdFx0Ly8gYSBmbHVzaFN5bmMgaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YmF0Y2guZmx1c2goKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1cnJlbnRfYmF0Y2g7XG5cdH1cblxuXHQvKiogQHBhcmFtIHsoKSA9PiB2b2lkfSB0YXNrICovXG5cdHN0YXRpYyBlbnF1ZXVlKHRhc2spIHtcblx0XHRxdWV1ZV9taWNyb190YXNrKHRhc2spO1xuXHR9XG5cblx0YXBwbHkoKSB7XG5cdFx0aWYgKCFhc3luY19tb2RlX2ZsYWcgfHwgKCF0aGlzLmlzX2ZvcmsgJiYgYmF0Y2hlcy5zaXplID09PSAxKSkgcmV0dXJuO1xuXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIG11bHRpcGxlIGJhdGNoZXMsIHdlIGFyZSAndGltZSB0cmF2ZWxsaW5nJyBcdTIwMTRcblx0XHQvLyB3ZSBuZWVkIHRvIG92ZXJyaWRlIHZhbHVlcyB3aXRoIHRoZSBvbmVzIGluIHRoaXMgYmF0Y2guLi5cblx0XHRiYXRjaF92YWx1ZXMgPSBuZXcgTWFwKHRoaXMuY3VycmVudCk7XG5cblx0XHQvLyAuLi5hbmQgdW5kbyBjaGFuZ2VzIGJlbG9uZ2luZyB0byBvdGhlciBiYXRjaGVzXG5cdFx0Zm9yIChjb25zdCBiYXRjaCBvZiBiYXRjaGVzKSB7XG5cdFx0XHRpZiAoYmF0Y2ggPT09IHRoaXMpIGNvbnRpbnVlO1xuXG5cdFx0XHRmb3IgKGNvbnN0IFtzb3VyY2UsIHByZXZpb3VzXSBvZiBiYXRjaC5wcmV2aW91cykge1xuXHRcdFx0XHRpZiAoIWJhdGNoX3ZhbHVlcy5oYXMoc291cmNlKSkge1xuXHRcdFx0XHRcdGJhdGNoX3ZhbHVlcy5zZXQoc291cmNlLCBwcmV2aW91cyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IGZsdXNoIGFueSBwZW5kaW5nIHVwZGF0ZXMuXG4gKiBSZXR1cm5zIHZvaWQgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgY2FsbGJhY2suXG4gKiBAdGVtcGxhdGUgW1Q9dm9pZF1cbiAqIEBwYXJhbSB7KCgpID0+IFQpIHwgdW5kZWZpbmVkfSBbZm5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoU3luYyhmbikge1xuXHR2YXIgd2FzX2ZsdXNoaW5nX3N5bmMgPSBpc19mbHVzaGluZ19zeW5jO1xuXHRpc19mbHVzaGluZ19zeW5jID0gdHJ1ZTtcblxuXHR0cnkge1xuXHRcdHZhciByZXN1bHQ7XG5cblx0XHRpZiAoZm4pIHtcblx0XHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSBudWxsKSB7XG5cdFx0XHRcdGZsdXNoX2VmZmVjdHMoKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzdWx0ID0gZm4oKTtcblx0XHR9XG5cblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Zmx1c2hfdGFza3MoKTtcblxuXHRcdFx0aWYgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGN1cnJlbnRfYmF0Y2g/LmZsdXNoKCk7XG5cblx0XHRcdFx0Ly8gd2UgbmVlZCB0byBjaGVjayBhZ2FpbiwgaW4gY2FzZSB3ZSBqdXN0IHVwZGF0ZWQgYW4gYCRlZmZlY3QucGVuZGluZygpYFxuXHRcdFx0XHRpZiAocXVldWVkX3Jvb3RfZWZmZWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHQvLyB0aGlzIHdvdWxkIGJlIHJlc2V0IGluIGBmbHVzaF9lZmZlY3RzKClgIGJ1dCBzaW5jZSB3ZSBhcmUgZWFybHkgcmV0dXJuaW5nIGhlcmUsXG5cdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byByZXNldCBpdCBoZXJlIGFzIHdlbGwgaW4gY2FzZSB0aGUgZmlyc3QgdGltZSB0aGVyZSdzIDAgcXVldWVkIHJvb3QgZWZmZWN0c1xuXHRcdFx0XHRcdGxhc3Rfc2NoZWR1bGVkX2VmZmVjdCA9IG51bGw7XG5cblx0XHRcdFx0XHRyZXR1cm4gLyoqIEB0eXBlIHtUfSAqLyAocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmbHVzaF9lZmZlY3RzKCk7XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdGlzX2ZsdXNoaW5nX3N5bmMgPSB3YXNfZmx1c2hpbmdfc3luYztcblx0fVxufVxuXG5mdW5jdGlvbiBmbHVzaF9lZmZlY3RzKCkge1xuXHR2YXIgd2FzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblx0aXNfZmx1c2hpbmcgPSB0cnVlO1xuXG5cdHZhciBzb3VyY2Vfc3RhY2tzID0gREVWID8gbmV3IFNldCgpIDogbnVsbDtcblxuXHR0cnkge1xuXHRcdHZhciBmbHVzaF9jb3VudCA9IDA7XG5cdFx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdCh0cnVlKTtcblxuXHRcdHdoaWxlIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdHZhciBiYXRjaCA9IEJhdGNoLmVuc3VyZSgpO1xuXG5cdFx0XHRpZiAoZmx1c2hfY291bnQrKyA+IDEwMDApIHtcblx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdHZhciB1cGRhdGVzID0gbmV3IE1hcCgpO1xuXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBzb3VyY2Ugb2YgYmF0Y2guY3VycmVudC5rZXlzKCkpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgW3N0YWNrLCB1cGRhdGVdIG9mIHNvdXJjZS51cGRhdGVkID8/IFtdKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlbnRyeSA9IHVwZGF0ZXMuZ2V0KHN0YWNrKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIWVudHJ5KSB7XG5cdFx0XHRcdFx0XHRcdFx0ZW50cnkgPSB7IGVycm9yOiB1cGRhdGUuZXJyb3IsIGNvdW50OiAwIH07XG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlcy5zZXQoc3RhY2ssIGVudHJ5KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGVudHJ5LmNvdW50ICs9IHVwZGF0ZS5jb3VudDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzLnZhbHVlcygpKSB7XG5cdFx0XHRcdFx0XHRpZiAodXBkYXRlLmVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IodXBkYXRlLmVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbmZpbml0ZV9sb29wX2d1YXJkKCk7XG5cdFx0XHR9XG5cblx0XHRcdGJhdGNoLnByb2Nlc3MocXVldWVkX3Jvb3RfZWZmZWN0cyk7XG5cdFx0XHRvbGRfdmFsdWVzLmNsZWFyKCk7XG5cblx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0Zm9yIChjb25zdCBzb3VyY2Ugb2YgYmF0Y2guY3VycmVudC5rZXlzKCkpIHtcblx0XHRcdFx0XHQvKiogQHR5cGUge1NldDxTb3VyY2U+fSAqLyAoc291cmNlX3N0YWNrcykuYWRkKHNvdXJjZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfZmx1c2hpbmcgPSBmYWxzZTtcblx0XHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHdhc191cGRhdGluZ19lZmZlY3QpO1xuXG5cdFx0bGFzdF9zY2hlZHVsZWRfZWZmZWN0ID0gbnVsbDtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdGZvciAoY29uc3Qgc291cmNlIG9mIC8qKiBAdHlwZSB7U2V0PFNvdXJjZT59ICovIChzb3VyY2Vfc3RhY2tzKSkge1xuXHRcdFx0XHRzb3VyY2UudXBkYXRlZCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGluZmluaXRlX2xvb3BfZ3VhcmQoKSB7XG5cdHRyeSB7XG5cdFx0ZS5lZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkKCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0Ly8gc3RhY2sgY29udGFpbnMgbm8gdXNlZnVsIGluZm9ybWF0aW9uLCByZXBsYWNlIGl0XG5cdFx0XHRkZWZpbmVfcHJvcGVydHkoZXJyb3IsICdzdGFjaycsIHsgdmFsdWU6ICcnIH0pO1xuXHRcdH1cblxuXHRcdC8vIEJlc3QgZWZmb3J0OiBpbnZva2UgdGhlIGJvdW5kYXJ5IG5lYXJlc3QgdGhlIG1vc3QgcmVjZW50XG5cdFx0Ly8gZWZmZWN0IGFuZCBob3BlIHRoYXQgaXQncyByZWxldmFudCB0byB0aGUgaW5maW5pdGUgbG9vcFxuXHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgbGFzdF9zY2hlZHVsZWRfZWZmZWN0KTtcblx0fVxufVxuXG4vKiogQHR5cGUge1NldDxFZmZlY3Q+IHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgZWFnZXJfYmxvY2tfZWZmZWN0cyA9IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxFZmZlY3Q+fSBlZmZlY3RzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZmx1c2hfcXVldWVkX2VmZmVjdHMoZWZmZWN0cykge1xuXHR2YXIgbGVuZ3RoID0gZWZmZWN0cy5sZW5ndGg7XG5cdGlmIChsZW5ndGggPT09IDApIHJldHVybjtcblxuXHR2YXIgaSA9IDA7XG5cblx0d2hpbGUgKGkgPCBsZW5ndGgpIHtcblx0XHR2YXIgZWZmZWN0ID0gZWZmZWN0c1tpKytdO1xuXG5cdFx0aWYgKChlZmZlY3QuZiAmIChERVNUUk9ZRUQgfCBJTkVSVCkpID09PSAwICYmIGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdGVhZ2VyX2Jsb2NrX2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cblx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblxuXHRcdFx0Ly8gRWZmZWN0cyB3aXRoIG5vIGRlcGVuZGVuY2llcyBvciB0ZWFyZG93biBkbyBub3QgZ2V0IGFkZGVkIHRvIHRoZSBlZmZlY3QgdHJlZS5cblx0XHRcdC8vIERlZmVycmVkIGVmZmVjdHMgKGUuZy4gYCRlZmZlY3QoLi4uKWApIF9hcmVfIGFkZGVkIHRvIHRoZSB0cmVlIGJlY2F1c2Ugd2Vcblx0XHRcdC8vIGRvbid0IGtub3cgaWYgd2UgbmVlZCB0byBrZWVwIHRoZW0gdW50aWwgdGhleSBhcmUgZXhlY3V0ZWQuIERvaW5nIHRoZSBjaGVja1xuXHRcdFx0Ly8gaGVyZSAocmF0aGVyIHRoYW4gaW4gYHVwZGF0ZV9lZmZlY3RgKSBhbGxvd3MgdXMgdG8gc2tpcCB0aGUgd29yayBmb3Jcblx0XHRcdC8vIGltbWVkaWF0ZSBlZmZlY3RzLlxuXHRcdFx0aWYgKGVmZmVjdC5kZXBzID09PSBudWxsICYmIGVmZmVjdC5maXJzdCA9PT0gbnVsbCAmJiBlZmZlY3Qubm9kZXMgPT09IG51bGwpIHtcblx0XHRcdFx0Ly8gaWYgdGhlcmUncyBubyB0ZWFyZG93biBvciBhYm9ydCBjb250cm9sbGVyIHdlIGNvbXBsZXRlbHkgdW5saW5rXG5cdFx0XHRcdC8vIHRoZSBlZmZlY3QgZnJvbSB0aGUgZ3JhcGhcblx0XHRcdFx0aWYgKGVmZmVjdC50ZWFyZG93biA9PT0gbnVsbCAmJiBlZmZlY3QuYWMgPT09IG51bGwpIHtcblx0XHRcdFx0XHQvLyByZW1vdmUgdGhpcyBlZmZlY3QgZnJvbSB0aGUgZ3JhcGhcblx0XHRcdFx0XHR1bmxpbmtfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8ga2VlcCB0aGUgZWZmZWN0IGluIHRoZSBncmFwaCwgYnV0IGZyZWUgdXAgc29tZSBtZW1vcnlcblx0XHRcdFx0XHRlZmZlY3QuZm4gPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHVwZGF0ZV9lZmZlY3QoKSBoYXMgYSBmbHVzaFN5bmMoKSBpbiBpdCwgd2UgbWF5IGhhdmUgZmx1c2hlZCBhbm90aGVyIGZsdXNoX3F1ZXVlZF9lZmZlY3RzKCksXG5cdFx0XHQvLyB3aGljaCBhbHJlYWR5IGhhbmRsZWQgdGhpcyBsb2dpYyBhbmQgZGlkIHNldCBlYWdlcl9ibG9ja19lZmZlY3RzIHRvIG51bGwuXG5cdFx0XHRpZiAoZWFnZXJfYmxvY2tfZWZmZWN0cz8uc2l6ZSA+IDApIHtcblx0XHRcdFx0b2xkX3ZhbHVlcy5jbGVhcigpO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgZSBvZiBlYWdlcl9ibG9ja19lZmZlY3RzKSB7XG5cdFx0XHRcdFx0Ly8gU2tpcCBlYWdlciBlZmZlY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gdW5tb3VudGVkXG5cdFx0XHRcdFx0aWYgKChlLmYgJiAoREVTVFJPWUVEIHwgSU5FUlQpKSAhPT0gMCkgY29udGludWU7XG5cblx0XHRcdFx0XHQvLyBSdW4gZWZmZWN0cyBpbiBvcmRlciBmcm9tIGFuY2VzdG9yIHRvIGRlc2NlbmRhbnQsIGVsc2Ugd2UgY291bGQgcnVuIGludG8gbnVsbHBvaW50ZXJzXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0XHRcdFx0XHRjb25zdCBvcmRlcmVkX2VmZmVjdHMgPSBbZV07XG5cdFx0XHRcdFx0bGV0IGFuY2VzdG9yID0gZS5wYXJlbnQ7XG5cdFx0XHRcdFx0d2hpbGUgKGFuY2VzdG9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRpZiAoZWFnZXJfYmxvY2tfZWZmZWN0cy5oYXMoYW5jZXN0b3IpKSB7XG5cdFx0XHRcdFx0XHRcdGVhZ2VyX2Jsb2NrX2VmZmVjdHMuZGVsZXRlKGFuY2VzdG9yKTtcblx0XHRcdFx0XHRcdFx0b3JkZXJlZF9lZmZlY3RzLnB1c2goYW5jZXN0b3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaiA9IG9yZGVyZWRfZWZmZWN0cy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZSA9IG9yZGVyZWRfZWZmZWN0c1tqXTtcblx0XHRcdFx0XHRcdC8vIFNraXAgZWFnZXIgZWZmZWN0cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHVubW91bnRlZFxuXHRcdFx0XHRcdFx0aWYgKChlLmYgJiAoREVTVFJPWUVEIHwgSU5FUlQpKSAhPT0gMCkgY29udGludWU7XG5cdFx0XHRcdFx0XHR1cGRhdGVfZWZmZWN0KGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVhZ2VyX2Jsb2NrX2VmZmVjdHMuY2xlYXIoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRlYWdlcl9ibG9ja19lZmZlY3RzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYG1hcmtfcmVhY3Rpb25zYCwgYnV0IGl0IG9ubHkgbWFya3MgYXN5bmMvYmxvY2sgZWZmZWN0c1xuICogZGVwZW5kaW5nIG9uIGB2YWx1ZWAgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGUgb3RoZXIgYHNvdXJjZXNgLCBzbyB0aGF0XG4gKiB0aGVzZSBlZmZlY3RzIGNhbiByZS1ydW4gYWZ0ZXIgYW5vdGhlciBiYXRjaCBoYXMgYmVlbiBjb21taXR0ZWRcbiAqIEBwYXJhbSB7VmFsdWV9IHZhbHVlXG4gKiBAcGFyYW0ge1NvdXJjZVtdfSBzb3VyY2VzXG4gKiBAcGFyYW0ge1NldDxWYWx1ZT59IG1hcmtlZFxuICogQHBhcmFtIHtNYXA8UmVhY3Rpb24sIGJvb2xlYW4+fSBjaGVja2VkXG4gKi9cbmZ1bmN0aW9uIG1hcmtfZWZmZWN0cyh2YWx1ZSwgc291cmNlcywgbWFya2VkLCBjaGVja2VkKSB7XG5cdGlmIChtYXJrZWQuaGFzKHZhbHVlKSkgcmV0dXJuO1xuXHRtYXJrZWQuYWRkKHZhbHVlKTtcblxuXHRpZiAodmFsdWUucmVhY3Rpb25zICE9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCByZWFjdGlvbiBvZiB2YWx1ZS5yZWFjdGlvbnMpIHtcblx0XHRcdGNvbnN0IGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRcdFx0aWYgKChmbGFncyAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHRcdG1hcmtfZWZmZWN0cygvKiogQHR5cGUge0Rlcml2ZWR9ICovIChyZWFjdGlvbiksIHNvdXJjZXMsIG1hcmtlZCwgY2hlY2tlZCk7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHQoZmxhZ3MgJiAoQVNZTkMgfCBCTE9DS19FRkZFQ1QpKSAhPT0gMCAmJlxuXHRcdFx0XHQoZmxhZ3MgJiBESVJUWSkgPT09IDAgJiZcblx0XHRcdFx0ZGVwZW5kc19vbihyZWFjdGlvbiwgc291cmNlcywgY2hlY2tlZClcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgRElSVFkpO1xuXHRcdFx0XHRzY2hlZHVsZV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFdoZW4gY29tbWl0dGluZyBhIGZvcmssIHdlIG5lZWQgdG8gdHJpZ2dlciBlYWdlciBlZmZlY3RzIHNvIHRoYXRcbiAqIGFueSBgJHN0YXRlLmVhZ2VyKC4uLilgIGV4cHJlc3Npb25zIHVwZGF0ZSBpbW1lZGlhdGVseS4gVGhpc1xuICogZnVuY3Rpb24gYWxsb3dzIHVzIHRvIGRpc2NvdmVyIHRoZW1cbiAqIEBwYXJhbSB7VmFsdWV9IHZhbHVlXG4gKiBAcGFyYW0ge1NldDxFZmZlY3Q+fSBlZmZlY3RzXG4gKi9cbmZ1bmN0aW9uIG1hcmtfZWFnZXJfZWZmZWN0cyh2YWx1ZSwgZWZmZWN0cykge1xuXHRpZiAodmFsdWUucmVhY3Rpb25zID09PSBudWxsKSByZXR1cm47XG5cblx0Zm9yIChjb25zdCByZWFjdGlvbiBvZiB2YWx1ZS5yZWFjdGlvbnMpIHtcblx0XHRjb25zdCBmbGFncyA9IHJlYWN0aW9uLmY7XG5cblx0XHRpZiAoKGZsYWdzICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdG1hcmtfZWFnZXJfZWZmZWN0cygvKiogQHR5cGUge0Rlcml2ZWR9ICovIChyZWFjdGlvbiksIGVmZmVjdHMpO1xuXHRcdH0gZWxzZSBpZiAoKGZsYWdzICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIERJUlRZKTtcblx0XHRcdGVmZmVjdHMuYWRkKC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlYWN0aW9ufSByZWFjdGlvblxuICogQHBhcmFtIHtTb3VyY2VbXX0gc291cmNlc1xuICogQHBhcmFtIHtNYXA8UmVhY3Rpb24sIGJvb2xlYW4+fSBjaGVja2VkXG4gKi9cbmZ1bmN0aW9uIGRlcGVuZHNfb24ocmVhY3Rpb24sIHNvdXJjZXMsIGNoZWNrZWQpIHtcblx0Y29uc3QgZGVwZW5kcyA9IGNoZWNrZWQuZ2V0KHJlYWN0aW9uKTtcblx0aWYgKGRlcGVuZHMgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGRlcGVuZHM7XG5cblx0aWYgKHJlYWN0aW9uLmRlcHMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGRlcCBvZiByZWFjdGlvbi5kZXBzKSB7XG5cdFx0XHRpZiAoc291cmNlcy5pbmNsdWRlcyhkZXApKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKGRlcC5mICYgREVSSVZFRCkgIT09IDAgJiYgZGVwZW5kc19vbigvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApLCBzb3VyY2VzLCBjaGVja2VkKSkge1xuXHRcdFx0XHRjaGVja2VkLnNldCgvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApLCB0cnVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y2hlY2tlZC5zZXQocmVhY3Rpb24sIGZhbHNlKTtcblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IHNpZ25hbFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZV9lZmZlY3Qoc2lnbmFsKSB7XG5cdHZhciBlZmZlY3QgPSAobGFzdF9zY2hlZHVsZWRfZWZmZWN0ID0gc2lnbmFsKTtcblxuXHR3aGlsZSAoZWZmZWN0LnBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGVmZmVjdCA9IGVmZmVjdC5wYXJlbnQ7XG5cdFx0dmFyIGZsYWdzID0gZWZmZWN0LmY7XG5cblx0XHQvLyBpZiB0aGUgZWZmZWN0IGlzIGJlaW5nIHNjaGVkdWxlZCBiZWNhdXNlIGEgcGFyZW50IChlYWNoL2F3YWl0L2V0YykgYmxvY2tcblx0XHQvLyB1cGRhdGVkIGFuIGludGVybmFsIHNvdXJjZSwgYmFpbCBvdXQgb3Igd2UnbGwgY2F1c2UgYSBzZWNvbmQgZmx1c2hcblx0XHRpZiAoXG5cdFx0XHRpc19mbHVzaGluZyAmJlxuXHRcdFx0ZWZmZWN0ID09PSBhY3RpdmVfZWZmZWN0ICYmXG5cdFx0XHQoZmxhZ3MgJiBCTE9DS19FRkZFQ1QpICE9PSAwICYmXG5cdFx0XHQoZmxhZ3MgJiBIRUFEX0VGRkVDVCkgPT09IDBcblx0XHQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoKGZsYWdzICYgKFJPT1RfRUZGRUNUIHwgQlJBTkNIX0VGRkVDVCkpICE9PSAwKSB7XG5cdFx0XHRpZiAoKGZsYWdzICYgQ0xFQU4pID09PSAwKSByZXR1cm47XG5cdFx0XHRlZmZlY3QuZiBePSBDTEVBTjtcblx0XHR9XG5cdH1cblxuXHRxdWV1ZWRfcm9vdF9lZmZlY3RzLnB1c2goZWZmZWN0KTtcbn1cblxuLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPltdfSAqL1xubGV0IGVhZ2VyX3ZlcnNpb25zID0gW107XG5cbmZ1bmN0aW9uIGVhZ2VyX2ZsdXNoKCkge1xuXHR0cnkge1xuXHRcdGZsdXNoU3luYygoKSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IHZlcnNpb24gb2YgZWFnZXJfdmVyc2lvbnMpIHtcblx0XHRcdFx0dXBkYXRlKHZlcnNpb24pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGZpbmFsbHkge1xuXHRcdGVhZ2VyX3ZlcnNpb25zID0gW107XG5cdH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBgJHN0YXRlLmVhZ2VyKGZuKCkpYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFnZXIoZm4pIHtcblx0dmFyIHZlcnNpb24gPSBzb3VyY2UoMCk7XG5cdHZhciBpbml0aWFsID0gdHJ1ZTtcblx0dmFyIHZhbHVlID0gLyoqIEB0eXBlIHtUfSAqLyAodW5kZWZpbmVkKTtcblxuXHRnZXQodmVyc2lvbik7XG5cblx0ZWFnZXJfZWZmZWN0KCgpID0+IHtcblx0XHRpZiAoaW5pdGlhbCkge1xuXHRcdFx0Ly8gdGhlIGZpcnN0IHRpbWUgdGhpcyBydW5zLCB3ZSBjcmVhdGUgYW4gZWFnZXIgZWZmZWN0XG5cdFx0XHQvLyB0aGF0IHdpbGwgcnVuIGVhZ2VybHkgd2hlbmV2ZXIgdGhlIGV4cHJlc3Npb24gY2hhbmdlc1xuXHRcdFx0dmFyIHByZXZpb3VzX2JhdGNoX3ZhbHVlcyA9IGJhdGNoX3ZhbHVlcztcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YmF0Y2hfdmFsdWVzID0gbnVsbDtcblx0XHRcdFx0dmFsdWUgPSBmbigpO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YmF0Y2hfdmFsdWVzID0gcHJldmlvdXNfYmF0Y2hfdmFsdWVzO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdGhlIHNlY29uZCB0aW1lIHRoaXMgZWZmZWN0IHJ1bnMsIGl0J3MgdG8gc2NoZWR1bGUgYVxuXHRcdC8vIGB2ZXJzaW9uYCB1cGRhdGUuIHNpbmNlIHRoaXMgd2lsbCByZWNyZWF0ZSB0aGUgZWZmZWN0LFxuXHRcdC8vIHdlIGRvbid0IG5lZWQgdG8gZXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gaGVyZVxuXHRcdGlmIChlYWdlcl92ZXJzaW9ucy5sZW5ndGggPT09IDApIHtcblx0XHRcdHF1ZXVlX21pY3JvX3Rhc2soZWFnZXJfZmx1c2gpO1xuXHRcdH1cblxuXHRcdGVhZ2VyX3ZlcnNpb25zLnB1c2godmVyc2lvbik7XG5cdH0pO1xuXG5cdGluaXRpYWwgPSBmYWxzZTtcblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhICdmb3JrJywgaW4gd2hpY2ggc3RhdGUgY2hhbmdlcyBhcmUgZXZhbHVhdGVkIGJ1dCBub3QgYXBwbGllZCB0byB0aGUgRE9NLlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHNwZWN1bGF0aXZlbHkgbG9hZGluZyBkYXRhIChmb3IgZXhhbXBsZSkgd2hlbiB5b3Ugc3VzcGVjdCB0aGF0XG4gKiB0aGUgdXNlciBpcyBhYm91dCB0byB0YWtlIHNvbWUgYWN0aW9uLlxuICpcbiAqIEZyYW1ld29ya3MgbGlrZSBTdmVsdGVLaXQgY2FuIHVzZSB0aGlzIHRvIHByZWxvYWQgZGF0YSB3aGVuIHRoZSB1c2VyIHRvdWNoZXMgb3JcbiAqIGhvdmVycyBvdmVyIGEgbGluaywgbWFraW5nIGFueSBzdWJzZXF1ZW50IG5hdmlnYXRpb24gZmVlbCBpbnN0YW50YW5lb3VzLlxuICpcbiAqIFRoZSBgZm5gIHBhcmFtZXRlciBpcyBhIHN5bmNocm9ub3VzIGZ1bmN0aW9uIHRoYXQgbW9kaWZpZXMgc29tZSBzdGF0ZS4gVGhlXG4gKiBzdGF0ZSBjaGFuZ2VzIHdpbGwgYmUgcmV2ZXJ0ZWQgYWZ0ZXIgdGhlIGZvcmsgaXMgaW5pdGlhbGlzZWQsIHRoZW4gcmVhcHBsaWVkXG4gKiBpZiBhbmQgd2hlbiB0aGUgZm9yayBpcyBldmVudHVhbGx5IGNvbW1pdHRlZC5cbiAqXG4gKiBXaGVuIGl0IGJlY29tZXMgY2xlYXIgdGhhdCBhIGZvcmsgd2lsbCBfbm90XyBiZSBjb21taXR0ZWQgKGUuZy4gYmVjYXVzZSB0aGVcbiAqIHVzZXIgbmF2aWdhdGVkIGVsc2V3aGVyZSksIGl0IG11c3QgYmUgZGlzY2FyZGVkIHRvIGF2b2lkIGxlYWtpbmcgbWVtb3J5LlxuICpcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHtGb3JrfVxuICogQHNpbmNlIDUuNDJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmsoZm4pIHtcblx0aWYgKCFhc3luY19tb2RlX2ZsYWcpIHtcblx0XHRlLmV4cGVyaW1lbnRhbF9hc3luY19yZXF1aXJlZCgnZm9yaycpO1xuXHR9XG5cblx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwpIHtcblx0XHRlLmZvcmtfdGltaW5nKCk7XG5cdH1cblxuXHR2YXIgYmF0Y2ggPSBCYXRjaC5lbnN1cmUoKTtcblx0YmF0Y2guaXNfZm9yayA9IHRydWU7XG5cdGJhdGNoX3ZhbHVlcyA9IG5ldyBNYXAoKTtcblxuXHR2YXIgY29tbWl0dGVkID0gZmFsc2U7XG5cdHZhciBzZXR0bGVkID0gYmF0Y2guc2V0dGxlZCgpO1xuXG5cdGZsdXNoU3luYyhmbik7XG5cblx0Ly8gcmV2ZXJ0IHN0YXRlIGNoYW5nZXNcblx0Zm9yICh2YXIgW3NvdXJjZSwgdmFsdWVdIG9mIGJhdGNoLnByZXZpb3VzKSB7XG5cdFx0c291cmNlLnYgPSB2YWx1ZTtcblx0fVxuXG5cdC8vIG1ha2Ugd3JpdGFibGUgZGVyaXZlZHMgZGlydHksIHNvIHRoZXkgcmVjYWxjdWxhdGUgY29ycmVjdGx5XG5cdGZvciAoc291cmNlIG9mIGJhdGNoLmN1cnJlbnQua2V5cygpKSB7XG5cdFx0aWYgKChzb3VyY2UuZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhzb3VyY2UsIERJUlRZKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGNvbW1pdDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGNvbW1pdHRlZCkge1xuXHRcdFx0XHRhd2FpdCBzZXR0bGVkO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICghYmF0Y2hlcy5oYXMoYmF0Y2gpKSB7XG5cdFx0XHRcdGUuZm9ya19kaXNjYXJkZWQoKTtcblx0XHRcdH1cblxuXHRcdFx0Y29tbWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0YmF0Y2guaXNfZm9yayA9IGZhbHNlO1xuXG5cdFx0XHQvLyBhcHBseSBjaGFuZ2VzIGFuZCB1cGRhdGUgd3JpdGUgdmVyc2lvbnMgc28gZGVyaXZlZHMgc2VlIHRoZSBjaGFuZ2Vcblx0XHRcdGZvciAodmFyIFtzb3VyY2UsIHZhbHVlXSBvZiBiYXRjaC5jdXJyZW50KSB7XG5cdFx0XHRcdHNvdXJjZS52ID0gdmFsdWU7XG5cdFx0XHRcdHNvdXJjZS53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRyaWdnZXIgYW55IGAkc3RhdGUuZWFnZXIoLi4uKWAgZXhwcmVzc2lvbnMgd2l0aCB0aGUgbmV3IHN0YXRlLlxuXHRcdFx0Ly8gZWFnZXIgZWZmZWN0cyBkb24ndCBnZXQgc2NoZWR1bGVkIGxpa2Ugb3RoZXIgZWZmZWN0cywgc28gd2Vcblx0XHRcdC8vIGNhbid0IGp1c3QgZW5jb3VudGVyIHRoZW0gZHVyaW5nIHRyYXZlcnNhbCwgd2UgbmVlZCB0b1xuXHRcdFx0Ly8gcHJvYWN0aXZlbHkgZmx1c2ggdGhlbVxuXHRcdFx0Ly8gVE9ETyBtYXliZSB0aGVyZSdzIGEgYmV0dGVyIGltcGxlbWVudGF0aW9uP1xuXHRcdFx0Zmx1c2hTeW5jKCgpID0+IHtcblx0XHRcdFx0LyoqIEB0eXBlIHtTZXQ8RWZmZWN0Pn0gKi9cblx0XHRcdFx0dmFyIGVhZ2VyX2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cblx0XHRcdFx0Zm9yICh2YXIgc291cmNlIG9mIGJhdGNoLmN1cnJlbnQua2V5cygpKSB7XG5cdFx0XHRcdFx0bWFya19lYWdlcl9lZmZlY3RzKHNvdXJjZSwgZWFnZXJfZWZmZWN0cyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXRfZWFnZXJfZWZmZWN0cyhlYWdlcl9lZmZlY3RzKTtcblx0XHRcdFx0Zmx1c2hfZWFnZXJfZWZmZWN0cygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGJhdGNoLnJldml2ZSgpO1xuXHRcdFx0YXdhaXQgc2V0dGxlZDtcblx0XHR9LFxuXHRcdGRpc2NhcmQ6ICgpID0+IHtcblx0XHRcdGlmICghY29tbWl0dGVkICYmIGJhdGNoZXMuaGFzKGJhdGNoKSkge1xuXHRcdFx0XHRiYXRjaGVzLmRlbGV0ZShiYXRjaCk7XG5cdFx0XHRcdGJhdGNoLmRpc2NhcmQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogRm9yY2libHkgcmVtb3ZlIGFsbCBjdXJyZW50IGJhdGNoZXMsIHRvIHByZXZlbnQgY3Jvc3MtdGFsayBiZXR3ZWVuIHRlc3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcblx0YmF0Y2hlcy5jbGVhcigpO1xufVxuIiwgImltcG9ydCB7IGdldCwgdGljaywgdW50cmFjayB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVmZmVjdF90cmFja2luZywgcmVuZGVyX2VmZmVjdCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc291cmNlLCBpbmNyZW1lbnQgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IHRhZyB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvZG9tL3Rhc2suanMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBgc3Vic2NyaWJlYCBmdW5jdGlvbiB0aGF0IGludGVncmF0ZXMgZXh0ZXJuYWwgZXZlbnQtYmFzZWQgc3lzdGVtcyB3aXRoIFN2ZWx0ZSdzIHJlYWN0aXZpdHkuXG4gKiBJdCdzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGludGVncmF0aW5nIHdpdGggd2ViIEFQSXMgbGlrZSBgTWVkaWFRdWVyeWAsIGBJbnRlcnNlY3Rpb25PYnNlcnZlcmAsIG9yIGBXZWJTb2NrZXRgLlxuICpcbiAqIElmIGBzdWJzY3JpYmVgIGlzIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IChpbmNsdWRpbmcgaW5kaXJlY3RseSwgZm9yIGV4YW1wbGUgaW5zaWRlIGEgZ2V0dGVyKSxcbiAqIHRoZSBgc3RhcnRgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYHVwZGF0ZWAgZnVuY3Rpb24uIFdoZW5ldmVyIGB1cGRhdGVgIGlzIGNhbGxlZCwgdGhlIGVmZmVjdCByZS1ydW5zLlxuICpcbiAqIElmIGBzdGFydGAgcmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGVmZmVjdCBpcyBkZXN0cm95ZWQuXG4gKlxuICogSWYgYHN1YnNjcmliZWAgaXMgY2FsbGVkIGluIG11bHRpcGxlIGVmZmVjdHMsIGBzdGFydGAgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbmNlIGFzIGxvbmcgYXMgdGhlIGVmZmVjdHNcbiAqIGFyZSBhY3RpdmUsIGFuZCB0aGUgcmV0dXJuZWQgdGVhcmRvd24gZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGNhbGxlZCB3aGVuIGFsbCBlZmZlY3RzIGFyZSBkZXN0cm95ZWQuXG4gKlxuICogSXQncyBiZXN0IHVuZGVyc3Rvb2Qgd2l0aCBhbiBleGFtcGxlLiBIZXJlJ3MgYW4gaW1wbGVtZW50YXRpb24gb2YgW2BNZWRpYVF1ZXJ5YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3N2ZWx0ZS1yZWFjdGl2aXR5I01lZGlhUXVlcnkpOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBjcmVhdGVTdWJzY3JpYmVyIH0gZnJvbSAnc3ZlbHRlL3JlYWN0aXZpdHknO1xuICogaW1wb3J0IHsgb24gfSBmcm9tICdzdmVsdGUvZXZlbnRzJztcbiAqXG4gKiBleHBvcnQgY2xhc3MgTWVkaWFRdWVyeSB7XG4gKiBcdCNxdWVyeTtcbiAqIFx0I3N1YnNjcmliZTtcbiAqXG4gKiBcdGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gKiBcdFx0dGhpcy4jcXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShgKCR7cXVlcnl9KWApO1xuICpcbiAqIFx0XHR0aGlzLiNzdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpYmVyKCh1cGRhdGUpID0+IHtcbiAqIFx0XHRcdC8vIHdoZW4gdGhlIGBjaGFuZ2VgIGV2ZW50IG9jY3VycywgcmUtcnVuIGFueSBlZmZlY3RzIHRoYXQgcmVhZCBgdGhpcy5jdXJyZW50YFxuICogXHRcdFx0Y29uc3Qgb2ZmID0gb24odGhpcy4jcXVlcnksICdjaGFuZ2UnLCB1cGRhdGUpO1xuICpcbiAqIFx0XHRcdC8vIHN0b3AgbGlzdGVuaW5nIHdoZW4gYWxsIHRoZSBlZmZlY3RzIGFyZSBkZXN0cm95ZWRcbiAqIFx0XHRcdHJldHVybiAoKSA9PiBvZmYoKTtcbiAqIFx0XHR9KTtcbiAqIFx0fVxuICpcbiAqIFx0Z2V0IGN1cnJlbnQoKSB7XG4gKiBcdFx0Ly8gVGhpcyBtYWtlcyB0aGUgZ2V0dGVyIHJlYWN0aXZlLCBpZiByZWFkIGluIGFuIGVmZmVjdFxuICogXHRcdHRoaXMuI3N1YnNjcmliZSgpO1xuICpcbiAqIFx0XHQvLyBSZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHF1ZXJ5LCB3aGV0aGVyIG9yIG5vdCB3ZSdyZSBpbiBhbiBlZmZlY3RcbiAqIFx0XHRyZXR1cm4gdGhpcy4jcXVlcnkubWF0Y2hlcztcbiAqIFx0fVxuICogfVxuICogYGBgXG4gKiBAcGFyYW0geyh1cGRhdGU6ICgpID0+IHZvaWQpID0+ICgoKSA9PiB2b2lkKSB8IHZvaWR9IHN0YXJ0XG4gKiBAc2luY2UgNS43LjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZXIoc3RhcnQpIHtcblx0bGV0IHN1YnNjcmliZXJzID0gMDtcblx0bGV0IHZlcnNpb24gPSBzb3VyY2UoMCk7XG5cdC8qKiBAdHlwZSB7KCgpID0+IHZvaWQpIHwgdm9pZH0gKi9cblx0bGV0IHN0b3A7XG5cblx0aWYgKERFVikge1xuXHRcdHRhZyh2ZXJzaW9uLCAnY3JlYXRlU3Vic2NyaWJlciB2ZXJzaW9uJyk7XG5cdH1cblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChlZmZlY3RfdHJhY2tpbmcoKSkge1xuXHRcdFx0Z2V0KHZlcnNpb24pO1xuXG5cdFx0XHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdFx0aWYgKHN1YnNjcmliZXJzID09PSAwKSB7XG5cdFx0XHRcdFx0c3RvcCA9IHVudHJhY2soKCkgPT4gc3RhcnQoKCkgPT4gaW5jcmVtZW50KHZlcnNpb24pKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdWJzY3JpYmVycyArPSAxO1xuXG5cdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBPbmx5IGNvdW50IGRvd24gYWZ0ZXIgYSBtaWNyb3Rhc2ssIGVsc2Ugd2Ugd291bGQgcmVhY2ggMCBiZWZvcmUgb3VyIG93biByZW5kZXIgZWZmZWN0IHJlcnVucyxcblx0XHRcdFx0XHRcdC8vIGJ1dCByZWFjaCAxIGFnYWluIHdoZW4gdGhlIHRpY2sgY2FsbGJhY2sgb2YgdGhlIHByaW9yIHRlYXJkb3duIHJ1bnMuIFRoYXQgd291bGQgbWVhbiB3ZVxuXHRcdFx0XHRcdFx0Ly8gcmUtc3ViY3JpYmUgdW5uZWNlc3NhcmlseSBhbmQgY3JlYXRlIGEgbWVtb3J5IGxlYWsgYmVjYXVzZSB0aGUgb2xkIHN1YnNjcmlwdGlvbiBpcyBuZXZlciBjbGVhbmVkIHVwLlxuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcnMgLT0gMTtcblxuXHRcdFx0XHRcdFx0aWYgKHN1YnNjcmliZXJzID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHN0b3A/LigpO1xuXHRcdFx0XHRcdFx0XHRzdG9wID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHQvLyBJbmNyZW1lbnQgdGhlIHZlcnNpb24gdG8gZW5zdXJlIGFueSBkZXBlbmRlbnQgZGVyaXZlZHMgYXJlIG1hcmtlZCBkaXJ0eSB3aGVuIHRoZSBzdWJzY3JpcHRpb24gaXMgcGlja2VkIHVwIGFnYWluIGxhdGVyLlxuXHRcdFx0XHRcdFx0XHQvLyBJZiB3ZSBkaWRuJ3QgZG8gdGhpcyB0aGVuIHRoZSBjb21wYXJpc29uIG9mIHdyaXRlIHZlcnNpb25zIHdvdWxkIGRldGVybWluZSB0aGF0IHRoZSBkZXJpdmVkIGhhcyBhIGxhdGVyIHZlcnNpb24gdGhhblxuXHRcdFx0XHRcdFx0XHQvLyB0aGUgc3Vic2NyaWJlciwgYW5kIGl0IHdvdWxkIG5vdCBiZSByZS1ydW4uXG5cdFx0XHRcdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEVmZmVjdCwgU291cmNlLCBUZW1wbGF0ZU5vZGUsIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7XG5cdEJPVU5EQVJZX0VGRkVDVCxcblx0Q09NTUVOVF9OT0RFLFxuXHRESVJUWSxcblx0RUZGRUNUX1BSRVNFUlZFRCxcblx0RUZGRUNUX1RSQU5TUEFSRU5ULFxuXHRNQVlCRV9ESVJUWVxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBIWURSQVRJT05fU1RBUlRfRUxTRSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCwgc2V0X2NvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBoYW5kbGVfZXJyb3IsIGludm9rZV9lcnJvcl9ib3VuZGFyeSB9IGZyb20gJy4uLy4uL2Vycm9yLWhhbmRsaW5nLmpzJztcbmltcG9ydCB7XG5cdGJsb2NrLFxuXHRicmFuY2gsXG5cdGRlc3Ryb3lfZWZmZWN0LFxuXHRtb3ZlX2VmZmVjdCxcblx0cGF1c2VfZWZmZWN0XG59IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGdldCxcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGVfbm9kZSxcblx0aHlkcmF0aW5nLFxuXHRuZXh0LFxuXHRza2lwX25vZGVzLFxuXHRzZXRfaHlkcmF0ZV9ub2RlXG59IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uLy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uLy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgQmF0Y2gsIHNjaGVkdWxlX2VmZmVjdCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgaW50ZXJuYWxfc2V0LCBzb3VyY2UgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgdGFnIH0gZnJvbSAnLi4vLi4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaWJlciB9IGZyb20gJy4uLy4uLy4uLy4uL3JlYWN0aXZpdHkvY3JlYXRlLXN1YnNjcmliZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3RleHQgfSBmcm9tICcuLi9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IGRlZmVyX2VmZmVjdCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvdXRpbHMuanMnO1xuaW1wb3J0IHsgc2V0X3NpZ25hbF9zdGF0dXMgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L3N0YXR1cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqIFx0IG9uZXJyb3I/OiAoZXJyb3I6IHVua25vd24sIHJlc2V0OiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICogICBmYWlsZWQ/OiAoYW5jaG9yOiBOb2RlLCBlcnJvcjogKCkgPT4gdW5rbm93biwgcmVzZXQ6ICgpID0+ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gKiAgIHBlbmRpbmc/OiAoYW5jaG9yOiBOb2RlKSA9PiB2b2lkO1xuICogfX0gQm91bmRhcnlQcm9wc1xuICovXG5cbnZhciBmbGFncyA9IEVGRkVDVF9UUkFOU1BBUkVOVCB8IEVGRkVDVF9QUkVTRVJWRUQgfCBCT1VOREFSWV9FRkZFQ1Q7XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Qm91bmRhcnlQcm9wc30gcHJvcHNcbiAqIEBwYXJhbSB7KChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSBjaGlsZHJlblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGFyeShub2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0bmV3IEJvdW5kYXJ5KG5vZGUsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbmV4cG9ydCBjbGFzcyBCb3VuZGFyeSB7XG5cdC8qKiBAdHlwZSB7Qm91bmRhcnkgfCBudWxsfSAqL1xuXHRwYXJlbnQ7XG5cblx0aXNfcGVuZGluZyA9IGZhbHNlO1xuXG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqL1xuXHQjYW5jaG9yO1xuXG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0I2h5ZHJhdGVfb3BlbiA9IGh5ZHJhdGluZyA/IGh5ZHJhdGVfbm9kZSA6IG51bGw7XG5cblx0LyoqIEB0eXBlIHtCb3VuZGFyeVByb3BzfSAqL1xuXHQjcHJvcHM7XG5cblx0LyoqIEB0eXBlIHsoKGFuY2hvcjogTm9kZSkgPT4gdm9pZCl9ICovXG5cdCNjaGlsZHJlbjtcblxuXHQvKiogQHR5cGUge0VmZmVjdH0gKi9cblx0I2VmZmVjdDtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdCNtYWluX2VmZmVjdCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHQjcGVuZGluZ19lZmZlY3QgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0I2ZhaWxlZF9lZmZlY3QgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudCB8IG51bGx9ICovXG5cdCNvZmZzY3JlZW5fZnJhZ21lbnQgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0I3BlbmRpbmdfYW5jaG9yID0gbnVsbDtcblxuXHQjbG9jYWxfcGVuZGluZ19jb3VudCA9IDA7XG5cdCNwZW5kaW5nX2NvdW50ID0gMDtcblxuXHQjaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSBmYWxzZTtcblxuXHQvKiogQHR5cGUge1NldDxFZmZlY3Q+fSAqL1xuXHQjZGlydHlfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHQvKiogQHR5cGUge1NldDxFZmZlY3Q+fSAqL1xuXHQjbWF5YmVfZGlydHlfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogQSBzb3VyY2UgY29udGFpbmluZyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgYXN5bmMgZGVyaXZlZHMvZXhwcmVzc2lvbnMuXG5cdCAqIE9ubHkgY3JlYXRlZCBpZiBgJGVmZmVjdC5wZW5kaW5nKClgIGlzIHVzZWQgaW5zaWRlIHRoZSBib3VuZGFyeSxcblx0ICogb3RoZXJ3aXNlIHVwZGF0aW5nIHRoZSBzb3VyY2UgcmVzdWx0cyBpbiBuZWVkbGVzcyBgQmF0Y2guZW5zdXJlKClgXG5cdCAqIGNhbGxzIGZvbGxvd2VkIGJ5IG5vLW9wIGZsdXNoZXNcblx0ICogQHR5cGUge1NvdXJjZTxudW1iZXI+IHwgbnVsbH1cblx0ICovXG5cdCNlZmZlY3RfcGVuZGluZyA9IG51bGw7XG5cblx0I2VmZmVjdF9wZW5kaW5nX3N1YnNjcmliZXIgPSBjcmVhdGVTdWJzY3JpYmVyKCgpID0+IHtcblx0XHR0aGlzLiNlZmZlY3RfcGVuZGluZyA9IHNvdXJjZSh0aGlzLiNsb2NhbF9wZW5kaW5nX2NvdW50KTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHRhZyh0aGlzLiNlZmZlY3RfcGVuZGluZywgJyRlZmZlY3QucGVuZGluZygpJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHRoaXMuI2VmZmVjdF9wZW5kaW5nID0gbnVsbDtcblx0XHR9O1xuXHR9KTtcblxuXHQvKipcblx0ICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcblx0ICogQHBhcmFtIHtCb3VuZGFyeVByb3BzfSBwcm9wc1xuXHQgKiBAcGFyYW0geygoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gY2hpbGRyZW5cblx0ICovXG5cdGNvbnN0cnVjdG9yKG5vZGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRcdHRoaXMuI2FuY2hvciA9IG5vZGU7XG5cdFx0dGhpcy4jcHJvcHMgPSBwcm9wcztcblx0XHR0aGlzLiNjaGlsZHJlbiA9IGNoaWxkcmVuO1xuXG5cdFx0dGhpcy5wYXJlbnQgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmI7XG5cblx0XHR0aGlzLmlzX3BlbmRpbmcgPSAhIXRoaXMuI3Byb3BzLnBlbmRpbmc7XG5cblx0XHR0aGlzLiNlZmZlY3QgPSBibG9jaygoKSA9PiB7XG5cdFx0XHQvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmIgPSB0aGlzO1xuXG5cdFx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRcdGNvbnN0IGNvbW1lbnQgPSB0aGlzLiNoeWRyYXRlX29wZW47XG5cdFx0XHRcdGh5ZHJhdGVfbmV4dCgpO1xuXG5cdFx0XHRcdGNvbnN0IHNlcnZlcl9yZW5kZXJlZF9wZW5kaW5nID1cblx0XHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChjb21tZW50KS5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFICYmXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtDb21tZW50fSAqLyAoY29tbWVudCkuZGF0YSA9PT0gSFlEUkFUSU9OX1NUQVJUX0VMU0U7XG5cblx0XHRcdFx0aWYgKHNlcnZlcl9yZW5kZXJlZF9wZW5kaW5nKSB7XG5cdFx0XHRcdFx0dGhpcy4jaHlkcmF0ZV9wZW5kaW5nX2NvbnRlbnQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLiNoeWRyYXRlX3Jlc29sdmVkX2NvbnRlbnQoKTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID09PSAwKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmlzX3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhbmNob3IgPSB0aGlzLiNnZXRfYW5jaG9yKCk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiBjaGlsZHJlbihhbmNob3IpKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHR0aGlzLmVycm9yKGVycm9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID4gMCkge1xuXHRcdFx0XHRcdHRoaXMuI3Nob3dfcGVuZGluZ19zbmlwcGV0KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5pc19wZW5kaW5nID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0dGhpcy4jcGVuZGluZ19hbmNob3I/LnJlbW92ZSgpO1xuXHRcdFx0fTtcblx0XHR9LCBmbGFncyk7XG5cblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHR0aGlzLiNhbmNob3IgPSBoeWRyYXRlX25vZGU7XG5cdFx0fVxuXHR9XG5cblx0I2h5ZHJhdGVfcmVzb2x2ZWRfY29udGVudCgpIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSBicmFuY2goKCkgPT4gdGhpcy4jY2hpbGRyZW4odGhpcy4jYW5jaG9yKSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMuZXJyb3IoZXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdCNoeWRyYXRlX3BlbmRpbmdfY29udGVudCgpIHtcblx0XHRjb25zdCBwZW5kaW5nID0gdGhpcy4jcHJvcHMucGVuZGluZztcblx0XHRpZiAoIXBlbmRpbmcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBicmFuY2goKCkgPT4gcGVuZGluZyh0aGlzLiNhbmNob3IpKTtcblxuXHRcdEJhdGNoLmVucXVldWUoKCkgPT4ge1xuXHRcdFx0dmFyIGFuY2hvciA9IHRoaXMuI2dldF9hbmNob3IoKTtcblxuXHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSB0aGlzLiNydW4oKCkgPT4ge1xuXHRcdFx0XHRCYXRjaC5lbnN1cmUoKTtcblx0XHRcdFx0cmV0dXJuIGJyYW5jaCgoKSA9PiB0aGlzLiNjaGlsZHJlbihhbmNob3IpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodGhpcy4jcGVuZGluZ19jb3VudCA+IDApIHtcblx0XHRcdFx0dGhpcy4jc2hvd19wZW5kaW5nX3NuaXBwZXQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5pc19wZW5kaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQjZ2V0X2FuY2hvcigpIHtcblx0XHR2YXIgYW5jaG9yID0gdGhpcy4jYW5jaG9yO1xuXG5cdFx0aWYgKHRoaXMuaXNfcGVuZGluZykge1xuXHRcdFx0dGhpcy4jcGVuZGluZ19hbmNob3IgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdFx0dGhpcy4jYW5jaG9yLmJlZm9yZSh0aGlzLiNwZW5kaW5nX2FuY2hvcik7XG5cblx0XHRcdGFuY2hvciA9IHRoaXMuI3BlbmRpbmdfYW5jaG9yO1xuXHRcdH1cblxuXHRcdHJldHVybiBhbmNob3I7XG5cdH1cblxuXHQvKipcblx0ICogRGVmZXIgYW4gZWZmZWN0IGluc2lkZSBhIHBlbmRpbmcgYm91bmRhcnkgdW50aWwgdGhlIGJvdW5kYXJ5IHJlc29sdmVzXG5cdCAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3Rcblx0ICovXG5cdGRlZmVyX2VmZmVjdChlZmZlY3QpIHtcblx0XHRkZWZlcl9lZmZlY3QoZWZmZWN0LCB0aGlzLiNkaXJ0eV9lZmZlY3RzLCB0aGlzLiNtYXliZV9kaXJ0eV9lZmZlY3RzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGBmYWxzZWAgaWYgdGhlIGVmZmVjdCBleGlzdHMgaW5zaWRlIGEgYm91bmRhcnkgd2hvc2UgcGVuZGluZyBzbmlwcGV0IGlzIHNob3duXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0aXNfcmVuZGVyZWQoKSB7XG5cdFx0cmV0dXJuICF0aGlzLmlzX3BlbmRpbmcgJiYgKCF0aGlzLnBhcmVudCB8fCB0aGlzLnBhcmVudC5pc19yZW5kZXJlZCgpKTtcblx0fVxuXG5cdGhhc19wZW5kaW5nX3NuaXBwZXQoKSB7XG5cdFx0cmV0dXJuICEhdGhpcy4jcHJvcHMucGVuZGluZztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0geygpID0+IEVmZmVjdCB8IG51bGx9IGZuXG5cdCAqL1xuXHQjcnVuKGZuKSB7XG5cdFx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdFx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHRcdHZhciBwcmV2aW91c19jdHggPSBjb21wb25lbnRfY29udGV4dDtcblxuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHRoaXMuI2VmZmVjdCk7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbih0aGlzLiNlZmZlY3QpO1xuXHRcdHNldF9jb21wb25lbnRfY29udGV4dCh0aGlzLiNlZmZlY3QuY3R4KTtcblxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gZm4oKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRoYW5kbGVfZXJyb3IoZSk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHByZXZpb3VzX2N0eCk7XG5cdFx0fVxuXHR9XG5cblx0I3Nob3dfcGVuZGluZ19zbmlwcGV0KCkge1xuXHRcdGNvbnN0IHBlbmRpbmcgPSAvKiogQHR5cGUgeyhhbmNob3I6IE5vZGUpID0+IHZvaWR9ICovICh0aGlzLiNwcm9wcy5wZW5kaW5nKTtcblxuXHRcdGlmICh0aGlzLiNtYWluX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0dGhpcy4jb2Zmc2NyZWVuX2ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRcdFx0dGhpcy4jb2Zmc2NyZWVuX2ZyYWdtZW50LmFwcGVuZCgvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKHRoaXMuI3BlbmRpbmdfYW5jaG9yKSk7XG5cdFx0XHRtb3ZlX2VmZmVjdCh0aGlzLiNtYWluX2VmZmVjdCwgdGhpcy4jb2Zmc2NyZWVuX2ZyYWdtZW50KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jcGVuZGluZ19lZmZlY3QgPT09IG51bGwpIHtcblx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gYnJhbmNoKCgpID0+IHBlbmRpbmcodGhpcy4jYW5jaG9yKSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIHBlbmRpbmcgY291bnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwZW5kaW5nIHNuaXBwZXQsXG5cdCAqIGlmIGFueSwgc3VjaCB0aGF0IHdlIGNhbiByZXBsYWNlIHRoZSBzbmlwcGV0IHdpdGggY29udGVudCBvbmNlIHdvcmsgaXMgZG9uZVxuXHQgKiBAcGFyYW0gezEgfCAtMX0gZFxuXHQgKi9cblx0I3VwZGF0ZV9wZW5kaW5nX2NvdW50KGQpIHtcblx0XHRpZiAoIXRoaXMuaGFzX3BlbmRpbmdfc25pcHBldCgpKSB7XG5cdFx0XHRpZiAodGhpcy5wYXJlbnQpIHtcblx0XHRcdFx0dGhpcy5wYXJlbnQuI3VwZGF0ZV9wZW5kaW5nX2NvdW50KGQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB0aGVyZSdzIG5vIHBhcmVudCwgd2UncmUgaW4gYSBzY29wZSB3aXRoIG5vIHBlbmRpbmcgc25pcHBldFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuI3BlbmRpbmdfY291bnQgKz0gZDtcblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID09PSAwKSB7XG5cdFx0XHR0aGlzLmlzX3BlbmRpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gYW55IGVmZmVjdHMgdGhhdCB3ZXJlIGVuY291bnRlcmVkIGFuZCBkZWZlcnJlZCBkdXJpbmcgdHJhdmVyc2FsXG5cdFx0XHQvLyBzaG91bGQgYmUgcmVzY2hlZHVsZWQgXHUyMDE0IGFmdGVyIHRoZSBuZXh0IHRyYXZlcnNhbCAod2hpY2ggd2lsbCBoYXBwZW5cblx0XHRcdC8vIGltbWVkaWF0ZWx5LCBkdWUgdG8gdGhlIHNhbWUgdXBkYXRlIHRoYXQgYnJvdWdodCB1cyBoZXJlKVxuXHRcdFx0Ly8gdGhlIGVmZmVjdHMgd2lsbCBiZSBmbHVzaGVkXG5cdFx0XHRmb3IgKGNvbnN0IGUgb2YgdGhpcy4jZGlydHlfZWZmZWN0cykge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBESVJUWSk7XG5cdFx0XHRcdHNjaGVkdWxlX2VmZmVjdChlKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMpIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZSwgTUFZQkVfRElSVFkpO1xuXHRcdFx0XHRzY2hlZHVsZV9lZmZlY3QoZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuI2RpcnR5X2VmZmVjdHMuY2xlYXIoKTtcblx0XHRcdHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMuY2xlYXIoKTtcblxuXHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdCh0aGlzLiNwZW5kaW5nX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpIHtcblx0XHRcdFx0dGhpcy4jYW5jaG9yLmJlZm9yZSh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpO1xuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIHNvdXJjZSB0aGF0IHBvd2VycyBgJGVmZmVjdC5wZW5kaW5nKClgIGluc2lkZSB0aGlzIGJvdW5kYXJ5LFxuXHQgKiBhbmQgY29udHJvbHMgd2hlbiB0aGUgY3VycmVudCBgcGVuZGluZ2Agc25pcHBldCAoaWYgYW55KSBpcyByZW1vdmVkLlxuXHQgKiBEbyBub3QgY2FsbCBmcm9tIGluc2lkZSB0aGUgY2xhc3Ncblx0ICogQHBhcmFtIHsxIHwgLTF9IGRcblx0ICovXG5cdHVwZGF0ZV9wZW5kaW5nX2NvdW50KGQpIHtcblx0XHR0aGlzLiN1cGRhdGVfcGVuZGluZ19jb3VudChkKTtcblxuXHRcdHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQgKz0gZDtcblxuXHRcdGlmICh0aGlzLiNlZmZlY3RfcGVuZGluZykge1xuXHRcdFx0aW50ZXJuYWxfc2V0KHRoaXMuI2VmZmVjdF9wZW5kaW5nLCB0aGlzLiNsb2NhbF9wZW5kaW5nX2NvdW50KTtcblx0XHR9XG5cdH1cblxuXHRnZXRfZWZmZWN0X3BlbmRpbmcoKSB7XG5cdFx0dGhpcy4jZWZmZWN0X3BlbmRpbmdfc3Vic2NyaWJlcigpO1xuXHRcdHJldHVybiBnZXQoLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPn0gKi8gKHRoaXMuI2VmZmVjdF9wZW5kaW5nKSk7XG5cdH1cblxuXHQvKiogQHBhcmFtIHt1bmtub3dufSBlcnJvciAqL1xuXHRlcnJvcihlcnJvcikge1xuXHRcdHZhciBvbmVycm9yID0gdGhpcy4jcHJvcHMub25lcnJvcjtcblx0XHRsZXQgZmFpbGVkID0gdGhpcy4jcHJvcHMuZmFpbGVkO1xuXG5cdFx0Ly8gSWYgd2UgaGF2ZSBub3RoaW5nIHRvIGNhcHR1cmUgdGhlIGVycm9yLCBvciBpZiB3ZSBoaXQgYW4gZXJyb3Igd2hpbGVcblx0XHQvLyByZW5kZXJpbmcgdGhlIGZhbGxiYWNrLCByZS10aHJvdyBmb3IgYW5vdGhlciBib3VuZGFyeSB0byBoYW5kbGVcblx0XHRpZiAodGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgfHwgKCFvbmVycm9yICYmICFmYWlsZWQpKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jbWFpbl9lZmZlY3QpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KHRoaXMuI21haW5fZWZmZWN0KTtcblx0XHRcdHRoaXMuI21haW5fZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jcGVuZGluZ19lZmZlY3QpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KHRoaXMuI3BlbmRpbmdfZWZmZWN0KTtcblx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jZmFpbGVkX2VmZmVjdCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QodGhpcy4jZmFpbGVkX2VmZmVjdCk7XG5cdFx0XHR0aGlzLiNmYWlsZWRfZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAodGhpcy4jaHlkcmF0ZV9vcGVuKSk7XG5cdFx0XHRuZXh0KCk7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKHNraXBfbm9kZXMoKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGRpZF9yZXNldCA9IGZhbHNlO1xuXHRcdHZhciBjYWxsaW5nX29uX2Vycm9yID0gZmFsc2U7XG5cblx0XHRjb25zdCByZXNldCA9ICgpID0+IHtcblx0XHRcdGlmIChkaWRfcmVzZXQpIHtcblx0XHRcdFx0dy5zdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGRpZF9yZXNldCA9IHRydWU7XG5cblx0XHRcdGlmIChjYWxsaW5nX29uX2Vycm9yKSB7XG5cdFx0XHRcdGUuc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3IoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIGZhaWx1cmUgaGFwcGVuZWQgd2hpbGUgZmx1c2hpbmcgZWZmZWN0cywgY3VycmVudF9iYXRjaCBjYW4gYmUgbnVsbFxuXHRcdFx0QmF0Y2guZW5zdXJlKCk7XG5cblx0XHRcdHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQgPSAwO1xuXG5cdFx0XHRpZiAodGhpcy4jZmFpbGVkX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QodGhpcy4jZmFpbGVkX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gd2UgaW50ZW50aW9uYWxseSBkbyBub3QgdHJ5IHRvIGZpbmQgdGhlIG5lYXJlc3QgcGVuZGluZyBib3VuZGFyeS4gSWYgdGhpcyBib3VuZGFyeSBoYXMgb25lLCB3ZSdsbCByZW5kZXIgaXQgb24gcmVzZXRcblx0XHRcdC8vIGJ1dCBpdCB3b3VsZCBiZSByZWFsbHkgd2VpcmQgdG8gc2hvdyB0aGUgcGFyZW50J3MgYm91bmRhcnkgb24gYSBjaGlsZCByZXNldC5cblx0XHRcdHRoaXMuaXNfcGVuZGluZyA9IHRoaXMuaGFzX3BlbmRpbmdfc25pcHBldCgpO1xuXG5cdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IHRoaXMuI3J1bigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuI2lzX2NyZWF0aW5nX2ZhbGxiYWNrID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybiBicmFuY2goKCkgPT4gdGhpcy4jY2hpbGRyZW4odGhpcy4jYW5jaG9yKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPiAwKSB7XG5cdFx0XHRcdHRoaXMuI3Nob3dfcGVuZGluZ19zbmlwcGV0KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmlzX3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdFx0XHRjYWxsaW5nX29uX2Vycm9yID0gdHJ1ZTtcblx0XHRcdG9uZXJyb3I/LihlcnJvciwgcmVzZXQpO1xuXHRcdFx0Y2FsbGluZ19vbl9lcnJvciA9IGZhbHNlO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIHRoaXMuI2VmZmVjdCAmJiB0aGlzLiNlZmZlY3QucGFyZW50KTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0fVxuXG5cdFx0aWYgKGZhaWxlZCkge1xuXHRcdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSB0aGlzLiNydW4oKCkgPT4ge1xuXHRcdFx0XHRcdEJhdGNoLmVuc3VyZSgpO1xuXHRcdFx0XHRcdHRoaXMuI2lzX2NyZWF0aW5nX2ZhbGxiYWNrID0gdHJ1ZTtcblxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYnJhbmNoKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0ZmFpbGVkKFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuI2FuY2hvcixcblx0XHRcdFx0XHRcdFx0XHQoKSA9PiBlcnJvcixcblx0XHRcdFx0XHRcdFx0XHQoKSA9PiByZXNldFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgLyoqIEB0eXBlIHtFZmZlY3R9ICovICh0aGlzLiNlZmZlY3QucGFyZW50KSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0dGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYm91bmRhcnkoKSB7XG5cdHJldHVybiAvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5iKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBlbmRpbmcoKSB7XG5cdGlmIChhY3RpdmVfZWZmZWN0ID09PSBudWxsKSB7XG5cdFx0ZS5lZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uKCk7XG5cdH1cblxuXHR2YXIgYm91bmRhcnkgPSBhY3RpdmVfZWZmZWN0LmI7XG5cblx0aWYgKGJvdW5kYXJ5ID09PSBudWxsKSB7XG5cdFx0cmV0dXJuIDA7IC8vIFRPRE8gZXZlbnR1YWxseSB3ZSB3aWxsIG5lZWQgdGhpcyB0byBiZSBnbG9iYWxcblx0fVxuXG5cdHJldHVybiBib3VuZGFyeS5nZXRfZWZmZWN0X3BlbmRpbmcoKTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEVmZmVjdCwgVGVtcGxhdGVOb2RlLCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVNUUk9ZRUQsIFNUQUxFX1JFQUNUSU9OIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRjb21wb25lbnRfY29udGV4dCxcblx0ZGV2X3N0YWNrLFxuXHRpc19ydW5lcyxcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0LFxuXHRzZXRfZGV2X3N0YWNrXG59IGZyb20gJy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0X2JvdW5kYXJ5IH0gZnJvbSAnLi4vZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBpbnZva2VfZXJyb3JfYm91bmRhcnkgfSBmcm9tICcuLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgQmF0Y2gsIGN1cnJlbnRfYmF0Y2ggfSBmcm9tICcuL2JhdGNoLmpzJztcbmltcG9ydCB7XG5cdGFzeW5jX2Rlcml2ZWQsXG5cdGN1cnJlbnRfYXN5bmNfZWZmZWN0LFxuXHRkZXJpdmVkLFxuXHRkZXJpdmVkX3NhZmVfZXF1YWwsXG5cdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWRcbn0gZnJvbSAnLi9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBhYm9ydGVkIH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFByb21pc2U8dm9pZD4+fSBibG9ja2Vyc1xuICogQHBhcmFtIHtBcnJheTwoKSA9PiBhbnk+fSBzeW5jXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IFByb21pc2U8YW55Pj59IGFzeW5jXG4gKiBAcGFyYW0geyh2YWx1ZXM6IFZhbHVlW10pID0+IGFueX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYmxvY2tlcnMsIHN5bmMsIGFzeW5jLCBmbikge1xuXHRjb25zdCBkID0gaXNfcnVuZXMoKSA/IGRlcml2ZWQgOiBkZXJpdmVkX3NhZmVfZXF1YWw7XG5cblx0aWYgKGFzeW5jLmxlbmd0aCA9PT0gMCAmJiBibG9ja2Vycy5sZW5ndGggPT09IDApIHtcblx0XHRmbihzeW5jLm1hcChkKSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGJhdGNoID0gY3VycmVudF9iYXRjaDtcblx0dmFyIHBhcmVudCA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cblx0dmFyIHJlc3RvcmUgPSBjYXB0dXJlKCk7XG5cblx0ZnVuY3Rpb24gcnVuKCkge1xuXHRcdFByb21pc2UuYWxsKGFzeW5jLm1hcCgoZXhwcmVzc2lvbikgPT4gYXN5bmNfZGVyaXZlZChleHByZXNzaW9uKSkpXG5cdFx0XHQudGhlbigocmVzdWx0KSA9PiB7XG5cdFx0XHRcdHJlc3RvcmUoKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZuKFsuLi5zeW5jLm1hcChkKSwgLi4ucmVzdWx0XSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Ly8gaWdub3JlIGVycm9ycyBpbiBibG9ja3MgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcblx0XHRcdFx0XHRpZiAoKHBhcmVudC5mICYgREVTVFJPWUVEKSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBwYXJlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhdGNoPy5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdHVuc2V0X2NvbnRleHQoKTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgcGFyZW50KTtcblx0XHRcdH0pO1xuXHR9XG5cblx0aWYgKGJsb2NrZXJzLmxlbmd0aCA+IDApIHtcblx0XHRQcm9taXNlLmFsbChibG9ja2VycykudGhlbigoKSA9PiB7XG5cdFx0XHRyZXN0b3JlKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiBydW4oKTtcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGJhdGNoPy5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdHVuc2V0X2NvbnRleHQoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRydW4oKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTx2b2lkPj59IGJsb2NrZXJzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IFZhbHVlW10pID0+IGFueX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bl9hZnRlcl9ibG9ja2VycyhibG9ja2VycywgZm4pIHtcblx0ZmxhdHRlbihibG9ja2VycywgW10sIFtdLCBmbik7XG59XG5cbi8qKlxuICogQ2FwdHVyZXMgdGhlIGN1cnJlbnQgZWZmZWN0IGNvbnRleHQgc28gdGhhdCB3ZSBjYW4gcmVzdG9yZSBpdCBhZnRlclxuICogc29tZSBhc3luY2hyb25vdXMgd29yayBoYXMgaGFwcGVuZWQgKHNvIHRoYXQgZS5nLiBgYXdhaXQgYSArIGJgXG4gKiBjYXVzZXMgYGJgIHRvIGJlIHJlZ2lzdGVyZWQgYXMgYSBkZXBlbmRlbmN5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmUoKSB7XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19jb21wb25lbnRfY29udGV4dCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXHR2YXIgcHJldmlvdXNfYmF0Y2ggPSBjdXJyZW50X2JhdGNoO1xuXG5cdGlmIChERVYpIHtcblx0XHR2YXIgcHJldmlvdXNfZGV2X3N0YWNrID0gZGV2X3N0YWNrO1xuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHJlc3RvcmUoYWN0aXZhdGVfYmF0Y2ggPSB0cnVlKSB7XG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHRzZXRfY29tcG9uZW50X2NvbnRleHQocHJldmlvdXNfY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdGlmIChhY3RpdmF0ZV9iYXRjaCkgcHJldmlvdXNfYmF0Y2g/LmFjdGl2YXRlKCk7XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHRzZXRfZnJvbV9hc3luY19kZXJpdmVkKG51bGwpO1xuXHRcdFx0c2V0X2Rldl9zdGFjayhwcmV2aW91c19kZXZfc3RhY2spO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBgYXdhaXRgIGV4cHJlc3Npb24gaW4gc3VjaCBhIHdheSB0aGF0IHRoZSBlZmZlY3QgY29udGV4dCB0aGF0IHdhc1xuICogYWN0aXZlIGJlZm9yZSB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZWQgY2FuIGJlIHJlYXBwbGllZCBhZnRlcndhcmRzIFx1MjAxNFxuICogYGF3YWl0IGEgKyBiYCBiZWNvbWVzIGAoYXdhaXQgJC5zYXZlKGEpKSgpICsgYmBcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPCgpID0+IFQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShwcm9taXNlKSB7XG5cdHZhciByZXN0b3JlID0gY2FwdHVyZSgpO1xuXHR2YXIgdmFsdWUgPSBhd2FpdCBwcm9taXNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0cmVzdG9yZSgpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXNldCBgY3VycmVudF9hc3luY19lZmZlY3RgIGFmdGVyIHRoZSBgcHJvbWlzZWAgcmVzb2x2ZXMsIHNvXG4gKiB0aGF0IHdlIGNhbiBlbWl0IGBhd2FpdF9yZWFjdGl2aXR5X2xvc3NgIHdhcm5pbmdzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtQcm9taXNlPFQ+fSBwcm9taXNlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwoKSA9PiBUPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYWNrX3JlYWN0aXZpdHlfbG9zcyhwcm9taXNlKSB7XG5cdHZhciBwcmV2aW91c19hc3luY19lZmZlY3QgPSBjdXJyZW50X2FzeW5jX2VmZmVjdDtcblx0dmFyIHZhbHVlID0gYXdhaXQgcHJvbWlzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQocHJldmlvdXNfYXN5bmNfZWZmZWN0KTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG59XG5cbi8qKlxuICogVXNlZCBpbiBgZm9yIGF3YWl0YCBsb29wcyBpbiBERVYsIHNvXG4gKiB0aGF0IHdlIGNhbiBlbWl0IGBhd2FpdF9yZWFjdGl2aXR5X2xvc3NgIHdhcm5pbmdzXG4gKiBhZnRlciBlYWNoIGBhc3luY19pdGVyYXRvcmAgcmVzdWx0IHJlc29sdmVzIGFuZFxuICogYWZ0ZXIgdGhlIGBhc3luY19pdGVyYXRvcmAgcmV0dXJuIHJlc29sdmVzIChpZiBpdCBydW5zKVxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBUUmV0dXJuXG4gKiBAcGFyYW0ge0l0ZXJhYmxlPFQ+IHwgQXN5bmNJdGVyYWJsZTxUPn0gaXRlcmFibGVcbiAqIEByZXR1cm5zIHtBc3luY0dlbmVyYXRvcjxULCBUUmV0dXJuIHwgdW5kZWZpbmVkPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBmb3JfYXdhaXRfdHJhY2tfcmVhY3Rpdml0eV9sb3NzKGl0ZXJhYmxlKSB7XG5cdC8vIFRoaXMgaXMgYmFzZWQgb24gdGhlIGFsZ29yaXRobXMgZGVzY3JpYmVkIGluIEVDTUEtMjYyOlxuXHQvLyBGb3JJbi9PZkJvZHlFdmFsdWF0aW9uXG5cdC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyL211bHRpcGFnZS9lY21hc2NyaXB0LWxhbmd1YWdlLXN0YXRlbWVudHMtYW5kLWRlY2xhcmF0aW9ucy5odG1sI3NlYy1ydW50aW1lLXNlbWFudGljcy1mb3Jpbi1kaXYtb2Zib2R5ZXZhbHVhdGlvbi1saHMtc3RtdC1pdGVyYXRvci1saHNraW5kLWxhYmVsc2V0XG5cdC8vIEFzeW5jSXRlcmF0b3JDbG9zZVxuXHQvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi9tdWx0aXBhZ2UvYWJzdHJhY3Qtb3BlcmF0aW9ucy5odG1sI3NlYy1hc3luY2l0ZXJhdG9yY2xvc2VcblxuXHQvKiogQHR5cGUge0FzeW5jSXRlcmF0b3I8VCwgVFJldHVybj59ICovXG5cdC8vIEB0cy1pZ25vcmVcblx0Y29uc3QgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0/LigpID8/IGl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl0/LigpO1xuXG5cdGlmIChpdGVyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigndmFsdWUgaXMgbm90IGFzeW5jIGl0ZXJhYmxlJyk7XG5cdH1cblxuXHQvKiogV2hldGhlciB0aGUgY29tcGxldGlvbiBvZiB0aGUgaXRlcmF0b3Igd2FzIFwibm9ybWFsXCIsIG1lYW5pbmcgaXQgd2Fzbid0IGVuZGVkIHZpYSBgYnJlYWtgIG9yIGEgc2ltaWxhciBtZXRob2QgKi9cblx0bGV0IG5vcm1hbF9jb21wbGV0aW9uID0gZmFsc2U7XG5cdHRyeSB7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IChhd2FpdCB0cmFja19yZWFjdGl2aXR5X2xvc3MoaXRlcmF0b3IubmV4dCgpKSkoKTtcblx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdG5vcm1hbF9jb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCB2YWx1ZTtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gSWYgdGhlIGl0ZXJhdG9yIGhhZCBhIG5vcm1hbCBjb21wbGV0aW9uIGFuZCBgcmV0dXJuYCBpcyBkZWZpbmVkIG9uIHRoZSBpdGVyYXRvciwgY2FsbCBpdCBhbmQgcmV0dXJuIHRoZSB2YWx1ZVxuXHRcdGlmIChub3JtYWxfY29tcGxldGlvbiAmJiBpdGVyYXRvci5yZXR1cm4gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuc2FmZS1maW5hbGx5XG5cdFx0XHRyZXR1cm4gLyoqIEB0eXBlIHtUUmV0dXJufSAqLyAoKGF3YWl0IHRyYWNrX3JlYWN0aXZpdHlfbG9zcyhpdGVyYXRvci5yZXR1cm4oKSkpKCkudmFsdWUpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRfY29udGV4dCgpIHtcblx0c2V0X2FjdGl2ZV9lZmZlY3QobnVsbCk7XG5cdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdHNldF9jb21wb25lbnRfY29udGV4dChudWxsKTtcblxuXHRpZiAoREVWKSB7XG5cdFx0c2V0X2Zyb21fYXN5bmNfZGVyaXZlZChudWxsKTtcblx0XHRzZXRfZGV2X3N0YWNrKG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTwoKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPj59IHRodW5rc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuKHRodW5rcykge1xuXHRjb25zdCByZXN0b3JlID0gY2FwdHVyZSgpO1xuXG5cdHZhciBib3VuZGFyeSA9IGdldF9ib3VuZGFyeSgpO1xuXHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cdHZhciBibG9ja2luZyA9IGJvdW5kYXJ5LmlzX3JlbmRlcmVkKCk7XG5cblx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoMSk7XG5cdGJhdGNoLmluY3JlbWVudChibG9ja2luZyk7XG5cblx0dmFyIGFjdGl2ZSA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cblx0LyoqIEB0eXBlIHtudWxsIHwgeyBlcnJvcjogYW55IH19ICovXG5cdHZhciBlcnJvcmVkID0gbnVsbDtcblxuXHQvKiogQHBhcmFtIHthbnl9IGVycm9yICovXG5cdGNvbnN0IGhhbmRsZV9lcnJvciA9IChlcnJvcikgPT4ge1xuXHRcdGVycm9yZWQgPSB7IGVycm9yIH07IC8vIHdyYXAgaW4gb2JqZWN0IGluIGNhc2UgYSBwcm9taXNlIHJlamVjdHMgd2l0aCBhIGZhbHN5IHZhbHVlXG5cblx0XHRpZiAoIWFib3J0ZWQoYWN0aXZlKSkge1xuXHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBhY3RpdmUpO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aHVua3NbMF0oKSkuY2F0Y2goaGFuZGxlX2Vycm9yKTtcblxuXHR2YXIgcHJvbWlzZXMgPSBbcHJvbWlzZV07XG5cblx0Zm9yIChjb25zdCBmbiBvZiB0aHVua3Muc2xpY2UoMSkpIHtcblx0XHRwcm9taXNlID0gcHJvbWlzZVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3JlZCkge1xuXHRcdFx0XHRcdHRocm93IGVycm9yZWQuZXJyb3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYWJvcnRlZChhY3RpdmUpKSB7XG5cdFx0XHRcdFx0dGhyb3cgU1RBTEVfUkVBQ1RJT047XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN0b3JlKCk7XG5cdFx0XHRcdHJldHVybiBmbigpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaChoYW5kbGVfZXJyb3IpXG5cdFx0XHQuZmluYWxseSgoKSA9PiB7XG5cdFx0XHRcdHVuc2V0X2NvbnRleHQoKTtcblx0XHRcdFx0Y3VycmVudF9iYXRjaD8uZGVhY3RpdmF0ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHRwcm9taXNlcy5wdXNoKHByb21pc2UpO1xuXHR9XG5cblx0cHJvbWlzZVxuXHRcdC8vIHdhaXQgb25lIG1vcmUgdGljaywgc28gdGhhdCB0ZW1wbGF0ZSBlZmZlY3RzIGFyZVxuXHRcdC8vIGd1YXJhbnRlZWQgdG8gcnVuIGJlZm9yZSBgJGVmZmVjdCguLi4pYFxuXHRcdC50aGVuKCgpID0+IFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdGJvdW5kYXJ5LnVwZGF0ZV9wZW5kaW5nX2NvdW50KC0xKTtcblx0XHRcdGJhdGNoLmRlY3JlbWVudChibG9ja2luZyk7XG5cdFx0fSk7XG5cblx0cmV0dXJuIHByb21pc2VzO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBTb3VyY2UgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4vYmF0Y2guanMnOyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRFUlJPUl9WQUxVRSxcblx0REVSSVZFRCxcblx0RElSVFksXG5cdEVGRkVDVF9QUkVTRVJWRUQsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRBU1lOQyxcblx0V0FTX01BUktFRCxcblx0REVTVFJPWUVELFxuXHRDTEVBTlxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVwZGF0ZV9yZWFjdGlvbixcblx0aW5jcmVtZW50X3dyaXRlX3ZlcnNpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRwdXNoX3JlYWN0aW9uX3ZhbHVlLFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdFxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVxdWFscywgc2FmZV9lcXVhbHMgfSBmcm9tICcuL2VxdWFsaXR5LmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi4vd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgYXN5bmNfZWZmZWN0LCBkZXN0cm95X2VmZmVjdCwgZWZmZWN0X3RyYWNraW5nLCB0ZWFyZG93biB9IGZyb20gJy4vZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBlYWdlcl9lZmZlY3RzLCBpbnRlcm5hbF9zZXQsIHNldF9lYWdlcl9lZmZlY3RzLCBzb3VyY2UgfSBmcm9tICcuL3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgZ2V0X2Vycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2Rldi5qcyc7XG5pbXBvcnQgeyBhc3luY19tb2RlX2ZsYWcsIHRyYWNpbmdfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgQm91bmRhcnkgfSBmcm9tICcuLi9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGJhdGNoX3ZhbHVlcywgY3VycmVudF9iYXRjaCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgdW5zZXRfY29udGV4dCB9IGZyb20gJy4vYXN5bmMuanMnO1xuaW1wb3J0IHsgZGVmZXJyZWQgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgc2V0X3NpZ25hbF9zdGF0dXMsIHVwZGF0ZV9kZXJpdmVkX3N0YXR1cyB9IGZyb20gJy4vc3RhdHVzLmpzJztcblxuLyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuZXhwb3J0IGxldCBjdXJyZW50X2FzeW5jX2VmZmVjdCA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IHYgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZnJvbV9hc3luY19kZXJpdmVkKHYpIHtcblx0Y3VycmVudF9hc3luY19lZmZlY3QgPSB2O1xufVxuXG5leHBvcnQgY29uc3QgcmVjZW50X2FzeW5jX2Rlcml2ZWRzID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChmbikge1xuXHR2YXIgZmxhZ3MgPSBERVJJVkVEIHwgRElSVFk7XG5cdHZhciBwYXJlbnRfZGVyaXZlZCA9XG5cdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmIChhY3RpdmVfcmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwXG5cdFx0XHQ/IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbilcblx0XHRcdDogbnVsbDtcblxuXHRpZiAoYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdC8vIFNpbmNlIGRlcml2ZWRzIGFyZSBldmFsdWF0ZWQgbGF6aWx5LCBhbnkgZWZmZWN0cyBjcmVhdGVkIGluc2lkZSB0aGVtIGFyZVxuXHRcdC8vIGNyZWF0ZWQgdG9vIGxhdGUgdG8gZW5zdXJlIHRoYXQgdGhlIHBhcmVudCBlZmZlY3QgaXMgYWRkZWQgdG8gdGhlIHRyZWVcblx0XHRhY3RpdmVfZWZmZWN0LmYgfD0gRUZGRUNUX1BSRVNFUlZFRDtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RGVyaXZlZDxWPn0gKi9cblx0Y29uc3Qgc2lnbmFsID0ge1xuXHRcdGN0eDogY29tcG9uZW50X2NvbnRleHQsXG5cdFx0ZGVwczogbnVsbCxcblx0XHRlZmZlY3RzOiBudWxsLFxuXHRcdGVxdWFscyxcblx0XHRmOiBmbGFncyxcblx0XHRmbixcblx0XHRyZWFjdGlvbnM6IG51bGwsXG5cdFx0cnY6IDAsXG5cdFx0djogLyoqIEB0eXBlIHtWfSAqLyAoVU5JTklUSUFMSVpFRCksXG5cdFx0d3Y6IDAsXG5cdFx0cGFyZW50OiBwYXJlbnRfZGVyaXZlZCA/PyBhY3RpdmVfZWZmZWN0LFxuXHRcdGFjOiBudWxsXG5cdH07XG5cblx0aWYgKERFViAmJiB0cmFjaW5nX21vZGVfZmxhZykge1xuXHRcdHNpZ25hbC5jcmVhdGVkID0gZ2V0X2Vycm9yKCdjcmVhdGVkIGF0Jyk7XG5cdH1cblxuXHRyZXR1cm4gc2lnbmFsO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFYgfCBQcm9taXNlPFY+fSBmblxuICogQHBhcmFtIHtzdHJpbmd9IFtsYWJlbF1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYXRpb25dIElmIHByb3ZpZGVkLCBwcmludCBhIHdhcm5pbmcgaWYgdGhlIHZhbHVlIGlzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIHVwZGF0ZVxuICogQHJldHVybnMge1Byb21pc2U8U291cmNlPFY+Pn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZGVyaXZlZChmbiwgbGFiZWwsIGxvY2F0aW9uKSB7XG5cdGxldCBwYXJlbnQgPSAvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHRpZiAocGFyZW50ID09PSBudWxsKSB7XG5cdFx0ZS5hc3luY19kZXJpdmVkX29ycGhhbigpO1xuXHR9XG5cblx0dmFyIGJvdW5kYXJ5ID0gLyoqIEB0eXBlIHtCb3VuZGFyeX0gKi8gKHBhcmVudC5iKTtcblxuXHR2YXIgcHJvbWlzZSA9IC8qKiBAdHlwZSB7UHJvbWlzZTxWPn0gKi8gKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8gKHVuZGVmaW5lZCkpO1xuXHR2YXIgc2lnbmFsID0gc291cmNlKC8qKiBAdHlwZSB7Vn0gKi8gKFVOSU5JVElBTElaRUQpKTtcblxuXHRpZiAoREVWKSBzaWduYWwubGFiZWwgPSBsYWJlbDtcblxuXHQvLyBvbmx5IHN1c3BlbmQgaW4gYXN5bmMgZGVyaXZlZHMgY3JlYXRlZCBvbiBpbml0aWFsaXNhdGlvblxuXHR2YXIgc2hvdWxkX3N1c3BlbmQgPSAhYWN0aXZlX3JlYWN0aW9uO1xuXG5cdC8qKiBAdHlwZSB7TWFwPEJhdGNoLCBSZXR1cm5UeXBlPHR5cGVvZiBkZWZlcnJlZDxWPj4+fSAqL1xuXHR2YXIgZGVmZXJyZWRzID0gbmV3IE1hcCgpO1xuXG5cdGFzeW5jX2VmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKERFVikgY3VycmVudF9hc3luY19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdFx0LyoqIEB0eXBlIHtSZXR1cm5UeXBlPHR5cGVvZiBkZWZlcnJlZDxWPj59ICovXG5cdFx0dmFyIGQgPSBkZWZlcnJlZCgpO1xuXHRcdHByb21pc2UgPSBkLnByb21pc2U7XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gSWYgdGhpcyBjb2RlIGlzIGNoYW5nZWQgYXQgc29tZSBwb2ludCwgbWFrZSBzdXJlIHRvIHN0aWxsIGFjY2VzcyB0aGUgdGhlbiBwcm9wZXJ0eVxuXHRcdFx0Ly8gb2YgZm4oKSB0byByZWFkIGFueSBzaWduYWxzIGl0IG1pZ2h0IGFjY2Vzcywgc28gdGhhdCB3ZSB0cmFjayB0aGVtIGFzIGRlcGVuZGVuY2llcy5cblx0XHRcdC8vIFdlIGNhbGwgYHVuc2V0X2NvbnRleHRgIHRvIHVuZG8gYW55IGBzYXZlYCBjYWxscyB0aGF0IGhhcHBlbiBpbnNpZGUgYGZuKClgXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoZm4oKSlcblx0XHRcdFx0LnRoZW4oZC5yZXNvbHZlLCBkLnJlamVjdClcblx0XHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGlmIChiYXRjaCA9PT0gY3VycmVudF9iYXRjaCAmJiBiYXRjaC5jb21taXR0ZWQpIHtcblx0XHRcdFx0XHRcdC8vIGlmIHRoZSBiYXRjaCB3YXMgcmVqZWN0ZWQgYXMgc3RhbGUsIHdlIG5lZWQgdG8gY2xlYW51cFxuXHRcdFx0XHRcdFx0Ly8gYWZ0ZXIgYW55IGAkLnNhdmUoLi4uKWAgY2FsbHMgaW5zaWRlIGBmbigpYFxuXHRcdFx0XHRcdFx0YmF0Y2guZGVhY3RpdmF0ZSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHVuc2V0X2NvbnRleHQoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGQucmVqZWN0KGVycm9yKTtcblx0XHRcdHVuc2V0X2NvbnRleHQoKTtcblx0XHR9XG5cblx0XHRpZiAoREVWKSBjdXJyZW50X2FzeW5jX2VmZmVjdCA9IG51bGw7XG5cblx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cblx0XHRpZiAoc2hvdWxkX3N1c3BlbmQpIHtcblx0XHRcdHZhciBibG9ja2luZyA9IGJvdW5kYXJ5LmlzX3JlbmRlcmVkKCk7XG5cblx0XHRcdGJvdW5kYXJ5LnVwZGF0ZV9wZW5kaW5nX2NvdW50KDEpO1xuXHRcdFx0YmF0Y2guaW5jcmVtZW50KGJsb2NraW5nKTtcblxuXHRcdFx0ZGVmZXJyZWRzLmdldChiYXRjaCk/LnJlamVjdChTVEFMRV9SRUFDVElPTik7XG5cdFx0XHRkZWZlcnJlZHMuZGVsZXRlKGJhdGNoKTsgLy8gZGVsZXRlIHRvIGVuc3VyZSBjb3JyZWN0IG9yZGVyIGluIE1hcCBpdGVyYXRpb24gYmVsb3dcblx0XHRcdGRlZmVycmVkcy5zZXQoYmF0Y2gsIGQpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuXHRcdCAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3Jcblx0XHQgKi9cblx0XHRjb25zdCBoYW5kbGVyID0gKHZhbHVlLCBlcnJvciA9IHVuZGVmaW5lZCkgPT4ge1xuXHRcdFx0Y3VycmVudF9hc3luY19lZmZlY3QgPSBudWxsO1xuXG5cdFx0XHRiYXRjaC5hY3RpdmF0ZSgpO1xuXG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0aWYgKGVycm9yICE9PSBTVEFMRV9SRUFDVElPTikge1xuXHRcdFx0XHRcdHNpZ25hbC5mIHw9IEVSUk9SX1ZBTFVFO1xuXG5cdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciB0aGUgZXJyb3IgaXMgdGhlIHdyb25nIHR5cGUsIGJ1dCB3ZSBkb24ndCBjYXJlXG5cdFx0XHRcdFx0aW50ZXJuYWxfc2V0KHNpZ25hbCwgZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoKHNpZ25hbC5mICYgRVJST1JfVkFMVUUpICE9PSAwKSB7XG5cdFx0XHRcdFx0c2lnbmFsLmYgXj0gRVJST1JfVkFMVUU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCB2YWx1ZSk7XG5cblx0XHRcdFx0Ly8gQWxsIHByaW9yIGFzeW5jIGRlcml2ZWQgcnVucyBhcmUgbm93IHN0YWxlXG5cdFx0XHRcdGZvciAoY29uc3QgW2IsIGRdIG9mIGRlZmVycmVkcykge1xuXHRcdFx0XHRcdGRlZmVycmVkcy5kZWxldGUoYik7XG5cdFx0XHRcdFx0aWYgKGIgPT09IGJhdGNoKSBicmVhaztcblx0XHRcdFx0XHRkLnJlamVjdChTVEFMRV9SRUFDVElPTik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoREVWICYmIGxvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZWNlbnRfYXN5bmNfZGVyaXZlZHMuYWRkKHNpZ25hbCk7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdGlmIChyZWNlbnRfYXN5bmNfZGVyaXZlZHMuaGFzKHNpZ25hbCkpIHtcblx0XHRcdFx0XHRcdFx0dy5hd2FpdF93YXRlcmZhbGwoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzaWduYWwubGFiZWwpLCBsb2NhdGlvbik7XG5cdFx0XHRcdFx0XHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5kZWxldGUoc2lnbmFsKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc2hvdWxkX3N1c3BlbmQpIHtcblx0XHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoLTEpO1xuXHRcdFx0XHRiYXRjaC5kZWNyZW1lbnQoYmxvY2tpbmcpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRkLnByb21pc2UudGhlbihoYW5kbGVyLCAoZSkgPT4gaGFuZGxlcihudWxsLCBlIHx8ICd1bmtub3duJykpO1xuXHR9KTtcblxuXHR0ZWFyZG93bigoKSA9PiB7XG5cdFx0Zm9yIChjb25zdCBkIG9mIGRlZmVycmVkcy52YWx1ZXMoKSkge1xuXHRcdFx0ZC5yZWplY3QoU1RBTEVfUkVBQ1RJT04pO1xuXHRcdH1cblx0fSk7XG5cblx0aWYgKERFVikge1xuXHRcdC8vIGFkZCBhIGZsYWcgdGhhdCBsZXRzIHRoaXMgYmUgcHJpbnRlZCBhcyBhIGRlcml2ZWRcblx0XHQvLyB3aGVuIHVzaW5nIGAkaW5zcGVjdC50cmFjZSgpYFxuXHRcdHNpZ25hbC5mIHw9IEFTWU5DO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBQcm9taXNlKChmdWxmaWwpID0+IHtcblx0XHQvKiogQHBhcmFtIHtQcm9taXNlPFY+fSBwICovXG5cdFx0ZnVuY3Rpb24gbmV4dChwKSB7XG5cdFx0XHRmdW5jdGlvbiBnbygpIHtcblx0XHRcdFx0aWYgKHAgPT09IHByb21pc2UpIHtcblx0XHRcdFx0XHRmdWxmaWwoc2lnbmFsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBpZiB0aGUgZWZmZWN0IHJlLXJ1bnMgYmVmb3JlIHRoZSBpbml0aWFsIHByb21pc2Vcblx0XHRcdFx0XHQvLyByZXNvbHZlcywgZGVsYXkgcmVzb2x1dGlvbiB1bnRpbCB3ZSBoYXZlIGEgdmFsdWVcblx0XHRcdFx0XHRuZXh0KHByb21pc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHAudGhlbihnbywgZ28pO1xuXHRcdH1cblxuXHRcdG5leHQocHJvbWlzZSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gdXNlcl9kZXJpdmVkKGZuKSB7XG5cdGNvbnN0IGQgPSBkZXJpdmVkKGZuKTtcblxuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykgcHVzaF9yZWFjdGlvbl92YWx1ZShkKTtcblxuXHRyZXR1cm4gZDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHsoKSA9PiBWfSBmblxuICogQHJldHVybnMge0Rlcml2ZWQ8Vj59XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRfc2FmZV9lcXVhbChmbikge1xuXHRjb25zdCBzaWduYWwgPSBkZXJpdmVkKGZuKTtcblx0c2lnbmFsLmVxdWFscyA9IHNhZmVfZXF1YWxzO1xuXHRyZXR1cm4gc2lnbmFsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2Rlcml2ZWRfZWZmZWN0cyhkZXJpdmVkKSB7XG5cdHZhciBlZmZlY3RzID0gZGVyaXZlZC5lZmZlY3RzO1xuXG5cdGlmIChlZmZlY3RzICE9PSBudWxsKSB7XG5cdFx0ZGVyaXZlZC5lZmZlY3RzID0gbnVsbDtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWZmZWN0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChlZmZlY3RzW2ldKSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSB1cGRhdGluZyBkZXJpdmVkcywgdXNlZCB0byBkZXRlY3QgaW5maW5pdGUgcmVjdXJzaW9uXG4gKiBpbiBkZXYgbW9kZSBhbmQgcHJvdmlkZSBhIG5pY2VyIGVycm9yIHRoYW4gJ3RvbyBtdWNoIHJlY3Vyc2lvbidcbiAqIEB0eXBlIHtEZXJpdmVkW119XG4gKi9cbmxldCBzdGFjayA9IFtdO1xuXG4vKipcbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICogQHJldHVybnMge0VmZmVjdCB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGdldF9kZXJpdmVkX3BhcmVudF9lZmZlY3QoZGVyaXZlZCkge1xuXHR2YXIgcGFyZW50ID0gZGVyaXZlZC5wYXJlbnQ7XG5cdHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcblx0XHRpZiAoKHBhcmVudC5mICYgREVSSVZFRCkgPT09IDApIHtcblx0XHRcdC8vIFRoZSBvcmlnaW5hbCBwYXJlbnQgZWZmZWN0IG1pZ2h0J3ZlIGJlZW4gZGVzdHJveWVkIGJ1dCB0aGUgZGVyaXZlZFxuXHRcdFx0Ly8gaXMgdXNlZCBlbHNld2hlcmUgbm93IC0gZG8gbm90IHJldHVybiB0aGUgZGVzdHJveWVkIGVmZmVjdCBpbiB0aGF0IGNhc2Vcblx0XHRcdHJldHVybiAocGFyZW50LmYgJiBERVNUUk9ZRUQpID09PSAwID8gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChwYXJlbnQpIDogbnVsbDtcblx0XHR9XG5cdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudDtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVfZGVyaXZlZChkZXJpdmVkKSB7XG5cdHZhciB2YWx1ZTtcblx0dmFyIHByZXZfYWN0aXZlX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0c2V0X2FjdGl2ZV9lZmZlY3QoZ2V0X2Rlcml2ZWRfcGFyZW50X2VmZmVjdChkZXJpdmVkKSk7XG5cblx0aWYgKERFVikge1xuXHRcdGxldCBwcmV2X2VhZ2VyX2VmZmVjdHMgPSBlYWdlcl9lZmZlY3RzO1xuXHRcdHNldF9lYWdlcl9lZmZlY3RzKG5ldyBTZXQoKSk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChzdGFjay5pbmNsdWRlcyhkZXJpdmVkKSkge1xuXHRcdFx0XHRlLmRlcml2ZWRfcmVmZXJlbmNlc19zZWxmKCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YWNrLnB1c2goZGVyaXZlZCk7XG5cblx0XHRcdGRlcml2ZWQuZiAmPSB+V0FTX01BUktFRDtcblx0XHRcdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpO1xuXHRcdFx0dmFsdWUgPSB1cGRhdGVfcmVhY3Rpb24oZGVyaXZlZCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZfYWN0aXZlX2VmZmVjdCk7XG5cdFx0XHRzZXRfZWFnZXJfZWZmZWN0cyhwcmV2X2VhZ2VyX2VmZmVjdHMpO1xuXHRcdFx0c3RhY2sucG9wKCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHRyeSB7XG5cdFx0XHRkZXJpdmVkLmYgJj0gfldBU19NQVJLRUQ7XG5cdFx0XHRkZXN0cm95X2Rlcml2ZWRfZWZmZWN0cyhkZXJpdmVkKTtcblx0XHRcdHZhbHVlID0gdXBkYXRlX3JlYWN0aW9uKGRlcml2ZWQpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2X2FjdGl2ZV9lZmZlY3QpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2Rlcml2ZWQoZGVyaXZlZCkge1xuXHR2YXIgdmFsdWUgPSBleGVjdXRlX2Rlcml2ZWQoZGVyaXZlZCk7XG5cblx0aWYgKCFkZXJpdmVkLmVxdWFscyh2YWx1ZSkpIHtcblx0XHRkZXJpdmVkLnd2ID0gaW5jcmVtZW50X3dyaXRlX3ZlcnNpb24oKTtcblxuXHRcdC8vIGluIGEgZm9yaywgd2UgZG9uJ3QgdXBkYXRlIHRoZSB1bmRlcmx5aW5nIHZhbHVlLCBqdXN0IGBiYXRjaF92YWx1ZXNgLlxuXHRcdC8vIHRoZSB1bmRlcmx5aW5nIHZhbHVlIHdpbGwgYmUgdXBkYXRlZCB3aGVuIHRoZSBmb3JrIGlzIGNvbW1pdHRlZC5cblx0XHQvLyBvdGhlcndpc2UsIHRoZSBuZXh0IHRpbWUgd2UgZ2V0IGhlcmUgYWZ0ZXIgYSAncmVhbCB3b3JsZCcgc3RhdGVcblx0XHQvLyBjaGFuZ2UsIGBkZXJpdmVkLmVxdWFsc2AgbWF5IGluY29ycmVjdGx5IHJldHVybiBgdHJ1ZWBcblx0XHRpZiAoIWN1cnJlbnRfYmF0Y2g/LmlzX2ZvcmsgfHwgZGVyaXZlZC5kZXBzID09PSBudWxsKSB7XG5cdFx0XHRkZXJpdmVkLnYgPSB2YWx1ZTtcblxuXHRcdFx0Ly8gZGVyaXZlZHMgd2l0aG91dCBkZXBlbmRlbmNpZXMgc2hvdWxkIG5ldmVyIGJlIHJlY29tcHV0ZWRcblx0XHRcdGlmIChkZXJpdmVkLmRlcHMgPT09IG51bGwpIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZGVyaXZlZCwgQ0xFQU4pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gZG9uJ3QgbWFyayBkZXJpdmVkIGNsZWFuIGlmIHdlJ3JlIHJlYWRpbmcgaXQgaW5zaWRlIGFcblx0Ly8gY2xlYW51cCBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYWNoZSBhIHN0YWxlIHZhbHVlXG5cdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIER1cmluZyB0aW1lIHRyYXZlbGluZyB3ZSBkb24ndCB3YW50IHRvIHJlc2V0IHRoZSBzdGF0dXMgc28gdGhhdFxuXHQvLyB0cmF2ZXJzYWwgb2YgdGhlIGdyYXBoIGluIHRoZSBvdGhlciBiYXRjaGVzIHN0aWxsIGhhcHBlbnNcblx0aWYgKGJhdGNoX3ZhbHVlcyAhPT0gbnVsbCkge1xuXHRcdC8vIG9ubHkgY2FjaGUgdGhlIHZhbHVlIGlmIHdlJ3JlIGluIGEgdHJhY2tpbmcgY29udGV4dCwgb3RoZXJ3aXNlIHdlIHdvbid0XG5cdFx0Ly8gY2xlYXIgdGhlIGNhY2hlIGluIGBtYXJrX3JlYWN0aW9uc2Agd2hlbiBkZXBlbmRlbmNpZXMgYXJlIHVwZGF0ZWRcblx0XHRpZiAoZWZmZWN0X3RyYWNraW5nKCkgfHwgY3VycmVudF9iYXRjaD8uaXNfZm9yaykge1xuXHRcdFx0YmF0Y2hfdmFsdWVzLnNldChkZXJpdmVkLCB2YWx1ZSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHVwZGF0ZV9kZXJpdmVkX3N0YXR1cyhkZXJpdmVkKTtcblx0fVxufVxuIiwgIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRhY3RpdmVfZWZmZWN0LFxuXHR1bnRyYWNrZWRfd3JpdGVzLFxuXHRnZXQsXG5cdHNldF91bnRyYWNrZWRfd3JpdGVzLFxuXHR1bnRyYWNrLFxuXHRpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbixcblx0dXBkYXRlX2VmZmVjdCxcblx0Y3VycmVudF9zb3VyY2VzLFxuXHRpc19kaXJ0eSxcblx0dW50cmFja2luZyxcblx0aXNfZGVzdHJveWluZ19lZmZlY3QsXG5cdHB1c2hfcmVhY3Rpb25fdmFsdWUsXG5cdHNldF9pc191cGRhdGluZ19lZmZlY3QsXG5cdGlzX3VwZGF0aW5nX2VmZmVjdFxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVxdWFscywgc2FmZV9lcXVhbHMgfSBmcm9tICcuL2VxdWFsaXR5LmpzJztcbmltcG9ydCB7XG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0QlJBTkNIX0VGRkVDVCxcblx0RUFHRVJfRUZGRUNULFxuXHRNQVlCRV9ESVJUWSxcblx0QkxPQ0tfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0QVNZTkMsXG5cdFdBU19NQVJLRUQsXG5cdENPTk5FQ1RFRFxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnLCB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IHRhZ19wcm94eSB9IGZyb20gJy4uL2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7IGdldF9lcnJvciB9IGZyb20gJy4uLy4uL3NoYXJlZC9kZXYuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQsIGlzX3J1bmVzIH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgYmF0Y2hfdmFsdWVzLCBlYWdlcl9ibG9ja19lZmZlY3RzLCBzY2hlZHVsZV9lZmZlY3QgfSBmcm9tICcuL2JhdGNoLmpzJztcbmltcG9ydCB7IHByb3h5IH0gZnJvbSAnLi4vcHJveHkuanMnO1xuaW1wb3J0IHsgZXhlY3V0ZV9kZXJpdmVkIH0gZnJvbSAnLi9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBzZXRfc2lnbmFsX3N0YXR1cywgdXBkYXRlX2Rlcml2ZWRfc3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMuanMnO1xuXG4vKiogQHR5cGUge1NldDxhbnk+fSAqL1xuZXhwb3J0IGxldCBlYWdlcl9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG4vKiogQHR5cGUge01hcDxTb3VyY2UsIGFueT59ICovXG5leHBvcnQgY29uc3Qgb2xkX3ZhbHVlcyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBAcGFyYW0ge1NldDxhbnk+fSB2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZWFnZXJfZWZmZWN0cyh2KSB7XG5cdGVhZ2VyX2VmZmVjdHMgPSB2O1xufVxuXG5sZXQgZWFnZXJfZWZmZWN0c19kZWZlcnJlZCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0X2VhZ2VyX2VmZmVjdHNfZGVmZXJyZWQoKSB7XG5cdGVhZ2VyX2VmZmVjdHNfZGVmZXJyZWQgPSB0cnVlO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IHZcbiAqIEBwYXJhbSB7RXJyb3IgfCBudWxsfSBbc3RhY2tdXG4gKiBAcmV0dXJucyB7U291cmNlPFY+fVxuICovXG4vLyBUT0RPIHJlbmFtZSB0aGlzIHRvIGBzdGF0ZWAgdGhyb3VnaG91dCB0aGUgY29kZWJhc2VcbmV4cG9ydCBmdW5jdGlvbiBzb3VyY2Uodiwgc3RhY2spIHtcblx0LyoqIEB0eXBlIHtWYWx1ZX0gKi9cblx0dmFyIHNpZ25hbCA9IHtcblx0XHRmOiAwLCAvLyBUT0RPIGlkZWFsbHkgd2UgY291bGQgc2tpcCB0aGlzIGFsdG9nZXRoZXIsIGJ1dCBpdCBjYXVzZXMgdHlwZSBlcnJvcnNcblx0XHR2LFxuXHRcdHJlYWN0aW9uczogbnVsbCxcblx0XHRlcXVhbHMsXG5cdFx0cnY6IDAsXG5cdFx0d3Y6IDBcblx0fTtcblxuXHRpZiAoREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnKSB7XG5cdFx0c2lnbmFsLmNyZWF0ZWQgPSBzdGFjayA/PyBnZXRfZXJyb3IoJ2NyZWF0ZWQgYXQnKTtcblx0XHRzaWduYWwudXBkYXRlZCA9IG51bGw7XG5cdFx0c2lnbmFsLnNldF9kdXJpbmdfZWZmZWN0ID0gZmFsc2U7XG5cdFx0c2lnbmFsLnRyYWNlID0gbnVsbDtcblx0fVxuXG5cdHJldHVybiBzaWduYWw7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gdlxuICogQHBhcmFtIHtFcnJvciB8IG51bGx9IFtzdGFja11cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGUodiwgc3RhY2spIHtcblx0Y29uc3QgcyA9IHNvdXJjZSh2LCBzdGFjayk7XG5cblx0cHVzaF9yZWFjdGlvbl92YWx1ZShzKTtcblxuXHRyZXR1cm4gcztcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWfSBpbml0aWFsX3ZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbW11dGFibGVdXG4gKiBAcmV0dXJucyB7U291cmNlPFY+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBtdXRhYmxlX3NvdXJjZShpbml0aWFsX3ZhbHVlLCBpbW11dGFibGUgPSBmYWxzZSwgdHJhY2thYmxlID0gdHJ1ZSkge1xuXHRjb25zdCBzID0gc291cmNlKGluaXRpYWxfdmFsdWUpO1xuXHRpZiAoIWltbXV0YWJsZSkge1xuXHRcdHMuZXF1YWxzID0gc2FmZV9lcXVhbHM7XG5cdH1cblxuXHQvLyBiaW5kIHRoZSBzaWduYWwgdG8gdGhlIGNvbXBvbmVudCBjb250ZXh0LCBpbiBjYXNlIHdlIG5lZWQgdG9cblx0Ly8gdHJhY2sgdXBkYXRlcyB0byB0cmlnZ2VyIGJlZm9yZVVwZGF0ZS9hZnRlclVwZGF0ZSBjYWxsYmFja3Ncblx0aWYgKGxlZ2FjeV9tb2RlX2ZsYWcgJiYgdHJhY2thYmxlICYmIGNvbXBvbmVudF9jb250ZXh0ICE9PSBudWxsICYmIGNvbXBvbmVudF9jb250ZXh0LmwgIT09IG51bGwpIHtcblx0XHQoY29tcG9uZW50X2NvbnRleHQubC5zID8/PSBbXSkucHVzaChzKTtcblx0fVxuXG5cdHJldHVybiBzO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1ZhbHVlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11dGF0ZShzb3VyY2UsIHZhbHVlKSB7XG5cdHNldChcblx0XHRzb3VyY2UsXG5cdFx0dW50cmFjaygoKSA9PiBnZXQoc291cmNlKSlcblx0KTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1NvdXJjZTxWPn0gc291cmNlXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRfcHJveHldXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChzb3VyY2UsIHZhbHVlLCBzaG91bGRfcHJveHkgPSBmYWxzZSkge1xuXHRpZiAoXG5cdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmXG5cdFx0Ly8gc2luY2Ugd2UgYXJlIHVudHJhY2tpbmcgdGhlIGZ1bmN0aW9uIGluc2lkZSBgJGluc3BlY3Qud2l0aGAgd2UgbmVlZCB0byBhZGQgdGhpcyBjaGVja1xuXHRcdC8vIHRvIGVuc3VyZSB3ZSBlcnJvciBpZiBzdGF0ZSBpcyBzZXQgaW5zaWRlIGFuIGluc3BlY3QgZWZmZWN0XG5cdFx0KCF1bnRyYWNraW5nIHx8IChhY3RpdmVfcmVhY3Rpb24uZiAmIEVBR0VSX0VGRkVDVCkgIT09IDApICYmXG5cdFx0aXNfcnVuZXMoKSAmJlxuXHRcdChhY3RpdmVfcmVhY3Rpb24uZiAmIChERVJJVkVEIHwgQkxPQ0tfRUZGRUNUIHwgQVNZTkMgfCBFQUdFUl9FRkZFQ1QpKSAhPT0gMCAmJlxuXHRcdCFjdXJyZW50X3NvdXJjZXM/LmluY2x1ZGVzKHNvdXJjZSlcblx0KSB7XG5cdFx0ZS5zdGF0ZV91bnNhZmVfbXV0YXRpb24oKTtcblx0fVxuXG5cdGxldCBuZXdfdmFsdWUgPSBzaG91bGRfcHJveHkgPyBwcm94eSh2YWx1ZSkgOiB2YWx1ZTtcblxuXHRpZiAoREVWKSB7XG5cdFx0dGFnX3Byb3h5KG5ld192YWx1ZSwgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzb3VyY2UubGFiZWwpKTtcblx0fVxuXG5cdHJldHVybiBpbnRlcm5hbF9zZXQoc291cmNlLCBuZXdfdmFsdWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1NvdXJjZTxWPn0gc291cmNlXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVybmFsX3NldChzb3VyY2UsIHZhbHVlKSB7XG5cdGlmICghc291cmNlLmVxdWFscyh2YWx1ZSkpIHtcblx0XHR2YXIgb2xkX3ZhbHVlID0gc291cmNlLnY7XG5cblx0XHRpZiAoaXNfZGVzdHJveWluZ19lZmZlY3QpIHtcblx0XHRcdG9sZF92YWx1ZXMuc2V0KHNvdXJjZSwgdmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvbGRfdmFsdWVzLnNldChzb3VyY2UsIG9sZF92YWx1ZSk7XG5cdFx0fVxuXG5cdFx0c291cmNlLnYgPSB2YWx1ZTtcblxuXHRcdHZhciBiYXRjaCA9IEJhdGNoLmVuc3VyZSgpO1xuXHRcdGJhdGNoLmNhcHR1cmUoc291cmNlLCBvbGRfdmFsdWUpO1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0aWYgKHRyYWNpbmdfbW9kZV9mbGFnIHx8IGFjdGl2ZV9lZmZlY3QgIT09IG51bGwpIHtcblx0XHRcdFx0c291cmNlLnVwZGF0ZWQgPz89IG5ldyBNYXAoKTtcblxuXHRcdFx0XHQvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2hlbiBub3QgdXNpbmcgJGluc3BlY3QudHJhY2UsIHdlIG9ubHkgc3RhcnQgY29sbGVjdGluZyBzdGFjayB0cmFjZXNcblx0XHRcdFx0Ly8gYWZ0ZXIgdGhlIHNhbWUgc291cmNlIGhhcyBiZWVuIHVwZGF0ZWQgbW9yZSB0aGFuIDUgdGltZXMgaW4gdGhlIHNhbWUgZmx1c2ggY3ljbGUuXG5cdFx0XHRcdGNvbnN0IGNvdW50ID0gKHNvdXJjZS51cGRhdGVkLmdldCgnJyk/LmNvdW50ID8/IDApICsgMTtcblx0XHRcdFx0c291cmNlLnVwZGF0ZWQuc2V0KCcnLCB7IGVycm9yOiAvKiogQHR5cGUge2FueX0gKi8gKG51bGwpLCBjb3VudCB9KTtcblxuXHRcdFx0XHRpZiAodHJhY2luZ19tb2RlX2ZsYWcgfHwgY291bnQgPiA1KSB7XG5cdFx0XHRcdFx0Y29uc3QgZXJyb3IgPSBnZXRfZXJyb3IoJ3VwZGF0ZWQgYXQnKTtcblxuXHRcdFx0XHRcdGlmIChlcnJvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0bGV0IGVudHJ5ID0gc291cmNlLnVwZGF0ZWQuZ2V0KGVycm9yLnN0YWNrKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFlbnRyeSkge1xuXHRcdFx0XHRcdFx0XHRlbnRyeSA9IHsgZXJyb3IsIGNvdW50OiAwIH07XG5cdFx0XHRcdFx0XHRcdHNvdXJjZS51cGRhdGVkLnNldChlcnJvci5zdGFjaywgZW50cnkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRlbnRyeS5jb3VudCsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRzb3VyY2Uuc2V0X2R1cmluZ19lZmZlY3QgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgoc291cmNlLmYgJiBERVJJVkVEKSAhPT0gMCkge1xuXHRcdFx0Y29uc3QgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHNvdXJjZSk7XG5cblx0XHRcdC8vIGlmIHdlIGFyZSBhc3NpZ25pbmcgdG8gYSBkaXJ0eSBkZXJpdmVkIHdlIHNldCBpdCB0byBjbGVhbi9tYXliZSBkaXJ0eSBidXQgd2UgYWxzbyBlYWdlcmx5IGV4ZWN1dGUgaXQgdG8gdHJhY2sgdGhlIGRlcGVuZGVuY2llc1xuXHRcdFx0aWYgKChzb3VyY2UuZiAmIERJUlRZKSAhPT0gMCkge1xuXHRcdFx0XHRleGVjdXRlX2Rlcml2ZWQoZGVyaXZlZCk7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZV9kZXJpdmVkX3N0YXR1cyhkZXJpdmVkKTtcblx0XHR9XG5cblx0XHRzb3VyY2Uud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXG5cdFx0Ly8gRm9yIGRlYnVnZ2luZywgaW4gY2FzZSB5b3Ugd2FudCB0byBrbm93IHdoaWNoIHJlYWN0aW9ucyBhcmUgYmVpbmcgc2NoZWR1bGVkOlxuXHRcdC8vIGxvZ19yZWFjdGlvbnMoc291cmNlKTtcblx0XHRtYXJrX3JlYWN0aW9ucyhzb3VyY2UsIERJUlRZKTtcblxuXHRcdC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGUgY3VycmVudCByZWFjdGlvbiBtaWdodCBub3QgaGF2ZSB1cC10by1kYXRlIGRlcGVuZGVuY2llc1xuXHRcdC8vIHdoaWxzdCBpdCdzIGFjdGl2ZWx5IHJ1bm5pbmcuIFNvIGluIHRoZSBjYXNlIG9mIGVuc3VyaW5nIGl0IHJlZ2lzdGVycyB0aGUgcmVhY3Rpb25cblx0XHQvLyBwcm9wZXJseSBmb3IgaXRzZWxmLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgY3VycmVudCBlZmZlY3QgYWN0dWFsbHkgZ2V0c1xuXHRcdC8vIHNjaGVkdWxlZC4gaS5lOiBgJGVmZmVjdCgoKSA9PiB4KyspYFxuXHRcdGlmIChcblx0XHRcdGlzX3J1bmVzKCkgJiZcblx0XHRcdGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiBDTEVBTikgIT09IDAgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgPT09IDBcblx0XHQpIHtcblx0XHRcdGlmICh1bnRyYWNrZWRfd3JpdGVzID09PSBudWxsKSB7XG5cdFx0XHRcdHNldF91bnRyYWNrZWRfd3JpdGVzKFtzb3VyY2VdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVudHJhY2tlZF93cml0ZXMucHVzaChzb3VyY2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghYmF0Y2guaXNfZm9yayAmJiBlYWdlcl9lZmZlY3RzLnNpemUgPiAwICYmICFlYWdlcl9lZmZlY3RzX2RlZmVycmVkKSB7XG5cdFx0XHRmbHVzaF9lYWdlcl9lZmZlY3RzKCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfZWFnZXJfZWZmZWN0cygpIHtcblx0ZWFnZXJfZWZmZWN0c19kZWZlcnJlZCA9IGZhbHNlO1xuXHR2YXIgcHJldl9pc191cGRhdGluZ19lZmZlY3QgPSBpc191cGRhdGluZ19lZmZlY3Q7XG5cdHNldF9pc191cGRhdGluZ19lZmZlY3QodHJ1ZSk7XG5cblx0Y29uc3QgaW5zcGVjdHMgPSBBcnJheS5mcm9tKGVhZ2VyX2VmZmVjdHMpO1xuXG5cdHRyeSB7XG5cdFx0Zm9yIChjb25zdCBlZmZlY3Qgb2YgaW5zcGVjdHMpIHtcblx0XHRcdC8vIE1hcmsgY2xlYW4gaW5zcGVjdC1lZmZlY3RzIGFzIG1heWJlIGRpcnR5IGFuZCB0aGVuIGNoZWNrIHRoZWlyIGRpcnRpbmVzc1xuXHRcdFx0Ly8gaW5zdGVhZCBvZiBqdXN0IHVwZGF0aW5nIHRoZSBlZmZlY3RzIC0gdGhpcyB3YXkgd2UgYXZvaWQgb3ZlcmZpcmluZy5cblx0XHRcdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgIT09IDApIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc19kaXJ0eShlZmZlY3QpKSB7XG5cdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdChwcmV2X2lzX3VwZGF0aW5nX2VmZmVjdCk7XG5cdH1cblxuXHRlYWdlcl9lZmZlY3RzLmNsZWFyKCk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtudW1iZXIgfCBiaWdpbnR9IFRcbiAqIEBwYXJhbSB7U291cmNlPFQ+fSBzb3VyY2VcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cdHZhciByZXN1bHQgPSBkID09PSAxID8gdmFsdWUrKyA6IHZhbHVlLS07XG5cblx0c2V0KHNvdXJjZSwgdmFsdWUpO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge251bWJlciB8IGJpZ2ludH0gVFxuICogQHBhcmFtIHtTb3VyY2U8VD59IHNvdXJjZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcHJlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gc2V0KHNvdXJjZSwgZCA9PT0gMSA/ICsrdmFsdWUgOiAtLXZhbHVlKTtcbn1cblxuLyoqXG4gKiBTaWxlbnRseSAod2l0aG91dCB1c2luZyBgZ2V0YCkgaW5jcmVtZW50IGEgc291cmNlXG4gKiBAcGFyYW0ge1NvdXJjZTxudW1iZXI+fSBzb3VyY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudChzb3VyY2UpIHtcblx0c2V0KHNvdXJjZSwgc291cmNlLnYgKyAxKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzaWduYWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXMgc2hvdWxkIGJlIERJUlRZIG9yIE1BWUJFX0RJUlRZXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gbWFya19yZWFjdGlvbnMoc2lnbmFsLCBzdGF0dXMpIHtcblx0dmFyIHJlYWN0aW9ucyA9IHNpZ25hbC5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHR2YXIgcnVuZXMgPSBpc19ydW5lcygpO1xuXHR2YXIgbGVuZ3RoID0gcmVhY3Rpb25zLmxlbmd0aDtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHJlYWN0aW9uID0gcmVhY3Rpb25zW2ldO1xuXHRcdHZhciBmbGFncyA9IHJlYWN0aW9uLmY7XG5cblx0XHQvLyBJbiBsZWdhY3kgbW9kZSwgc2tpcCB0aGUgY3VycmVudCBlZmZlY3QgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuXHRcdGlmICghcnVuZXMgJiYgcmVhY3Rpb24gPT09IGFjdGl2ZV9lZmZlY3QpIGNvbnRpbnVlO1xuXG5cdFx0Ly8gSW5zcGVjdCBlZmZlY3RzIG5lZWQgdG8gcnVuIGltbWVkaWF0ZWx5LCBzbyB0aGF0IHRoZSBzdGFjayB0cmFjZSBtYWtlcyBzZW5zZVxuXHRcdGlmIChERVYgJiYgKGZsYWdzICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0ZWFnZXJfZWZmZWN0cy5hZGQocmVhY3Rpb24pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFyIG5vdF9kaXJ0eSA9IChmbGFncyAmIERJUlRZKSA9PT0gMDtcblxuXHRcdC8vIGRvbid0IHNldCBhIERJUlRZIHJlYWN0aW9uIHRvIE1BWUJFX0RJUlRZXG5cdFx0aWYgKG5vdF9kaXJ0eSkge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIHN0YXR1cyk7XG5cdFx0fVxuXG5cdFx0aWYgKChmbGFncyAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHR2YXIgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKTtcblxuXHRcdFx0YmF0Y2hfdmFsdWVzPy5kZWxldGUoZGVyaXZlZCk7XG5cblx0XHRcdGlmICgoZmxhZ3MgJiBXQVNfTUFSS0VEKSA9PT0gMCkge1xuXHRcdFx0XHQvLyBPbmx5IGNvbm5lY3RlZCBkZXJpdmVkcyBjYW4gYmUgcmVsaWFibHkgdW5tYXJrZWQgcmlnaHQgYXdheVxuXHRcdFx0XHRpZiAoZmxhZ3MgJiBDT05ORUNURUQpIHtcblx0XHRcdFx0XHRyZWFjdGlvbi5mIHw9IFdBU19NQVJLRUQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtYXJrX3JlYWN0aW9ucyhkZXJpdmVkLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChub3RfZGlydHkpIHtcblx0XHRcdGlmICgoZmxhZ3MgJiBCTE9DS19FRkZFQ1QpICE9PSAwICYmIGVhZ2VyX2Jsb2NrX2VmZmVjdHMgIT09IG51bGwpIHtcblx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5hZGQoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdFx0fVxuXG5cdFx0XHRzY2hlZHVsZV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdH1cblx0fVxufVxuIiwgIi8qKiBAaW1wb3J0IHsgU291cmNlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0Z2V0LFxuXHRhY3RpdmVfZWZmZWN0LFxuXHR1cGRhdGVfdmVyc2lvbixcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfdXBkYXRlX3ZlcnNpb24sXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7XG5cdGFycmF5X3Byb3RvdHlwZSxcblx0Z2V0X2Rlc2NyaXB0b3IsXG5cdGdldF9wcm90b3R5cGVfb2YsXG5cdGlzX2FycmF5LFxuXHRvYmplY3RfcHJvdG90eXBlXG59IGZyb20gJy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRzdGF0ZSBhcyBzb3VyY2UsXG5cdHNldCxcblx0aW5jcmVtZW50LFxuXHRmbHVzaF9lYWdlcl9lZmZlY3RzLFxuXHRzZXRfZWFnZXJfZWZmZWN0c19kZWZlcnJlZFxufSBmcm9tICcuL3JlYWN0aXZpdHkvc291cmNlcy5qcyc7XG5pbXBvcnQgeyBQUk9YWV9QQVRIX1NZTUJPTCwgU1RBVEVfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHRhZyB9IGZyb20gJy4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgZ2V0X2Vycm9yIH0gZnJvbSAnLi4vc2hhcmVkL2Rldi5qcyc7XG5pbXBvcnQgeyB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcblxuLy8gVE9ETyBtb3ZlIGFsbCByZWdleGVzIGludG8gc2hhcmVkIG1vZHVsZT9cbmNvbnN0IHJlZ2V4X2lzX3ZhbGlkX2lkZW50aWZpZXIgPSAvXlthLXpBLVpfJF1bYS16QS1aXyQwLTldKiQvO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IHZhbHVlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3h5KHZhbHVlKSB7XG5cdC8vIGlmIG5vbi1wcm94eWFibGUsIG9yIGlzIGFscmVhZHkgYSBwcm94eSwgcmV0dXJuIGB2YWx1ZWBcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwgfHwgU1RBVEVfU1lNQk9MIGluIHZhbHVlKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Y29uc3QgcHJvdG90eXBlID0gZ2V0X3Byb3RvdHlwZV9vZih2YWx1ZSk7XG5cblx0aWYgKHByb3RvdHlwZSAhPT0gb2JqZWN0X3Byb3RvdHlwZSAmJiBwcm90b3R5cGUgIT09IGFycmF5X3Byb3RvdHlwZSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgU291cmNlPGFueT4+fSAqL1xuXHR2YXIgc291cmNlcyA9IG5ldyBNYXAoKTtcblx0dmFyIGlzX3Byb3hpZWRfYXJyYXkgPSBpc19hcnJheSh2YWx1ZSk7XG5cdHZhciB2ZXJzaW9uID0gc291cmNlKDApO1xuXG5cdHZhciBzdGFjayA9IERFViAmJiB0cmFjaW5nX21vZGVfZmxhZyA/IGdldF9lcnJvcignY3JlYXRlZCBhdCcpIDogbnVsbDtcblx0dmFyIHBhcmVudF92ZXJzaW9uID0gdXBkYXRlX3ZlcnNpb247XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGVzIHRoZSBwcm94eSBpbiB0aGUgY29udGV4dCBvZiB0aGUgcmVhY3Rpb24gaXQgd2FzIG9yaWdpbmFsbHkgY3JlYXRlZCBpbiwgaWYgYW55XG5cdCAqIEB0ZW1wbGF0ZSBUXG5cdCAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cblx0ICovXG5cdHZhciB3aXRoX3BhcmVudCA9IChmbikgPT4ge1xuXHRcdGlmICh1cGRhdGVfdmVyc2lvbiA9PT0gcGFyZW50X3ZlcnNpb24pIHtcblx0XHRcdHJldHVybiBmbigpO1xuXHRcdH1cblxuXHRcdC8vIGNoaWxkIHNvdXJjZSBpcyBiZWluZyBjcmVhdGVkIGFmdGVyIHRoZSBpbml0aWFsIHByb3h5IFx1MjAxNFxuXHRcdC8vIHByZXZlbnQgaXQgZnJvbSBiZWluZyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgcmVhY3Rpb25cblx0XHR2YXIgcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdFx0dmFyIHZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdFx0c2V0X3VwZGF0ZV92ZXJzaW9uKHBhcmVudF92ZXJzaW9uKTtcblxuXHRcdHZhciByZXN1bHQgPSBmbigpO1xuXG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihyZWFjdGlvbik7XG5cdFx0c2V0X3VwZGF0ZV92ZXJzaW9uKHZlcnNpb24pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHRpZiAoaXNfcHJveGllZF9hcnJheSkge1xuXHRcdC8vIFdlIG5lZWQgdG8gY3JlYXRlIHRoZSBsZW5ndGggc291cmNlIGVhZ2VybHkgdG8gZW5zdXJlIHRoYXRcblx0XHQvLyBtdXRhdGlvbnMgdG8gdGhlIGFycmF5IGFyZSBwcm9wZXJseSBzeW5jZWQgd2l0aCBvdXIgcHJveHlcblx0XHRzb3VyY2VzLnNldCgnbGVuZ3RoJywgc291cmNlKC8qKiBAdHlwZSB7YW55W119ICovICh2YWx1ZSkubGVuZ3RoLCBzdGFjaykpO1xuXHRcdGlmIChERVYpIHtcblx0XHRcdHZhbHVlID0gLyoqIEB0eXBlIHthbnl9ICovIChpbnNwZWN0YWJsZV9hcnJheSgvKiogQHR5cGUge2FueVtdfSAqLyAodmFsdWUpKSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqIFVzZWQgaW4gZGV2IGZvciAkaW5zcGVjdC50cmFjZSgpICovXG5cdHZhciBwYXRoID0gJyc7XG5cdGxldCB1cGRhdGluZyA9IGZhbHNlO1xuXHQvKiogQHBhcmFtIHtzdHJpbmd9IG5ld19wYXRoICovXG5cdGZ1bmN0aW9uIHVwZGF0ZV9wYXRoKG5ld19wYXRoKSB7XG5cdFx0aWYgKHVwZGF0aW5nKSByZXR1cm47XG5cdFx0dXBkYXRpbmcgPSB0cnVlO1xuXHRcdHBhdGggPSBuZXdfcGF0aDtcblxuXHRcdHRhZyh2ZXJzaW9uLCBgJHtwYXRofSB2ZXJzaW9uYCk7XG5cblx0XHQvLyByZW5hbWUgYWxsIGNoaWxkIHNvdXJjZXMgYW5kIGNoaWxkIHByb3hpZXNcblx0XHRmb3IgKGNvbnN0IFtwcm9wLCBzb3VyY2VdIG9mIHNvdXJjZXMpIHtcblx0XHRcdHRhZyhzb3VyY2UsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0fVxuXHRcdHVwZGF0aW5nID0gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gbmV3IFByb3h5KC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLCB7XG5cdFx0ZGVmaW5lUHJvcGVydHkoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHQhKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci5jb25maWd1cmFibGUgPT09IGZhbHNlIHx8XG5cdFx0XHRcdGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci53cml0YWJsZSA9PT0gZmFsc2Vcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB3ZSBkaXNhbGxvdyBub24tYmFzaWMgZGVzY3JpcHRvcnMsIGJlY2F1c2UgdW5sZXNzIHRoZXkgYXJlIGFwcGxpZWQgdG8gdGhlXG5cdFx0XHRcdC8vIHRhcmdldCBvYmplY3QgXHUyMDE0IHdoaWNoIHdlIGF2b2lkLCBzbyB0aGF0IHN0YXRlIGNhbiBiZSBmb3JrZWQgXHUyMDE0IHdlIHdpbGwgcnVuXG5cdFx0XHRcdC8vIGFmb3VsIG9mIHRoZSB2YXJpb3VzIGludmFyaWFudHNcblx0XHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHkvUHJveHkvZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yI2ludmFyaWFudHNcblx0XHRcdFx0ZS5zdGF0ZV9kZXNjcmlwdG9yc19maXhlZCgpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShkZXNjcmlwdG9yLnZhbHVlLCBzdGFjayk7XG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdFx0aWYgKERFViAmJiB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcztcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXQocywgZGVzY3JpcHRvci52YWx1ZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKHByb3AgaW4gdGFyZ2V0KSB7XG5cdFx0XHRcdFx0Y29uc3QgcyA9IHdpdGhfcGFyZW50KCgpID0+IHNvdXJjZShVTklOSVRJQUxJWkVELCBzdGFjaykpO1xuXHRcdFx0XHRcdHNvdXJjZXMuc2V0KHByb3AsIHMpO1xuXHRcdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2V0KHMsIFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRpbmNyZW1lbnQodmVyc2lvbik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuXHRcdFx0aWYgKHByb3AgPT09IFNUQVRFX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChERVYgJiYgcHJvcCA9PT0gUFJPWFlfUEFUSF9TWU1CT0wpIHtcblx0XHRcdFx0cmV0dXJuIHVwZGF0ZV9wYXRoO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0dmFyIGV4aXN0cyA9IHByb3AgaW4gdGFyZ2V0O1xuXG5cdFx0XHQvLyBjcmVhdGUgYSBzb3VyY2UsIGJ1dCBvbmx5IGlmIGl0J3MgYW4gb3duIHByb3BlcnR5IGFuZCBub3QgYSBwcm90b3R5cGUgcHJvcGVydHlcblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQgJiYgKCFleGlzdHMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpKSB7XG5cdFx0XHRcdHMgPSB3aXRoX3BhcmVudCgoKSA9PiB7XG5cdFx0XHRcdFx0dmFyIHAgPSBwcm94eShleGlzdHMgPyB0YXJnZXRbcHJvcF0gOiBVTklOSVRJQUxJWkVEKTtcblx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShwLCBzdGFjayk7XG5cblx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHR0YWcocywgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcztcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIHYgPSBnZXQocyk7XG5cdFx0XHRcdHJldHVybiB2ID09PSBVTklOSVRJQUxJWkVEID8gdW5kZWZpbmVkIDogdjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuXHRcdH0sXG5cblx0XHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKSB7XG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG5cblx0XHRcdGlmIChkZXNjcmlwdG9yICYmICd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0XHRpZiAocykgZGVzY3JpcHRvci52YWx1ZSA9IGdldChzKTtcblx0XHRcdH0gZWxzZSBpZiAoZGVzY3JpcHRvciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHZhciBzb3VyY2UgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdFx0dmFyIHZhbHVlID0gc291cmNlPy52O1xuXG5cdFx0XHRcdGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gVU5JTklUSUFMSVpFRCkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRlc2NyaXB0b3I7XG5cdFx0fSxcblxuXHRcdGhhcyh0YXJnZXQsIHByb3ApIHtcblx0XHRcdGlmIChwcm9wID09PSBTVEFURV9TWU1CT0wpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgaGFzID0gKHMgIT09IHVuZGVmaW5lZCAmJiBzLnYgIT09IFVOSU5JVElBTElaRUQpIHx8IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0cyAhPT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdChhY3RpdmVfZWZmZWN0ICE9PSBudWxsICYmICghaGFzIHx8IGdldF9kZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk/LndyaXRhYmxlKSlcblx0XHRcdCkge1xuXHRcdFx0XHRpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHRcdHZhciBwID0gaGFzID8gcHJveHkodGFyZ2V0W3Byb3BdKSA6IFVOSU5JVElBTElaRUQ7XG5cdFx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShwLCBzdGFjayk7XG5cblx0XHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdmFsdWUgPSBnZXQocyk7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gVU5JTklUSUFMSVpFRCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaGFzO1xuXHRcdH0sXG5cblx0XHRzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgaGFzID0gcHJvcCBpbiB0YXJnZXQ7XG5cblx0XHRcdC8vIHZhcmlhYmxlLmxlbmd0aCA9IHZhbHVlIC0+IGNsZWFyIGFsbCBzaWduYWxzIHdpdGggaW5kZXggPj0gdmFsdWVcblx0XHRcdGlmIChpc19wcm94aWVkX2FycmF5ICYmIHByb3AgPT09ICdsZW5ndGgnKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSB2YWx1ZTsgaSA8IC8qKiBAdHlwZSB7U291cmNlPG51bWJlcj59ICovIChzKS52OyBpICs9IDEpIHtcblx0XHRcdFx0XHR2YXIgb3RoZXJfcyA9IHNvdXJjZXMuZ2V0KGkgKyAnJyk7XG5cdFx0XHRcdFx0aWYgKG90aGVyX3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0c2V0KG90aGVyX3MsIFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaSBpbiB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBpdGVtIGV4aXN0cyBpbiB0aGUgb3JpZ2luYWwsIHdlIG5lZWQgdG8gY3JlYXRlIGFuIHVuaW5pdGlhbGl6ZWQgc291cmNlLFxuXHRcdFx0XHRcdFx0Ly8gZWxzZSBhIGxhdGVyIHJlYWQgb2YgdGhlIHByb3BlcnR5IHdvdWxkIHJlc3VsdCBpbiBhIHNvdXJjZSBiZWluZyBjcmVhdGVkIHdpdGhcblx0XHRcdFx0XHRcdC8vIHRoZSB2YWx1ZSBvZiB0aGUgb3JpZ2luYWwgaXRlbSBhdCB0aGF0IGluZGV4LlxuXHRcdFx0XHRcdFx0b3RoZXJfcyA9IHdpdGhfcGFyZW50KCgpID0+IHNvdXJjZShVTklOSVRJQUxJWkVELCBzdGFjaykpO1xuXHRcdFx0XHRcdFx0c291cmNlcy5zZXQoaSArICcnLCBvdGhlcl9zKTtcblxuXHRcdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0XHR0YWcob3RoZXJfcywgZ2V0X2xhYmVsKHBhdGgsIGkpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgd2UgaGF2ZW4ndCB5ZXQgY3JlYXRlZCBhIHNvdXJjZSBmb3IgdGhpcyBwcm9wZXJ0eSwgd2UgbmVlZCB0byBlbnN1cmVcblx0XHRcdC8vIHdlIGRvIHNvIG90aGVyd2lzZSBpZiB3ZSByZWFkIGl0IGxhdGVyLCB0aGVuIHRoZSB3cml0ZSB3b24ndCBiZSB0cmFja2VkIGFuZFxuXHRcdFx0Ly8gdGhlIGhldXJpc3RpY3Mgb2YgZWZmZWN0cyB3aWxsIGJlIGRpZmZlcmVudCB2cyBpZiB3ZSBoYWQgcmVhZCB0aGUgcHJveGllZFxuXHRcdFx0Ly8gb2JqZWN0IHByb3BlcnR5IGJlZm9yZSB3cml0aW5nIHRvIHRoYXQgcHJvcGVydHkuXG5cdFx0XHRpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmICghaGFzIHx8IGdldF9kZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk/LndyaXRhYmxlKSB7XG5cdFx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHNvdXJjZSh1bmRlZmluZWQsIHN0YWNrKSk7XG5cblx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHR0YWcocywgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2V0KHMsIHByb3h5KHZhbHVlKSk7XG5cblx0XHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFzID0gcy52ICE9PSBVTklOSVRJQUxJWkVEO1xuXG5cdFx0XHRcdHZhciBwID0gd2l0aF9wYXJlbnQoKCkgPT4gcHJveHkodmFsdWUpKTtcblx0XHRcdFx0c2V0KHMsIHApO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG5cblx0XHRcdC8vIFNldCB0aGUgbmV3IHZhbHVlIGJlZm9yZSB1cGRhdGluZyBhbnkgc2lnbmFscyBzbyB0aGF0IGFueSBsaXN0ZW5lcnMgZ2V0IHRoZSBuZXcgdmFsdWVcblx0XHRcdGlmIChkZXNjcmlwdG9yPy5zZXQpIHtcblx0XHRcdFx0ZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWhhcykge1xuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIG11dGF0ZWQgYW4gYXJyYXkgZGlyZWN0bHksIHdlIG1pZ2h0IG5lZWQgdG9cblx0XHRcdFx0Ly8gc2lnbmFsIHRoYXQgbGVuZ3RoIGhhcyBhbHNvIGNoYW5nZWQuIERvIGl0IGJlZm9yZSB1cGRhdGluZyBtZXRhZGF0YVxuXHRcdFx0XHQvLyB0byBlbnN1cmUgdGhhdCBpdGVyYXRpbmcgb3ZlciB0aGUgYXJyYXkgYXMgYSByZXN1bHQgb2YgYSBtZXRhZGF0YSB1cGRhdGVcblx0XHRcdFx0Ly8gd2lsbCBub3QgY2F1c2UgdGhlIGxlbmd0aCB0byBiZSBvdXQgb2Ygc3luYy5cblx0XHRcdFx0aWYgKGlzX3Byb3hpZWRfYXJyYXkgJiYgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0dmFyIGxzID0gLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPn0gKi8gKHNvdXJjZXMuZ2V0KCdsZW5ndGgnKSk7XG5cdFx0XHRcdFx0dmFyIG4gPSBOdW1iZXIocHJvcCk7XG5cblx0XHRcdFx0XHRpZiAoTnVtYmVyLmlzSW50ZWdlcihuKSAmJiBuID49IGxzLnYpIHtcblx0XHRcdFx0XHRcdHNldChscywgbiArIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdG93bktleXModGFyZ2V0KSB7XG5cdFx0XHRnZXQodmVyc2lvbik7XG5cblx0XHRcdHZhciBvd25fa2V5cyA9IFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpLmZpbHRlcigoa2V5KSA9PiB7XG5cdFx0XHRcdHZhciBzb3VyY2UgPSBzb3VyY2VzLmdldChrZXkpO1xuXHRcdFx0XHRyZXR1cm4gc291cmNlID09PSB1bmRlZmluZWQgfHwgc291cmNlLnYgIT09IFVOSU5JVElBTElaRUQ7XG5cdFx0XHR9KTtcblxuXHRcdFx0Zm9yICh2YXIgW2tleSwgc291cmNlXSBvZiBzb3VyY2VzKSB7XG5cdFx0XHRcdGlmIChzb3VyY2UudiAhPT0gVU5JTklUSUFMSVpFRCAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG5cdFx0XHRcdFx0b3duX2tleXMucHVzaChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvd25fa2V5cztcblx0XHR9LFxuXG5cdFx0c2V0UHJvdG90eXBlT2YoKSB7XG5cdFx0XHRlLnN0YXRlX3Byb3RvdHlwZV9maXhlZCgpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3ltYm9sfSBwcm9wXG4gKi9cbmZ1bmN0aW9uIGdldF9sYWJlbChwYXRoLCBwcm9wKSB7XG5cdGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHJldHVybiBgJHtwYXRofVtTeW1ib2woJHtwcm9wLmRlc2NyaXB0aW9uID8/ICcnfSldYDtcblx0aWYgKHJlZ2V4X2lzX3ZhbGlkX2lkZW50aWZpZXIudGVzdChwcm9wKSkgcmV0dXJuIGAke3BhdGh9LiR7cHJvcH1gO1xuXHRyZXR1cm4gL15cXGQrJC8udGVzdChwcm9wKSA/IGAke3BhdGh9WyR7cHJvcH1dYCA6IGAke3BhdGh9Wycke3Byb3B9J11gO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Byb3hpZWRfdmFsdWUodmFsdWUpIHtcblx0dHJ5IHtcblx0XHRpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBTVEFURV9TWU1CT0wgaW4gdmFsdWUpIHtcblx0XHRcdHJldHVybiB2YWx1ZVtTVEFURV9TWU1CT0xdO1xuXHRcdH1cblx0fSBjYXRjaCB7XG5cdFx0Ly8gdGhlIGFib3ZlIGlmIGNoZWNrIGNhbiB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdmFsdWUgaW4gcXVlc3Rpb25cblx0XHQvLyBpcyB0aGUgY29udGVudFdpbmRvdyBvZiBhbiBpZnJhbWUgb24gYW5vdGhlciBkb21haW4sIGluIHdoaWNoXG5cdFx0Ly8gY2FzZSB3ZSB3YW50IHRvIGp1c3QgcmV0dXJuIHRoZSB2YWx1ZSAoYmVjYXVzZSBpdCdzIGRlZmluaXRlbHlcblx0XHQvLyBub3QgYSBwcm94aWVkIHZhbHVlKSBzbyB3ZSBkb24ndCBicmVhayBhbnkgSmF2YVNjcmlwdCBpbnRlcmFjdGluZ1xuXHRcdC8vIHdpdGggdGhhdCBpZnJhbWUgKHN1Y2ggYXMgdmFyaW91cyBwYXltZW50IGNvbXBhbmllcyBjbGllbnQgc2lkZVxuXHRcdC8vIEphdmFTY3JpcHQgbGlicmFyaWVzIGludGVyYWN0aW5nIHdpdGggdGhlaXIgaWZyYW1lcyBvbiB0aGUgc2FtZVxuXHRcdC8vIGRvbWFpbilcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gYVxuICogQHBhcmFtIHthbnl9IGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzKGEsIGIpIHtcblx0cmV0dXJuIE9iamVjdC5pcyhnZXRfcHJveGllZF92YWx1ZShhKSwgZ2V0X3Byb3hpZWRfdmFsdWUoYikpO1xufVxuXG5jb25zdCBBUlJBWV9NVVRBVElOR19NRVRIT0RTID0gbmV3IFNldChbXG5cdCdjb3B5V2l0aGluJyxcblx0J2ZpbGwnLFxuXHQncG9wJyxcblx0J3B1c2gnLFxuXHQncmV2ZXJzZScsXG5cdCdzaGlmdCcsXG5cdCdzb3J0Jyxcblx0J3NwbGljZScsXG5cdCd1bnNoaWZ0J1xuXSk7XG5cbi8qKlxuICogV3JhcCBhcnJheSBtdXRhdGluZyBtZXRob2RzIHNvICRpbnNwZWN0IGlzIHRyaWdnZXJlZCBvbmx5IG9uY2UgYW5kXG4gKiB0byBwcmV2ZW50IGxvZ2dpbmcgYW4gYXJyYXkgaW4gaW50ZXJtZWRpYXRlIHN0YXRlIChlLmcuIHdpdGggYW4gZW1wdHkgc2xvdClcbiAqIEBwYXJhbSB7YW55W119IGFycmF5XG4gKi9cbmZ1bmN0aW9uIGluc3BlY3RhYmxlX2FycmF5KGFycmF5KSB7XG5cdHJldHVybiBuZXcgUHJveHkoYXJyYXksIHtcblx0XHRnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuXHRcdFx0dmFyIHZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG5cdFx0XHRpZiAoIUFSUkFZX01VVEFUSU5HX01FVEhPRFMuaGFzKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocHJvcCkpKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBAdGhpcyB7YW55W119XG5cdFx0XHQgKiBAcGFyYW0ge2FueVtdfSBhcmdzXG5cdFx0XHQgKi9cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdFx0XHRzZXRfZWFnZXJfZWZmZWN0c19kZWZlcnJlZCgpO1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gdmFsdWUuYXBwbHkodGhpcywgYXJncyk7XG5cdFx0XHRcdGZsdXNoX2VhZ2VyX2VmZmVjdHMoKTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH07XG5cdFx0fVxuXHR9KTtcbn1cbiIsICJpbXBvcnQgKiBhcyB3IGZyb20gJy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IGdldF9wcm94aWVkX3ZhbHVlIH0gZnJvbSAnLi4vcHJveHkuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9hcnJheV9wcm90b3R5cGVfd2FybmluZ3MoKSB7XG5cdGNvbnN0IGFycmF5X3Byb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblx0Ly8gVGhlIFJFUEwgZW5kcyB1cCBoZXJlIG92ZXIgYW5kIG92ZXIsIGFuZCB0aGlzIHByZXZlbnRzIGl0IGZyb20gYWRkaW5nIG1vcmUgYW5kIG1vcmUgcGF0Y2hlc1xuXHQvLyBvZiB0aGUgc2FtZSBraW5kIHRvIHRoZSBwcm90b3R5cGUsIHdoaWNoIHdvdWxkIHNsb3cgZG93biBldmVyeXRoaW5nIG92ZXIgdGltZS5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRjb25zdCBjbGVhbnVwID0gQXJyYXkuX19zdmVsdGVfY2xlYW51cDtcblx0aWYgKGNsZWFudXApIHtcblx0XHRjbGVhbnVwKCk7XG5cdH1cblxuXHRjb25zdCB7IGluZGV4T2YsIGxhc3RJbmRleE9mLCBpbmNsdWRlcyB9ID0gYXJyYXlfcHJvdG90eXBlO1xuXG5cdGFycmF5X3Byb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGl0ZW0sIGZyb21faW5kZXgpIHtcblx0XHRjb25zdCBpbmRleCA9IGluZGV4T2YuY2FsbCh0aGlzLCBpdGVtLCBmcm9tX2luZGV4KTtcblxuXHRcdGlmIChpbmRleCA9PT0gLTEpIHtcblx0XHRcdGZvciAobGV0IGkgPSBmcm9tX2luZGV4ID8/IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGlmIChnZXRfcHJveGllZF92YWx1ZSh0aGlzW2ldKSA9PT0gaXRlbSkge1xuXHRcdFx0XHRcdHcuc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2goJ2FycmF5LmluZGV4T2YoLi4uKScpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9O1xuXG5cdGFycmF5X3Byb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tX2luZGV4KSB7XG5cdFx0Ly8gd2UgbmVlZCB0byBzcGVjaWZ5IHRoaXMubGVuZ3RoIC0gMSBiZWNhdXNlIGl0J3MgcHJvYmFibHkgdXNpbmcgc29tZXRoaW5nIGxpa2Vcblx0XHQvLyBgYXJndW1lbnRzYCBpbnNpZGUgc28gcGFzc2luZyB1bmRlZmluZWQgaXMgZGlmZmVyZW50IGZyb20gbm90IHBhc3NpbmcgYW55dGhpbmdcblx0XHRjb25zdCBpbmRleCA9IGxhc3RJbmRleE9mLmNhbGwodGhpcywgaXRlbSwgZnJvbV9pbmRleCA/PyB0aGlzLmxlbmd0aCAtIDEpO1xuXG5cdFx0aWYgKGluZGV4ID09PSAtMSkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gKGZyb21faW5kZXggPz8gdGhpcy5sZW5ndGggLSAxKTsgaSArPSAxKSB7XG5cdFx0XHRcdGlmIChnZXRfcHJveGllZF92YWx1ZSh0aGlzW2ldKSA9PT0gaXRlbSkge1xuXHRcdFx0XHRcdHcuc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2goJ2FycmF5Lmxhc3RJbmRleE9mKC4uLiknKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBpbmRleDtcblx0fTtcblxuXHRhcnJheV9wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiAoaXRlbSwgZnJvbV9pbmRleCkge1xuXHRcdGNvbnN0IGhhcyA9IGluY2x1ZGVzLmNhbGwodGhpcywgaXRlbSwgZnJvbV9pbmRleCk7XG5cblx0XHRpZiAoIWhhcykge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGlmIChnZXRfcHJveGllZF92YWx1ZSh0aGlzW2ldKSA9PT0gaXRlbSkge1xuXHRcdFx0XHRcdHcuc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2goJ2FycmF5LmluY2x1ZGVzKC4uLiknKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBoYXM7XG5cdH07XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRBcnJheS5fX3N2ZWx0ZV9jbGVhbnVwID0gKCkgPT4ge1xuXHRcdGFycmF5X3Byb3RvdHlwZS5pbmRleE9mID0gaW5kZXhPZjtcblx0XHRhcnJheV9wcm90b3R5cGUubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcblx0XHRhcnJheV9wcm90b3R5cGUuaW5jbHVkZXMgPSBpbmNsdWRlcztcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gYVxuICogQHBhcmFtIHthbnl9IGJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXF1YWxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaWN0X2VxdWFscyhhLCBiLCBlcXVhbCA9IHRydWUpIHtcblx0Ly8gdHJ5LWNhdGNoIG5lZWRlZCBiZWNhdXNlIHRoaXMgdHJpZXMgdG8gcmVhZCBwcm9wZXJ0aWVzIG9mIGBhYCBhbmQgYGJgLFxuXHQvLyB3aGljaCBjb3VsZCBiZSBkaXNhbGxvd2VkIGZvciBleGFtcGxlIGluIGEgc2VjdXJlIGNvbnRleHRcblx0dHJ5IHtcblx0XHRpZiAoKGEgPT09IGIpICE9PSAoZ2V0X3Byb3hpZWRfdmFsdWUoYSkgPT09IGdldF9wcm94aWVkX3ZhbHVlKGIpKSkge1xuXHRcdFx0dy5zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaChlcXVhbCA/ICc9PT0nIDogJyE9PScpO1xuXHRcdH1cblx0fSBjYXRjaCB7fVxuXG5cdHJldHVybiAoYSA9PT0gYikgPT09IGVxdWFsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICogQHBhcmFtIHtib29sZWFufSBlcXVhbFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYiwgZXF1YWwgPSB0cnVlKSB7XG5cdGlmICgoYSA9PSBiKSAhPT0gKGdldF9wcm94aWVkX3ZhbHVlKGEpID09IGdldF9wcm94aWVkX3ZhbHVlKGIpKSkge1xuXHRcdHcuc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2goZXF1YWwgPyAnPT0nIDogJyE9Jyk7XG5cdH1cblxuXHRyZXR1cm4gKGEgPT0gYikgPT09IGVxdWFsO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgaHlkcmF0ZV9ub2RlLCBoeWRyYXRpbmcsIHNldF9oeWRyYXRlX25vZGUgfSBmcm9tICcuL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGluaXRfYXJyYXlfcHJvdG90eXBlX3dhcm5pbmdzIH0gZnJvbSAnLi4vZGV2L2VxdWFsaXR5LmpzJztcbmltcG9ydCB7IGdldF9kZXNjcmlwdG9yLCBpc19leHRlbnNpYmxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QgfSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IFRFWFRfTk9ERSwgRUZGRUNUX1JBTiB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IGVhZ2VyX2Jsb2NrX2VmZmVjdHMgfSBmcm9tICcuLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcblxuLy8gZXhwb3J0IHRoZXNlIGZvciByZWZlcmVuY2UgaW4gdGhlIGNvbXBpbGVkIGNvZGUsIG1ha2luZyBnbG9iYWwgbmFtZSBkZWR1cGxpY2F0aW9uIHVubmVjZXNzYXJ5XG4vKiogQHR5cGUge1dpbmRvd30gKi9cbmV4cG9ydCB2YXIgJHdpbmRvdztcblxuLyoqIEB0eXBlIHtEb2N1bWVudH0gKi9cbmV4cG9ydCB2YXIgJGRvY3VtZW50O1xuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG5leHBvcnQgdmFyIGlzX2ZpcmVmb3g7XG5cbi8qKiBAdHlwZSB7KCkgPT4gTm9kZSB8IG51bGx9ICovXG52YXIgZmlyc3RfY2hpbGRfZ2V0dGVyO1xuLyoqIEB0eXBlIHsoKSA9PiBOb2RlIHwgbnVsbH0gKi9cbnZhciBuZXh0X3NpYmxpbmdfZ2V0dGVyO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlc2UgbGF6aWx5IHRvIGF2b2lkIGlzc3VlcyB3aGVuIHVzaW5nIHRoZSBydW50aW1lIGluIGEgc2VydmVyIGNvbnRleHRcbiAqIHdoZXJlIHRoZXNlIGdsb2JhbHMgYXJlIG5vdCBhdmFpbGFibGUgd2hpbGUgYXZvaWRpbmcgYSBzZXBhcmF0ZSBzZXJ2ZXIgZW50cnkgcG9pbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfb3BlcmF0aW9ucygpIHtcblx0aWYgKCR3aW5kb3cgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdCR3aW5kb3cgPSB3aW5kb3c7XG5cdCRkb2N1bWVudCA9IGRvY3VtZW50O1xuXHRpc19maXJlZm94ID0gL0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cblx0dmFyIGVsZW1lbnRfcHJvdG90eXBlID0gRWxlbWVudC5wcm90b3R5cGU7XG5cdHZhciBub2RlX3Byb3RvdHlwZSA9IE5vZGUucHJvdG90eXBlO1xuXHR2YXIgdGV4dF9wcm90b3R5cGUgPSBUZXh0LnByb3RvdHlwZTtcblxuXHQvLyBAdHMtaWdub3JlXG5cdGZpcnN0X2NoaWxkX2dldHRlciA9IGdldF9kZXNjcmlwdG9yKG5vZGVfcHJvdG90eXBlLCAnZmlyc3RDaGlsZCcpLmdldDtcblx0Ly8gQHRzLWlnbm9yZVxuXHRuZXh0X3NpYmxpbmdfZ2V0dGVyID0gZ2V0X2Rlc2NyaXB0b3Iobm9kZV9wcm90b3R5cGUsICduZXh0U2libGluZycpLmdldDtcblxuXHRpZiAoaXNfZXh0ZW5zaWJsZShlbGVtZW50X3Byb3RvdHlwZSkpIHtcblx0XHQvLyB0aGUgZm9sbG93aW5nIGFzc2lnbm1lbnRzIGltcHJvdmUgcGVyZiBvZiBsb29rdXBzIG9uIERPTSBub2Rlc1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2NsaWNrID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2NsYXNzTmFtZSA9IHVuZGVmaW5lZDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19hdHRyaWJ1dGVzID0gbnVsbDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19zdHlsZSA9IHVuZGVmaW5lZDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19lID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKGlzX2V4dGVuc2libGUodGV4dF9wcm90b3R5cGUpKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHRleHRfcHJvdG90eXBlLl9fdCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19zdmVsdGVfbWV0YSA9IG51bGw7XG5cblx0XHRpbml0X2FycmF5X3Byb3RvdHlwZV93YXJuaW5ncygpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV90ZXh0KHZhbHVlID0gJycpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICovXG4vKkBfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfZmlyc3RfY2hpbGQobm9kZSkge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqLyAoZmlyc3RfY2hpbGRfZ2V0dGVyLmNhbGwobm9kZSkpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gTlxuICogQHBhcmFtIHtOfSBub2RlXG4gKi9cbi8qQF9fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9uZXh0X3NpYmxpbmcobm9kZSkge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqLyAobmV4dF9zaWJsaW5nX2dldHRlci5jYWxsKG5vZGUpKTtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBpc190ZXh0XG4gKiBAcmV0dXJucyB7VGVtcGxhdGVOb2RlIHwgbnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkKG5vZGUsIGlzX3RleHQpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHtcblx0XHRyZXR1cm4gZ2V0X2ZpcnN0X2NoaWxkKG5vZGUpO1xuXHR9XG5cblx0dmFyIGNoaWxkID0gZ2V0X2ZpcnN0X2NoaWxkKGh5ZHJhdGVfbm9kZSk7XG5cblx0Ly8gQ2hpbGQgY2FuIGJlIG51bGwgaWYgd2UgaGF2ZSBhbiBlbGVtZW50IHdpdGggYSBzaW5nbGUgY2hpbGQsIGxpa2UgYDxwPnt0ZXh0fTwvcD5gLCB3aGVyZSBgdGV4dGAgaXMgZW1wdHlcblx0aWYgKGNoaWxkID09PSBudWxsKSB7XG5cdFx0Y2hpbGQgPSBoeWRyYXRlX25vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlX3RleHQoKSk7XG5cdH0gZWxzZSBpZiAoaXNfdGV4dCAmJiBjaGlsZC5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0dmFyIHRleHQgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdGNoaWxkPy5iZWZvcmUodGV4dCk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSh0ZXh0KTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdHNldF9oeWRyYXRlX25vZGUoY2hpbGQpO1xuXHRyZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICogRG9uJ3QgbWFyayB0aGlzIGFzIHNpZGUtZWZmZWN0LWZyZWUsIGh5ZHJhdGlvbiBuZWVkcyB0byB3YWxrIGFsbCBub2Rlc1xuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzX3RleHRdXG4gKiBAcmV0dXJucyB7VGVtcGxhdGVOb2RlIHwgbnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0X2NoaWxkKG5vZGUsIGlzX3RleHQgPSBmYWxzZSkge1xuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHZhciBmaXJzdCA9IGdldF9maXJzdF9jaGlsZChub2RlKTtcblxuXHRcdC8vIFRPRE8gcHJldmVudCB1c2VyIGNvbW1lbnRzIHdpdGggdGhlIGVtcHR5IHN0cmluZyB3aGVuIHByZXNlcnZlQ29tbWVudHMgaXMgdHJ1ZVxuXHRcdGlmIChmaXJzdCBpbnN0YW5jZW9mIENvbW1lbnQgJiYgZmlyc3QuZGF0YSA9PT0gJycpIHJldHVybiBnZXRfbmV4dF9zaWJsaW5nKGZpcnN0KTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fVxuXG5cdC8vIGlmIGFuIHtleHByZXNzaW9ufSBpcyBlbXB0eSBkdXJpbmcgU1NSLCB0aGVyZSBtaWdodCBiZSBub1xuXHQvLyB0ZXh0IG5vZGUgdG8gaHlkcmF0ZSBcdTIwMTQgd2UgbXVzdCB0aGVyZWZvcmUgY3JlYXRlIG9uZVxuXHRpZiAoaXNfdGV4dCAmJiBoeWRyYXRlX25vZGU/Lm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHR2YXIgdGV4dCA9IGNyZWF0ZV90ZXh0KCk7XG5cblx0XHRoeWRyYXRlX25vZGU/LmJlZm9yZSh0ZXh0KTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKHRleHQpO1xuXHRcdHJldHVybiB0ZXh0O1xuXHR9XG5cblx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3RleHRcbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2libGluZyhub2RlLCBjb3VudCA9IDEsIGlzX3RleHQgPSBmYWxzZSkge1xuXHRsZXQgbmV4dF9zaWJsaW5nID0gaHlkcmF0aW5nID8gaHlkcmF0ZV9ub2RlIDogbm9kZTtcblx0dmFyIGxhc3Rfc2libGluZztcblxuXHR3aGlsZSAoY291bnQtLSkge1xuXHRcdGxhc3Rfc2libGluZyA9IG5leHRfc2libGluZztcblx0XHRuZXh0X3NpYmxpbmcgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcobmV4dF9zaWJsaW5nKSk7XG5cdH1cblxuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHJldHVybiBuZXh0X3NpYmxpbmc7XG5cdH1cblxuXHQvLyBpZiBhIHNpYmxpbmcge2V4cHJlc3Npb259IGlzIGVtcHR5IGR1cmluZyBTU1IsIHRoZXJlIG1pZ2h0IGJlIG5vXG5cdC8vIHRleHQgbm9kZSB0byBoeWRyYXRlIFx1MjAxNCB3ZSBtdXN0IHRoZXJlZm9yZSBjcmVhdGUgb25lXG5cdGlmIChpc190ZXh0ICYmIG5leHRfc2libGluZz8ubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuXHRcdHZhciB0ZXh0ID0gY3JlYXRlX3RleHQoKTtcblx0XHQvLyBJZiB0aGUgbmV4dCBzaWJsaW5nIGlzIGBudWxsYCBhbmQgd2UncmUgaGFuZGxpbmcgdGV4dCB0aGVuIGl0J3MgYmVjYXVzZVxuXHRcdC8vIHRoZSBTU1IgY29udGVudCB3YXMgZW1wdHkgZm9yIHRoZSB0ZXh0LCBzbyB3ZSBuZWVkIHRvIGdlbmVyYXRlIGEgbmV3IHRleHRcblx0XHQvLyBub2RlIGFuZCBpbnNlcnQgaXQgYWZ0ZXIgdGhlIGxhc3Qgc2libGluZ1xuXHRcdGlmIChuZXh0X3NpYmxpbmcgPT09IG51bGwpIHtcblx0XHRcdGxhc3Rfc2libGluZz8uYWZ0ZXIodGV4dCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5leHRfc2libGluZy5iZWZvcmUodGV4dCk7XG5cdFx0fVxuXHRcdHNldF9oeWRyYXRlX25vZGUodGV4dCk7XG5cdFx0cmV0dXJuIHRleHQ7XG5cdH1cblxuXHRzZXRfaHlkcmF0ZV9ub2RlKG5leHRfc2libGluZyk7XG5cdHJldHVybiBuZXh0X3NpYmxpbmc7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtOb2RlfSBOXG4gKiBAcGFyYW0ge059IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJfdGV4dF9jb250ZW50KG5vZGUpIHtcblx0bm9kZS50ZXh0Q29udGVudCA9ICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHdlJ3JlIHVwZGF0aW5nIHRoZSBjdXJyZW50IGJsb2NrLCBmb3IgZXhhbXBsZSBgY29uZGl0aW9uYCBpblxuICogYW4gYHsjaWYgY29uZGl0aW9ufWAgYmxvY2sganVzdCBjaGFuZ2VkLiBJbiB0aGlzIGNhc2UsIHRoZSBicmFuY2ggc2hvdWxkIGJlXG4gKiBhcHBlbmRlZCAob3IgcmVtb3ZlZCkgYXQgdGhlIHNhbWUgdGltZSBhcyBvdGhlciB1cGRhdGVzIHdpdGhpbiB0aGVcbiAqIGN1cnJlbnQgYDxzdmVsdGU6Ym91bmRhcnk+YFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkX2RlZmVyX2FwcGVuZCgpIHtcblx0aWYgKCFhc3luY19tb2RlX2ZsYWcpIHJldHVybiBmYWxzZTtcblx0aWYgKGVhZ2VyX2Jsb2NrX2VmZmVjdHMgIT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuXHR2YXIgZmxhZ3MgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmY7XG5cdHJldHVybiAoZmxhZ3MgJiBFRkZFQ1RfUkFOKSAhPT0gMDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lc3BhY2VdXG4gKiBAcGFyYW0ge3N0cmluZ30gW2lzXVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9lbGVtZW50KHRhZywgbmFtZXNwYWNlLCBpcykge1xuXHRsZXQgb3B0aW9ucyA9IGlzID8geyBpcyB9IDogdW5kZWZpbmVkO1xuXHRpZiAobmFtZXNwYWNlKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIHRhZywgb3B0aW9ucyk7XG5cdH1cblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudCgpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jb21tZW50KGRhdGEgPSAnJykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hdHRyaWJ1dGUoZWxlbWVudCwga2V5LCB2YWx1ZSA9ICcnKSB7XG5cdGlmIChrZXkuc3RhcnRzV2l0aCgneGxpbms6JykpIHtcblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywga2V5LCB2YWx1ZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHJldHVybiBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbn1cbiIsICJpbXBvcnQgeyBoeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgY2xlYXJfdGV4dF9jb250ZW50LCBnZXRfZmlyc3RfY2hpbGQgfSBmcm9tICcuLi9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi90YXNrLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b2ZvY3VzKGRvbSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlKSB7XG5cdFx0Y29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cdFx0ZG9tLmF1dG9mb2N1cyA9IHRydWU7XG5cblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBib2R5KSB7XG5cdFx0XHRcdGRvbS5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGNoaWxkIG9mIGEgdGV4dGFyZWEgYWN0dWFsbHkgY29ycmVzcG9uZHMgdG8gdGhlIGRlZmF1bHRWYWx1ZSBwcm9wZXJ0eSwgc28gd2UgbmVlZFxuICogdG8gcmVtb3ZlIGl0IHVwb24gaHlkcmF0aW9uIHRvIGF2b2lkIGEgYnVnIHdoZW4gc29tZW9uZSByZXNldHMgdGhlIGZvcm0gdmFsdWUuXG4gKiBAcGFyYW0ge0hUTUxUZXh0QXJlYUVsZW1lbnR9IGRvbVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVfdGV4dGFyZWFfY2hpbGQoZG9tKSB7XG5cdGlmIChoeWRyYXRpbmcgJiYgZ2V0X2ZpcnN0X2NoaWxkKGRvbSkgIT09IG51bGwpIHtcblx0XHRjbGVhcl90ZXh0X2NvbnRlbnQoZG9tKTtcblx0fVxufVxuXG5sZXQgbGlzdGVuaW5nX3RvX2Zvcm1fcmVzZXQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZF9mb3JtX3Jlc2V0X2xpc3RlbmVyKCkge1xuXHRpZiAoIWxpc3RlbmluZ190b19mb3JtX3Jlc2V0KSB7XG5cdFx0bGlzdGVuaW5nX3RvX2Zvcm1fcmVzZXQgPSB0cnVlO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHQncmVzZXQnLFxuXHRcdFx0KGV2dCkgPT4ge1xuXHRcdFx0XHQvLyBOZWVkcyB0byBoYXBwZW4gb25lIHRpY2sgbGF0ZXIgb3IgZWxzZSB0aGUgZG9tIHByb3BlcnRpZXMgb2YgdGhlIGZvcm1cblx0XHRcdFx0Ly8gZWxlbWVudHMgaGF2ZSBub3QgdXBkYXRlZCB0byB0aGVpciByZXNldCB2YWx1ZXMgeWV0XG5cdFx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGlmICghZXZ0LmRlZmF1bHRQcmV2ZW50ZWQpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgZSBvZiAvKipAdHlwZSB7SFRNTEZvcm1FbGVtZW50fSAqLyAoZXZ0LnRhcmdldCkuZWxlbWVudHMpIHtcblx0XHRcdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHRcdFx0XHRlLl9fb25fcj8uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHQvLyBJbiB0aGUgY2FwdHVyZSBwaGFzZSB0byBndWFyYW50ZWUgd2UgZ2V0IG5vdGljZWQgb2YgaXQgKG5vIHBvc3NpYmlsaXR5IG9mIHN0b3BQcm9wYWdhdGlvbilcblx0XHRcdHsgY2FwdHVyZTogdHJ1ZSB9XG5cdFx0KTtcblx0fVxufVxuIiwgImltcG9ydCB7IHRlYXJkb3duIH0gZnJvbSAnLi4vLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi4vLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyBhZGRfZm9ybV9yZXNldF9saXN0ZW5lciB9IGZyb20gJy4uL21pc2MuanMnO1xuXG4vKipcbiAqIEZpcmVzIHRoZSBoYW5kbGVyIG9uY2UgaW1tZWRpYXRlbHkgKHVubGVzcyBjb3JyZXNwb25kaW5nIGFyZyBpcyBzZXQgdG8gYGZhbHNlYCksXG4gKiB0aGVuIGxpc3RlbnMgdG8gdGhlIGdpdmVuIGV2ZW50cyB1bnRpbCB0aGUgcmVuZGVyIGVmZmVjdCBjb250ZXh0IGlzIGRlc3Ryb3llZFxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGV2ZW50c1xuICogQHBhcmFtIHsoZXZlbnQ/OiBFdmVudCkgPT4gdm9pZH0gaGFuZGxlclxuICogQHBhcmFtIHthbnl9IGNhbGxfaGFuZGxlcl9pbW1lZGlhdGVseVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgZXZlbnRzLCBoYW5kbGVyLCBjYWxsX2hhbmRsZXJfaW1tZWRpYXRlbHkgPSB0cnVlKSB7XG5cdGlmIChjYWxsX2hhbmRsZXJfaW1tZWRpYXRlbHkpIHtcblx0XHRoYW5kbGVyKCk7XG5cdH1cblxuXHRmb3IgKHZhciBuYW1lIG9mIGV2ZW50cykge1xuXHRcdHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuXHR9XG5cblx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdGZvciAodmFyIG5hbWUgb2YgZXZlbnRzKSB7XG5cdFx0XHR0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IFR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQoZm4pIHtcblx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHR2YXIgcHJldmlvdXNfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2FjdGl2ZV9lZmZlY3QobnVsbCk7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGZuKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0fVxufVxuXG4vKipcbiAqIExpc3RlbiB0byB0aGUgZ2l2ZW4gZXZlbnQsIGFuZCB0aGVuIGluc3RhbnRpYXRlIGEgZ2xvYmFsIGZvcm0gcmVzZXQgbGlzdGVuZXIgaWYgbm90IGFscmVhZHkgZG9uZSxcbiAqIHRvIG5vdGlmeSBhbGwgYmluZGluZ3Mgd2hlbiB0aGUgZm9ybSBpcyByZXNldFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0geyhpc19yZXNldD86IHRydWUpID0+IHZvaWR9IGhhbmRsZXJcbiAqIEBwYXJhbSB7KGlzX3Jlc2V0PzogdHJ1ZSkgPT4gdm9pZH0gW29uX3Jlc2V0XVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuX3RvX2V2ZW50X2FuZF9yZXNldF9ldmVudChlbGVtZW50LCBldmVudCwgaGFuZGxlciwgb25fcmVzZXQgPSBoYW5kbGVyKSB7XG5cdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgKCkgPT4gd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0KGhhbmRsZXIpKTtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRjb25zdCBwcmV2ID0gZWxlbWVudC5fX29uX3I7XG5cdGlmIChwcmV2KSB7XG5cdFx0Ly8gc3BlY2lhbCBjYXNlIGZvciBjaGVja2JveCB0aGF0IGNhbiBoYXZlIG11bHRpcGxlIGJpbmRzIChncm91cCAmIGNoZWNrZWQpXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnQuX19vbl9yID0gKCkgPT4ge1xuXHRcdFx0cHJldigpO1xuXHRcdFx0b25fcmVzZXQodHJ1ZSk7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudC5fX29uX3IgPSAoKSA9PiBvbl9yZXNldCh0cnVlKTtcblx0fVxuXG5cdGFkZF9mb3JtX3Jlc2V0X2xpc3RlbmVyKCk7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0LCBDb21wb25lbnRDb250ZXh0TGVnYWN5LCBEZXJpdmVkLCBFZmZlY3QsIFRlbXBsYXRlTm9kZSwgVHJhbnNpdGlvbk1hbmFnZXIgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHtcblx0aXNfZGlydHksXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0dXBkYXRlX2VmZmVjdCxcblx0Z2V0LFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdCxcblx0cmVtb3ZlX3JlYWN0aW9ucyxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbixcblx0c2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0LFxuXHR1bnRyYWNrLFxuXHR1bnRyYWNraW5nXG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0RElSVFksXG5cdEJSQU5DSF9FRkZFQ1QsXG5cdFJFTkRFUl9FRkZFQ1QsXG5cdEVGRkVDVCxcblx0REVTVFJPWUVELFxuXHRJTkVSVCxcblx0RUZGRUNUX1JBTixcblx0QkxPQ0tfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0RUZGRUNUX1RSQU5TUEFSRU5ULFxuXHRERVJJVkVELFxuXHRDTEVBTixcblx0RUFHRVJfRUZGRUNULFxuXHRIRUFEX0VGRkVDVCxcblx0TUFZQkVfRElSVFksXG5cdEVGRkVDVF9QUkVTRVJWRUQsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRVU0VSX0VGRkVDVCxcblx0QVNZTkMsXG5cdENPTk5FQ1RFRCxcblx0TUFOQUdFRF9FRkZFQ1Rcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0X25leHRfc2libGluZyB9IGZyb20gJy4uL2RvbS9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sIGRldl9zdGFjayB9IGZyb20gJy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgQmF0Y2gsIGN1cnJlbnRfYmF0Y2gsIHNjaGVkdWxlX2VmZmVjdCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vYXN5bmMuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi4vZG9tL2VsZW1lbnRzL2JpbmRpbmdzL3NoYXJlZC5qcyc7XG5pbXBvcnQgeyBzZXRfc2lnbmFsX3N0YXR1cyB9IGZyb20gJy4vc3RhdHVzLmpzJztcblxuLyoqXG4gKiBAcGFyYW0geyckZWZmZWN0JyB8ICckZWZmZWN0LnByZScgfCAnJGluc3BlY3QnfSBydW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lZmZlY3QocnVuZSkge1xuXHRpZiAoYWN0aXZlX2VmZmVjdCA9PT0gbnVsbCkge1xuXHRcdGlmIChhY3RpdmVfcmVhY3Rpb24gPT09IG51bGwpIHtcblx0XHRcdGUuZWZmZWN0X29ycGhhbihydW5lKTtcblx0XHR9XG5cblx0XHRlLmVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQoKTtcblx0fVxuXG5cdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdGUuZWZmZWN0X2luX3RlYXJkb3duKHJ1bmUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtFZmZlY3R9IHBhcmVudF9lZmZlY3RcbiAqL1xuZnVuY3Rpb24gcHVzaF9lZmZlY3QoZWZmZWN0LCBwYXJlbnRfZWZmZWN0KSB7XG5cdHZhciBwYXJlbnRfbGFzdCA9IHBhcmVudF9lZmZlY3QubGFzdDtcblx0aWYgKHBhcmVudF9sYXN0ID09PSBudWxsKSB7XG5cdFx0cGFyZW50X2VmZmVjdC5sYXN0ID0gcGFyZW50X2VmZmVjdC5maXJzdCA9IGVmZmVjdDtcblx0fSBlbHNlIHtcblx0XHRwYXJlbnRfbGFzdC5uZXh0ID0gZWZmZWN0O1xuXHRcdGVmZmVjdC5wcmV2ID0gcGFyZW50X2xhc3Q7XG5cdFx0cGFyZW50X2VmZmVjdC5sYXN0ID0gZWZmZWN0O1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqIEBwYXJhbSB7bnVsbCB8ICgoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpKX0gZm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3luY1xuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX2VmZmVjdCh0eXBlLCBmbiwgc3luYykge1xuXHR2YXIgcGFyZW50ID0gYWN0aXZlX2VmZmVjdDtcblxuXHRpZiAoREVWKSB7XG5cdFx0Ly8gRW5zdXJlIHRoZSBwYXJlbnQgaXMgbmV2ZXIgYW4gaW5zcGVjdCBlZmZlY3Rcblx0XHR3aGlsZSAocGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuZiAmIEVBR0VSX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LmYgJiBJTkVSVCkgIT09IDApIHtcblx0XHR0eXBlIHw9IElORVJUO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtFZmZlY3R9ICovXG5cdHZhciBlZmZlY3QgPSB7XG5cdFx0Y3R4OiBjb21wb25lbnRfY29udGV4dCxcblx0XHRkZXBzOiBudWxsLFxuXHRcdG5vZGVzOiBudWxsLFxuXHRcdGY6IHR5cGUgfCBESVJUWSB8IENPTk5FQ1RFRCxcblx0XHRmaXJzdDogbnVsbCxcblx0XHRmbixcblx0XHRsYXN0OiBudWxsLFxuXHRcdG5leHQ6IG51bGwsXG5cdFx0cGFyZW50LFxuXHRcdGI6IHBhcmVudCAmJiBwYXJlbnQuYixcblx0XHRwcmV2OiBudWxsLFxuXHRcdHRlYXJkb3duOiBudWxsLFxuXHRcdHd2OiAwLFxuXHRcdGFjOiBudWxsXG5cdH07XG5cblx0aWYgKERFVikge1xuXHRcdGVmZmVjdC5jb21wb25lbnRfZnVuY3Rpb24gPSBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb247XG5cdH1cblxuXHRpZiAoc3luYykge1xuXHRcdHRyeSB7XG5cdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRlZmZlY3QuZiB8PSBFRkZFQ1RfUkFOO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChmbiAhPT0gbnVsbCkge1xuXHRcdHNjaGVkdWxlX2VmZmVjdChlZmZlY3QpO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHR2YXIgZSA9IGVmZmVjdDtcblxuXHQvLyBpZiBhbiBlZmZlY3QgaGFzIGFscmVhZHkgcmFuIGFuZCBkb2Vzbid0IG5lZWQgdG8gYmUga2VwdCBpbiB0aGUgdHJlZVxuXHQvLyAoYmVjYXVzZSBpdCB3b24ndCByZS1ydW4sIGhhcyBubyBET00sIGFuZCBoYXMgbm8gdGVhcmRvd24gZXRjKVxuXHQvLyB0aGVuIHdlIHNraXAgaXQgYW5kIGdvIHRvIGl0cyBjaGlsZCAoaWYgYW55KVxuXHRpZiAoXG5cdFx0c3luYyAmJlxuXHRcdGUuZGVwcyA9PT0gbnVsbCAmJlxuXHRcdGUudGVhcmRvd24gPT09IG51bGwgJiZcblx0XHRlLm5vZGVzID09PSBudWxsICYmXG5cdFx0ZS5maXJzdCA9PT0gZS5sYXN0ICYmIC8vIGVpdGhlciBgbnVsbGAsIG9yIGEgc2luZ3VsYXIgY2hpbGRcblx0XHQoZS5mICYgRUZGRUNUX1BSRVNFUlZFRCkgPT09IDBcblx0KSB7XG5cdFx0ZSA9IGUuZmlyc3Q7XG5cdFx0aWYgKCh0eXBlICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCAmJiAodHlwZSAmIEVGRkVDVF9UUkFOU1BBUkVOVCkgIT09IDAgJiYgZSAhPT0gbnVsbCkge1xuXHRcdFx0ZS5mIHw9IEVGRkVDVF9UUkFOU1BBUkVOVDtcblx0XHR9XG5cdH1cblxuXHRpZiAoZSAhPT0gbnVsbCkge1xuXHRcdGUucGFyZW50ID0gcGFyZW50O1xuXG5cdFx0aWYgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdFx0cHVzaF9lZmZlY3QoZSwgcGFyZW50KTtcblx0XHR9XG5cblx0XHQvLyBpZiB3ZSdyZSBpbiBhIGRlcml2ZWQsIGFkZCB0aGUgZWZmZWN0IHRoZXJlIHRvb1xuXHRcdGlmIChcblx0XHRcdGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJlxuXHRcdFx0KGFjdGl2ZV9yZWFjdGlvbi5mICYgREVSSVZFRCkgIT09IDAgJiZcblx0XHRcdCh0eXBlICYgUk9PVF9FRkZFQ1QpID09PSAwXG5cdFx0KSB7XG5cdFx0XHR2YXIgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbik7XG5cdFx0XHQoZGVyaXZlZC5lZmZlY3RzID8/PSBbXSkucHVzaChlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGAkZWZmZWN0LnRyYWNraW5nKClgXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF90cmFja2luZygpIHtcblx0cmV0dXJuIGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJiAhdW50cmFja2luZztcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZWFyZG93bihmbikge1xuXHRjb25zdCBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KFJFTkRFUl9FRkZFQ1QsIG51bGwsIGZhbHNlKTtcblx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBDTEVBTik7XG5cdGVmZmVjdC50ZWFyZG93biA9IGZuO1xuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGAkZWZmZWN0KC4uLilgXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyX2VmZmVjdChmbikge1xuXHR2YWxpZGF0ZV9lZmZlY3QoJyRlZmZlY3QnKTtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGZuLCAnbmFtZScsIHtcblx0XHRcdHZhbHVlOiAnJGVmZmVjdCdcblx0XHR9KTtcblx0fVxuXG5cdC8vIE5vbi1uZXN0ZWQgYCRlZmZlY3QoLi4uKWAgaW4gYSBjb21wb25lbnQgc2hvdWxkIGJlIGRlZmVycmVkXG5cdC8vIHVudGlsIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuXHR2YXIgZmxhZ3MgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmY7XG5cdHZhciBkZWZlciA9ICFhY3RpdmVfcmVhY3Rpb24gJiYgKGZsYWdzICYgQlJBTkNIX0VGRkVDVCkgIT09IDAgJiYgKGZsYWdzICYgRUZGRUNUX1JBTikgPT09IDA7XG5cblx0aWYgKGRlZmVyKSB7XG5cdFx0Ly8gVG9wLWxldmVsIGAkZWZmZWN0KC4uLilgIGluIGFuIHVubW91bnRlZCBjb21wb25lbnQgXHUyMDE0IGRlZmVyIHVudGlsIG1vdW50XG5cdFx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cdFx0KGNvbnRleHQuZSA/Pz0gW10pLnB1c2goZm4pO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEV2ZXJ5dGhpbmcgZWxzZSBcdTIwMTQgY3JlYXRlIGltbWVkaWF0ZWx5XG5cdFx0cmV0dXJuIGNyZWF0ZV91c2VyX2VmZmVjdChmbik7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfdXNlcl9lZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoRUZGRUNUIHwgVVNFUl9FRkZFQ1QsIGZuLCBmYWxzZSk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3QucHJlKC4uLilgXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7RWZmZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlcl9wcmVfZWZmZWN0KGZuKSB7XG5cdHZhbGlkYXRlX2VmZmVjdCgnJGVmZmVjdC5wcmUnKTtcblx0aWYgKERFVikge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShmbiwgJ25hbWUnLCB7XG5cdFx0XHR2YWx1ZTogJyRlZmZlY3QucHJlJ1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KFJFTkRFUl9FRkZFQ1QgfCBVU0VSX0VGRkVDVCwgZm4sIHRydWUpO1xufVxuXG4vKiogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhZ2VyX2VmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChFQUdFUl9FRkZFQ1QsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdC5yb290KC4uLilgXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9yb290KGZuKSB7XG5cdEJhdGNoLmVuc3VyZSgpO1xuXHRjb25zdCBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KFJPT1RfRUZGRUNUIHwgRUZGRUNUX1BSRVNFUlZFRCwgZm4sIHRydWUpO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0fTtcbn1cblxuLyoqXG4gKiBBbiBlZmZlY3Qgcm9vdCB3aG9zZSBjaGlsZHJlbiBjYW4gdHJhbnNpdGlvbiBvdXRcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHsob3B0aW9ucz86IHsgb3V0cm8/OiBib29sZWFuIH0pID0+IFByb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfcm9vdChmbikge1xuXHRCYXRjaC5lbnN1cmUoKTtcblx0Y29uc3QgZWZmZWN0ID0gY3JlYXRlX2VmZmVjdChST09UX0VGRkVDVCB8IEVGRkVDVF9QUkVTRVJWRUQsIGZuLCB0cnVlKTtcblxuXHRyZXR1cm4gKG9wdGlvbnMgPSB7fSkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgoZnVsZmlsKSA9PiB7XG5cdFx0XHRpZiAob3B0aW9ucy5vdXRybykge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QoZWZmZWN0LCAoKSA9PiB7XG5cdFx0XHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0XHRmdWxmaWwodW5kZWZpbmVkKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0XHRmdWxmaWwodW5kZWZpbmVkKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7RWZmZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0KGZuKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEVGRkVDVCwgZm4sIGZhbHNlKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJDogLi5gXG4gKiBAcGFyYW0geygpID0+IGFueX0gZGVwc1xuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVnYWN5X3ByZV9lZmZlY3QoZGVwcywgZm4pIHtcblx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cblx0LyoqIEB0eXBlIHt7IGVmZmVjdDogbnVsbCB8IEVmZmVjdCwgcmFuOiBib29sZWFuLCBkZXBzOiAoKSA9PiBhbnkgfX0gKi9cblx0dmFyIHRva2VuID0geyBlZmZlY3Q6IG51bGwsIHJhbjogZmFsc2UsIGRlcHMgfTtcblxuXHRjb250ZXh0LmwuJC5wdXNoKHRva2VuKTtcblxuXHR0b2tlbi5lZmZlY3QgPSByZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRkZXBzKCk7XG5cblx0XHQvLyBJZiB0aGlzIGxlZ2FjeSBwcmUgZWZmZWN0IGhhcyBhbHJlYWR5IHJ1biBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgcmVzZXQsIHRoZW5cblx0XHQvLyBiYWlsIG91dCB0byBlbXVsYXRlIHRoZSBzYW1lIGJlaGF2aW9yLlxuXHRcdGlmICh0b2tlbi5yYW4pIHJldHVybjtcblxuXHRcdHRva2VuLnJhbiA9IHRydWU7XG5cdFx0dW50cmFjayhmbik7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVnYWN5X3ByZV9lZmZlY3RfcmVzZXQoKSB7XG5cdHZhciBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXG5cdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdC8vIFJ1biBkaXJ0eSBgJDpgIHN0YXRlbWVudHNcblx0XHRmb3IgKHZhciB0b2tlbiBvZiBjb250ZXh0LmwuJCkge1xuXHRcdFx0dG9rZW4uZGVwcygpO1xuXG5cdFx0XHR2YXIgZWZmZWN0ID0gdG9rZW4uZWZmZWN0O1xuXG5cdFx0XHQvLyBJZiB0aGUgZWZmZWN0IGlzIENMRUFOLCB0aGVuIG1ha2UgaXQgTUFZQkVfRElSVFkuIFRoaXMgZW5zdXJlcyB3ZSB0cmF2ZXJzZSB0aHJvdWdoXG5cdFx0XHQvLyB0aGUgZWZmZWN0cyBkZXBlbmRlbmNpZXMgYW5kIGNvcnJlY3RseSBlbnN1cmUgZWFjaCBkZXBlbmRlbmN5IGlzIHVwLXRvLWRhdGUuXG5cdFx0XHRpZiAoKGVmZmVjdC5mICYgQ0xFQU4pICE9PSAwICYmIGVmZmVjdC5kZXBzICE9PSBudWxsKSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgTUFZQkVfRElSVFkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNfZGlydHkoZWZmZWN0KSkge1xuXHRcdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHR9XG5cblx0XHRcdHRva2VuLnJhbiA9IGZhbHNlO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jX2VmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChBU1lOQyB8IEVGRkVDVF9QUkVTRVJWRUQsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7RWZmZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyX2VmZmVjdChmbiwgZmxhZ3MgPSAwKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KFJFTkRFUl9FRkZFQ1QgfCBmbGFncywgZm4sIHRydWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KC4uLmV4cHJlc3Npb25zOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IGFueT59IHN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+Pn0gYXN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTx2b2lkPj59IGJsb2NrZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZV9lZmZlY3QoZm4sIHN5bmMgPSBbXSwgYXN5bmMgPSBbXSwgYmxvY2tlcnMgPSBbXSkge1xuXHRmbGF0dGVuKGJsb2NrZXJzLCBzeW5jLCBhc3luYywgKHZhbHVlcykgPT4ge1xuXHRcdGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCwgKCkgPT4gZm4oLi4udmFsdWVzLm1hcChnZXQpKSwgdHJ1ZSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIExpa2UgYHRlbXBsYXRlX2VmZmVjdGAsIGJ1dCB3aXRoIGFuIGVmZmVjdCB3aGljaCBpcyBkZWZlcnJlZCB1bnRpbCB0aGUgYmF0Y2ggY29tbWl0c1xuICogQHBhcmFtIHsoLi4uZXhwcmVzc2lvbnM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gYW55Pn0gc3luY1xuICogQHBhcmFtIHtBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+fSBhc3luY1xuICogQHBhcmFtIHtBcnJheTxQcm9taXNlPHZvaWQ+Pn0gYmxvY2tlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVycmVkX3RlbXBsYXRlX2VmZmVjdChmbiwgc3luYyA9IFtdLCBhc3luYyA9IFtdLCBibG9ja2VycyA9IFtdKSB7XG5cdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0dmFyIGlzX2FzeW5jID0gYXN5bmMubGVuZ3RoID4gMCB8fCBibG9ja2Vycy5sZW5ndGggPiAwO1xuXG5cdGlmIChpc19hc3luYykgYmF0Y2guaW5jcmVtZW50KHRydWUpO1xuXG5cdGZsYXR0ZW4oYmxvY2tlcnMsIHN5bmMsIGFzeW5jLCAodmFsdWVzKSA9PiB7XG5cdFx0Y3JlYXRlX2VmZmVjdChFRkZFQ1QsICgpID0+IGZuKC4uLnZhbHVlcy5tYXAoZ2V0KSksIGZhbHNlKTtcblx0XHRpZiAoaXNfYXN5bmMpIGJhdGNoLmRlY3JlbWVudCh0cnVlKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrKGZuLCBmbGFncyA9IDApIHtcblx0dmFyIGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoQkxPQ0tfRUZGRUNUIHwgZmxhZ3MsIGZuLCB0cnVlKTtcblx0aWYgKERFVikge1xuXHRcdGVmZmVjdC5kZXZfc3RhY2sgPSBkZXZfc3RhY2s7XG5cdH1cblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKX0gZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFuYWdlZChmbiwgZmxhZ3MgPSAwKSB7XG5cdHZhciBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KE1BTkFHRURfRUZGRUNUIHwgZmxhZ3MsIGZuLCB0cnVlKTtcblx0aWYgKERFVikge1xuXHRcdGVmZmVjdC5kZXZfc3RhY2sgPSBkZXZfc3RhY2s7XG5cdH1cblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJyYW5jaChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChCUkFOQ0hfRUZGRUNUIHwgRUZGRUNUX1BSRVNFUlZFRCwgZm4sIHRydWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duKGVmZmVjdCkge1xuXHR2YXIgdGVhcmRvd24gPSBlZmZlY3QudGVhcmRvd247XG5cdGlmICh0ZWFyZG93biAhPT0gbnVsbCkge1xuXHRcdGNvbnN0IHByZXZpb3VzbHlfZGVzdHJveWluZ19lZmZlY3QgPSBpc19kZXN0cm95aW5nX2VmZmVjdDtcblx0XHRjb25zdCBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0XHRzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QodHJ1ZSk7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHR0cnkge1xuXHRcdFx0dGVhcmRvd24uY2FsbChudWxsKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0KHByZXZpb3VzbHlfZGVzdHJveWluZ19lZmZlY3QpO1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IHNpZ25hbFxuICogQHBhcmFtIHtib29sZWFufSByZW1vdmVfZG9tXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuKHNpZ25hbCwgcmVtb3ZlX2RvbSA9IGZhbHNlKSB7XG5cdHZhciBlZmZlY3QgPSBzaWduYWwuZmlyc3Q7XG5cdHNpZ25hbC5maXJzdCA9IHNpZ25hbC5sYXN0ID0gbnVsbDtcblxuXHR3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0Y29uc3QgY29udHJvbGxlciA9IGVmZmVjdC5hYztcblxuXHRcdGlmIChjb250cm9sbGVyICE9PSBudWxsKSB7XG5cdFx0XHR3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQoKCkgPT4ge1xuXHRcdFx0XHRjb250cm9sbGVyLmFib3J0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHZhciBuZXh0ID0gZWZmZWN0Lm5leHQ7XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgUk9PVF9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHQvLyB0aGlzIGlzIG5vdyBhbiBpbmRlcGVuZGVudCByb290XG5cdFx0XHRlZmZlY3QucGFyZW50ID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0LCByZW1vdmVfZG9tKTtcblx0XHR9XG5cblx0XHRlZmZlY3QgPSBuZXh0O1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IHNpZ25hbFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbihzaWduYWwpIHtcblx0dmFyIGVmZmVjdCA9IHNpZ25hbC5maXJzdDtcblxuXHR3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0dmFyIG5leHQgPSBlZmZlY3QubmV4dDtcblx0XHRpZiAoKGVmZmVjdC5mICYgQlJBTkNIX0VGRkVDVCkgPT09IDApIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0fVxuXHRcdGVmZmVjdCA9IG5leHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVfZG9tXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VmZmVjdChlZmZlY3QsIHJlbW92ZV9kb20gPSB0cnVlKSB7XG5cdHZhciByZW1vdmVkID0gZmFsc2U7XG5cblx0aWYgKFxuXHRcdChyZW1vdmVfZG9tIHx8IChlZmZlY3QuZiAmIEhFQURfRUZGRUNUKSAhPT0gMCkgJiZcblx0XHRlZmZlY3Qubm9kZXMgIT09IG51bGwgJiZcblx0XHRlZmZlY3Qubm9kZXMuZW5kICE9PSBudWxsXG5cdCkge1xuXHRcdHJlbW92ZV9lZmZlY3RfZG9tKGVmZmVjdC5ub2Rlcy5zdGFydCwgLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChlZmZlY3Qubm9kZXMuZW5kKSk7XG5cdFx0cmVtb3ZlZCA9IHRydWU7XG5cdH1cblxuXHRkZXN0cm95X2VmZmVjdF9jaGlsZHJlbihlZmZlY3QsIHJlbW92ZV9kb20gJiYgIXJlbW92ZWQpO1xuXHRyZW1vdmVfcmVhY3Rpb25zKGVmZmVjdCwgMCk7XG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgREVTVFJPWUVEKTtcblxuXHR2YXIgdHJhbnNpdGlvbnMgPSBlZmZlY3Qubm9kZXMgJiYgZWZmZWN0Lm5vZGVzLnQ7XG5cblx0aWYgKHRyYW5zaXRpb25zICE9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCB0cmFuc2l0aW9uIG9mIHRyYW5zaXRpb25zKSB7XG5cdFx0XHR0cmFuc2l0aW9uLnN0b3AoKTtcblx0XHR9XG5cdH1cblxuXHRleGVjdXRlX2VmZmVjdF90ZWFyZG93bihlZmZlY3QpO1xuXG5cdHZhciBwYXJlbnQgPSBlZmZlY3QucGFyZW50O1xuXG5cdC8vIElmIHRoZSBwYXJlbnQgZG9lc24ndCBoYXZlIGFueSBjaGlsZHJlbiwgdGhlbiBza2lwIHRoaXMgd29yayBhbHRvZ2V0aGVyXG5cdGlmIChwYXJlbnQgIT09IG51bGwgJiYgcGFyZW50LmZpcnN0ICE9PSBudWxsKSB7XG5cdFx0dW5saW5rX2VmZmVjdChlZmZlY3QpO1xuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdGVmZmVjdC5jb21wb25lbnRfZnVuY3Rpb24gPSBudWxsO1xuXHR9XG5cblx0Ly8gYGZpcnN0YCBhbmQgYGNoaWxkYCBhcmUgbnVsbGVkIG91dCBpbiBkZXN0cm95X2VmZmVjdF9jaGlsZHJlblxuXHQvLyB3ZSBkb24ndCBudWxsIG91dCBgcGFyZW50YCBzbyB0aGF0IGVycm9yIHByb3BhZ2F0aW9uIGNhbiB3b3JrIGNvcnJlY3RseVxuXHRlZmZlY3QubmV4dCA9XG5cdFx0ZWZmZWN0LnByZXYgPVxuXHRcdGVmZmVjdC50ZWFyZG93biA9XG5cdFx0ZWZmZWN0LmN0eCA9XG5cdFx0ZWZmZWN0LmRlcHMgPVxuXHRcdGVmZmVjdC5mbiA9XG5cdFx0ZWZmZWN0Lm5vZGVzID1cblx0XHRlZmZlY3QuYWMgPVxuXHRcdFx0bnVsbDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSBub2RlXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gZW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVfZWZmZWN0X2RvbShub2RlLCBlbmQpIHtcblx0d2hpbGUgKG5vZGUgIT09IG51bGwpIHtcblx0XHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdFx0dmFyIG5leHQgPSBub2RlID09PSBlbmQgPyBudWxsIDogZ2V0X25leHRfc2libGluZyhub2RlKTtcblxuXHRcdG5vZGUucmVtb3ZlKCk7XG5cdFx0bm9kZSA9IG5leHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBEZXRhY2ggYW4gZWZmZWN0IGZyb20gdGhlIGVmZmVjdCB0cmVlLCBmcmVlaW5nIHVwIG1lbW9yeSBhbmRcbiAqIHJlZHVjaW5nIHRoZSBhbW91bnQgb2Ygd29yayB0aGF0IGhhcHBlbnMgb24gc3Vic2VxdWVudCB0cmF2ZXJzYWxzXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmxpbmtfZWZmZWN0KGVmZmVjdCkge1xuXHR2YXIgcGFyZW50ID0gZWZmZWN0LnBhcmVudDtcblx0dmFyIHByZXYgPSBlZmZlY3QucHJldjtcblx0dmFyIG5leHQgPSBlZmZlY3QubmV4dDtcblxuXHRpZiAocHJldiAhPT0gbnVsbCkgcHJldi5uZXh0ID0gbmV4dDtcblx0aWYgKG5leHQgIT09IG51bGwpIG5leHQucHJldiA9IHByZXY7XG5cblx0aWYgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGlmIChwYXJlbnQuZmlyc3QgPT09IGVmZmVjdCkgcGFyZW50LmZpcnN0ID0gbmV4dDtcblx0XHRpZiAocGFyZW50Lmxhc3QgPT09IGVmZmVjdCkgcGFyZW50Lmxhc3QgPSBwcmV2O1xuXHR9XG59XG5cbi8qKlxuICogV2hlbiBhIGJsb2NrIGVmZmVjdCBpcyByZW1vdmVkLCB3ZSBkb24ndCBpbW1lZGlhdGVseSBkZXN0cm95IGl0IG9yIHlhbmsgaXRcbiAqIG91dCBvZiB0aGUgRE9NLCBiZWNhdXNlIGl0IG1pZ2h0IGhhdmUgdHJhbnNpdGlvbnMuIEluc3RlYWQsIHdlICdwYXVzZScgaXQuXG4gKiBJdCBzdGF5cyBhcm91bmQgKGluIG1lbW9yeSwgYW5kIGluIHRoZSBET00pIHVudGlsIG91dHJvIHRyYW5zaXRpb25zIGhhdmVcbiAqIGNvbXBsZXRlZCwgYW5kIGlmIHRoZSBzdGF0ZSBjaGFuZ2UgaXMgcmV2ZXJzZWQgdGhlbiB3ZSBfcmVzdW1lXyBpdC5cbiAqIEEgcGF1c2VkIGVmZmVjdCBkb2VzIG5vdCB1cGRhdGUsIGFuZCB0aGUgRE9NIHN1YnRyZWUgYmVjb21lcyBpbmVydC5cbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXVxuICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdXNlX2VmZmVjdChlZmZlY3QsIGNhbGxiYWNrLCBkZXN0cm95ID0gdHJ1ZSkge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25NYW5hZ2VyW119ICovXG5cdHZhciB0cmFuc2l0aW9ucyA9IFtdO1xuXG5cdHBhdXNlX2NoaWxkcmVuKGVmZmVjdCwgdHJhbnNpdGlvbnMsIHRydWUpO1xuXG5cdHZhciBmbiA9ICgpID0+IHtcblx0XHRpZiAoZGVzdHJveSkgZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG5cdH07XG5cblx0dmFyIHJlbWFpbmluZyA9IHRyYW5zaXRpb25zLmxlbmd0aDtcblx0aWYgKHJlbWFpbmluZyA+IDApIHtcblx0XHR2YXIgY2hlY2sgPSAoKSA9PiAtLXJlbWFpbmluZyB8fCBmbigpO1xuXHRcdGZvciAodmFyIHRyYW5zaXRpb24gb2YgdHJhbnNpdGlvbnMpIHtcblx0XHRcdHRyYW5zaXRpb24ub3V0KGNoZWNrKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Zm4oKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbk1hbmFnZXJbXX0gdHJhbnNpdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jYWxcbiAqL1xuZnVuY3Rpb24gcGF1c2VfY2hpbGRyZW4oZWZmZWN0LCB0cmFuc2l0aW9ucywgbG9jYWwpIHtcblx0aWYgKChlZmZlY3QuZiAmIElORVJUKSAhPT0gMCkgcmV0dXJuO1xuXHRlZmZlY3QuZiBePSBJTkVSVDtcblxuXHR2YXIgdCA9IGVmZmVjdC5ub2RlcyAmJiBlZmZlY3Qubm9kZXMudDtcblxuXHRpZiAodCAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgdHJhbnNpdGlvbiBvZiB0KSB7XG5cdFx0XHRpZiAodHJhbnNpdGlvbi5pc19nbG9iYWwgfHwgbG9jYWwpIHtcblx0XHRcdFx0dHJhbnNpdGlvbnMucHVzaCh0cmFuc2l0aW9uKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR2YXIgY2hpbGQgPSBlZmZlY3QuZmlyc3Q7XG5cblx0d2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG5cdFx0dmFyIHNpYmxpbmcgPSBjaGlsZC5uZXh0O1xuXHRcdHZhciB0cmFuc3BhcmVudCA9XG5cdFx0XHQoY2hpbGQuZiAmIEVGRkVDVF9UUkFOU1BBUkVOVCkgIT09IDAgfHxcblx0XHRcdC8vIElmIHRoaXMgaXMgYSBicmFuY2ggZWZmZWN0IHdpdGhvdXQgYSBibG9jayBlZmZlY3QgcGFyZW50LFxuXHRcdFx0Ly8gaXQgbWVhbnMgdGhlIHBhcmVudCBibG9jayBlZmZlY3Qgd2FzIHBydW5lZC4gSW4gdGhhdCBjYXNlLFxuXHRcdFx0Ly8gdHJhbnNwYXJlbmN5IGluZm9ybWF0aW9uIHdhcyB0cmFuc2ZlcnJlZCB0byB0aGUgYnJhbmNoIGVmZmVjdC5cblx0XHRcdCgoY2hpbGQuZiAmIEJSQU5DSF9FRkZFQ1QpICE9PSAwICYmIChlZmZlY3QuZiAmIEJMT0NLX0VGRkVDVCkgIT09IDApO1xuXHRcdC8vIFRPRE8gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHBhdXNlX2NoaWxkcmVuIHJlY3Vyc2l2ZWx5IHdpdGggYSBsaW5rZWQgbGlzdCBpbiBwbGFjZVxuXHRcdC8vIGl0J3Mgc2xpZ2h0bHkgbW9yZSBpbnZvbHZlZCB0aG91Z2ggYXMgd2UgaGF2ZSB0byBhY2NvdW50IGZvciBgdHJhbnNwYXJlbnRgIGNoYW5naW5nXG5cdFx0Ly8gdGhyb3VnaCB0aGUgdHJlZS5cblx0XHRwYXVzZV9jaGlsZHJlbihjaGlsZCwgdHJhbnNpdGlvbnMsIHRyYW5zcGFyZW50ID8gbG9jYWwgOiBmYWxzZSk7XG5cdFx0Y2hpbGQgPSBzaWJsaW5nO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIG9wcG9zaXRlIG9mIGBwYXVzZV9lZmZlY3RgLiBXZSBjYWxsIHRoaXMgaWYgKGZvciBleGFtcGxlKVxuICogYHhgIGJlY29tZXMgZmFsc3kgdGhlbiB0cnV0aHk6IGB7I2lmIHh9Li4uey9pZn1gXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXN1bWVfZWZmZWN0KGVmZmVjdCkge1xuXHRyZXN1bWVfY2hpbGRyZW4oZWZmZWN0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxvY2FsXG4gKi9cbmZ1bmN0aW9uIHJlc3VtZV9jaGlsZHJlbihlZmZlY3QsIGxvY2FsKSB7XG5cdGlmICgoZWZmZWN0LmYgJiBJTkVSVCkgPT09IDApIHJldHVybjtcblx0ZWZmZWN0LmYgXj0gSU5FUlQ7XG5cblx0Ly8gSWYgYSBkZXBlbmRlbmN5IG9mIHRoaXMgZWZmZWN0IGNoYW5nZWQgd2hpbGUgaXQgd2FzIHBhdXNlZCxcblx0Ly8gc2NoZWR1bGUgdGhlIGVmZmVjdCB0byB1cGRhdGUuIHdlIGRvbid0IHVzZSBgaXNfZGlydHlgXG5cdC8vIGhlcmUgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIGVhZ2VybHkgcmVjb21wdXRlIGEgZGVyaXZlZCBsaWtlXG5cdC8vIGB7I2lmIGZvb317Zm9vLmJhcigpfXsvaWZ9YCBpZiBgZm9vYCBpcyBub3cgYHVuZGVmaW5lZFxuXHRpZiAoKGVmZmVjdC5mICYgQ0xFQU4pID09PSAwKSB7XG5cdFx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBESVJUWSk7XG5cdFx0c2NoZWR1bGVfZWZmZWN0KGVmZmVjdCk7XG5cdH1cblxuXHR2YXIgY2hpbGQgPSBlZmZlY3QuZmlyc3Q7XG5cblx0d2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG5cdFx0dmFyIHNpYmxpbmcgPSBjaGlsZC5uZXh0O1xuXHRcdHZhciB0cmFuc3BhcmVudCA9IChjaGlsZC5mICYgRUZGRUNUX1RSQU5TUEFSRU5UKSAhPT0gMCB8fCAoY2hpbGQuZiAmIEJSQU5DSF9FRkZFQ1QpICE9PSAwO1xuXHRcdC8vIFRPRE8gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHJlc3VtZV9jaGlsZHJlbiByZWN1cnNpdmVseSB3aXRoIGEgbGlua2VkIGxpc3QgaW4gcGxhY2Vcblx0XHQvLyBpdCdzIHNsaWdodGx5IG1vcmUgaW52b2x2ZWQgdGhvdWdoIGFzIHdlIGhhdmUgdG8gYWNjb3VudCBmb3IgYHRyYW5zcGFyZW50YCBjaGFuZ2luZ1xuXHRcdC8vIHRocm91Z2ggdGhlIHRyZWUuXG5cdFx0cmVzdW1lX2NoaWxkcmVuKGNoaWxkLCB0cmFuc3BhcmVudCA/IGxvY2FsIDogZmFsc2UpO1xuXHRcdGNoaWxkID0gc2libGluZztcblx0fVxuXG5cdHZhciB0ID0gZWZmZWN0Lm5vZGVzICYmIGVmZmVjdC5ub2Rlcy50O1xuXG5cdGlmICh0ICE9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCB0cmFuc2l0aW9uIG9mIHQpIHtcblx0XHRcdGlmICh0cmFuc2l0aW9uLmlzX2dsb2JhbCB8fCBsb2NhbCkge1xuXHRcdFx0XHR0cmFuc2l0aW9uLmluKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydGVkKGVmZmVjdCA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkpIHtcblx0cmV0dXJuIChlZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtEb2N1bWVudEZyYWdtZW50fSBmcmFnbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZV9lZmZlY3QoZWZmZWN0LCBmcmFnbWVudCkge1xuXHRpZiAoIWVmZmVjdC5ub2RlcykgcmV0dXJuO1xuXG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0dmFyIG5vZGUgPSBlZmZlY3Qubm9kZXMuc3RhcnQ7XG5cdHZhciBlbmQgPSBlZmZlY3Qubm9kZXMuZW5kO1xuXG5cdHdoaWxlIChub2RlICE9PSBudWxsKSB7XG5cdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqL1xuXHRcdHZhciBuZXh0ID0gbm9kZSA9PT0gZW5kID8gbnVsbCA6IGdldF9uZXh0X3NpYmxpbmcobm9kZSk7XG5cblx0XHRmcmFnbWVudC5hcHBlbmQobm9kZSk7XG5cdFx0bm9kZSA9IG5leHQ7XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IGludGVybmFsX3NldCB9IGZyb20gJy4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuL3J1bnRpbWUuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtTZXQ8VmFsdWU+IHwgbnVsbH1cbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBsZXQgY2FwdHVyZWRfc2lnbmFscyA9IG51bGw7XG5cbi8qKlxuICogQ2FwdHVyZSBhbiBhcnJheSBvZiBhbGwgdGhlIHNpZ25hbHMgdGhhdCBhcmUgcmVhZCB3aGVuIGBmbmAgaXMgY2FsbGVkXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICovXG5mdW5jdGlvbiBjYXB0dXJlX3NpZ25hbHMoZm4pIHtcblx0dmFyIHByZXZpb3VzX2NhcHR1cmVkX3NpZ25hbHMgPSBjYXB0dXJlZF9zaWduYWxzO1xuXG5cdHRyeSB7XG5cdFx0Y2FwdHVyZWRfc2lnbmFscyA9IG5ldyBTZXQoKTtcblxuXHRcdHVudHJhY2soZm4pO1xuXG5cdFx0aWYgKHByZXZpb3VzX2NhcHR1cmVkX3NpZ25hbHMgIT09IG51bGwpIHtcblx0XHRcdGZvciAodmFyIHNpZ25hbCBvZiBjYXB0dXJlZF9zaWduYWxzKSB7XG5cdFx0XHRcdHByZXZpb3VzX2NhcHR1cmVkX3NpZ25hbHMuYWRkKHNpZ25hbCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNhcHR1cmVkX3NpZ25hbHM7XG5cdH0gZmluYWxseSB7XG5cdFx0Y2FwdHVyZWRfc2lnbmFscyA9IHByZXZpb3VzX2NhcHR1cmVkX3NpZ25hbHM7XG5cdH1cbn1cblxuLyoqXG4gKiBJbnZva2VzIGEgZnVuY3Rpb24gYW5kIGNhcHR1cmVzIGFsbCBzaWduYWxzIHRoYXQgYXJlIHJlYWQgZHVyaW5nIHRoZSBpbnZvY2F0aW9uLFxuICogdGhlbiBpbnZhbGlkYXRlcyB0aGVtLlxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZV9pbm5lcl9zaWduYWxzKGZuKSB7XG5cdGZvciAodmFyIHNpZ25hbCBvZiBjYXB0dXJlX3NpZ25hbHMoZm4pKSB7XG5cdFx0aW50ZXJuYWxfc2V0KHNpZ25hbCwgc2lnbmFsLnYpO1xuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFJlYWN0aW9uLCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3JzLCBnZXRfcHJvdG90eXBlX29mLCBpbmRleF9vZiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbixcblx0ZGVzdHJveV9lZmZlY3RfY2hpbGRyZW4sXG5cdGVmZmVjdF90cmFja2luZyxcblx0ZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd25cbn0gZnJvbSAnLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHtcblx0RElSVFksXG5cdE1BWUJFX0RJUlRZLFxuXHRDTEVBTixcblx0REVSSVZFRCxcblx0REVTVFJPWUVELFxuXHRCUkFOQ0hfRUZGRUNULFxuXHRTVEFURV9TWU1CT0wsXG5cdEJMT0NLX0VGRkVDVCxcblx0Uk9PVF9FRkZFQ1QsXG5cdENPTk5FQ1RFRCxcblx0UkVBQ1RJT05fSVNfVVBEQVRJTkcsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRFUlJPUl9WQUxVRSxcblx0V0FTX01BUktFRCxcblx0TUFOQUdFRF9FRkZFQ1Rcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgb2xkX3ZhbHVlcyB9IGZyb20gJy4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7XG5cdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzLFxuXHRleGVjdXRlX2Rlcml2ZWQsXG5cdHJlY2VudF9hc3luY19kZXJpdmVkcyxcblx0dXBkYXRlX2Rlcml2ZWRcbn0gZnJvbSAnLi9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgdHJhY2luZ19tb2RlX2ZsYWcgfSBmcm9tICcuLi9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyB0cmFjaW5nX2V4cHJlc3Npb25zIH0gZnJvbSAnLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBnZXRfZXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZGV2LmpzJztcbmltcG9ydCB7XG5cdGNvbXBvbmVudF9jb250ZXh0LFxuXHRkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sXG5cdGRldl9zdGFjayxcblx0aXNfcnVuZXMsXG5cdHNldF9jb21wb25lbnRfY29udGV4dCxcblx0c2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbixcblx0c2V0X2Rldl9zdGFja1xufSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHtcblx0QmF0Y2gsXG5cdGJhdGNoX3ZhbHVlcyxcblx0Y3VycmVudF9iYXRjaCxcblx0Zmx1c2hTeW5jLFxuXHRzY2hlZHVsZV9lZmZlY3Rcbn0gZnJvbSAnLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmltcG9ydCB7IGhhbmRsZV9lcnJvciB9IGZyb20gJy4vZXJyb3ItaGFuZGxpbmcuanMnO1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBjYXB0dXJlZF9zaWduYWxzIH0gZnJvbSAnLi9sZWdhY3kuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi9kb20vZWxlbWVudHMvYmluZGluZ3Mvc2hhcmVkLmpzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzLCB1cGRhdGVfZGVyaXZlZF9zdGF0dXMgfSBmcm9tICcuL3JlYWN0aXZpdHkvc3RhdHVzLmpzJztcblxuZXhwb3J0IGxldCBpc191cGRhdGluZ19lZmZlY3QgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHZhbHVlKSB7XG5cdGlzX3VwZGF0aW5nX2VmZmVjdCA9IHZhbHVlO1xufVxuXG5leHBvcnQgbGV0IGlzX2Rlc3Ryb3lpbmdfZWZmZWN0ID0gZmFsc2U7XG5cbi8qKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0KHZhbHVlKSB7XG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0ID0gdmFsdWU7XG59XG5cbi8qKiBAdHlwZSB7bnVsbCB8IFJlYWN0aW9ufSAqL1xuZXhwb3J0IGxldCBhY3RpdmVfcmVhY3Rpb24gPSBudWxsO1xuXG5leHBvcnQgbGV0IHVudHJhY2tpbmcgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IFJlYWN0aW9ufSByZWFjdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hY3RpdmVfcmVhY3Rpb24ocmVhY3Rpb24pIHtcblx0YWN0aXZlX3JlYWN0aW9uID0gcmVhY3Rpb247XG59XG5cbi8qKiBAdHlwZSB7bnVsbCB8IEVmZmVjdH0gKi9cbmV4cG9ydCBsZXQgYWN0aXZlX2VmZmVjdCA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge251bGwgfCBFZmZlY3R9IGVmZmVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hY3RpdmVfZWZmZWN0KGVmZmVjdCkge1xuXHRhY3RpdmVfZWZmZWN0ID0gZWZmZWN0O1xufVxuXG4vKipcbiAqIFdoZW4gc291cmNlcyBhcmUgY3JlYXRlZCB3aXRoaW4gYSByZWFjdGlvbiwgcmVhZGluZyBhbmQgd3JpdGluZ1xuICogdGhlbSB3aXRoaW4gdGhhdCByZWFjdGlvbiBzaG91bGQgbm90IGNhdXNlIGEgcmUtcnVuXG4gKiBAdHlwZSB7bnVsbCB8IFNvdXJjZVtdfVxuICovXG5leHBvcnQgbGV0IGN1cnJlbnRfc291cmNlcyA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2hfcmVhY3Rpb25fdmFsdWUodmFsdWUpIHtcblx0aWYgKGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJiAoIWFzeW5jX21vZGVfZmxhZyB8fCAoYWN0aXZlX3JlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMCkpIHtcblx0XHRpZiAoY3VycmVudF9zb3VyY2VzID09PSBudWxsKSB7XG5cdFx0XHRjdXJyZW50X3NvdXJjZXMgPSBbdmFsdWVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50X3NvdXJjZXMucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhlIGRlcGVuZGVuY2llcyBvZiB0aGUgcmVhY3Rpb24gdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWQuIEluIG1hbnkgY2FzZXMsXG4gKiB0aGUgZGVwZW5kZW5jaWVzIGFyZSB1bmNoYW5nZWQgYmV0d2VlbiBydW5zLCBhbmQgc28gdGhpcyB3aWxsIGJlIGBudWxsYCB1bmxlc3NcbiAqIGFuZCB1bnRpbCBhIG5ldyBkZXBlbmRlbmN5IGlzIGFjY2Vzc2VkIFx1MjAxNCB3ZSB0cmFjayB0aGlzIHZpYSBgc2tpcHBlZF9kZXBzYFxuICogQHR5cGUge251bGwgfCBWYWx1ZVtdfVxuICovXG5sZXQgbmV3X2RlcHMgPSBudWxsO1xuXG5sZXQgc2tpcHBlZF9kZXBzID0gMDtcblxuLyoqXG4gKiBUcmFja3Mgd3JpdGVzIHRoYXQgdGhlIGVmZmVjdCBpdCdzIGV4ZWN1dGVkIGluIGRvZXNuJ3QgbGlzdGVuIHRvIHlldCxcbiAqIHNvIHRoYXQgdGhlIGRlcGVuZGVuY3kgY2FuIGJlIGFkZGVkIHRvIHRoZSBlZmZlY3QgbGF0ZXIgb24gaWYgaXQgdGhlbiByZWFkcyBpdFxuICogQHR5cGUge251bGwgfCBTb3VyY2VbXX1cbiAqL1xuZXhwb3J0IGxldCB1bnRyYWNrZWRfd3JpdGVzID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IFNvdXJjZVtdfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF91bnRyYWNrZWRfd3JpdGVzKHZhbHVlKSB7XG5cdHVudHJhY2tlZF93cml0ZXMgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfSBVc2VkIGJ5IHNvdXJjZXMgYW5kIGRlcml2ZWRzIGZvciBoYW5kbGluZyB1cGRhdGVzLlxuICogVmVyc2lvbiBzdGFydHMgZnJvbSAxIHNvIHRoYXQgdW5vd25lZCBkZXJpdmVkcyBkaWZmZXJlbnRpYXRlIGJldHdlZW4gYSBjcmVhdGVkIGVmZmVjdCBhbmQgYSBydW4gb25lIGZvciB0cmFjaW5nXG4gKiovXG5leHBvcnQgbGV0IHdyaXRlX3ZlcnNpb24gPSAxO1xuXG4vKiogQHR5cGUge251bWJlcn0gVXNlZCB0byB2ZXJzaW9uIGVhY2ggcmVhZCBvZiBhIHNvdXJjZSBvZiBkZXJpdmVkIHRvIGF2b2lkIGR1cGxpY2F0aW5nIGRlcGVkZW5jaWVzIGluc2lkZSBhIHJlYWN0aW9uICovXG5sZXQgcmVhZF92ZXJzaW9uID0gMDtcblxuZXhwb3J0IGxldCB1cGRhdGVfdmVyc2lvbiA9IHJlYWRfdmVyc2lvbjtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF91cGRhdGVfdmVyc2lvbih2YWx1ZSkge1xuXHR1cGRhdGVfdmVyc2lvbiA9IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50X3dyaXRlX3ZlcnNpb24oKSB7XG5cdHJldHVybiArK3dyaXRlX3ZlcnNpb247XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgZGVyaXZlZCBvciBlZmZlY3QgaXMgZGlydHkuXG4gKiBJZiBpdCBpcyBNQVlCRV9ESVJUWSwgd2lsbCBzZXQgdGhlIHN0YXR1cyB0byBDTEVBTlxuICogQHBhcmFtIHtSZWFjdGlvbn0gcmVhY3Rpb25cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZGlydHkocmVhY3Rpb24pIHtcblx0dmFyIGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRpZiAoKGZsYWdzICYgRElSVFkpICE9PSAwKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoZmxhZ3MgJiBERVJJVkVEKSB7XG5cdFx0cmVhY3Rpb24uZiAmPSB+V0FTX01BUktFRDtcblx0fVxuXG5cdGlmICgoZmxhZ3MgJiBNQVlCRV9ESVJUWSkgIT09IDApIHtcblx0XHR2YXIgZGVwZW5kZW5jaWVzID0gLyoqIEB0eXBlIHtWYWx1ZVtdfSAqLyAocmVhY3Rpb24uZGVwcyk7XG5cdFx0dmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcblxuXHRcdFx0aWYgKGlzX2RpcnR5KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKSkge1xuXHRcdFx0XHR1cGRhdGVfZGVyaXZlZCgvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXBlbmRlbmN5KSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkZXBlbmRlbmN5Lnd2ID4gcmVhY3Rpb24ud3YpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0KGZsYWdzICYgQ09OTkVDVEVEKSAhPT0gMCAmJlxuXHRcdFx0Ly8gRHVyaW5nIHRpbWUgdHJhdmVsaW5nIHdlIGRvbid0IHdhbnQgdG8gcmVzZXQgdGhlIHN0YXR1cyBzbyB0aGF0XG5cdFx0XHQvLyB0cmF2ZXJzYWwgb2YgdGhlIGdyYXBoIGluIHRoZSBvdGhlciBiYXRjaGVzIHN0aWxsIGhhcHBlbnNcblx0XHRcdGJhdGNoX3ZhbHVlcyA9PT0gbnVsbFxuXHRcdCkge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIENMRUFOKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWYWx1ZX0gc2lnbmFsXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyb290XVxuICovXG5mdW5jdGlvbiBzY2hlZHVsZV9wb3NzaWJsZV9lZmZlY3Rfc2VsZl9pbnZhbGlkYXRpb24oc2lnbmFsLCBlZmZlY3QsIHJvb3QgPSB0cnVlKSB7XG5cdHZhciByZWFjdGlvbnMgPSBzaWduYWwucmVhY3Rpb25zO1xuXHRpZiAocmVhY3Rpb25zID09PSBudWxsKSByZXR1cm47XG5cblx0aWYgKCFhc3luY19tb2RlX2ZsYWcgJiYgY3VycmVudF9zb3VyY2VzPy5pbmNsdWRlcyhzaWduYWwpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcmVhY3Rpb24gPSByZWFjdGlvbnNbaV07XG5cblx0XHRpZiAoKHJlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMCkge1xuXHRcdFx0c2NoZWR1bGVfcG9zc2libGVfZWZmZWN0X3NlbGZfaW52YWxpZGF0aW9uKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgZWZmZWN0LCBmYWxzZSk7XG5cdFx0fSBlbHNlIGlmIChlZmZlY3QgPT09IHJlYWN0aW9uKSB7XG5cdFx0XHRpZiAocm9vdCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgRElSVFkpO1xuXHRcdFx0fSBlbHNlIGlmICgocmVhY3Rpb24uZiAmIENMRUFOKSAhPT0gMCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgTUFZQkVfRElSVFkpO1xuXHRcdFx0fVxuXHRcdFx0c2NoZWR1bGVfZWZmZWN0KC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqIEBwYXJhbSB7UmVhY3Rpb259IHJlYWN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3JlYWN0aW9uKHJlYWN0aW9uKSB7XG5cdHZhciBwcmV2aW91c19kZXBzID0gbmV3X2RlcHM7XG5cdHZhciBwcmV2aW91c19za2lwcGVkX2RlcHMgPSBza2lwcGVkX2RlcHM7XG5cdHZhciBwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzID0gdW50cmFja2VkX3dyaXRlcztcblx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHR2YXIgcHJldmlvdXNfc291cmNlcyA9IGN1cnJlbnRfc291cmNlcztcblx0dmFyIHByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdHZhciBwcmV2aW91c191bnRyYWNraW5nID0gdW50cmFja2luZztcblx0dmFyIHByZXZpb3VzX3VwZGF0ZV92ZXJzaW9uID0gdXBkYXRlX3ZlcnNpb247XG5cblx0dmFyIGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRuZXdfZGVwcyA9IC8qKiBAdHlwZSB7bnVsbCB8IFZhbHVlW119ICovIChudWxsKTtcblx0c2tpcHBlZF9kZXBzID0gMDtcblx0dW50cmFja2VkX3dyaXRlcyA9IG51bGw7XG5cdGFjdGl2ZV9yZWFjdGlvbiA9IChmbGFncyAmIChCUkFOQ0hfRUZGRUNUIHwgUk9PVF9FRkZFQ1QpKSA9PT0gMCA/IHJlYWN0aW9uIDogbnVsbDtcblxuXHRjdXJyZW50X3NvdXJjZXMgPSBudWxsO1xuXHRzZXRfY29tcG9uZW50X2NvbnRleHQocmVhY3Rpb24uY3R4KTtcblx0dW50cmFja2luZyA9IGZhbHNlO1xuXHR1cGRhdGVfdmVyc2lvbiA9ICsrcmVhZF92ZXJzaW9uO1xuXG5cdGlmIChyZWFjdGlvbi5hYyAhPT0gbnVsbCkge1xuXHRcdHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dCgoKSA9PiB7XG5cdFx0XHQvKiogQHR5cGUge0Fib3J0Q29udHJvbGxlcn0gKi8gKHJlYWN0aW9uLmFjKS5hYm9ydChTVEFMRV9SRUFDVElPTik7XG5cdFx0fSk7XG5cblx0XHRyZWFjdGlvbi5hYyA9IG51bGw7XG5cdH1cblxuXHR0cnkge1xuXHRcdHJlYWN0aW9uLmYgfD0gUkVBQ1RJT05fSVNfVVBEQVRJTkc7XG5cdFx0dmFyIGZuID0gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHJlYWN0aW9uLmZuKTtcblx0XHR2YXIgcmVzdWx0ID0gZm4oKTtcblx0XHR2YXIgZGVwcyA9IHJlYWN0aW9uLmRlcHM7XG5cblx0XHRpZiAobmV3X2RlcHMgIT09IG51bGwpIHtcblx0XHRcdHZhciBpO1xuXG5cdFx0XHRyZW1vdmVfcmVhY3Rpb25zKHJlYWN0aW9uLCBza2lwcGVkX2RlcHMpO1xuXG5cdFx0XHRpZiAoZGVwcyAhPT0gbnVsbCAmJiBza2lwcGVkX2RlcHMgPiAwKSB7XG5cdFx0XHRcdGRlcHMubGVuZ3RoID0gc2tpcHBlZF9kZXBzICsgbmV3X2RlcHMubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbmV3X2RlcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRkZXBzW3NraXBwZWRfZGVwcyArIGldID0gbmV3X2RlcHNbaV07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlYWN0aW9uLmRlcHMgPSBkZXBzID0gbmV3X2RlcHM7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChlZmZlY3RfdHJhY2tpbmcoKSAmJiAocmVhY3Rpb24uZiAmIENPTk5FQ1RFRCkgIT09IDApIHtcblx0XHRcdFx0Zm9yIChpID0gc2tpcHBlZF9kZXBzOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdChkZXBzW2ldLnJlYWN0aW9ucyA/Pz0gW10pLnB1c2gocmVhY3Rpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChkZXBzICE9PSBudWxsICYmIHNraXBwZWRfZGVwcyA8IGRlcHMubGVuZ3RoKSB7XG5cdFx0XHRyZW1vdmVfcmVhY3Rpb25zKHJlYWN0aW9uLCBza2lwcGVkX2RlcHMpO1xuXHRcdFx0ZGVwcy5sZW5ndGggPSBza2lwcGVkX2RlcHM7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UncmUgaW5zaWRlIGFuIGVmZmVjdCBhbmQgd2UgaGF2ZSB1bnRyYWNrZWQgd3JpdGVzLCB0aGVuIHdlIG5lZWQgdG9cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiBhbnkgb2YgdGhvc2UgdW50cmFja2VkIHdyaXRlcyByZXN1bHQgaW4gcmUtaW52YWxpZGF0aW9uXG5cdFx0Ly8gb2YgdGhlIGN1cnJlbnQgZWZmZWN0LCB0aGVuIHRoYXQgaGFwcGVucyBhY2NvcmRpbmdseVxuXHRcdGlmIChcblx0XHRcdGlzX3J1bmVzKCkgJiZcblx0XHRcdHVudHJhY2tlZF93cml0ZXMgIT09IG51bGwgJiZcblx0XHRcdCF1bnRyYWNraW5nICYmXG5cdFx0XHRkZXBzICE9PSBudWxsICYmXG5cdFx0XHQocmVhY3Rpb24uZiAmIChERVJJVkVEIHwgTUFZQkVfRElSVFkgfCBESVJUWSkpID09PSAwXG5cdFx0KSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgLyoqIEB0eXBlIHtTb3VyY2VbXX0gKi8gKHVudHJhY2tlZF93cml0ZXMpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHNjaGVkdWxlX3Bvc3NpYmxlX2VmZmVjdF9zZWxmX2ludmFsaWRhdGlvbihcblx0XHRcdFx0XHR1bnRyYWNrZWRfd3JpdGVzW2ldLFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgYXJlIHJldHVybmluZyB0byBhbiBwcmV2aW91cyByZWFjdGlvbiB0aGVuXG5cdFx0Ly8gd2UgbmVlZCB0byBpbmNyZW1lbnQgdGhlIHJlYWQgdmVyc2lvbiB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIGFueSBkZXBlbmRlbmNpZXMgaW4gdGhpcyByZWFjdGlvbiBhcmVuJ3QgbWFya2VkIHdpdGhcblx0XHQvLyB0aGUgc2FtZSB2ZXJzaW9uXG5cdFx0aWYgKHByZXZpb3VzX3JlYWN0aW9uICE9PSBudWxsICYmIHByZXZpb3VzX3JlYWN0aW9uICE9PSByZWFjdGlvbikge1xuXHRcdFx0cmVhZF92ZXJzaW9uKys7XG5cblx0XHRcdGlmICh1bnRyYWNrZWRfd3JpdGVzICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNfdW50cmFja2VkX3dyaXRlcyA9IHVudHJhY2tlZF93cml0ZXM7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cHJldmlvdXNfdW50cmFja2VkX3dyaXRlcy5wdXNoKC4uLi8qKiBAdHlwZSB7U291cmNlW119ICovICh1bnRyYWNrZWRfd3JpdGVzKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoKHJlYWN0aW9uLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHRcdHJlYWN0aW9uLmYgXj0gRVJST1JfVkFMVUU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gaGFuZGxlX2Vycm9yKGVycm9yKTtcblx0fSBmaW5hbGx5IHtcblx0XHRyZWFjdGlvbi5mIF49IFJFQUNUSU9OX0lTX1VQREFUSU5HO1xuXHRcdG5ld19kZXBzID0gcHJldmlvdXNfZGVwcztcblx0XHRza2lwcGVkX2RlcHMgPSBwcmV2aW91c19za2lwcGVkX2RlcHM7XG5cdFx0dW50cmFja2VkX3dyaXRlcyA9IHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXM7XG5cdFx0YWN0aXZlX3JlYWN0aW9uID0gcHJldmlvdXNfcmVhY3Rpb247XG5cdFx0Y3VycmVudF9zb3VyY2VzID0gcHJldmlvdXNfc291cmNlcztcblx0XHRzZXRfY29tcG9uZW50X2NvbnRleHQocHJldmlvdXNfY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdHVudHJhY2tpbmcgPSBwcmV2aW91c191bnRyYWNraW5nO1xuXHRcdHVwZGF0ZV92ZXJzaW9uID0gcHJldmlvdXNfdXBkYXRlX3ZlcnNpb247XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtSZWFjdGlvbn0gc2lnbmFsXG4gKiBAcGFyYW0ge1ZhbHVlPFY+fSBkZXBlbmRlbmN5XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlX3JlYWN0aW9uKHNpZ25hbCwgZGVwZW5kZW5jeSkge1xuXHRsZXQgcmVhY3Rpb25zID0gZGVwZW5kZW5jeS5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgIT09IG51bGwpIHtcblx0XHR2YXIgaW5kZXggPSBpbmRleF9vZi5jYWxsKHJlYWN0aW9ucywgc2lnbmFsKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHR2YXIgbmV3X2xlbmd0aCA9IHJlYWN0aW9ucy5sZW5ndGggLSAxO1xuXHRcdFx0aWYgKG5ld19sZW5ndGggPT09IDApIHtcblx0XHRcdFx0cmVhY3Rpb25zID0gZGVwZW5kZW5jeS5yZWFjdGlvbnMgPSBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gU3dhcCB3aXRoIGxhc3QgZWxlbWVudCBhbmQgdGhlbiByZW1vdmUuXG5cdFx0XHRcdHJlYWN0aW9uc1tpbmRleF0gPSByZWFjdGlvbnNbbmV3X2xlbmd0aF07XG5cdFx0XHRcdHJlYWN0aW9ucy5wb3AoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBJZiB0aGUgZGVyaXZlZCBoYXMgbm8gcmVhY3Rpb25zLCB0aGVuIHdlIGNhbiBkaXNjb25uZWN0IGl0IGZyb20gdGhlIGdyYXBoLFxuXHQvLyBhbGxvd2luZyBpdCB0byBlaXRoZXIgcmVjb25uZWN0IGluIHRoZSBmdXR1cmUsIG9yIGJlIEdDJ2QgYnkgdGhlIFZNLlxuXHRpZiAoXG5cdFx0cmVhY3Rpb25zID09PSBudWxsICYmXG5cdFx0KGRlcGVuZGVuY3kuZiAmIERFUklWRUQpICE9PSAwICYmXG5cdFx0Ly8gRGVzdHJveWluZyBhIGNoaWxkIGVmZmVjdCB3aGlsZSB1cGRhdGluZyBhIHBhcmVudCBlZmZlY3QgY2FuIGNhdXNlIGEgZGVwZW5kZW5jeSB0byBhcHBlYXJcblx0XHQvLyB0byBiZSB1bnVzZWQsIHdoZW4gaW4gZmFjdCBpdCBpcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHktdXBkYXRpbmcgcGFyZW50LiBDaGVja2luZyBgbmV3X2RlcHNgXG5cdFx0Ly8gYWxsb3dzIHVzIHRvIHNraXAgdGhlIGV4cGVuc2l2ZSB3b3JrIG9mIGRpc2Nvbm5lY3RpbmcgYW5kIGltbWVkaWF0ZWx5IHJlY29ubmVjdGluZyBpdFxuXHRcdChuZXdfZGVwcyA9PT0gbnVsbCB8fCAhbmV3X2RlcHMuaW5jbHVkZXMoZGVwZW5kZW5jeSkpXG5cdCkge1xuXHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoZGVwZW5kZW5jeSk7XG5cblx0XHQvLyBJZiB3ZSBhcmUgd29ya2luZyB3aXRoIGEgZGVyaXZlZCB0aGF0IGlzIG93bmVkIGJ5IGFuIGVmZmVjdCwgdGhlbiBtYXJrIGl0IGFzIGJlaW5nXG5cdFx0Ly8gZGlzY29ubmVjdGVkIGFuZCByZW1vdmUgdGhlIG1hcmsgZmxhZywgYXMgaXQgY2Fubm90IGJlIHJlbGlhYmx5IHJlbW92ZWQgb3RoZXJ3aXNlXG5cdFx0aWYgKChkZXJpdmVkLmYgJiBDT05ORUNURUQpICE9PSAwKSB7XG5cdFx0XHRkZXJpdmVkLmYgXj0gQ09OTkVDVEVEO1xuXHRcdFx0ZGVyaXZlZC5mICY9IH5XQVNfTUFSS0VEO1xuXHRcdH1cblxuXHRcdHVwZGF0ZV9kZXJpdmVkX3N0YXR1cyhkZXJpdmVkKTtcblxuXHRcdC8vIERpc2Nvbm5lY3QgYW55IHJlYWN0aW9ucyBvd25lZCBieSB0aGlzIHJlYWN0aW9uXG5cdFx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMoZGVyaXZlZCk7XG5cdFx0cmVtb3ZlX3JlYWN0aW9ucyhkZXJpdmVkLCAwKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0X2luZGV4XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9yZWFjdGlvbnMoc2lnbmFsLCBzdGFydF9pbmRleCkge1xuXHR2YXIgZGVwZW5kZW5jaWVzID0gc2lnbmFsLmRlcHM7XG5cdGlmIChkZXBlbmRlbmNpZXMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKHZhciBpID0gc3RhcnRfaW5kZXg7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRyZW1vdmVfcmVhY3Rpb24oc2lnbmFsLCBkZXBlbmRlbmNpZXNbaV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZWZmZWN0KGVmZmVjdCkge1xuXHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRpZiAoKGZsYWdzICYgREVTVFJPWUVEKSAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgQ0xFQU4pO1xuXG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHR2YXIgd2FzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblxuXHRhY3RpdmVfZWZmZWN0ID0gZWZmZWN0O1xuXHRpc191cGRhdGluZ19lZmZlY3QgPSB0cnVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR2YXIgcHJldmlvdXNfY29tcG9uZW50X2ZuID0gZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uO1xuXHRcdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbik7XG5cdFx0dmFyIHByZXZpb3VzX3N0YWNrID0gLyoqIEB0eXBlIHthbnl9ICovIChkZXZfc3RhY2spO1xuXHRcdC8vIG9ubHkgYmxvY2sgZWZmZWN0cyBoYXZlIGEgZGV2IHN0YWNrLCBrZWVwIHRoZSBjdXJyZW50IG9uZSBvdGhlcndpc2Vcblx0XHRzZXRfZGV2X3N0YWNrKGVmZmVjdC5kZXZfc3RhY2sgPz8gZGV2X3N0YWNrKTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0aWYgKChmbGFncyAmIChCTE9DS19FRkZFQ1QgfCBNQU5BR0VEX0VGRkVDVCkpICE9PSAwKSB7XG5cdFx0XHRkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbihlZmZlY3QpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdF9jaGlsZHJlbihlZmZlY3QpO1xuXHRcdH1cblxuXHRcdGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duKGVmZmVjdCk7XG5cdFx0dmFyIHRlYXJkb3duID0gdXBkYXRlX3JlYWN0aW9uKGVmZmVjdCk7XG5cdFx0ZWZmZWN0LnRlYXJkb3duID0gdHlwZW9mIHRlYXJkb3duID09PSAnZnVuY3Rpb24nID8gdGVhcmRvd24gOiBudWxsO1xuXHRcdGVmZmVjdC53diA9IHdyaXRlX3ZlcnNpb247XG5cblx0XHQvLyBJbiBERVYsIGluY3JlbWVudCB2ZXJzaW9ucyBvZiBhbnkgc291cmNlcyB0aGF0IHdlcmUgd3JpdHRlbiB0byBkdXJpbmcgdGhlIGVmZmVjdCxcblx0XHQvLyBzbyB0aGF0IHRoZXkgYXJlIGNvcnJlY3RseSBtYXJrZWQgYXMgZGlydHkgd2hlbiB0aGUgZWZmZWN0IHJlLXJ1bnNcblx0XHRpZiAoREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnICYmIChlZmZlY3QuZiAmIERJUlRZKSAhPT0gMCAmJiBlZmZlY3QuZGVwcyAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgZGVwIG9mIGVmZmVjdC5kZXBzKSB7XG5cdFx0XHRcdGlmIChkZXAuc2V0X2R1cmluZ19lZmZlY3QpIHtcblx0XHRcdFx0XHRkZXAud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXHRcdFx0XHRcdGRlcC5zZXRfZHVyaW5nX2VmZmVjdCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdGlzX3VwZGF0aW5nX2VmZmVjdCA9IHdhc191cGRhdGluZ19lZmZlY3Q7XG5cdFx0YWN0aXZlX2VmZmVjdCA9IHByZXZpb3VzX2VmZmVjdDtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24ocHJldmlvdXNfY29tcG9uZW50X2ZuKTtcblx0XHRcdHNldF9kZXZfc3RhY2socHJldmlvdXNfc3RhY2spO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBhbnkgcGVuZGluZyBzdGF0ZSBjaGFuZ2VzIGhhdmUgYmVlbiBhcHBsaWVkLlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0aWNrKCkge1xuXHRpZiAoYXN5bmNfbW9kZV9mbGFnKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChmKSA9PiB7XG5cdFx0XHQvLyBSYWNlIHRoZW0gYWdhaW5zdCBlYWNoIG90aGVyIC0gaW4gYWxtb3N0IGFsbCBjYXNlcyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd2lsbCBmaXJlIGZpcnN0LFxuXHRcdFx0Ly8gYnV0IGUuZy4gaW4gY2FzZSB0aGUgd2luZG93IGlzIG5vdCBmb2N1c2VkIG9yIGEgdmlldyB0cmFuc2l0aW9uIGhhcHBlbnMsIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdFx0Ly8gd2lsbCBiZSBkZWxheWVkIGFuZCBzZXRUaW1lb3V0IGhlbHBzIHVzIHJlc29sdmUgZmFzdCBlbm91Z2ggaW4gdGhhdCBjYXNlXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZigpKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4gZigpKTtcblx0XHR9KTtcblx0fVxuXG5cdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdC8vIEJ5IGNhbGxpbmcgZmx1c2hTeW5jIHdlIGd1YXJhbnRlZSB0aGF0IGFueSBwZW5kaW5nIHN0YXRlIGNoYW5nZXMgYXJlIGFwcGxpZWQgYWZ0ZXIgb25lIHRpY2suXG5cdC8vIFRPRE8gbG9vayBpbnRvIHdoZXRoZXIgd2UgY2FuIG1ha2UgZmx1c2hpbmcgc3Vic2VxdWVudCB1cGRhdGVzIHN5bmNocm9ub3VzbHkgaW4gdGhlIGZ1dHVyZS5cblx0Zmx1c2hTeW5jKCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFueSBzdGF0ZSBjaGFuZ2VzLCBhbmQgYXN5bmNocm9ub3VzIHdvcmsgcmVzdWx0aW5nIGZyb20gdGhlbSxcbiAqIGhhdmUgcmVzb2x2ZWQgYW5kIHRoZSBET00gaGFzIGJlZW4gdXBkYXRlZFxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKiBAc2luY2UgNS4zNlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dGxlZCgpIHtcblx0cmV0dXJuIEJhdGNoLmVuc3VyZSgpLnNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWYWx1ZTxWPn0gc2lnbmFsXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzaWduYWwpIHtcblx0dmFyIGZsYWdzID0gc2lnbmFsLmY7XG5cdHZhciBpc19kZXJpdmVkID0gKGZsYWdzICYgREVSSVZFRCkgIT09IDA7XG5cblx0Y2FwdHVyZWRfc2lnbmFscz8uYWRkKHNpZ25hbCk7XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGRlcGVuZGVuY3kgb24gdGhlIGN1cnJlbnQgcmVhY3Rpb24gc2lnbmFsLlxuXHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICF1bnRyYWNraW5nKSB7XG5cdFx0Ly8gaWYgd2UncmUgaW4gYSBkZXJpdmVkIHRoYXQgaXMgYmVpbmcgcmVhZCBpbnNpZGUgYW4gX2FzeW5jXyBkZXJpdmVkLFxuXHRcdC8vIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgZWZmZWN0IHdhcyBhbHJlYWR5IGRlc3Ryb3llZC4gSW4gdGhpcyBjYXNlLFxuXHRcdC8vIHdlIGRvbid0IGFkZCB0aGUgZGVwZW5kZW5jeSwgYmVjYXVzZSB0aGF0IHdvdWxkIGNyZWF0ZSBhIG1lbW9yeSBsZWFrXG5cdFx0dmFyIGRlc3Ryb3llZCA9IGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiYgKGFjdGl2ZV9lZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDA7XG5cblx0XHRpZiAoIWRlc3Ryb3llZCAmJiAhY3VycmVudF9zb3VyY2VzPy5pbmNsdWRlcyhzaWduYWwpKSB7XG5cdFx0XHR2YXIgZGVwcyA9IGFjdGl2ZV9yZWFjdGlvbi5kZXBzO1xuXG5cdFx0XHRpZiAoKGFjdGl2ZV9yZWFjdGlvbi5mICYgUkVBQ1RJT05fSVNfVVBEQVRJTkcpICE9PSAwKSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGluIHRoZSBlZmZlY3QgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0aWYgKHNpZ25hbC5ydiA8IHJlYWRfdmVyc2lvbikge1xuXHRcdFx0XHRcdHNpZ25hbC5ydiA9IHJlYWRfdmVyc2lvbjtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBzaWduYWwgaXMgYWNjZXNzaW5nIHRoZSBzYW1lIGRlcGVuZGVuY2llcyBpbiB0aGUgc2FtZVxuXHRcdFx0XHRcdC8vIG9yZGVyIGFzIGl0IGRpZCBsYXN0IHRpbWUsIGluY3JlbWVudCBgc2tpcHBlZF9kZXBzYFxuXHRcdFx0XHRcdC8vIHJhdGhlciB0aGFuIHVwZGF0aW5nIGBuZXdfZGVwc2AsIHdoaWNoIGNyZWF0ZXMgR0MgY29zdFxuXHRcdFx0XHRcdGlmIChuZXdfZGVwcyA9PT0gbnVsbCAmJiBkZXBzICE9PSBudWxsICYmIGRlcHNbc2tpcHBlZF9kZXBzXSA9PT0gc2lnbmFsKSB7XG5cdFx0XHRcdFx0XHRza2lwcGVkX2RlcHMrKztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5ld19kZXBzID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRuZXdfZGVwcyA9IFtzaWduYWxdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIW5ld19kZXBzLmluY2x1ZGVzKHNpZ25hbCkpIHtcblx0XHRcdFx0XHRcdG5ld19kZXBzLnB1c2goc2lnbmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGFkZGluZyBhIGRlcGVuZGVuY3kgb3V0c2lkZSB0aGUgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0Ly8gKGkuZS4gYWZ0ZXIgYW4gYGF3YWl0YClcblx0XHRcdFx0KGFjdGl2ZV9yZWFjdGlvbi5kZXBzID8/PSBbXSkucHVzaChzaWduYWwpO1xuXG5cdFx0XHRcdHZhciByZWFjdGlvbnMgPSBzaWduYWwucmVhY3Rpb25zO1xuXG5cdFx0XHRcdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRzaWduYWwucmVhY3Rpb25zID0gW2FjdGl2ZV9yZWFjdGlvbl07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIXJlYWN0aW9ucy5pbmNsdWRlcyhhY3RpdmVfcmVhY3Rpb24pKSB7XG5cdFx0XHRcdFx0cmVhY3Rpb25zLnB1c2goYWN0aXZlX3JlYWN0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHQvLyBUT0RPIHJlaW5zdGF0ZSB0aGlzLCBidXQgbWFrZSBpdCBhY3R1YWxseSB3b3JrXG5cdFx0Ly8gaWYgKGN1cnJlbnRfYXN5bmNfZWZmZWN0KSB7XG5cdFx0Ly8gXHR2YXIgdHJhY2tpbmcgPSAoY3VycmVudF9hc3luY19lZmZlY3QuZiAmIFJFQUNUSU9OX0lTX1VQREFUSU5HKSAhPT0gMDtcblx0XHQvLyBcdHZhciB3YXNfcmVhZCA9IGN1cnJlbnRfYXN5bmNfZWZmZWN0LmRlcHM/LmluY2x1ZGVzKHNpZ25hbCk7XG5cblx0XHQvLyBcdGlmICghdHJhY2tpbmcgJiYgIXVudHJhY2tpbmcgJiYgIXdhc19yZWFkKSB7XG5cdFx0Ly8gXHRcdHcuYXdhaXRfcmVhY3Rpdml0eV9sb3NzKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc2lnbmFsLmxhYmVsKSk7XG5cblx0XHQvLyBcdFx0dmFyIHRyYWNlID0gZ2V0X2Vycm9yKCd0cmFjZWQgYXQnKTtcblx0XHQvLyBcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHQvLyBcdFx0aWYgKHRyYWNlKSBjb25zb2xlLndhcm4odHJhY2UpO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblxuXHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5kZWxldGUoc2lnbmFsKTtcblxuXHRcdGlmIChcblx0XHRcdHRyYWNpbmdfbW9kZV9mbGFnICYmXG5cdFx0XHQhdW50cmFja2luZyAmJlxuXHRcdFx0dHJhY2luZ19leHByZXNzaW9ucyAhPT0gbnVsbCAmJlxuXHRcdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmXG5cdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zLnJlYWN0aW9uID09PSBhY3RpdmVfcmVhY3Rpb25cblx0XHQpIHtcblx0XHRcdC8vIFVzZWQgd2hlbiBtYXBwaW5nIHN0YXRlIGJldHdlZW4gc3BlY2lhbCBibG9ja3MgbGlrZSBgZWFjaGBcblx0XHRcdGlmIChzaWduYWwudHJhY2UpIHtcblx0XHRcdFx0c2lnbmFsLnRyYWNlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgdHJhY2UgPSBnZXRfZXJyb3IoJ3RyYWNlZCBhdCcpO1xuXG5cdFx0XHRcdGlmICh0cmFjZSkge1xuXHRcdFx0XHRcdHZhciBlbnRyeSA9IHRyYWNpbmdfZXhwcmVzc2lvbnMuZW50cmllcy5nZXQoc2lnbmFsKTtcblxuXHRcdFx0XHRcdGlmIChlbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRlbnRyeSA9IHsgdHJhY2VzOiBbXSB9O1xuXHRcdFx0XHRcdFx0dHJhY2luZ19leHByZXNzaW9ucy5lbnRyaWVzLnNldChzaWduYWwsIGVudHJ5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbGFzdCA9IGVudHJ5LnRyYWNlc1tlbnRyeS50cmFjZXMubGVuZ3RoIC0gMV07XG5cblx0XHRcdFx0XHQvLyB0cmFjZXMgY2FuIGJlIGR1cGxpY2F0ZWQsIGUuZy4gYnkgYHNuYXBzaG90YCBpbnZva2luZyBib3RoXG5cdFx0XHRcdFx0Ly8gYm90aCBgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBhbmQgYGdldGAgdHJhcHMgYXQgb25jZVxuXHRcdFx0XHRcdGlmICh0cmFjZS5zdGFjayAhPT0gbGFzdD8uc3RhY2spIHtcblx0XHRcdFx0XHRcdGVudHJ5LnRyYWNlcy5wdXNoKHRyYWNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoaXNfZGVzdHJveWluZ19lZmZlY3QgJiYgb2xkX3ZhbHVlcy5oYXMoc2lnbmFsKSkge1xuXHRcdHJldHVybiBvbGRfdmFsdWVzLmdldChzaWduYWwpO1xuXHR9XG5cblx0aWYgKGlzX2Rlcml2ZWQpIHtcblx0XHR2YXIgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHNpZ25hbCk7XG5cblx0XHRpZiAoaXNfZGVzdHJveWluZ19lZmZlY3QpIHtcblx0XHRcdHZhciB2YWx1ZSA9IGRlcml2ZWQudjtcblxuXHRcdFx0Ly8gaWYgdGhlIGRlcml2ZWQgaXMgZGlydHkgYW5kIGhhcyByZWFjdGlvbnMsIG9yIGRlcGVuZHMgb24gdGhlIHZhbHVlcyB0aGF0IGp1c3QgY2hhbmdlZCwgcmUtZXhlY3V0ZVxuXHRcdFx0Ly8gKGEgZGVyaXZlZCBjYW4gYmUgbWF5YmVfZGlydHkgZHVlIHRvIHRoZSBlZmZlY3QgZGVzdHJveSByZW1vdmluZyBpdHMgbGFzdCByZWFjdGlvbilcblx0XHRcdGlmIChcblx0XHRcdFx0KChkZXJpdmVkLmYgJiBDTEVBTikgPT09IDAgJiYgZGVyaXZlZC5yZWFjdGlvbnMgIT09IG51bGwpIHx8XG5cdFx0XHRcdGRlcGVuZHNfb25fb2xkX3ZhbHVlcyhkZXJpdmVkKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHZhbHVlID0gZXhlY3V0ZV9kZXJpdmVkKGRlcml2ZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRfdmFsdWVzLnNldChkZXJpdmVkLCB2YWx1ZSk7XG5cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHQvLyBjb25uZWN0IGRpc2Nvbm5lY3RlZCBkZXJpdmVkcyBpZiB3ZSBhcmUgcmVhZGluZyB0aGVtIGluc2lkZSBhbiBlZmZlY3QsXG5cdFx0Ly8gb3IgaW5zaWRlIGFub3RoZXIgZGVyaXZlZCB0aGF0IGlzIGFscmVhZHkgY29ubmVjdGVkXG5cdFx0dmFyIHNob3VsZF9jb25uZWN0ID1cblx0XHRcdChkZXJpdmVkLmYgJiBDT05ORUNURUQpID09PSAwICYmXG5cdFx0XHQhdW50cmFja2luZyAmJlxuXHRcdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmXG5cdFx0XHQoaXNfdXBkYXRpbmdfZWZmZWN0IHx8IChhY3RpdmVfcmVhY3Rpb24uZiAmIENPTk5FQ1RFRCkgIT09IDApO1xuXG5cdFx0dmFyIGlzX25ldyA9IGRlcml2ZWQuZGVwcyA9PT0gbnVsbDtcblxuXHRcdGlmIChpc19kaXJ0eShkZXJpdmVkKSkge1xuXHRcdFx0aWYgKHNob3VsZF9jb25uZWN0KSB7XG5cdFx0XHRcdC8vIHNldCB0aGUgZmxhZyBiZWZvcmUgYHVwZGF0ZV9kZXJpdmVkYCwgc28gdGhhdCB0aGUgZGVyaXZlZFxuXHRcdFx0XHQvLyBpcyBhZGRlZCBhcyBhIHJlYWN0aW9uIHRvIGl0cyBkZXBlbmRlbmNpZXNcblx0XHRcdFx0ZGVyaXZlZC5mIHw9IENPTk5FQ1RFRDtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlX2Rlcml2ZWQoZGVyaXZlZCk7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3VsZF9jb25uZWN0ICYmICFpc19uZXcpIHtcblx0XHRcdHJlY29ubmVjdChkZXJpdmVkKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoYmF0Y2hfdmFsdWVzPy5oYXMoc2lnbmFsKSkge1xuXHRcdHJldHVybiBiYXRjaF92YWx1ZXMuZ2V0KHNpZ25hbCk7XG5cdH1cblxuXHRpZiAoKHNpZ25hbC5mICYgRVJST1JfVkFMVUUpICE9PSAwKSB7XG5cdFx0dGhyb3cgc2lnbmFsLnY7XG5cdH1cblxuXHRyZXR1cm4gc2lnbmFsLnY7XG59XG5cbi8qKlxuICogKFJlKWNvbm5lY3QgYSBkaXNjb25uZWN0ZWQgZGVyaXZlZCwgc28gdGhhdCBpdCBpcyBub3RpZmllZFxuICogb2YgY2hhbmdlcyBpbiBgbWFya19yZWFjdGlvbnNgXG4gKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWRcbiAqL1xuZnVuY3Rpb24gcmVjb25uZWN0KGRlcml2ZWQpIHtcblx0aWYgKGRlcml2ZWQuZGVwcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdGRlcml2ZWQuZiB8PSBDT05ORUNURUQ7XG5cblx0Zm9yIChjb25zdCBkZXAgb2YgZGVyaXZlZC5kZXBzKSB7XG5cdFx0KGRlcC5yZWFjdGlvbnMgPz89IFtdKS5wdXNoKGRlcml2ZWQpO1xuXG5cdFx0aWYgKChkZXAuZiAmIERFUklWRUQpICE9PSAwICYmIChkZXAuZiAmIENPTk5FQ1RFRCkgPT09IDApIHtcblx0XHRcdHJlY29ubmVjdCgvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZCAqL1xuZnVuY3Rpb24gZGVwZW5kc19vbl9vbGRfdmFsdWVzKGRlcml2ZWQpIHtcblx0aWYgKGRlcml2ZWQudiA9PT0gVU5JTklUSUFMSVpFRCkgcmV0dXJuIHRydWU7IC8vIHdlIGRvbid0IGtub3csIHNvIGFzc3VtZSB0aGUgd29yc3Rcblx0aWYgKGRlcml2ZWQuZGVwcyA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG5cdGZvciAoY29uc3QgZGVwIG9mIGRlcml2ZWQuZGVwcykge1xuXHRcdGlmIChvbGRfdmFsdWVzLmhhcyhkZXApKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoKGRlcC5mICYgREVSSVZFRCkgIT09IDAgJiYgZGVwZW5kc19vbl9vbGRfdmFsdWVzKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCkpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogTGlrZSBgZ2V0YCwgYnV0IGNoZWNrcyBmb3IgYHVuZGVmaW5lZGAuIFVzZWQgZm9yIGB2YXJgIGRlY2xhcmF0aW9ucyBiZWNhdXNlIHRoZXkgY2FuIGJlIGFjY2Vzc2VkIGJlZm9yZSBiZWluZyBkZWNsYXJlZFxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7VmFsdWU8Vj4gfCB1bmRlZmluZWR9IHNpZ25hbFxuICogQHJldHVybnMge1YgfCB1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX2dldChzaWduYWwpIHtcblx0cmV0dXJuIHNpZ25hbCAmJiBnZXQoc2lnbmFsKTtcbn1cblxuLyoqXG4gKiBXaGVuIHVzZWQgaW5zaWRlIGEgW2AkZGVyaXZlZGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZGVyaXZlZCkgb3IgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpLFxuICogYW55IHN0YXRlIHJlYWQgaW5zaWRlIGBmbmAgd2lsbCBub3QgYmUgdHJlYXRlZCBhcyBhIGRlcGVuZGVuY3kuXG4gKlxuICogYGBgdHNcbiAqICRlZmZlY3QoKCkgPT4ge1xuICogICAvLyB0aGlzIHdpbGwgcnVuIHdoZW4gYGRhdGFgIGNoYW5nZXMsIGJ1dCBub3Qgd2hlbiBgdGltZWAgY2hhbmdlc1xuICogICBzYXZlKGRhdGEsIHtcbiAqICAgICB0aW1lc3RhbXA6IHVudHJhY2soKCkgPT4gdGltZSlcbiAqICAgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW50cmFjayhmbikge1xuXHR2YXIgcHJldmlvdXNfdW50cmFja2luZyA9IHVudHJhY2tpbmc7XG5cdHRyeSB7XG5cdFx0dW50cmFja2luZyA9IHRydWU7XG5cdFx0cmV0dXJuIGZuKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0dW50cmFja2luZyA9IHByZXZpb3VzX3VudHJhY2tpbmc7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+fSBvYmpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nIHwgc3ltYm9sPn0ga2V5c1xuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9mcm9tX29iamVjdChvYmosIGtleXMpIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPn0gKi9cblx0dmFyIHJlc3VsdCA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0XHRpZiAoIWtleXMuaW5jbHVkZXMoa2V5KSkge1xuXHRcdFx0cmVzdWx0W2tleV0gPSBvYmpba2V5XTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKHZhciBzeW1ib2wgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopKSB7XG5cdFx0aWYgKE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltYm9sKSAmJiAha2V5cy5pbmNsdWRlcyhzeW1ib2wpKSB7XG5cdFx0XHRyZXN1bHRbc3ltYm9sXSA9IG9ialtzeW1ib2xdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUG9zc2libHkgdHJhdmVyc2UgYW4gb2JqZWN0IGFuZCByZWFkIGFsbCBpdHMgcHJvcGVydGllcyBzbyB0aGF0IHRoZXkncmUgYWxsIHJlYWN0aXZlIGluIGNhc2UgdGhpcyBpcyBgJHN0YXRlYC5cbiAqIERvZXMgb25seSBjaGVjayBmaXJzdCBsZXZlbCBvZiBhbiBvYmplY3QgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGhldXJpc3RpYyBzaG91bGQgYmUgZ29vZCBmb3IgOTklIG9mIGFsbCBjYXNlcykuXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcF9yZWFkX3N0YXRlKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8ICF2YWx1ZSB8fCB2YWx1ZSBpbnN0YW5jZW9mIEV2ZW50VGFyZ2V0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKFNUQVRFX1NZTUJPTCBpbiB2YWx1ZSkge1xuXHRcdGRlZXBfcmVhZCh2YWx1ZSk7XG5cdH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0Zm9yIChsZXQga2V5IGluIHZhbHVlKSB7XG5cdFx0XHRjb25zdCBwcm9wID0gdmFsdWVba2V5XTtcblx0XHRcdGlmICh0eXBlb2YgcHJvcCA9PT0gJ29iamVjdCcgJiYgcHJvcCAmJiBTVEFURV9TWU1CT0wgaW4gcHJvcCkge1xuXHRcdFx0XHRkZWVwX3JlYWQocHJvcCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRGVlcGx5IHRyYXZlcnNlIGFuIG9iamVjdCBhbmQgcmVhZCBhbGwgaXRzIHByb3BlcnRpZXNcbiAqIHNvIHRoYXQgdGhleSdyZSBhbGwgcmVhY3RpdmUgaW4gY2FzZSB0aGlzIGlzIGAkc3RhdGVgXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7U2V0PGFueT59IHZpc2l0ZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcF9yZWFkKHZhbHVlLCB2aXNpdGVkID0gbmV3IFNldCgpKSB7XG5cdGlmIChcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHQvLyBXZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlIERPTSBlbGVtZW50c1xuXHRcdCEodmFsdWUgaW5zdGFuY2VvZiBFdmVudFRhcmdldCkgJiZcblx0XHQhdmlzaXRlZC5oYXModmFsdWUpXG5cdCkge1xuXHRcdHZpc2l0ZWQuYWRkKHZhbHVlKTtcblx0XHQvLyBXaGVuIHdvcmtpbmcgd2l0aCBhIHBvc3NpYmxlIFN2ZWx0ZURhdGUsIHRoaXNcblx0XHQvLyB3aWxsIGVuc3VyZSB3ZSBjYXB0dXJlIGNoYW5nZXMgdG8gaXQuXG5cdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHRcdFx0dmFsdWUuZ2V0VGltZSgpO1xuXHRcdH1cblx0XHRmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRlZXBfcmVhZCh2YWx1ZVtrZXldLCB2aXNpdGVkKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gY29udGludWVcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgcHJvdG8gPSBnZXRfcHJvdG90eXBlX29mKHZhbHVlKTtcblx0XHRpZiAoXG5cdFx0XHRwcm90byAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJlxuXHRcdFx0cHJvdG8gIT09IEFycmF5LnByb3RvdHlwZSAmJlxuXHRcdFx0cHJvdG8gIT09IE1hcC5wcm90b3R5cGUgJiZcblx0XHRcdHByb3RvICE9PSBTZXQucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gRGF0ZS5wcm90b3R5cGVcblx0XHQpIHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0b3JzID0gZ2V0X2Rlc2NyaXB0b3JzKHByb3RvKTtcblx0XHRcdGZvciAobGV0IGtleSBpbiBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRjb25zdCBnZXQgPSBkZXNjcmlwdG9yc1trZXldLmdldDtcblx0XHRcdFx0aWYgKGdldCkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRnZXQuY2FsbCh2YWx1ZSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gY29udGludWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsICJjb25zdCByZWdleF9yZXR1cm5fY2hhcmFjdGVycyA9IC9cXHIvZztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaChzdHIpIHtcblx0c3RyID0gc3RyLnJlcGxhY2UocmVnZXhfcmV0dXJuX2NoYXJhY3RlcnMsICcnKTtcblx0bGV0IGhhc2ggPSA1MzgxO1xuXHRsZXQgaSA9IHN0ci5sZW5ndGg7XG5cblx0d2hpbGUgKGktLSkgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMzYpO1xufVxuXG5jb25zdCBWT0lEX0VMRU1FTlRfTkFNRVMgPSBbXG5cdCdhcmVhJyxcblx0J2Jhc2UnLFxuXHQnYnInLFxuXHQnY29sJyxcblx0J2NvbW1hbmQnLFxuXHQnZW1iZWQnLFxuXHQnaHInLFxuXHQnaW1nJyxcblx0J2lucHV0Jyxcblx0J2tleWdlbicsXG5cdCdsaW5rJyxcblx0J21ldGEnLFxuXHQncGFyYW0nLFxuXHQnc291cmNlJyxcblx0J3RyYWNrJyxcblx0J3dicidcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYG5hbWVgIGlzIG9mIGEgdm9pZCBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG5cdHJldHVybiBWT0lEX0VMRU1FTlRfTkFNRVMuaW5jbHVkZXMobmFtZSkgfHwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSAnIWRvY3R5cGUnO1xufVxuXG5jb25zdCBSRVNFUlZFRF9XT1JEUyA9IFtcblx0J2FyZ3VtZW50cycsXG5cdCdhd2FpdCcsXG5cdCdicmVhaycsXG5cdCdjYXNlJyxcblx0J2NhdGNoJyxcblx0J2NsYXNzJyxcblx0J2NvbnN0Jyxcblx0J2NvbnRpbnVlJyxcblx0J2RlYnVnZ2VyJyxcblx0J2RlZmF1bHQnLFxuXHQnZGVsZXRlJyxcblx0J2RvJyxcblx0J2Vsc2UnLFxuXHQnZW51bScsXG5cdCdldmFsJyxcblx0J2V4cG9ydCcsXG5cdCdleHRlbmRzJyxcblx0J2ZhbHNlJyxcblx0J2ZpbmFsbHknLFxuXHQnZm9yJyxcblx0J2Z1bmN0aW9uJyxcblx0J2lmJyxcblx0J2ltcGxlbWVudHMnLFxuXHQnaW1wb3J0Jyxcblx0J2luJyxcblx0J2luc3RhbmNlb2YnLFxuXHQnaW50ZXJmYWNlJyxcblx0J2xldCcsXG5cdCduZXcnLFxuXHQnbnVsbCcsXG5cdCdwYWNrYWdlJyxcblx0J3ByaXZhdGUnLFxuXHQncHJvdGVjdGVkJyxcblx0J3B1YmxpYycsXG5cdCdyZXR1cm4nLFxuXHQnc3RhdGljJyxcblx0J3N1cGVyJyxcblx0J3N3aXRjaCcsXG5cdCd0aGlzJyxcblx0J3Rocm93Jyxcblx0J3RydWUnLFxuXHQndHJ5Jyxcblx0J3R5cGVvZicsXG5cdCd2YXInLFxuXHQndm9pZCcsXG5cdCd3aGlsZScsXG5cdCd3aXRoJyxcblx0J3lpZWxkJ1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgd29yZGAgaXMgYSByZXNlcnZlZCBKYXZhU2NyaXB0IGtleXdvcmRcbiAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19yZXNlcnZlZCh3b3JkKSB7XG5cdHJldHVybiBSRVNFUlZFRF9XT1JEUy5pbmNsdWRlcyh3b3JkKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY2FwdHVyZV9ldmVudChuYW1lKSB7XG5cdHJldHVybiBuYW1lLmVuZHNXaXRoKCdjYXB0dXJlJykgJiYgbmFtZSAhPT0gJ2dvdHBvaW50ZXJjYXB0dXJlJyAmJiBuYW1lICE9PSAnbG9zdHBvaW50ZXJjYXB0dXJlJztcbn1cblxuLyoqIExpc3Qgb2YgRWxlbWVudCBldmVudHMgdGhhdCB3aWxsIGJlIGRlbGVnYXRlZCAqL1xuY29uc3QgREVMRUdBVEVEX0VWRU5UUyA9IFtcblx0J2JlZm9yZWlucHV0Jyxcblx0J2NsaWNrJyxcblx0J2NoYW5nZScsXG5cdCdkYmxjbGljaycsXG5cdCdjb250ZXh0bWVudScsXG5cdCdmb2N1c2luJyxcblx0J2ZvY3Vzb3V0Jyxcblx0J2lucHV0Jyxcblx0J2tleWRvd24nLFxuXHQna2V5dXAnLFxuXHQnbW91c2Vkb3duJyxcblx0J21vdXNlbW92ZScsXG5cdCdtb3VzZW91dCcsXG5cdCdtb3VzZW92ZXInLFxuXHQnbW91c2V1cCcsXG5cdCdwb2ludGVyZG93bicsXG5cdCdwb2ludGVybW92ZScsXG5cdCdwb2ludGVyb3V0Jyxcblx0J3BvaW50ZXJvdmVyJyxcblx0J3BvaW50ZXJ1cCcsXG5cdCd0b3VjaGVuZCcsXG5cdCd0b3VjaG1vdmUnLFxuXHQndG91Y2hzdGFydCdcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYGV2ZW50X25hbWVgIGlzIGEgZGVsZWdhdGVkIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRfbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuX2RlbGVnYXRlX2V2ZW50KGV2ZW50X25hbWUpIHtcblx0cmV0dXJuIERFTEVHQVRFRF9FVkVOVFMuaW5jbHVkZXMoZXZlbnRfbmFtZSk7XG59XG5cbi8qKlxuICogQXR0cmlidXRlcyB0aGF0IGFyZSBib29sZWFuLCBpLmUuIHRoZXkgYXJlIHByZXNlbnQgb3Igbm90IHByZXNlbnQuXG4gKi9cbmNvbnN0IERPTV9CT09MRUFOX0FUVFJJQlVURVMgPSBbXG5cdCdhbGxvd2Z1bGxzY3JlZW4nLFxuXHQnYXN5bmMnLFxuXHQnYXV0b2ZvY3VzJyxcblx0J2F1dG9wbGF5Jyxcblx0J2NoZWNrZWQnLFxuXHQnY29udHJvbHMnLFxuXHQnZGVmYXVsdCcsXG5cdCdkaXNhYmxlZCcsXG5cdCdmb3Jtbm92YWxpZGF0ZScsXG5cdCdpbmRldGVybWluYXRlJyxcblx0J2luZXJ0Jyxcblx0J2lzbWFwJyxcblx0J2xvb3AnLFxuXHQnbXVsdGlwbGUnLFxuXHQnbXV0ZWQnLFxuXHQnbm9tb2R1bGUnLFxuXHQnbm92YWxpZGF0ZScsXG5cdCdvcGVuJyxcblx0J3BsYXlzaW5saW5lJyxcblx0J3JlYWRvbmx5Jyxcblx0J3JlcXVpcmVkJyxcblx0J3JldmVyc2VkJyxcblx0J3NlYW1sZXNzJyxcblx0J3NlbGVjdGVkJyxcblx0J3dlYmtpdGRpcmVjdG9yeScsXG5cdCdkZWZlcicsXG5cdCdkaXNhYmxlcGljdHVyZWlucGljdHVyZScsXG5cdCdkaXNhYmxlcmVtb3RlcGxheWJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGBuYW1lYCBpcyBhIGJvb2xlYW4gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfYm9vbGVhbl9hdHRyaWJ1dGUobmFtZSkge1xuXHRyZXR1cm4gRE9NX0JPT0xFQU5fQVRUUklCVVRFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn1cbiAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGFsaWFzZWQgdG8gdGhlaXIgcHJvcGVydHkgbmFtZXNcbiAqIGJlY2F1c2UgdGhleSBiZWhhdmUgZGlmZmVyZW50bHkgYmV0d2VlbiBzZXR0aW5nIHRoZW0gYXMgYW4gYXR0cmlidXRlIGFuZFxuICogc2V0dGluZyB0aGVtIGFzIGEgcHJvcGVydHkuXG4gKi9cbmNvbnN0IEFUVFJJQlVURV9BTElBU0VTID0ge1xuXHQvLyBubyBgY2xhc3M6ICdjbGFzc05hbWUnYCBiZWNhdXNlIHdlIGhhbmRsZSB0aGF0IHNlcGFyYXRlbHlcblx0Zm9ybW5vdmFsaWRhdGU6ICdmb3JtTm9WYWxpZGF0ZScsXG5cdGlzbWFwOiAnaXNNYXAnLFxuXHRub21vZHVsZTogJ25vTW9kdWxlJyxcblx0cGxheXNpbmxpbmU6ICdwbGF5c0lubGluZScsXG5cdHJlYWRvbmx5OiAncmVhZE9ubHknLFxuXHRkZWZhdWx0dmFsdWU6ICdkZWZhdWx0VmFsdWUnLFxuXHRkZWZhdWx0Y2hlY2tlZDogJ2RlZmF1bHRDaGVja2VkJyxcblx0c3Jjb2JqZWN0OiAnc3JjT2JqZWN0Jyxcblx0bm92YWxpZGF0ZTogJ25vVmFsaWRhdGUnLFxuXHRhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxzY3JlZW4nLFxuXHRkaXNhYmxlcGljdHVyZWlucGljdHVyZTogJ2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0ZGlzYWJsZXJlbW90ZXBsYXliYWNrOiAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplX2F0dHJpYnV0ZShuYW1lKSB7XG5cdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdHJldHVybiBBVFRSSUJVVEVfQUxJQVNFU1tuYW1lXSA/PyBuYW1lO1xufVxuXG5jb25zdCBET01fUFJPUEVSVElFUyA9IFtcblx0Li4uRE9NX0JPT0xFQU5fQVRUUklCVVRFUyxcblx0J2Zvcm1Ob1ZhbGlkYXRlJyxcblx0J2lzTWFwJyxcblx0J25vTW9kdWxlJyxcblx0J3BsYXlzSW5saW5lJyxcblx0J3JlYWRPbmx5Jyxcblx0J3ZhbHVlJyxcblx0J3ZvbHVtZScsXG5cdCdkZWZhdWx0VmFsdWUnLFxuXHQnZGVmYXVsdENoZWNrZWQnLFxuXHQnc3JjT2JqZWN0Jyxcblx0J25vVmFsaWRhdGUnLFxuXHQnYWxsb3dGdWxsc2NyZWVuJyxcblx0J2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0J2Rpc2FibGVSZW1vdGVQbGF5YmFjaydcbl07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2RvbV9wcm9wZXJ0eShuYW1lKSB7XG5cdHJldHVybiBET01fUFJPUEVSVElFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTk9OX1NUQVRJQ19QUk9QRVJUSUVTID0gWydhdXRvZm9jdXMnLCAnbXV0ZWQnLCAnZGVmYXVsdFZhbHVlJywgJ2RlZmF1bHRDaGVja2VkJ107XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGF0dHJpYnV0ZSBjYW5ub3QgYmUgc2V0IHRocm91Z2ggdGhlIHRlbXBsYXRlXG4gKiBzdHJpbmcsIGkuZS4gbmVlZHMgc29tZSBraW5kIG9mIEphdmFTY3JpcHQgaGFuZGxpbmcgdG8gd29yay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5ub3RfYmVfc2V0X3N0YXRpY2FsbHkobmFtZSkge1xuXHRyZXR1cm4gTk9OX1NUQVRJQ19QUk9QRVJUSUVTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG4vKipcbiAqIFN1YnNldCBvZiBkZWxlZ2F0ZWQgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwYXNzaXZlIGJ5IGRlZmF1bHQuXG4gKiBUaGVzZSB0d28gYXJlIGFscmVhZHkgcGFzc2l2ZSB2aWEgYnJvd3NlciBkZWZhdWx0cyBvbiB3aW5kb3csIGRvY3VtZW50IGFuZCBib2R5LlxuICogQnV0IHNpbmNlXG4gKiAtIHdlJ3JlIGRlbGVnYXRpbmcgdGhlbVxuICogLSB0aGV5IGhhcHBlbiBvZnRlblxuICogLSB0aGV5IGFwcGx5IHRvIG1vYmlsZSB3aGljaCBpcyBnZW5lcmFsbHkgbGVzcyBwZXJmb3JtYW50XG4gKiB3ZSdyZSBtYXJraW5nIHRoZW0gYXMgcGFzc2l2ZSBieSBkZWZhdWx0IGZvciBvdGhlciBlbGVtZW50cywgdG9vLlxuICovXG5jb25zdCBQQVNTSVZFX0VWRU5UUyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgbmFtZWAgaXMgYSBwYXNzaXZlIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcGFzc2l2ZV9ldmVudChuYW1lKSB7XG5cdHJldHVybiBQQVNTSVZFX0VWRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUyA9IFsndGV4dENvbnRlbnQnLCAnaW5uZXJIVE1MJywgJ2lubmVyVGV4dCddO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jb250ZW50X2VkaXRhYmxlX2JpbmRpbmcobmFtZSkge1xuXHRyZXR1cm4gQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTE9BRF9FUlJPUl9FTEVNRU5UUyA9IFtcblx0J2JvZHknLFxuXHQnZW1iZWQnLFxuXHQnaWZyYW1lJyxcblx0J2ltZycsXG5cdCdsaW5rJyxcblx0J29iamVjdCcsXG5cdCdzY3JpcHQnLFxuXHQnc3R5bGUnLFxuXHQndHJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGVtaXRzIGBsb2FkYCBhbmQgYGVycm9yYCBldmVudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19sb2FkX2Vycm9yX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gTE9BRF9FUlJPUl9FTEVNRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgU1ZHX0VMRU1FTlRTID0gW1xuXHQnYWx0R2x5cGgnLFxuXHQnYWx0R2x5cGhEZWYnLFxuXHQnYWx0R2x5cGhJdGVtJyxcblx0J2FuaW1hdGUnLFxuXHQnYW5pbWF0ZUNvbG9yJyxcblx0J2FuaW1hdGVNb3Rpb24nLFxuXHQnYW5pbWF0ZVRyYW5zZm9ybScsXG5cdCdjaXJjbGUnLFxuXHQnY2xpcFBhdGgnLFxuXHQnY29sb3ItcHJvZmlsZScsXG5cdCdjdXJzb3InLFxuXHQnZGVmcycsXG5cdCdkZXNjJyxcblx0J2Rpc2NhcmQnLFxuXHQnZWxsaXBzZScsXG5cdCdmZUJsZW5kJyxcblx0J2ZlQ29sb3JNYXRyaXgnLFxuXHQnZmVDb21wb25lbnRUcmFuc2ZlcicsXG5cdCdmZUNvbXBvc2l0ZScsXG5cdCdmZUNvbnZvbHZlTWF0cml4Jyxcblx0J2ZlRGlmZnVzZUxpZ2h0aW5nJyxcblx0J2ZlRGlzcGxhY2VtZW50TWFwJyxcblx0J2ZlRGlzdGFudExpZ2h0Jyxcblx0J2ZlRHJvcFNoYWRvdycsXG5cdCdmZUZsb29kJyxcblx0J2ZlRnVuY0EnLFxuXHQnZmVGdW5jQicsXG5cdCdmZUZ1bmNHJyxcblx0J2ZlRnVuY1InLFxuXHQnZmVHYXVzc2lhbkJsdXInLFxuXHQnZmVJbWFnZScsXG5cdCdmZU1lcmdlJyxcblx0J2ZlTWVyZ2VOb2RlJyxcblx0J2ZlTW9ycGhvbG9neScsXG5cdCdmZU9mZnNldCcsXG5cdCdmZVBvaW50TGlnaHQnLFxuXHQnZmVTcGVjdWxhckxpZ2h0aW5nJyxcblx0J2ZlU3BvdExpZ2h0Jyxcblx0J2ZlVGlsZScsXG5cdCdmZVR1cmJ1bGVuY2UnLFxuXHQnZmlsdGVyJyxcblx0J2ZvbnQnLFxuXHQnZm9udC1mYWNlJyxcblx0J2ZvbnQtZmFjZS1mb3JtYXQnLFxuXHQnZm9udC1mYWNlLW5hbWUnLFxuXHQnZm9udC1mYWNlLXNyYycsXG5cdCdmb250LWZhY2UtdXJpJyxcblx0J2ZvcmVpZ25PYmplY3QnLFxuXHQnZycsXG5cdCdnbHlwaCcsXG5cdCdnbHlwaFJlZicsXG5cdCdoYXRjaCcsXG5cdCdoYXRjaHBhdGgnLFxuXHQnaGtlcm4nLFxuXHQnaW1hZ2UnLFxuXHQnbGluZScsXG5cdCdsaW5lYXJHcmFkaWVudCcsXG5cdCdtYXJrZXInLFxuXHQnbWFzaycsXG5cdCdtZXNoJyxcblx0J21lc2hncmFkaWVudCcsXG5cdCdtZXNocGF0Y2gnLFxuXHQnbWVzaHJvdycsXG5cdCdtZXRhZGF0YScsXG5cdCdtaXNzaW5nLWdseXBoJyxcblx0J21wYXRoJyxcblx0J3BhdGgnLFxuXHQncGF0dGVybicsXG5cdCdwb2x5Z29uJyxcblx0J3BvbHlsaW5lJyxcblx0J3JhZGlhbEdyYWRpZW50Jyxcblx0J3JlY3QnLFxuXHQnc2V0Jyxcblx0J3NvbGlkY29sb3InLFxuXHQnc3RvcCcsXG5cdCdzdmcnLFxuXHQnc3dpdGNoJyxcblx0J3N5bWJvbCcsXG5cdCd0ZXh0Jyxcblx0J3RleHRQYXRoJyxcblx0J3RyZWYnLFxuXHQndHNwYW4nLFxuXHQndW5rbm93bicsXG5cdCd1c2UnLFxuXHQndmlldycsXG5cdCd2a2Vybidcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N2ZyhuYW1lKSB7XG5cdHJldHVybiBTVkdfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IE1BVEhNTF9FTEVNRU5UUyA9IFtcblx0J2Fubm90YXRpb24nLFxuXHQnYW5ub3RhdGlvbi14bWwnLFxuXHQnbWFjdGlvbicsXG5cdCdtYXRoJyxcblx0J21lcnJvcicsXG5cdCdtZnJhYycsXG5cdCdtaScsXG5cdCdtbXVsdGlzY3JpcHRzJyxcblx0J21uJyxcblx0J21vJyxcblx0J21vdmVyJyxcblx0J21wYWRkZWQnLFxuXHQnbXBoYW50b20nLFxuXHQnbXByZXNjcmlwdHMnLFxuXHQnbXJvb3QnLFxuXHQnbXJvdycsXG5cdCdtcycsXG5cdCdtc3BhY2UnLFxuXHQnbXNxcnQnLFxuXHQnbXN0eWxlJyxcblx0J21zdWInLFxuXHQnbXN1YnN1cCcsXG5cdCdtc3VwJyxcblx0J210YWJsZScsXG5cdCdtdGQnLFxuXHQnbXRleHQnLFxuXHQnbXRyJyxcblx0J211bmRlcicsXG5cdCdtdW5kZXJvdmVyJyxcblx0J3NlbWFudGljcydcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX21hdGhtbChuYW1lKSB7XG5cdHJldHVybiBNQVRITUxfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IFNUQVRFX0NSRUFUSU9OX1JVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0JyRzdGF0ZScsXG5cdCckc3RhdGUucmF3Jyxcblx0JyRkZXJpdmVkJyxcblx0JyRkZXJpdmVkLmJ5J1xuXSk7XG5cbmNvbnN0IFJVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0Li4uU1RBVEVfQ1JFQVRJT05fUlVORVMsXG5cdCckc3RhdGUuZWFnZXInLFxuXHQnJHN0YXRlLnNuYXBzaG90Jyxcblx0JyRwcm9wcycsXG5cdCckcHJvcHMuaWQnLFxuXHQnJGJpbmRhYmxlJyxcblx0JyRlZmZlY3QnLFxuXHQnJGVmZmVjdC5wcmUnLFxuXHQnJGVmZmVjdC50cmFja2luZycsXG5cdCckZWZmZWN0LnJvb3QnLFxuXHQnJGVmZmVjdC5wZW5kaW5nJyxcblx0JyRpbnNwZWN0Jyxcblx0JyRpbnNwZWN0KCkud2l0aCcsXG5cdCckaW5zcGVjdC50cmFjZScsXG5cdCckaG9zdCdcbl0pO1xuXG4vKiogQHR5cGVkZWYge3R5cGVvZiBSVU5FU1tudW1iZXJdfSBSdW5lTmFtZSAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmFtZSBpcyBSdW5lTmFtZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3J1bmUobmFtZSkge1xuXHRyZXR1cm4gUlVORVMuaW5jbHVkZXMoLyoqIEB0eXBlIHtSdW5lTmFtZX0gKi8gKG5hbWUpKTtcbn1cblxuLyoqIEB0eXBlZGVmIHt0eXBlb2YgU1RBVEVfQ1JFQVRJT05fUlVORVNbbnVtYmVyXX0gU3RhdGVDcmVhdGlvblJ1bmVOYW1lICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuYW1lIGlzIFN0YXRlQ3JlYXRpb25SdW5lTmFtZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N0YXRlX2NyZWF0aW9uX3J1bmUobmFtZSkge1xuXHRyZXR1cm4gU1RBVEVfQ1JFQVRJT05fUlVORVMuaW5jbHVkZXMoLyoqIEB0eXBlIHtTdGF0ZUNyZWF0aW9uUnVuZU5hbWV9ICovIChuYW1lKSk7XG59XG5cbi8qKiBMaXN0IG9mIGVsZW1lbnRzIHRoYXQgcmVxdWlyZSByYXcgY29udGVudHMgYW5kIHNob3VsZCBub3QgaGF2ZSBTU1IgY29tbWVudHMgcHV0IGluIHRoZW0gKi9cbmNvbnN0IFJBV19URVhUX0VMRU1FTlRTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFsndGV4dGFyZWEnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3RpdGxlJ10pO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19yYXdfdGV4dF9lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIFJBV19URVhUX0VMRU1FTlRTLmluY2x1ZGVzKC8qKiBAdHlwZSB7dHlwZW9mIFJBV19URVhUX0VMRU1FTlRTW251bWJlcl19ICovIChuYW1lKSk7XG59XG5cbi8qKlxuICogUHJldmVudCBkZXZ0b29scyB0cnlpbmcgdG8gbWFrZSBgbG9jYXRpb25gIGEgY2xpY2thYmxlIGxpbmsgYnkgaW5zZXJ0aW5nIGEgemVyby13aWR0aCBzcGFjZVxuICogQHRlbXBsYXRlIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRcbiAqIEBwYXJhbSB7VH0gbG9jYXRpb25cbiAqIEByZXR1cm5zIHtUfTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplX2xvY2F0aW9uKGxvY2F0aW9uKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1R9ICovIChsb2NhdGlvbj8ucmVwbGFjZSgvXFwvL2csICcvXFx1MjAwYicpKTtcbn1cbiIsICIvKiogQHR5cGUge01hcDxTdHJpbmcsIFNldDxIVE1MU3R5bGVFbGVtZW50Pj59ICovXG52YXIgYWxsX3N0eWxlcyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGFzaFxuICogQHBhcmFtIHtIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJfc3R5bGUoaGFzaCwgc3R5bGUpIHtcblx0dmFyIHN0eWxlcyA9IGFsbF9zdHlsZXMuZ2V0KGhhc2gpO1xuXG5cdGlmICghc3R5bGVzKSB7XG5cdFx0c3R5bGVzID0gbmV3IFNldCgpO1xuXHRcdGFsbF9zdHlsZXMuc2V0KGhhc2gsIHN0eWxlcyk7XG5cdH1cblxuXHRzdHlsZXMuYWRkKHN0eWxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYW51cF9zdHlsZXMoaGFzaCkge1xuXHR2YXIgc3R5bGVzID0gYWxsX3N0eWxlcy5nZXQoaGFzaCk7XG5cdGlmICghc3R5bGVzKSByZXR1cm47XG5cblx0Zm9yIChjb25zdCBzdHlsZSBvZiBzdHlsZXMpIHtcblx0XHRzdHlsZS5yZW1vdmUoKTtcblx0fVxuXG5cdGFsbF9zdHlsZXMuZGVsZXRlKGhhc2gpO1xufVxuIiwgImltcG9ydCB7IHRlYXJkb3duIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi8uLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi9iaW5kaW5ncy9zaGFyZWQuanMnO1xuXG4vKiogQHR5cGUge1NldDxzdHJpbmc+fSAqL1xuZXhwb3J0IGNvbnN0IGFsbF9yZWdpc3RlcmVkX2V2ZW50cyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtTZXQ8KGV2ZW50czogQXJyYXk8c3RyaW5nPikgPT4gdm9pZD59ICovXG5leHBvcnQgY29uc3Qgcm9vdF9ldmVudF9oYW5kbGVzID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIFNTUiBhZGRzIG9ubG9hZCBhbmQgb25lcnJvciBhdHRyaWJ1dGVzIHRvIGNhdGNoIHRob3NlIGV2ZW50cyBiZWZvcmUgdGhlIGh5ZHJhdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gZGV0ZWN0cyB0aG9zZSBjYXNlcywgcmVtb3ZlcyB0aGUgYXR0cmlidXRlcyBhbmQgcmVwbGF5cyB0aGUgZXZlbnRzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYXlfZXZlbnRzKGRvbSkge1xuXHRpZiAoIWh5ZHJhdGluZykgcmV0dXJuO1xuXG5cdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ29ubG9hZCcpO1xuXHRkb20ucmVtb3ZlQXR0cmlidXRlKCdvbmVycm9yJyk7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0Y29uc3QgZXZlbnQgPSBkb20uX19lO1xuXHRpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRkb20uX19lID0gdW5kZWZpbmVkO1xuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdGlmIChkb20uaXNDb25uZWN0ZWQpIHtcblx0XHRcdFx0ZG9tLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50X25hbWVcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG5cdC8qKlxuXHQgKiBAdGhpcyB7RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRmdW5jdGlvbiB0YXJnZXRfaGFuZGxlcigvKiogQHR5cGUge0V2ZW50fSAqLyBldmVudCkge1xuXHRcdGlmICghb3B0aW9ucy5jYXB0dXJlKSB7XG5cdFx0XHQvLyBPbmx5IGNhbGwgaW4gdGhlIGJ1YmJsZSBwaGFzZSwgZWxzZSBkZWxlZ2F0ZWQgZXZlbnRzIHdvdWxkIGJlIGNhbGxlZCBiZWZvcmUgdGhlIGNhcHR1cmluZyBldmVudHNcblx0XHRcdGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbi5jYWxsKGRvbSwgZXZlbnQpO1xuXHRcdH1cblx0XHRpZiAoIWV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuXHRcdFx0cmV0dXJuIHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dCgoKSA9PiB7XG5cdFx0XHRcdHJldHVybiBoYW5kbGVyPy5jYWxsKHRoaXMsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIENocm9tZSBoYXMgYSBidWcgd2hlcmUgcG9pbnRlciBldmVudHMgZG9uJ3Qgd29yayB3aGVuIGF0dGFjaGVkIHRvIGEgRE9NIGVsZW1lbnQgdGhhdCBoYXMgYmVlbiBjbG9uZWRcblx0Ly8gd2l0aCBjbG9uZU5vZGUoKSBhbmQgdGhlIERPTSBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBkb2N1bWVudC4gVG8gZW5zdXJlIHRoZSBldmVudCB3b3Jrcywgd2Vcblx0Ly8gZGVmZXIgdGhlIGF0dGFjaG1lbnQgdGlsbCBhZnRlciBpdCdzIGJlZW4gYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50LiBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIENocm9tZSBmaXhlc1xuXHQvLyB0aGlzIGJ1Zy4gVGhlIHNhbWUgYXBwbGllcyB0byB3aGVlbCBldmVudHMgYW5kIHRvdWNoIGV2ZW50cy5cblx0aWYgKFxuXHRcdGV2ZW50X25hbWUuc3RhcnRzV2l0aCgncG9pbnRlcicpIHx8XG5cdFx0ZXZlbnRfbmFtZS5zdGFydHNXaXRoKCd0b3VjaCcpIHx8XG5cdFx0ZXZlbnRfbmFtZSA9PT0gJ3doZWVsJ1xuXHQpIHtcblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRhcmdldF9oYW5kbGVyLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRkb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCB0YXJnZXRfaGFuZGxlciwgb3B0aW9ucyk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0X2hhbmRsZXI7XG59XG5cbi8qKlxuICogQXR0YWNoZXMgYW4gZXZlbnQgaGFuZGxlciB0byBhbiBlbGVtZW50IGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLiBVc2luZyB0aGlzXG4gKiByYXRoZXIgdGhhbiBgYWRkRXZlbnRMaXN0ZW5lcmAgd2lsbCBwcmVzZXJ2ZSB0aGUgY29ycmVjdCBvcmRlciByZWxhdGl2ZSB0byBoYW5kbGVycyBhZGRlZCBkZWNsYXJhdGl2ZWx5XG4gKiAod2l0aCBhdHRyaWJ1dGVzIGxpa2UgYG9uY2xpY2tgKSwgd2hpY2ggdXNlIGV2ZW50IGRlbGVnYXRpb24gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBoYW5kbGVyXG4gKiBAcGFyYW0ge0FkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuXHR2YXIgdGFyZ2V0X2hhbmRsZXIgPSBjcmVhdGVfZXZlbnQodHlwZSwgZWxlbWVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NhcHR1cmVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXNzaXZlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudChldmVudF9uYW1lLCBkb20sIGhhbmRsZXIsIGNhcHR1cmUsIHBhc3NpdmUpIHtcblx0dmFyIG9wdGlvbnMgPSB7IGNhcHR1cmUsIHBhc3NpdmUgfTtcblx0dmFyIHRhcmdldF9oYW5kbGVyID0gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0aWYgKFxuXHRcdGRvbSA9PT0gZG9jdW1lbnQuYm9keSB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IHdpbmRvdyB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IGRvY3VtZW50IHx8XG5cdFx0Ly8gRmlyZWZveCBoYXMgcXVpcmt5IGJlaGF2aW9yLCBpdCBjYW4gaGFwcGVuIHRoYXQgd2Ugc3RpbGwgZ2V0IFwiY2FucGxheVwiIGV2ZW50cyB3aGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgcmVtb3ZlZFxuXHRcdGRvbSBpbnN0YW5jZW9mIEhUTUxNZWRpYUVsZW1lbnRcblx0KSB7XG5cdFx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZWdhdGUoZXZlbnRzKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0YWxsX3JlZ2lzdGVyZWRfZXZlbnRzLmFkZChldmVudHNbaV0pO1xuXHR9XG5cblx0Zm9yICh2YXIgZm4gb2Ygcm9vdF9ldmVudF9oYW5kbGVzKSB7XG5cdFx0Zm4oZXZlbnRzKTtcblx0fVxufVxuXG4vLyB1c2VkIHRvIHN0b3JlIHRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnRseSBwcm9wYWdhdGVkIGV2ZW50XG4vLyB0byBwcmV2ZW50IGdhcmJhZ2UgY29sbGVjdGlvbiBiZXR3ZWVuIG1pY3JvdGFza3MgaW4gRmlyZWZveFxuLy8gSWYgdGhlIGV2ZW50IG9iamVjdCBpcyBHQ2VkIHRvbyBlYXJseSwgdGhlIGV4cGFuZG8gX19yb290IHByb3BlcnR5XG4vLyBzZXQgb24gdGhlIGV2ZW50IG9iamVjdCBpcyBsb3N0LCBjYXVzaW5nIHRoZSBldmVudCBkZWxlZ2F0aW9uXG4vLyB0byBwcm9jZXNzIHRoZSBldmVudCB0d2ljZVxubGV0IGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9IG51bGw7XG5cbi8qKlxuICogQHRoaXMge0V2ZW50VGFyZ2V0fVxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKGV2ZW50KSB7XG5cdHZhciBoYW5kbGVyX2VsZW1lbnQgPSB0aGlzO1xuXHR2YXIgb3duZXJfZG9jdW1lbnQgPSAvKiogQHR5cGUge05vZGV9ICovIChoYW5kbGVyX2VsZW1lbnQpLm93bmVyRG9jdW1lbnQ7XG5cdHZhciBldmVudF9uYW1lID0gZXZlbnQudHlwZTtcblx0dmFyIHBhdGggPSBldmVudC5jb21wb3NlZFBhdGg/LigpIHx8IFtdO1xuXHR2YXIgY3VycmVudF90YXJnZXQgPSAvKiogQHR5cGUge251bGwgfCBFbGVtZW50fSAqLyAocGF0aFswXSB8fCBldmVudC50YXJnZXQpO1xuXG5cdGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9IGV2ZW50O1xuXG5cdC8vIGNvbXBvc2VkUGF0aCBjb250YWlucyBsaXN0IG9mIG5vZGVzIHRoZSBldmVudCBoYXMgcHJvcGFnYXRlZCB0aHJvdWdoLlxuXHQvLyBXZSBjaGVjayBfX3Jvb3QgdG8gc2tpcCBhbGwgbm9kZXMgYmVsb3cgaXQgaW4gY2FzZSB0aGlzIGlzIGFcblx0Ly8gcGFyZW50IG9mIHRoZSBfX3Jvb3Qgbm9kZSwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlcmUncyBuZXN0ZWRcblx0Ly8gbW91bnRlZCBhcHBzLiBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3Qgd2FudCB0byB0cmlnZ2VyIGV2ZW50cyBtdWx0aXBsZSB0aW1lcy5cblx0dmFyIHBhdGhfaWR4ID0gMDtcblxuXHQvLyB0aGUgYGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9PT0gZXZlbnRgIGNoZWNrIGlzIHJlZHVuZGFudCwgYnV0XG5cdC8vIHdpdGhvdXQgaXQgdGhlIHZhcmlhYmxlIHdpbGwgYmUgRENFJ2QgYW5kIHRoaW5ncyB3aWxsXG5cdC8vIGZhaWwgbXlzdGVyaW91c2x5IGluIEZpcmVmb3hcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBpcyBhZGRlZCBiZWxvd1xuXHR2YXIgaGFuZGxlZF9hdCA9IGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9PT0gZXZlbnQgJiYgZXZlbnQuX19yb290O1xuXG5cdGlmIChoYW5kbGVkX2F0KSB7XG5cdFx0dmFyIGF0X2lkeCA9IHBhdGguaW5kZXhPZihoYW5kbGVkX2F0KTtcblx0XHRpZiAoXG5cdFx0XHRhdF9pZHggIT09IC0xICYmXG5cdFx0XHQoaGFuZGxlcl9lbGVtZW50ID09PSBkb2N1bWVudCB8fCBoYW5kbGVyX2VsZW1lbnQgPT09IC8qKiBAdHlwZSB7YW55fSAqLyAod2luZG93KSlcblx0XHQpIHtcblx0XHRcdC8vIFRoaXMgaXMgdGhlIGZhbGxiYWNrIGRvY3VtZW50IGxpc3RlbmVyIG9yIGEgd2luZG93IGxpc3RlbmVyLCBidXQgdGhlIGV2ZW50IHdhcyBhbHJlYWR5IGhhbmRsZWRcblx0XHRcdC8vIC0+IGlnbm9yZSwgYnV0IHNldCBoYW5kbGVfYXQgdG8gZG9jdW1lbnQvd2luZG93IHNvIHRoYXQgd2UncmUgcmVzZXR0aW5nIHRoZSBldmVudFxuXHRcdFx0Ly8gY2hhaW4gaW4gY2FzZSBzb21lb25lIG1hbnVhbGx5IGRpc3BhdGNoZXMgdGhlIHNhbWUgZXZlbnQgb2JqZWN0IGFnYWluLlxuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0ZXZlbnQuX19yb290ID0gaGFuZGxlcl9lbGVtZW50O1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFdlJ3JlIGRlbGliZXJhdGVseSBub3Qgc2tpcHBpbmcgaWYgdGhlIGluZGV4IGlzIGhpZ2hlciwgYmVjYXVzZVxuXHRcdC8vIHNvbWVvbmUgY291bGQgY3JlYXRlIGFuIGV2ZW50IHByb2dyYW1tYXRpY2FsbHkgYW5kIGVtaXQgaXQgbXVsdGlwbGUgdGltZXMsXG5cdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSB0aGUgd2hvbGUgcHJvcGFnYXRpb24gY2hhaW4gcHJvcGVybHkgZWFjaCB0aW1lLlxuXHRcdC8vICh0aGlzIHdpbGwgb25seSBiZSBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZSBldmVudCBpcyBkaXNwYXRjaGVkIG11bHRpcGxlIHRpbWVzIGFuZFxuXHRcdC8vIHRoZSBmYWxsYmFjayBkb2N1bWVudCBsaXN0ZW5lciBpc24ndCByZWFjaGVkIGluIGJldHdlZW4sIGJ1dCB0aGF0J3Mgc3VwZXIgcmFyZSlcblx0XHR2YXIgaGFuZGxlcl9pZHggPSBwYXRoLmluZGV4T2YoaGFuZGxlcl9lbGVtZW50KTtcblx0XHRpZiAoaGFuZGxlcl9pZHggPT09IC0xKSB7XG5cdFx0XHQvLyBoYW5kbGVfaWR4IGNhbiB0aGVvcmV0aWNhbGx5IGJlIC0xIChoYXBwZW5lZCBpbiBzb21lIEpTRE9NIHRlc3Rpbmcgc2NlbmFyaW9zIHdpdGggYW4gZXZlbnQgbGlzdGVuZXIgb24gdGhlIHdpbmRvdyBvYmplY3QpXG5cdFx0XHQvLyBzbyBndWFyZCBhZ2FpbnN0IHRoYXQsIHRvbywgYW5kIGFzc3VtZSB0aGF0IGV2ZXJ5dGhpbmcgd2FzIGhhbmRsZWQgYXQgdGhpcyBwb2ludC5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYXRfaWR4IDw9IGhhbmRsZXJfaWR4KSB7XG5cdFx0XHRwYXRoX2lkeCA9IGF0X2lkeDtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50X3RhcmdldCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhdGhbcGF0aF9pZHhdIHx8IGV2ZW50LnRhcmdldCk7XG5cdC8vIHRoZXJlIGNhbiBvbmx5IGJlIG9uZSBkZWxlZ2F0ZWQgZXZlbnQgcGVyIGVsZW1lbnQsIGFuZCB3ZSBlaXRoZXIgYWxyZWFkeSBoYW5kbGVkIHRoZSBjdXJyZW50IHRhcmdldCxcblx0Ly8gb3IgdGhpcyBpcyB0aGUgdmVyeSBmaXJzdCB0YXJnZXQgaW4gdGhlIGNoYWluIHdoaWNoIGhhcyBhIG5vbi1kZWxlZ2F0ZWQgbGlzdGVuZXIsIGluIHdoaWNoIGNhc2UgaXQncyBzYWZlXG5cdC8vIHRvIGhhbmRsZSBhIHBvc3NpYmxlIGRlbGVnYXRlZCBldmVudCBvbiBpdCBsYXRlciAodGhyb3VnaCB0aGUgcm9vdCBkZWxlZ2F0aW9uIGxpc3RlbmVyIGZvciBleGFtcGxlKS5cblx0aWYgKGN1cnJlbnRfdGFyZ2V0ID09PSBoYW5kbGVyX2VsZW1lbnQpIHJldHVybjtcblxuXHQvLyBQcm94eSBjdXJyZW50VGFyZ2V0IHRvIGNvcnJlY3QgdGFyZ2V0XG5cdGRlZmluZV9wcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdGdldCgpIHtcblx0XHRcdHJldHVybiBjdXJyZW50X3RhcmdldCB8fCBvd25lcl9kb2N1bWVudDtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIFRoaXMgc3RhcnRlZCBiZWNhdXNlIG9mIENocm9taXVtIGlzc3VlIGh0dHBzOi8vY2hyb21lc3RhdHVzLmNvbS9mZWF0dXJlLzUxMjg2OTY4MjM1NDU4NTYsXG5cdC8vIHdoZXJlIHJlbW92YWwgb3IgbW92aW5nIG9mIG9mIHRoZSBET00gY2FuIGNhdXNlIHN5bmMgYGJsdXJgIGV2ZW50cyB0byBmaXJlLCB3aGljaCBjYW4gY2F1c2UgbG9naWNcblx0Ly8gdG8gcnVuIGluc2lkZSB0aGUgY3VycmVudCBgYWN0aXZlX3JlYWN0aW9uYCwgd2hpY2ggaXNuJ3Qgd2hhdCB3ZSB3YW50IGF0IGFsbC4gSG93ZXZlciwgb24gcmVmbGVjdGlvbixcblx0Ly8gaXQncyBwcm9iYWJseSBiZXN0IHRoYXQgYWxsIGV2ZW50IGhhbmRsZWQgYnkgU3ZlbHRlIGhhdmUgdGhpcyBiZWhhdmlvdXIsIGFzIHdlIGRvbid0IHJlYWxseSB3YW50XG5cdC8vIGFuIGV2ZW50IGhhbmRsZXIgdG8gcnVuIGluIHRoZSBjb250ZXh0IG9mIGFub3RoZXIgcmVhY3Rpb24gb3IgZWZmZWN0LlxuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblxuXHR0cnkge1xuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHt1bmtub3dufVxuXHRcdCAqL1xuXHRcdHZhciB0aHJvd19lcnJvcjtcblx0XHQvKipcblx0XHQgKiBAdHlwZSB7dW5rbm93bltdfVxuXHRcdCAqL1xuXHRcdHZhciBvdGhlcl9lcnJvcnMgPSBbXTtcblxuXHRcdHdoaWxlIChjdXJyZW50X3RhcmdldCAhPT0gbnVsbCkge1xuXHRcdFx0LyoqIEB0eXBlIHtudWxsIHwgRWxlbWVudH0gKi9cblx0XHRcdHZhciBwYXJlbnRfZWxlbWVudCA9XG5cdFx0XHRcdGN1cnJlbnRfdGFyZ2V0LmFzc2lnbmVkU2xvdCB8fFxuXHRcdFx0XHRjdXJyZW50X3RhcmdldC5wYXJlbnROb2RlIHx8XG5cdFx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAoY3VycmVudF90YXJnZXQpLmhvc3QgfHxcblx0XHRcdFx0bnVsbDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHR2YXIgZGVsZWdhdGVkID0gY3VycmVudF90YXJnZXRbJ19fJyArIGV2ZW50X25hbWVdO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRkZWxlZ2F0ZWQgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdCghKC8qKiBAdHlwZSB7YW55fSAqLyAoY3VycmVudF90YXJnZXQpLmRpc2FibGVkKSB8fFxuXHRcdFx0XHRcdFx0Ly8gRE9NIGNvdWxkJ3ZlIGJlZW4gdXBkYXRlZCBhbHJlYWR5IGJ5IHRoZSB0aW1lIHRoaXMgaXMgcmVhY2hlZCwgc28gd2UgY2hlY2sgdGhpcyBhcyB3ZWxsXG5cdFx0XHRcdFx0XHQvLyAtPiB0aGUgdGFyZ2V0IGNvdWxkIG5vdCBoYXZlIGJlZW4gZGlzYWJsZWQgYmVjYXVzZSBpdCBlbWl0cyB0aGUgZXZlbnQgaW4gdGhlIGZpcnN0IHBsYWNlXG5cdFx0XHRcdFx0XHRldmVudC50YXJnZXQgPT09IGN1cnJlbnRfdGFyZ2V0KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRkZWxlZ2F0ZWQuY2FsbChjdXJyZW50X3RhcmdldCwgZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRpZiAodGhyb3dfZXJyb3IpIHtcblx0XHRcdFx0XHRvdGhlcl9lcnJvcnMucHVzaChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3dfZXJyb3IgPSBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSB8fCBwYXJlbnRfZWxlbWVudCA9PT0gaGFuZGxlcl9lbGVtZW50IHx8IHBhcmVudF9lbGVtZW50ID09PSBudWxsKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y3VycmVudF90YXJnZXQgPSBwYXJlbnRfZWxlbWVudDtcblx0XHR9XG5cblx0XHRpZiAodGhyb3dfZXJyb3IpIHtcblx0XHRcdGZvciAobGV0IGVycm9yIG9mIG90aGVyX2Vycm9ycykge1xuXHRcdFx0XHQvLyBUaHJvdyB0aGUgcmVzdCBvZiB0aGUgZXJyb3JzLCBvbmUtYnktb25lIG9uIGEgbWljcm90YXNrXG5cdFx0XHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyB0aHJvd19lcnJvcjtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBpcyB1c2VkIGFib3ZlXG5cdFx0ZXZlbnQuX19yb290ID0gaGFuZGxlcl9lbGVtZW50O1xuXHRcdC8vIEB0cy1pZ25vcmUgcmVtb3ZlIHByb3h5IG9uIGN1cnJlbnRUYXJnZXRcblx0XHRkZWxldGUgZXZlbnQuY3VycmVudFRhcmdldDtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHR9XG59XG5cbi8qKlxuICogSW4gZGV2LCB3YXJuIGlmIGFuIGV2ZW50IGhhbmRsZXIgaXMgbm90IGEgZnVuY3Rpb24sIGFzIGl0IG1lYW5zIHRoZVxuICogdXNlciBwcm9iYWJseSBjYWxsZWQgdGhlIGhhbmRsZXIgb3IgZm9yZ290IHRvIGFkZCBhIGAoKSA9PmBcbiAqIEBwYXJhbSB7KCkgPT4gKGV2ZW50OiBFdmVudCwgLi4uYXJnczogYW55KSA9PiB2b2lkfSB0aHVua1xuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtbRXZlbnQsIC4uLmFueV19IGFyZ3NcbiAqIEBwYXJhbSB7YW55fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7W251bWJlciwgbnVtYmVyXX0gW2xvY11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZV9wYXJlbnNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseShcblx0dGh1bmssXG5cdGVsZW1lbnQsXG5cdGFyZ3MsXG5cdGNvbXBvbmVudCxcblx0bG9jLFxuXHRoYXNfc2lkZV9lZmZlY3RzID0gZmFsc2UsXG5cdHJlbW92ZV9wYXJlbnMgPSBmYWxzZVxuKSB7XG5cdGxldCBoYW5kbGVyO1xuXHRsZXQgZXJyb3I7XG5cblx0dHJ5IHtcblx0XHRoYW5kbGVyID0gdGh1bmsoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGVycm9yID0gZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJyAmJiAoaGFzX3NpZGVfZWZmZWN0cyB8fCBoYW5kbGVyICE9IG51bGwgfHwgZXJyb3IpKSB7XG5cdFx0Y29uc3QgZmlsZW5hbWUgPSBjb21wb25lbnQ/LltGSUxFTkFNRV07XG5cdFx0Y29uc3QgbG9jYXRpb24gPSBsb2MgPyBgIGF0ICR7ZmlsZW5hbWV9OiR7bG9jWzBdfToke2xvY1sxXX1gIDogYCBpbiAke2ZpbGVuYW1lfWA7XG5cdFx0Y29uc3QgcGhhc2UgPSBhcmdzWzBdPy5ldmVudFBoYXNlIDwgRXZlbnQuQlVCQkxJTkdfUEhBU0UgPyAnY2FwdHVyZScgOiAnJztcblx0XHRjb25zdCBldmVudF9uYW1lID0gYXJnc1swXT8udHlwZSArIHBoYXNlO1xuXHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gYFxcYCR7ZXZlbnRfbmFtZX1cXGAgaGFuZGxlciR7bG9jYXRpb259YDtcblx0XHRjb25zdCBzdWdnZXN0aW9uID0gcmVtb3ZlX3BhcmVucyA/ICdyZW1vdmUgdGhlIHRyYWlsaW5nIGAoKWAnIDogJ2FkZCBhIGxlYWRpbmcgYCgpID0+YCc7XG5cblx0XHR3LmV2ZW50X2hhbmRsZXJfaW52YWxpZChkZXNjcmlwdGlvbiwgc3VnZ2VzdGlvbik7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxuXHRoYW5kbGVyPy5hcHBseShlbGVtZW50LCBhcmdzKTtcbn1cbiIsICIvKiogQHBhcmFtIHtzdHJpbmd9IGh0bWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sKGh0bWwpIHtcblx0dmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXHRlbGVtLmlubmVySFRNTCA9IGh0bWwucmVwbGFjZUFsbCgnPCE+JywgJzwhLS0tLT4nKTsgLy8gWEhUTUwgY29tcGxpYW5jZVxuXHRyZXR1cm4gZWxlbS5jb250ZW50O1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBFZmZlY3ROb2RlcywgVGVtcGxhdGVOb2RlIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgVGVtcGxhdGVTdHJ1Y3R1cmUgfSBmcm9tICcuL3R5cGVzJyAqL1xuaW1wb3J0IHsgaHlkcmF0ZV9uZXh0LCBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSB9IGZyb20gJy4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7XG5cdGNyZWF0ZV90ZXh0LFxuXHRnZXRfZmlyc3RfY2hpbGQsXG5cdGlzX2ZpcmVmb3gsXG5cdGNyZWF0ZV9lbGVtZW50LFxuXHRjcmVhdGVfZnJhZ21lbnQsXG5cdGNyZWF0ZV9jb21tZW50LFxuXHRzZXRfYXR0cmlidXRlXG59IGZyb20gJy4vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sIH0gZnJvbSAnLi9yZWNvbmNpbGVyLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QgfSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7XG5cdE5BTUVTUEFDRV9NQVRITUwsXG5cdE5BTUVTUEFDRV9TVkcsXG5cdFRFTVBMQVRFX0ZSQUdNRU5ULFxuXHRURU1QTEFURV9VU0VfSU1QT1JUX05PREUsXG5cdFRFTVBMQVRFX1VTRV9NQVRITUwsXG5cdFRFTVBMQVRFX1VTRV9TVkdcbn0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSwgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSwgRUZGRUNUX1JBTiwgVEVYVF9OT0RFIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBzdGFydFxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSBlbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKSB7XG5cdHZhciBlZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXHRpZiAoZWZmZWN0Lm5vZGVzID09PSBudWxsKSB7XG5cdFx0ZWZmZWN0Lm5vZGVzID0geyBzdGFydCwgZW5kLCBhOiBudWxsLCB0OiBudWxsIH07XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcmV0dXJucyB7KCkgPT4gTm9kZSB8IE5vZGVbXX1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV9odG1sKGNvbnRlbnQsIGZsYWdzKSB7XG5cdHZhciBpc19mcmFnbWVudCA9IChmbGFncyAmIFRFTVBMQVRFX0ZSQUdNRU5UKSAhPT0gMDtcblx0dmFyIHVzZV9pbXBvcnRfbm9kZSA9IChmbGFncyAmIFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSkgIT09IDA7XG5cblx0LyoqIEB0eXBlIHtOb2RlfSAqL1xuXHR2YXIgbm9kZTtcblxuXHQvKipcblx0ICogV2hldGhlciBvciBub3QgdGhlIGZpcnN0IGl0ZW0gaXMgYSB0ZXh0L2VsZW1lbnQgbm9kZS4gSWYgbm90LCB3ZSBuZWVkIHRvXG5cdCAqIGNyZWF0ZSBhbiBhZGRpdGlvbmFsIGNvbW1lbnQgbm9kZSB0byBhY3QgYXMgYGVmZmVjdC5ub2Rlcy5zdGFydGBcblx0ICovXG5cdHZhciBoYXNfc3RhcnQgPSAhY29udGVudC5zdGFydHNXaXRoKCc8IT4nKTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRub2RlID0gY3JlYXRlX2ZyYWdtZW50X2Zyb21faHRtbChoYXNfc3RhcnQgPyBjb250ZW50IDogJzwhPicgKyBjb250ZW50KTtcblx0XHRcdGlmICghaXNfZnJhZ21lbnQpIG5vZGUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChub2RlKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGNsb25lID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChcblx0XHRcdHVzZV9pbXBvcnRfbm9kZSB8fCBpc19maXJlZm94ID8gZG9jdW1lbnQuaW1wb3J0Tm9kZShub2RlLCB0cnVlKSA6IG5vZGUuY2xvbmVOb2RlKHRydWUpXG5cdFx0KTtcblxuXHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQoY2xvbmUpKTtcblx0XHRcdHZhciBlbmQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGNsb25lLmxhc3RDaGlsZCk7XG5cblx0XHRcdGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXNzaWduX25vZGVzKGNsb25lLCBjbG9uZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqIEBwYXJhbSB7J3N2ZycgfCAnbWF0aCd9IG5zXG4gKiBAcmV0dXJucyB7KCkgPT4gTm9kZSB8IE5vZGVbXX1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5mdW5jdGlvbiBmcm9tX25hbWVzcGFjZShjb250ZW50LCBmbGFncywgbnMgPSAnc3ZnJykge1xuXHQvKipcblx0ICogV2hldGhlciBvciBub3QgdGhlIGZpcnN0IGl0ZW0gaXMgYSB0ZXh0L2VsZW1lbnQgbm9kZS4gSWYgbm90LCB3ZSBuZWVkIHRvXG5cdCAqIGNyZWF0ZSBhbiBhZGRpdGlvbmFsIGNvbW1lbnQgbm9kZSB0byBhY3QgYXMgYGVmZmVjdC5ub2Rlcy5zdGFydGBcblx0ICovXG5cdHZhciBoYXNfc3RhcnQgPSAhY29udGVudC5zdGFydHNXaXRoKCc8IT4nKTtcblxuXHR2YXIgaXNfZnJhZ21lbnQgPSAoZmxhZ3MgJiBURU1QTEFURV9GUkFHTUVOVCkgIT09IDA7XG5cdHZhciB3cmFwcGVkID0gYDwke25zfT4ke2hhc19zdGFydCA/IGNvbnRlbnQgOiAnPCE+JyArIGNvbnRlbnR9PC8ke25zfT5gO1xuXG5cdC8qKiBAdHlwZSB7RWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9ICovXG5cdHZhciBub2RlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0YXNzaWduX25vZGVzKGh5ZHJhdGVfbm9kZSwgbnVsbCk7XG5cdFx0XHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblxuXHRcdGlmICghbm9kZSkge1xuXHRcdFx0dmFyIGZyYWdtZW50ID0gLyoqIEB0eXBlIHtEb2N1bWVudEZyYWdtZW50fSAqLyAoY3JlYXRlX2ZyYWdtZW50X2Zyb21faHRtbCh3cmFwcGVkKSk7XG5cdFx0XHR2YXIgcm9vdCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGdldF9maXJzdF9jaGlsZChmcmFnbWVudCkpO1xuXG5cdFx0XHRpZiAoaXNfZnJhZ21lbnQpIHtcblx0XHRcdFx0bm9kZSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0d2hpbGUgKGdldF9maXJzdF9jaGlsZChyb290KSkge1xuXHRcdFx0XHRcdG5vZGUuYXBwZW5kQ2hpbGQoLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQocm9vdCkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGdldF9maXJzdF9jaGlsZChyb290KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGNsb25lID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG5cblx0XHRpZiAoaXNfZnJhZ21lbnQpIHtcblx0XHRcdHZhciBzdGFydCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKGNsb25lKSk7XG5cdFx0XHR2YXIgZW5kID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChjbG9uZS5sYXN0Q2hpbGQpO1xuXG5cdFx0XHRhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhjbG9uZSwgY2xvbmUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjbG9uZTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21fc3ZnKGNvbnRlbnQsIGZsYWdzKSB7XG5cdHJldHVybiBmcm9tX25hbWVzcGFjZShjb250ZW50LCBmbGFncywgJ3N2ZycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV9tYXRobWwoY29udGVudCwgZmxhZ3MpIHtcblx0cmV0dXJuIGZyb21fbmFtZXNwYWNlKGNvbnRlbnQsIGZsYWdzLCAnbWF0aCcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVTdHJ1Y3R1cmVbXX0gc3RydWN0dXJlXG4gKiBAcGFyYW0ge3R5cGVvZiBOQU1FU1BBQ0VfU1ZHIHwgdHlwZW9mIE5BTUVTUEFDRV9NQVRITUwgfCB1bmRlZmluZWR9IFtuc11cbiAqL1xuZnVuY3Rpb24gZnJhZ21lbnRfZnJvbV90cmVlKHN0cnVjdHVyZSwgbnMpIHtcblx0dmFyIGZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50KCk7XG5cblx0Zm9yICh2YXIgaXRlbSBvZiBzdHJ1Y3R1cmUpIHtcblx0XHRpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRmcmFnbWVudC5hcHBlbmQoY3JlYXRlX3RleHQoaXRlbSkpO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgYHByZXNlcnZlQ29tbWVudHMgPT09IHRydWVgLCBjb21tZW50cyBhcmUgcmVwcmVzZW50ZWQgYXMgYFsnLy8gPGRhdGE+J11gXG5cdFx0aWYgKGl0ZW0gPT09IHVuZGVmaW5lZCB8fCBpdGVtWzBdWzBdID09PSAnLycpIHtcblx0XHRcdGZyYWdtZW50LmFwcGVuZChjcmVhdGVfY29tbWVudChpdGVtID8gaXRlbVswXS5zbGljZSgzKSA6ICcnKSk7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjb25zdCBbbmFtZSwgYXR0cmlidXRlcywgLi4uY2hpbGRyZW5dID0gaXRlbTtcblxuXHRcdGNvbnN0IG5hbWVzcGFjZSA9IG5hbWUgPT09ICdzdmcnID8gTkFNRVNQQUNFX1NWRyA6IG5hbWUgPT09ICdtYXRoJyA/IE5BTUVTUEFDRV9NQVRITUwgOiBucztcblxuXHRcdHZhciBlbGVtZW50ID0gY3JlYXRlX2VsZW1lbnQobmFtZSwgbmFtZXNwYWNlLCBhdHRyaWJ1dGVzPy5pcyk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0c2V0X2F0dHJpYnV0ZShlbGVtZW50LCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXG5cdFx0aWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0XHRcdHZhciB0YXJnZXQgPVxuXHRcdFx0XHRlbGVtZW50LnRhZ05hbWUgPT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKGVsZW1lbnQpLmNvbnRlbnRcblx0XHRcdFx0XHQ6IGVsZW1lbnQ7XG5cblx0XHRcdHRhcmdldC5hcHBlbmQoXG5cdFx0XHRcdGZyYWdtZW50X2Zyb21fdHJlZShjaGlsZHJlbiwgZWxlbWVudC50YWdOYW1lID09PSAnZm9yZWlnbk9iamVjdCcgPyB1bmRlZmluZWQgOiBuYW1lc3BhY2UpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZyYWdtZW50LmFwcGVuZChlbGVtZW50KTtcblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlU3RydWN0dXJlW119IHN0cnVjdHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcmV0dXJucyB7KCkgPT4gTm9kZSB8IE5vZGVbXX1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV90cmVlKHN0cnVjdHVyZSwgZmxhZ3MpIHtcblx0dmFyIGlzX2ZyYWdtZW50ID0gKGZsYWdzICYgVEVNUExBVEVfRlJBR01FTlQpICE9PSAwO1xuXHR2YXIgdXNlX2ltcG9ydF9ub2RlID0gKGZsYWdzICYgVEVNUExBVEVfVVNFX0lNUE9SVF9OT0RFKSAhPT0gMDtcblxuXHQvKiogQHR5cGUge05vZGV9ICovXG5cdHZhciBub2RlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0YXNzaWduX25vZGVzKGh5ZHJhdGVfbm9kZSwgbnVsbCk7XG5cdFx0XHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblxuXHRcdGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IG5zID1cblx0XHRcdFx0KGZsYWdzICYgVEVNUExBVEVfVVNFX1NWRykgIT09IDBcblx0XHRcdFx0XHQ/IE5BTUVTUEFDRV9TVkdcblx0XHRcdFx0XHQ6IChmbGFncyAmIFRFTVBMQVRFX1VTRV9NQVRITUwpICE9PSAwXG5cdFx0XHRcdFx0XHQ/IE5BTUVTUEFDRV9NQVRITUxcblx0XHRcdFx0XHRcdDogdW5kZWZpbmVkO1xuXG5cdFx0XHRub2RlID0gZnJhZ21lbnRfZnJvbV90cmVlKHN0cnVjdHVyZSwgbnMpO1xuXHRcdFx0aWYgKCFpc19mcmFnbWVudCkgbm9kZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKG5vZGUpKTtcblx0XHR9XG5cblx0XHR2YXIgY2xvbmUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKFxuXHRcdFx0dXNlX2ltcG9ydF9ub2RlIHx8IGlzX2ZpcmVmb3ggPyBkb2N1bWVudC5pbXBvcnROb2RlKG5vZGUsIHRydWUpIDogbm9kZS5jbG9uZU5vZGUodHJ1ZSlcblx0XHQpO1xuXG5cdFx0aWYgKGlzX2ZyYWdtZW50KSB7XG5cdFx0XHR2YXIgc3RhcnQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChjbG9uZSkpO1xuXHRcdFx0dmFyIGVuZCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoY2xvbmUubGFzdENoaWxkKTtcblxuXHRcdFx0YXNzaWduX25vZGVzKHN0YXJ0LCBlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoY2xvbmUsIGNsb25lKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2xvbmU7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhfc2NyaXB0KGZuKSB7XG5cdHJldHVybiAoKSA9PiBydW5fc2NyaXB0cyhmbigpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGluZyBhIGRvY3VtZW50IGZyYWdtZW50IGZyb20gSFRNTCB0aGF0IGNvbnRhaW5zIHNjcmlwdCB0YWdzIHdpbGwgbm90IGV4ZWN1dGVcbiAqIHRoZSBzY3JpcHRzLiBXZSBuZWVkIHRvIHJlcGxhY2UgdGhlIHNjcmlwdCB0YWdzIHdpdGggbmV3IG9uZXMgc28gdGhhdCB0aGV5IGFyZSBleGVjdXRlZC5cbiAqIEBwYXJhbSB7RWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtOb2RlIHwgTm9kZVtdfVxuICovXG5mdW5jdGlvbiBydW5fc2NyaXB0cyhub2RlKSB7XG5cdC8vIHNjcmlwdHMgd2VyZSBTU1InZCwgaW4gd2hpY2ggY2FzZSB0aGV5IHdpbGwgcnVuXG5cdGlmIChoeWRyYXRpbmcpIHJldHVybiBub2RlO1xuXG5cdGNvbnN0IGlzX2ZyYWdtZW50ID0gbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcblx0Y29uc3Qgc2NyaXB0cyA9XG5cdFx0LyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLnRhZ05hbWUgPT09ICdTQ1JJUFQnXG5cdFx0XHQ/IFsvKiogQHR5cGUge0hUTUxTY3JpcHRFbGVtZW50fSAqLyAobm9kZSldXG5cdFx0XHQ6IG5vZGUucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0Jyk7XG5cblx0Y29uc3QgZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3QgJiB7IG5vZGVzOiBFZmZlY3ROb2RlcyB9fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cblx0Zm9yIChjb25zdCBzY3JpcHQgb2Ygc2NyaXB0cykge1xuXHRcdGNvbnN0IGNsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdFx0Zm9yICh2YXIgYXR0cmlidXRlIG9mIHNjcmlwdC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRjbG9uZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsIGF0dHJpYnV0ZS52YWx1ZSk7XG5cdFx0fVxuXG5cdFx0Y2xvbmUudGV4dENvbnRlbnQgPSBzY3JpcHQudGV4dENvbnRlbnQ7XG5cblx0XHQvLyBUaGUgc2NyaXB0IGhhcyBjaGFuZ2VkIC0gaWYgaXQncyBhdCB0aGUgZWRnZXMsIHRoZSBlZmZlY3Qgbm93IHBvaW50cyBhdCBkZWFkIG5vZGVzXG5cdFx0aWYgKGlzX2ZyYWdtZW50ID8gbm9kZS5maXJzdENoaWxkID09PSBzY3JpcHQgOiBub2RlID09PSBzY3JpcHQpIHtcblx0XHRcdGVmZmVjdC5ub2Rlcy5zdGFydCA9IGNsb25lO1xuXHRcdH1cblx0XHRpZiAoaXNfZnJhZ21lbnQgPyBub2RlLmxhc3RDaGlsZCA9PT0gc2NyaXB0IDogbm9kZSA9PT0gc2NyaXB0KSB7XG5cdFx0XHRlZmZlY3Qubm9kZXMuZW5kID0gY2xvbmU7XG5cdFx0fVxuXG5cdFx0c2NyaXB0LnJlcGxhY2VXaXRoKGNsb25lKTtcblx0fVxuXHRyZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQodmFsdWUgPSAnJykge1xuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHZhciB0ID0gY3JlYXRlX3RleHQodmFsdWUgKyAnJyk7XG5cdFx0YXNzaWduX25vZGVzKHQsIHQpO1xuXHRcdHJldHVybiB0O1xuXHR9XG5cblx0dmFyIG5vZGUgPSBoeWRyYXRlX25vZGU7XG5cblx0aWYgKG5vZGUubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuXHRcdC8vIGlmIGFuIHtleHByZXNzaW9ufSBpcyBlbXB0eSBkdXJpbmcgU1NSLCB3ZSBuZWVkIHRvIGluc2VydCBhbiBlbXB0eSB0ZXh0IG5vZGVcblx0XHRub2RlLmJlZm9yZSgobm9kZSA9IGNyZWF0ZV90ZXh0KCkpKTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKG5vZGUpO1xuXHR9XG5cblx0YXNzaWduX25vZGVzKG5vZGUsIG5vZGUpO1xuXHRyZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7VGVtcGxhdGVOb2RlIHwgRG9jdW1lbnRGcmFnbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1lbnQoKSB7XG5cdC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nIHRvIGB0ZW1wbGF0ZWAgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0YXNzaWduX25vZGVzKGh5ZHJhdGVfbm9kZSwgbnVsbCk7XG5cdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0fVxuXG5cdHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHR2YXIgc3RhcnQgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0dmFyIGFuY2hvciA9IGNyZWF0ZV90ZXh0KCk7XG5cdGZyYWcuYXBwZW5kKHN0YXJ0LCBhbmNob3IpO1xuXG5cdGFzc2lnbl9ub2RlcyhzdGFydCwgYW5jaG9yKTtcblxuXHRyZXR1cm4gZnJhZztcbn1cblxuLyoqXG4gKiBBc3NpZ24gdGhlIGNyZWF0ZWQgKG9yIGluIGh5ZHJhdGlvbiBtb2RlLCB0cmF2ZXJzZWQpIGRvbSBlbGVtZW50cyB0byB0aGUgY3VycmVudCBibG9ja1xuICogYW5kIGluc2VydCB0aGUgZWxlbWVudHMgaW50byB0aGUgZG9tIChpbiBjbGllbnQgbW9kZSkuXG4gKiBAcGFyYW0ge1RleHQgfCBDb21tZW50IHwgRWxlbWVudH0gYW5jaG9yXG4gKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnQgfCBFbGVtZW50fSBkb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChhbmNob3IsIGRvbSkge1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0dmFyIGVmZmVjdCA9IC8qKiBAdHlwZSB7RWZmZWN0ICYgeyBub2RlczogRWZmZWN0Tm9kZXMgfX0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdFx0Ly8gV2hlbiBoeWRyYXRpbmcgYW5kIG91dGVyIGNvbXBvbmVudCBhbmQgYW4gaW5uZXIgY29tcG9uZW50IGlzIGFzeW5jLCBpLmUuIGJsb2NrZWQgb24gYSBwcm9taXNlLFxuXHRcdC8vIHRoZW4gYnkgdGhlIHRpbWUgdGhlIGlubmVyIHJlc29sdmVzIHdlIGhhdmUgYWxyZWFkeSBhZHZhbmNlZCB0byB0aGUgZW5kIG9mIHRoZSBoeWRyYXRlZCBub2Rlc1xuXHRcdC8vIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LiBDaGVjayBmb3IgZGVmaW5lZCBmb3IgdGhhdCByZWFzb24gdG8gYXZvaWQgcmV3aW5kaW5nIHRoZSBwYXJlbnQncyBlbmQgbWFya2VyLlxuXHRcdGlmICgoZWZmZWN0LmYgJiBFRkZFQ1RfUkFOKSA9PT0gMCB8fCBlZmZlY3Qubm9kZXMuZW5kID09PSBudWxsKSB7XG5cdFx0XHRlZmZlY3Qubm9kZXMuZW5kID0gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblxuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChhbmNob3IgPT09IG51bGwpIHtcblx0XHQvLyBlZGdlIGNhc2UgXHUyMDE0IHZvaWQgYDxzdmVsdGU6ZWxlbWVudD5gIHdpdGggY29udGVudFxuXHRcdHJldHVybjtcblx0fVxuXG5cdGFuY2hvci5iZWZvcmUoLyoqIEB0eXBlIHtOb2RlfSAqLyAoZG9tKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIChvciBoeWRyYXRlKSBhbiB1bmlxdWUgVUlEIGZvciB0aGUgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcHNfaWQoKSB7XG5cdGlmIChcblx0XHRoeWRyYXRpbmcgJiZcblx0XHRoeWRyYXRlX25vZGUgJiZcblx0XHRoeWRyYXRlX25vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJlxuXHRcdGh5ZHJhdGVfbm9kZS50ZXh0Q29udGVudD8uc3RhcnRzV2l0aChgJGApXG5cdCkge1xuXHRcdGNvbnN0IGlkID0gaHlkcmF0ZV9ub2RlLnRleHRDb250ZW50LnN1YnN0cmluZygxKTtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0XHRyZXR1cm4gaWQ7XG5cdH1cblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgd2F5IHdlIGVuc3VyZSB0aGUgaWQgaXMgdW5pcXVlIGV2ZW4gYWNyb3NzIFN2ZWx0ZSBydW50aW1lc1xuXHQod2luZG93Ll9fc3ZlbHRlID8/PSB7fSkudWlkID8/PSAxO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIGBjJHt3aW5kb3cuX19zdmVsdGUudWlkKyt9YDtcbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIEVmZmVjdCwgRWZmZWN0Tm9kZXMsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50VHlwZSwgU3ZlbHRlQ29tcG9uZW50LCBNb3VudE9wdGlvbnMgfSBmcm9tICcuLi8uLi9pbmRleC5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0Y2xlYXJfdGV4dF9jb250ZW50LFxuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRnZXRfbmV4dF9zaWJsaW5nLFxuXHRpbml0X29wZXJhdGlvbnNcbn0gZnJvbSAnLi9kb20vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBIWURSQVRJT05fRU5ELCBIWURSQVRJT05fRVJST1IsIEhZRFJBVElPTl9TVEFSVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0IH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IHB1c2gsIHBvcCwgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X3Jvb3QgfSBmcm9tICcuL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSwgc2V0X2h5ZHJhdGluZyB9IGZyb20gJy4vZG9tL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBhcnJheV9mcm9tIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGFsbF9yZWdpc3RlcmVkX2V2ZW50cyxcblx0aGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLFxuXHRyb290X2V2ZW50X2hhbmRsZXNcbn0gZnJvbSAnLi9kb20vZWxlbWVudHMvZXZlbnRzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGFzc2lnbl9ub2RlcyB9IGZyb20gJy4vZG9tL3RlbXBsYXRlLmpzJztcbmltcG9ydCB7IGlzX3Bhc3NpdmVfZXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgeyBDT01NRU5UX05PREUsIFNUQVRFX1NZTUJPTCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGJvdW5kYXJ5IH0gZnJvbSAnLi9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzJztcblxuLyoqXG4gKiBUaGlzIGlzIG5vcm1hbGx5IHRydWUgXHUyMDE0IGJsb2NrIGVmZmVjdHMgc2hvdWxkIHJ1biB0aGVpciBpbnRybyB0cmFuc2l0aW9ucyBcdTIwMTRcbiAqIGJ1dCBpcyBmYWxzZSBkdXJpbmcgaHlkcmF0aW9uICh1bmxlc3MgYG9wdGlvbnMuaW50cm9gIGlzIGB0cnVlYCkgYW5kXG4gKiB3aGVuIGNyZWF0aW5nIHRoZSBjaGlsZHJlbiBvZiBhIGA8c3ZlbHRlOmVsZW1lbnQ+YCB0aGF0IGp1c3QgY2hhbmdlZCB0YWdcbiAqL1xuZXhwb3J0IGxldCBzaG91bGRfaW50cm8gPSB0cnVlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zaG91bGRfaW50cm8odmFsdWUpIHtcblx0c2hvdWxkX2ludHJvID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3RleHQodGV4dCwgdmFsdWUpIHtcblx0Ly8gRm9yIG9iamVjdHMsIHdlIGFwcGx5IHN0cmluZyBjb2VyY2lvbiAod2hpY2ggbWlnaHQgbWFrZSB0aGluZ3MgbGlrZSAkc3RhdGUgYXJyYXkgcmVmZXJlbmNlcyBpbiB0aGUgdGVtcGxhdGUgcmVhY3RpdmUpIGJlZm9yZSBkaWZmaW5nXG5cdHZhciBzdHIgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdmFsdWUgKyAnJyA6IHZhbHVlO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGlmIChzdHIgIT09ICh0ZXh0Ll9fdCA/Pz0gdGV4dC5ub2RlVmFsdWUpKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHRleHQuX190ID0gc3RyO1xuXHRcdHRleHQubm9kZVZhbHVlID0gc3RyICsgJyc7XG5cdH1cbn1cblxuLyoqXG4gKiBNb3VudHMgYSBjb21wb25lbnQgdG8gdGhlIGdpdmVuIHRhcmdldCBhbmQgcmV0dXJucyB0aGUgZXhwb3J0cyBhbmQgcG90ZW50aWFsbHkgdGhlIHByb3BzIChpZiBjb21waWxlZCB3aXRoIGBhY2Nlc3NvcnM6IHRydWVgKSBvZiB0aGUgY29tcG9uZW50LlxuICogVHJhbnNpdGlvbnMgd2lsbCBwbGF5IGR1cmluZyB0aGUgaW5pdGlhbCByZW5kZXIgdW5sZXNzIHRoZSBgaW50cm9gIG9wdGlvbiBpcyBzZXQgdG8gYGZhbHNlYC5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge01vdW50T3B0aW9uczxQcm9wcz59IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoY29tcG9uZW50LCBvcHRpb25zKSB7XG5cdHJldHVybiBfbW91bnQoY29tcG9uZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBIeWRyYXRlcyBhIGNvbXBvbmVudCBvbiB0aGUgZ2l2ZW4gdGFyZ2V0IGFuZCByZXR1cm5zIHRoZSBleHBvcnRzIGFuZCBwb3RlbnRpYWxseSB0aGUgcHJvcHMgKGlmIGNvbXBpbGVkIHdpdGggYGFjY2Vzc29yczogdHJ1ZWApIG9mIHRoZSBjb21wb25lbnRcbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge3t9IGV4dGVuZHMgUHJvcHMgPyB7XG4gKiBcdFx0dGFyZ2V0OiBEb2N1bWVudCB8IEVsZW1lbnQgfCBTaGFkb3dSb290O1xuICogXHRcdHByb3BzPzogUHJvcHM7XG4gKiBcdFx0ZXZlbnRzPzogUmVjb3JkPHN0cmluZywgKGU6IGFueSkgPT4gYW55PjtcbiAqICBcdGNvbnRleHQ/OiBNYXA8YW55LCBhbnk+O1xuICogXHRcdGludHJvPzogYm9vbGVhbjtcbiAqIFx0XHRyZWNvdmVyPzogYm9vbGVhbjtcbiAqIFx0fSA6IHtcbiAqIFx0XHR0YXJnZXQ6IERvY3VtZW50IHwgRWxlbWVudCB8IFNoYWRvd1Jvb3Q7XG4gKiBcdFx0cHJvcHM6IFByb3BzO1xuICogXHRcdGV2ZW50cz86IFJlY29yZDxzdHJpbmcsIChlOiBhbnkpID0+IGFueT47XG4gKiAgXHRjb250ZXh0PzogTWFwPGFueSwgYW55PjtcbiAqIFx0XHRpbnRybz86IGJvb2xlYW47XG4gKiBcdFx0cmVjb3Zlcj86IGJvb2xlYW47XG4gKiBcdH19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0aW5pdF9vcGVyYXRpb25zKCk7XG5cdG9wdGlvbnMuaW50cm8gPSBvcHRpb25zLmludHJvID8/IGZhbHNlO1xuXHRjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcblx0Y29uc3Qgd2FzX2h5ZHJhdGluZyA9IGh5ZHJhdGluZztcblx0Y29uc3QgcHJldmlvdXNfaHlkcmF0ZV9ub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdHRyeSB7XG5cdFx0dmFyIGFuY2hvciA9IGdldF9maXJzdF9jaGlsZCh0YXJnZXQpO1xuXG5cdFx0d2hpbGUgKFxuXHRcdFx0YW5jaG9yICYmXG5cdFx0XHQoYW5jaG9yLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUgfHwgLyoqIEB0eXBlIHtDb21tZW50fSAqLyAoYW5jaG9yKS5kYXRhICE9PSBIWURSQVRJT05fU1RBUlQpXG5cdFx0KSB7XG5cdFx0XHRhbmNob3IgPSBnZXRfbmV4dF9zaWJsaW5nKGFuY2hvcik7XG5cdFx0fVxuXG5cdFx0aWYgKCFhbmNob3IpIHtcblx0XHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0XHR9XG5cblx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHRcdHNldF9oeWRyYXRlX25vZGUoLyoqIEB0eXBlIHtDb21tZW50fSAqLyAoYW5jaG9yKSk7XG5cblx0XHRjb25zdCBpbnN0YW5jZSA9IF9tb3VudChjb21wb25lbnQsIHsgLi4ub3B0aW9ucywgYW5jaG9yIH0pO1xuXG5cdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cblx0XHRyZXR1cm4gLyoqICBAdHlwZSB7RXhwb3J0c30gKi8gKGluc3RhbmNlKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyByZS10aHJvdyBTdmVsdGUgZXJyb3JzIC0gdGhleSBhcmUgY2VydGFpbmx5IG5vdCByZWxhdGVkIHRvIGh5ZHJhdGlvblxuXHRcdGlmIChcblx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGVycm9yLm1lc3NhZ2Uuc3BsaXQoJ1xcbicpLnNvbWUoKGxpbmUpID0+IGxpbmUuc3RhcnRzV2l0aCgnaHR0cHM6Ly9zdmVsdGUuZGV2L2UvJykpXG5cdFx0KSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0aWYgKGVycm9yICE9PSBIWURSQVRJT05fRVJST1IpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBoeWRyYXRlOiAnLCBlcnJvcik7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMucmVjb3ZlciA9PT0gZmFsc2UpIHtcblx0XHRcdGUuaHlkcmF0aW9uX2ZhaWxlZCgpO1xuXHRcdH1cblxuXHRcdC8vIElmIGFuIGVycm9yIG9jY3VycmVkIGFib3ZlLCB0aGUgb3BlcmF0aW9ucyBtaWdodCBub3QgeWV0IGhhdmUgYmVlbiBpbml0aWFsaXNlZC5cblx0XHRpbml0X29wZXJhdGlvbnMoKTtcblx0XHRjbGVhcl90ZXh0X2NvbnRlbnQodGFyZ2V0KTtcblxuXHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdHJldHVybiBtb3VudChjb21wb25lbnQsIG9wdGlvbnMpO1xuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9oeWRyYXRpbmcod2FzX2h5ZHJhdGluZyk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZShwcmV2aW91c19oeWRyYXRlX25vZGUpO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7TWFwPHN0cmluZywgbnVtYmVyPn0gKi9cbmNvbnN0IGRvY3VtZW50X2xpc3RlbmVycyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8YW55Pj4gfCBDb21wb25lbnQ8YW55Pn0gQ29tcG9uZW50XG4gKiBAcGFyYW0ge01vdW50T3B0aW9uc30gb3B0aW9uc1xuICogQHJldHVybnMge0V4cG9ydHN9XG4gKi9cbmZ1bmN0aW9uIF9tb3VudChDb21wb25lbnQsIHsgdGFyZ2V0LCBhbmNob3IsIHByb3BzID0ge30sIGV2ZW50cywgY29udGV4dCwgaW50cm8gPSB0cnVlIH0pIHtcblx0aW5pdF9vcGVyYXRpb25zKCk7XG5cblx0LyoqIEB0eXBlIHtTZXQ8c3RyaW5nPn0gKi9cblx0dmFyIHJlZ2lzdGVyZWRfZXZlbnRzID0gbmV3IFNldCgpO1xuXG5cdC8qKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGV2ZW50cyAqL1xuXHR2YXIgZXZlbnRfaGFuZGxlID0gKGV2ZW50cykgPT4ge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZXZlbnRfbmFtZSA9IGV2ZW50c1tpXTtcblxuXHRcdFx0aWYgKHJlZ2lzdGVyZWRfZXZlbnRzLmhhcyhldmVudF9uYW1lKSkgY29udGludWU7XG5cdFx0XHRyZWdpc3RlcmVkX2V2ZW50cy5hZGQoZXZlbnRfbmFtZSk7XG5cblx0XHRcdHZhciBwYXNzaXZlID0gaXNfcGFzc2l2ZV9ldmVudChldmVudF9uYW1lKTtcblxuXHRcdFx0Ly8gQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byBib3RoIHRoZSBjb250YWluZXIgYW5kIHRoZSBkb2N1bWVudC5cblx0XHRcdC8vIFRoZSBjb250YWluZXIgbGlzdGVuZXIgZW5zdXJlcyB3ZSBjYXRjaCBldmVudHMgZnJvbSB3aXRoaW4gaW4gY2FzZVxuXHRcdFx0Ly8gdGhlIG91dGVyIGNvbnRlbnQgc3RvcHMgcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50LlxuXHRcdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLCB7IHBhc3NpdmUgfSk7XG5cblx0XHRcdHZhciBuID0gZG9jdW1lbnRfbGlzdGVuZXJzLmdldChldmVudF9uYW1lKTtcblxuXHRcdFx0aWYgKG4gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBUaGUgZG9jdW1lbnQgbGlzdGVuZXIgZW5zdXJlcyB3ZSBjYXRjaCBldmVudHMgdGhhdCBvcmlnaW5hdGUgZnJvbSBlbGVtZW50cyB0aGF0IHdlcmVcblx0XHRcdFx0Ly8gbWFudWFsbHkgbW92ZWQgb3V0c2lkZSBvZiB0aGUgY29udGFpbmVyIChlLmcuIHZpYSBtYW51YWwgcG9ydGFscykuXG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLCB7IHBhc3NpdmUgfSk7XG5cdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuc2V0KGV2ZW50X25hbWUsIG4gKyAxKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZXZlbnRfaGFuZGxlKGFycmF5X2Zyb20oYWxsX3JlZ2lzdGVyZWRfZXZlbnRzKSk7XG5cdHJvb3RfZXZlbnRfaGFuZGxlcy5hZGQoZXZlbnRfaGFuZGxlKTtcblxuXHQvKiogQHR5cGUge0V4cG9ydHN9ICovXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Igd2lsbCBiZSBkZWZpbmVkIGJlY2F1c2UgdGhlIHJlbmRlciBlZmZlY3QgcnVucyBzeW5jaHJvbm91c2x5XG5cdHZhciBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cblx0dmFyIHVubW91bnQgPSBjb21wb25lbnRfcm9vdCgoKSA9PiB7XG5cdFx0dmFyIGFuY2hvcl9ub2RlID0gYW5jaG9yID8/IHRhcmdldC5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblxuXHRcdGJvdW5kYXJ5KFxuXHRcdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChhbmNob3Jfbm9kZSksXG5cdFx0XHR7XG5cdFx0XHRcdHBlbmRpbmc6ICgpID0+IHt9XG5cdFx0XHR9LFxuXHRcdFx0KGFuY2hvcl9ub2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb250ZXh0KSB7XG5cdFx0XHRcdFx0cHVzaCh7fSk7XG5cdFx0XHRcdFx0dmFyIGN0eCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblx0XHRcdFx0XHRjdHguYyA9IGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZXZlbnRzKSB7XG5cdFx0XHRcdFx0Ly8gV2UgY2FuJ3Qgc3ByZWFkIHRoZSBvYmplY3Qgb3IgZWxzZSB3ZSdkIGxvc2UgdGhlIHN0YXRlIHByb3h5IHN0dWZmLCBpZiBpdCBpcyBvbmVcblx0XHRcdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKHByb3BzKS4kJGV2ZW50cyA9IGV2ZW50cztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0XHRhc3NpZ25fbm9kZXMoLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChhbmNob3Jfbm9kZSksIG51bGwpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2hvdWxkX2ludHJvID0gaW50cm87XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgdGhlIHB1YmxpYyB0eXBpbmdzIGFyZSBub3Qgd2hhdCB0aGUgYWN0dWFsIGZ1bmN0aW9uIGxvb2tzIGxpa2Vcblx0XHRcdFx0Y29tcG9uZW50ID0gQ29tcG9uZW50KGFuY2hvcl9ub2RlLCBwcm9wcykgfHwge307XG5cdFx0XHRcdHNob3VsZF9pbnRybyA9IHRydWU7XG5cblx0XHRcdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0ICYgeyBub2RlczogRWZmZWN0Tm9kZXMgfX0gKi8gKGFjdGl2ZV9lZmZlY3QpLm5vZGVzLmVuZCA9IGh5ZHJhdGVfbm9kZTtcblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGh5ZHJhdGVfbm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0XHRcdFx0aHlkcmF0ZV9ub2RlLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUgfHxcblx0XHRcdFx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSkuZGF0YSAhPT0gSFlEUkFUSU9OX0VORFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHRcdFx0XHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29udGV4dCkge1xuXHRcdFx0XHRcdHBvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRmb3IgKHZhciBldmVudF9uYW1lIG9mIHJlZ2lzdGVyZWRfZXZlbnRzKSB7XG5cdFx0XHRcdHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbik7XG5cblx0XHRcdFx0dmFyIG4gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGRvY3VtZW50X2xpc3RlbmVycy5nZXQoZXZlbnRfbmFtZSkpO1xuXG5cdFx0XHRcdGlmICgtLW4gPT09IDApIHtcblx0XHRcdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbik7XG5cdFx0XHRcdFx0ZG9jdW1lbnRfbGlzdGVuZXJzLmRlbGV0ZShldmVudF9uYW1lKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuc2V0KGV2ZW50X25hbWUsIG4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJvb3RfZXZlbnRfaGFuZGxlcy5kZWxldGUoZXZlbnRfaGFuZGxlKTtcblxuXHRcdFx0aWYgKGFuY2hvcl9ub2RlICE9PSBhbmNob3IpIHtcblx0XHRcdFx0YW5jaG9yX25vZGUucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoYW5jaG9yX25vZGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xuXG5cdG1vdW50ZWRfY29tcG9uZW50cy5zZXQoY29tcG9uZW50LCB1bm1vdW50KTtcblx0cmV0dXJuIGNvbXBvbmVudDtcbn1cblxuLyoqXG4gKiBSZWZlcmVuY2VzIG9mIHRoZSBjb21wb25lbnRzIHRoYXQgd2VyZSBtb3VudGVkIG9yIGh5ZHJhdGVkLlxuICogVXNlcyBhIGBXZWFrTWFwYCB0byBhdm9pZCBtZW1vcnkgbGVha3MuXG4gKi9cbmxldCBtb3VudGVkX2NvbXBvbmVudHMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIFVubW91bnRzIGEgY29tcG9uZW50IHRoYXQgd2FzIHByZXZpb3VzbHkgbW91bnRlZCB1c2luZyBgbW91bnRgIG9yIGBoeWRyYXRlYC5cbiAqXG4gKiBTaW5jZSA1LjEzLjAsIGlmIGBvcHRpb25zLm91dHJvYCBpcyBgdHJ1ZWAsIFt0cmFuc2l0aW9uc10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3RyYW5zaXRpb24pIHdpbGwgcGxheSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqXG4gKiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdHJhbnNpdGlvbnMgaGF2ZSBjb21wbGV0ZWQgaWYgYG9wdGlvbnMub3V0cm9gIGlzIHRydWUsIG9yIGltbWVkaWF0ZWx5IG90aGVyd2lzZSAocHJpb3IgdG8gNS4xMy4wLCByZXR1cm5zIGB2b2lkYCkuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7IG1vdW50LCB1bm1vdW50IH0gZnJvbSAnc3ZlbHRlJztcbiAqIGltcG9ydCBBcHAgZnJvbSAnLi9BcHAuc3ZlbHRlJztcbiAqXG4gKiBjb25zdCBhcHAgPSBtb3VudChBcHAsIHsgdGFyZ2V0OiBkb2N1bWVudC5ib2R5IH0pO1xuICpcbiAqIC8vIGxhdGVyLi4uXG4gKiB1bm1vdW50KGFwcCwgeyBvdXRybzogdHJ1ZSB9KTtcbiAqIGBgYFxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7eyBvdXRybz86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQoY29tcG9uZW50LCBvcHRpb25zKSB7XG5cdGNvbnN0IGZuID0gbW91bnRlZF9jb21wb25lbnRzLmdldChjb21wb25lbnQpO1xuXG5cdGlmIChmbikge1xuXHRcdG1vdW50ZWRfY29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcblx0XHRyZXR1cm4gZm4ob3B0aW9ucyk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0aWYgKFNUQVRFX1NZTUJPTCBpbiBjb21wb25lbnQpIHtcblx0XHRcdHcuc3RhdGVfcHJveHlfdW5tb3VudCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3LmxpZmVjeWNsZV9kb3VibGVfdW5tb3VudCgpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEVmZmVjdCwgVGVtcGxhdGVOb2RlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IEJhdGNoLCBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5pbXBvcnQge1xuXHRicmFuY2gsXG5cdGRlc3Ryb3lfZWZmZWN0LFxuXHRtb3ZlX2VmZmVjdCxcblx0cGF1c2VfZWZmZWN0LFxuXHRyZXN1bWVfZWZmZWN0XG59IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfdGV4dCwgc2hvdWxkX2RlZmVyX2FwcGVuZCB9IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7IGVmZmVjdDogRWZmZWN0LCBmcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudCB9fSBCcmFuY2hcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBLZXlcbiAqL1xuZXhwb3J0IGNsYXNzIEJyYW5jaE1hbmFnZXIge1xuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi9cblx0YW5jaG9yO1xuXG5cdC8qKiBAdHlwZSB7TWFwPEJhdGNoLCBLZXk+fSAqL1xuXHQjYmF0Y2hlcyA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogTWFwIG9mIGtleXMgdG8gZWZmZWN0cyB0aGF0IGFyZSBjdXJyZW50bHkgcmVuZGVyZWQgaW4gdGhlIERPTS5cblx0ICogVGhlc2UgZWZmZWN0cyBhcmUgdmlzaWJsZSBhbmQgYWN0aXZlbHkgcGFydCBvZiB0aGUgZG9jdW1lbnQgdHJlZS5cblx0ICogRXhhbXBsZTpcblx0ICogYGBgXG5cdCAqIHsjaWYgY29uZGl0aW9ufVxuXHQgKiBcdGZvb1xuXHQgKiB7OmVsc2V9XG5cdCAqIFx0YmFyXG5cdCAqIHsvaWZ9XG5cdCAqIGBgYFxuXHQgKiBDYW4gcmVzdWx0IGluIHRoZSBlbnRyaWVzIGB0cnVlLT5FZmZlY3RgIGFuZCBgZmFsc2UtPkVmZmVjdGBcblx0ICogQHR5cGUge01hcDxLZXksIEVmZmVjdD59XG5cdCAqL1xuXHQjb25zY3JlZW4gPSBuZXcgTWFwKCk7XG5cblx0LyoqXG5cdCAqIFNpbWlsYXIgdG8gI29uc2NyZWVuIHdpdGggcmVzcGVjdCB0byB0aGUga2V5cywgYnV0IGNvbnRhaW5zIGJyYW5jaGVzIHRoYXQgYXJlIG5vdCB5ZXRcblx0ICogaW4gdGhlIERPTSwgYmVjYXVzZSB0aGVpciBpbnNlcnRpb24gaXMgZGVmZXJyZWQuXG5cdCAqIEB0eXBlIHtNYXA8S2V5LCBCcmFuY2g+fVxuXHQgKi9cblx0I29mZnNjcmVlbiA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogS2V5cyBvZiBlZmZlY3RzIHRoYXQgYXJlIGN1cnJlbnRseSBvdXRyb2luZ1xuXHQgKiBAdHlwZSB7U2V0PEtleT59XG5cdCAqL1xuXHQjb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIFdoZXRoZXIgdG8gcGF1c2UgKGkuZS4gb3V0cm8pIG9uIGNoYW5nZSwgb3IgZGVzdHJveSBpbW1lZGlhdGVseS5cblx0ICogVGhpcyBpcyBuZWNlc3NhcnkgZm9yIGA8c3ZlbHRlOmVsZW1lbnQ+YFxuXHQgKi9cblx0I3RyYW5zaXRpb24gPSB0cnVlO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gYW5jaG9yXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvblxuXHQgKi9cblx0Y29uc3RydWN0b3IoYW5jaG9yLCB0cmFuc2l0aW9uID0gdHJ1ZSkge1xuXHRcdHRoaXMuYW5jaG9yID0gYW5jaG9yO1xuXHRcdHRoaXMuI3RyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXHR9XG5cblx0I2NvbW1pdCA9ICgpID0+IHtcblx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cblx0XHQvLyBpZiB0aGlzIGJhdGNoIHdhcyBtYWRlIG9ic29sZXRlLCBiYWlsXG5cdFx0aWYgKCF0aGlzLiNiYXRjaGVzLmhhcyhiYXRjaCkpIHJldHVybjtcblxuXHRcdHZhciBrZXkgPSAvKiogQHR5cGUge0tleX0gKi8gKHRoaXMuI2JhdGNoZXMuZ2V0KGJhdGNoKSk7XG5cblx0XHR2YXIgb25zY3JlZW4gPSB0aGlzLiNvbnNjcmVlbi5nZXQoa2V5KTtcblxuXHRcdGlmIChvbnNjcmVlbikge1xuXHRcdFx0Ly8gZWZmZWN0IGlzIGFscmVhZHkgaW4gdGhlIERPTSBcdTIwMTQgYWJvcnQgYW55IGN1cnJlbnQgb3V0cm9cblx0XHRcdHJlc3VtZV9lZmZlY3Qob25zY3JlZW4pO1xuXHRcdFx0dGhpcy4jb3V0cm9pbmcuZGVsZXRlKGtleSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGVmZmVjdCBpcyBjdXJyZW50bHkgb2Zmc2NyZWVuLiBwdXQgaXQgaW4gdGhlIERPTVxuXHRcdFx0dmFyIG9mZnNjcmVlbiA9IHRoaXMuI29mZnNjcmVlbi5nZXQoa2V5KTtcblxuXHRcdFx0aWYgKG9mZnNjcmVlbikge1xuXHRcdFx0XHR0aGlzLiNvbnNjcmVlbi5zZXQoa2V5LCBvZmZzY3JlZW4uZWZmZWN0KTtcblx0XHRcdFx0dGhpcy4jb2Zmc2NyZWVuLmRlbGV0ZShrZXkpO1xuXG5cdFx0XHRcdC8vIHJlbW92ZSB0aGUgYW5jaG9yLi4uXG5cdFx0XHRcdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAob2Zmc2NyZWVuLmZyYWdtZW50Lmxhc3RDaGlsZCkucmVtb3ZlKCk7XG5cblx0XHRcdFx0Ly8gLi4uYW5kIGFwcGVuZCB0aGUgZnJhZ21lbnRcblx0XHRcdFx0dGhpcy5hbmNob3IuYmVmb3JlKG9mZnNjcmVlbi5mcmFnbWVudCk7XG5cdFx0XHRcdG9uc2NyZWVuID0gb2Zmc2NyZWVuLmVmZmVjdDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IFtiLCBrXSBvZiB0aGlzLiNiYXRjaGVzKSB7XG5cdFx0XHR0aGlzLiNiYXRjaGVzLmRlbGV0ZShiKTtcblxuXHRcdFx0aWYgKGIgPT09IGJhdGNoKSB7XG5cdFx0XHRcdC8vIGtlZXAgdmFsdWVzIGZvciBuZXdlciBiYXRjaGVzXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBvZmZzY3JlZW4gPSB0aGlzLiNvZmZzY3JlZW4uZ2V0KGspO1xuXG5cdFx0XHRpZiAob2Zmc2NyZWVuKSB7XG5cdFx0XHRcdC8vIGZvciBvbGRlciBiYXRjaGVzLCBkZXN0cm95IG9mZnNjcmVlbiBlZmZlY3RzXG5cdFx0XHRcdC8vIGFzIHRoZXkgd2lsbCBuZXZlciBiZSBjb21taXR0ZWRcblx0XHRcdFx0ZGVzdHJveV9lZmZlY3Qob2Zmc2NyZWVuLmVmZmVjdCk7XG5cdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5kZWxldGUoayk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gb3V0cm8vZGVzdHJveSBhbGwgb25zY3JlZW4gZWZmZWN0cy4uLlxuXHRcdGZvciAoY29uc3QgW2ssIGVmZmVjdF0gb2YgdGhpcy4jb25zY3JlZW4pIHtcblx0XHRcdC8vIC4uLmV4Y2VwdCB0aGUgb25lIHRoYXQgd2FzIGp1c3QgY29tbWl0dGVkXG5cdFx0XHQvLyAgICBvciB0aG9zZSB0aGF0IGFyZSBhbHJlYWR5IG91dHJvaW5nIChlbHNlIHRoZSB0cmFuc2l0aW9uIGlzIGFib3J0ZWQgYW5kIHRoZSBlZmZlY3QgZGVzdHJveWVkIHJpZ2h0IGF3YXkpXG5cdFx0XHRpZiAoayA9PT0ga2V5IHx8IHRoaXMuI291dHJvaW5nLmhhcyhrKSkgY29udGludWU7XG5cblx0XHRcdGNvbnN0IG9uX2Rlc3Ryb3kgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHRoaXMuI2JhdGNoZXMudmFsdWVzKCkpO1xuXG5cdFx0XHRcdGlmIChrZXlzLmluY2x1ZGVzKGspKSB7XG5cdFx0XHRcdFx0Ly8ga2VlcCB0aGUgZWZmZWN0IG9mZnNjcmVlbiwgYXMgYW5vdGhlciBiYXRjaCB3aWxsIG5lZWQgaXRcblx0XHRcdFx0XHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdFx0bW92ZV9lZmZlY3QoZWZmZWN0LCBmcmFnbWVudCk7XG5cblx0XHRcdFx0XHRmcmFnbWVudC5hcHBlbmQoY3JlYXRlX3RleHQoKSk7IC8vIFRPRE8gY2FuIHdlIGF2b2lkIHRoaXM/XG5cblx0XHRcdFx0XHR0aGlzLiNvZmZzY3JlZW4uc2V0KGssIHsgZWZmZWN0LCBmcmFnbWVudCB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy4jb3V0cm9pbmcuZGVsZXRlKGspO1xuXHRcdFx0XHR0aGlzLiNvbnNjcmVlbi5kZWxldGUoayk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAodGhpcy4jdHJhbnNpdGlvbiB8fCAhb25zY3JlZW4pIHtcblx0XHRcdFx0dGhpcy4jb3V0cm9pbmcuYWRkKGspO1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QoZWZmZWN0LCBvbl9kZXN0cm95LCBmYWxzZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvbl9kZXN0cm95KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0JhdGNofSBiYXRjaFxuXHQgKi9cblx0I2Rpc2NhcmQgPSAoYmF0Y2gpID0+IHtcblx0XHR0aGlzLiNiYXRjaGVzLmRlbGV0ZShiYXRjaCk7XG5cblx0XHRjb25zdCBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLiNiYXRjaGVzLnZhbHVlcygpKTtcblxuXHRcdGZvciAoY29uc3QgW2ssIGJyYW5jaF0gb2YgdGhpcy4jb2Zmc2NyZWVuKSB7XG5cdFx0XHRpZiAoIWtleXMuaW5jbHVkZXMoaykpIHtcblx0XHRcdFx0ZGVzdHJveV9lZmZlY3QoYnJhbmNoLmVmZmVjdCk7XG5cdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5kZWxldGUoayk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0ga2V5XG5cdCAqIEBwYXJhbSB7bnVsbCB8ICgodGFyZ2V0OiBUZW1wbGF0ZU5vZGUpID0+IHZvaWQpfSBmblxuXHQgKi9cblx0ZW5zdXJlKGtleSwgZm4pIHtcblx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cdFx0dmFyIGRlZmVyID0gc2hvdWxkX2RlZmVyX2FwcGVuZCgpO1xuXG5cdFx0aWYgKGZuICYmICF0aGlzLiNvbnNjcmVlbi5oYXMoa2V5KSAmJiAhdGhpcy4jb2Zmc2NyZWVuLmhhcyhrZXkpKSB7XG5cdFx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdFx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gY3JlYXRlX3RleHQoKTtcblxuXHRcdFx0XHRmcmFnbWVudC5hcHBlbmQodGFyZ2V0KTtcblxuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW4uc2V0KGtleSwge1xuXHRcdFx0XHRcdGVmZmVjdDogYnJhbmNoKCgpID0+IGZuKHRhcmdldCkpLFxuXHRcdFx0XHRcdGZyYWdtZW50XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy4jb25zY3JlZW4uc2V0KFxuXHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRicmFuY2goKCkgPT4gZm4odGhpcy5hbmNob3IpKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuI2JhdGNoZXMuc2V0KGJhdGNoLCBrZXkpO1xuXG5cdFx0aWYgKGRlZmVyKSB7XG5cdFx0XHRmb3IgKGNvbnN0IFtrLCBlZmZlY3RdIG9mIHRoaXMuI29uc2NyZWVuKSB7XG5cdFx0XHRcdGlmIChrID09PSBrZXkpIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YmF0Y2guc2tpcHBlZF9lZmZlY3RzLmFkZChlZmZlY3QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgW2ssIGJyYW5jaF0gb2YgdGhpcy4jb2Zmc2NyZWVuKSB7XG5cdFx0XHRcdGlmIChrID09PSBrZXkpIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuZGVsZXRlKGJyYW5jaC5lZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5hZGQoYnJhbmNoLmVmZmVjdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YmF0Y2gub25jb21taXQodGhpcy4jY29tbWl0KTtcblx0XHRcdGJhdGNoLm9uZGlzY2FyZCh0aGlzLiNkaXNjYXJkKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0XHR0aGlzLmFuY2hvciA9IGh5ZHJhdGVfbm9kZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy4jY29tbWl0KCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgRUZGRUNUX1RSQU5TUEFSRU5UIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHtcblx0aHlkcmF0ZV9uZXh0LFxuXHRoeWRyYXRpbmcsXG5cdHJlYWRfaHlkcmF0aW9uX2luc3RydWN0aW9uLFxuXHRza2lwX25vZGVzLFxuXHRzZXRfaHlkcmF0ZV9ub2RlLFxuXHRzZXRfaHlkcmF0aW5nXG59IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBibG9jayB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBIWURSQVRJT05fU1RBUlRfRUxTRSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBCcmFuY2hNYW5hZ2VyIH0gZnJvbSAnLi9icmFuY2hlcy5qcyc7XG5cbi8vIFRPRE8gcmVpbnN0YXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvcHVsbC8xNTI1MFxuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKiBAcGFyYW0geyhicmFuY2g6IChmbjogKGFuY2hvcjogTm9kZSkgPT4gdm9pZCwgZmxhZz86IGJvb2xlYW4pID0+IHZvaWQpID0+IHZvaWR9IGZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbHNlaWZdIFRydWUgaWYgdGhpcyBpcyBhbiBgezplbHNlIGlmIC4uLn1gIGJsb2NrIHJhdGhlciB0aGFuIGFuIGB7I2lmIC4uLn1gLCBhcyB0aGF0IGFmZmVjdHMgd2hpY2ggdHJhbnNpdGlvbnMgYXJlIGNvbnNpZGVyZWQgJ2xvY2FsJ1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZl9ibG9jayhub2RlLCBmbiwgZWxzZWlmID0gZmFsc2UpIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHR9XG5cblx0dmFyIGJyYW5jaGVzID0gbmV3IEJyYW5jaE1hbmFnZXIobm9kZSk7XG5cdHZhciBmbGFncyA9IGVsc2VpZiA/IEVGRkVDVF9UUkFOU1BBUkVOVCA6IDA7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZGl0aW9uLFxuXHQgKiBAcGFyYW0ge251bGwgfCAoKGFuY2hvcjogTm9kZSkgPT4gdm9pZCl9IGZuXG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGVfYnJhbmNoKGNvbmRpdGlvbiwgZm4pIHtcblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRjb25zdCBpc19lbHNlID0gcmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24obm9kZSkgPT09IEhZRFJBVElPTl9TVEFSVF9FTFNFO1xuXG5cdFx0XHRpZiAoY29uZGl0aW9uID09PSBpc19lbHNlKSB7XG5cdFx0XHRcdC8vIEh5ZHJhdGlvbiBtaXNtYXRjaDogcmVtb3ZlIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSBhbmNob3IgYW5kIHN0YXJ0IGZyZXNoLlxuXHRcdFx0XHQvLyBUaGlzIGNvdWxkIGhhcHBlbiB3aXRoIGB7I2lmIGJyb3dzZXJ9Li4uey9pZn1gLCBmb3IgZXhhbXBsZVxuXHRcdFx0XHR2YXIgYW5jaG9yID0gc2tpcF9ub2RlcygpO1xuXG5cdFx0XHRcdHNldF9oeWRyYXRlX25vZGUoYW5jaG9yKTtcblx0XHRcdFx0YnJhbmNoZXMuYW5jaG9yID0gYW5jaG9yO1xuXG5cdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRicmFuY2hlcy5lbnN1cmUoY29uZGl0aW9uLCBmbik7XG5cdFx0XHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGJyYW5jaGVzLmVuc3VyZShjb25kaXRpb24sIGZuKTtcblx0fVxuXG5cdGJsb2NrKCgpID0+IHtcblx0XHR2YXIgaGFzX2JyYW5jaCA9IGZhbHNlO1xuXG5cdFx0Zm4oKGZuLCBmbGFnID0gdHJ1ZSkgPT4ge1xuXHRcdFx0aGFzX2JyYW5jaCA9IHRydWU7XG5cdFx0XHR1cGRhdGVfYnJhbmNoKGZsYWcsIGZuKTtcblx0XHR9KTtcblxuXHRcdGlmICghaGFzX2JyYW5jaCkge1xuXHRcdFx0dXBkYXRlX2JyYW5jaChmYWxzZSwgbnVsbCk7XG5cdFx0fVxuXHR9LCBmbGFncyk7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBFYWNoSXRlbSwgRWFjaE91dHJvR3JvdXAsIEVhY2hTdGF0ZSwgRWZmZWN0LCBFZmZlY3ROb2RlcywgTWF5YmVTb3VyY2UsIFNvdXJjZSwgVGVtcGxhdGVOb2RlLCBUcmFuc2l0aW9uTWFuYWdlciwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnOyAqL1xuaW1wb3J0IHtcblx0RUFDSF9JTkRFWF9SRUFDVElWRSxcblx0RUFDSF9JU19BTklNQVRFRCxcblx0RUFDSF9JU19DT05UUk9MTEVELFxuXHRFQUNIX0lURU1fSU1NVVRBQkxFLFxuXHRFQUNIX0lURU1fUkVBQ1RJVkUsXG5cdEhZRFJBVElPTl9FTkQsXG5cdEhZRFJBVElPTl9TVEFSVF9FTFNFXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGVfbm9kZSxcblx0aHlkcmF0aW5nLFxuXHRyZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbixcblx0c2tpcF9ub2Rlcyxcblx0c2V0X2h5ZHJhdGVfbm9kZSxcblx0c2V0X2h5ZHJhdGluZ1xufSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHtcblx0Y2xlYXJfdGV4dF9jb250ZW50LFxuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRnZXRfbmV4dF9zaWJsaW5nLFxuXHRzaG91bGRfZGVmZXJfYXBwZW5kXG59IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHtcblx0YmxvY2ssXG5cdGJyYW5jaCxcblx0ZGVzdHJveV9lZmZlY3QsXG5cdHBhdXNlX2VmZmVjdCxcblx0cmVzdW1lX2VmZmVjdFxufSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc291cmNlLCBtdXRhYmxlX3NvdXJjZSwgaW50ZXJuYWxfc2V0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IGFycmF5X2Zyb20sIGlzX2FycmF5IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSwgRUZGRUNUX09GRlNDUkVFTiwgSU5FUlQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZGVyaXZlZF9zYWZlX2VxdWFsIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8vIFdoZW4gbWFraW5nIHN1YnN0YW50aXZlIGNoYW5nZXMgdG8gdGhpcyBmaWxlLCB2YWxpZGF0ZSB0aGVtIHdpdGggdGhlIGVhY2ggYmxvY2sgc3RyZXNzIHRlc3Q6XG4vLyBodHRwczovL3N2ZWx0ZS5kZXYvcGxheWdyb3VuZC8xOTcyYjJjZjQ2NTY0NDc2YWQ4YzhjNjQwNWIyM2I3YlxuLy8gVGhpcyB0ZXN0IGFsc28gZXhpc3RzIGluIHRoaXMgcmVwbywgYXMgYHBhY2thZ2VzL3N2ZWx0ZS90ZXN0cy9tYW51YWwvZWFjaC1zdHJlc3MtdGVzdGBcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gX1xuICogQHBhcmFtIHtudW1iZXJ9IGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4KF8sIGkpIHtcblx0cmV0dXJuIGk7XG59XG5cbi8qKlxuICogUGF1c2UgbXVsdGlwbGUgZWZmZWN0cyBzaW11bHRhbmVvdXNseSwgYW5kIGNvb3JkaW5hdGUgdGhlaXJcbiAqIHN1YnNlcXVlbnQgZGVzdHJ1Y3Rpb24uIFVzZWQgaW4gZWFjaCBibG9ja3NcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtFZmZlY3RbXX0gdG9fZGVzdHJveVxuICogQHBhcmFtIHtudWxsIHwgTm9kZX0gY29udHJvbGxlZF9hbmNob3JcbiAqL1xuZnVuY3Rpb24gcGF1c2VfZWZmZWN0cyhzdGF0ZSwgdG9fZGVzdHJveSwgY29udHJvbGxlZF9hbmNob3IpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uTWFuYWdlcltdfSAqL1xuXHR2YXIgdHJhbnNpdGlvbnMgPSBbXTtcblx0dmFyIGxlbmd0aCA9IHRvX2Rlc3Ryb3kubGVuZ3RoO1xuXG5cdC8qKiBAdHlwZSB7RWFjaE91dHJvR3JvdXB9ICovXG5cdHZhciBncm91cDtcblx0dmFyIHJlbWFpbmluZyA9IHRvX2Rlc3Ryb3kubGVuZ3RoO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRsZXQgZWZmZWN0ID0gdG9fZGVzdHJveVtpXTtcblxuXHRcdHBhdXNlX2VmZmVjdChcblx0XHRcdGVmZmVjdCxcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRcdFx0Z3JvdXAucGVuZGluZy5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0XHRncm91cC5kb25lLmFkZChlZmZlY3QpO1xuXG5cdFx0XHRcdFx0aWYgKGdyb3VwLnBlbmRpbmcuc2l6ZSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0dmFyIGdyb3VwcyA9IC8qKiBAdHlwZSB7U2V0PEVhY2hPdXRyb0dyb3VwPn0gKi8gKHN0YXRlLm91dHJvZ3JvdXBzKTtcblxuXHRcdFx0XHRcdFx0ZGVzdHJveV9lZmZlY3RzKGFycmF5X2Zyb20oZ3JvdXAuZG9uZSkpO1xuXHRcdFx0XHRcdFx0Z3JvdXBzLmRlbGV0ZShncm91cCk7XG5cblx0XHRcdFx0XHRcdGlmIChncm91cHMuc2l6ZSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzdGF0ZS5vdXRyb2dyb3VwcyA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlbWFpbmluZyAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZmFsc2Vcblx0XHQpO1xuXHR9XG5cblx0aWYgKHJlbWFpbmluZyA9PT0gMCkge1xuXHRcdC8vIElmIHdlJ3JlIGluIGEgY29udHJvbGxlZCBlYWNoIGJsb2NrIChpLmUuIHRoZSBibG9jayBpcyB0aGUgb25seSBjaGlsZCBvZiBhblxuXHRcdC8vIGVsZW1lbnQpLCBhbmQgd2UgYXJlIHJlbW92aW5nIGFsbCBpdGVtcywgX2FuZF8gdGhlcmUgYXJlIG5vIG91dCB0cmFuc2l0aW9ucyxcblx0XHQvLyB3ZSBjYW4gdXNlIHRoZSBmYXN0IHBhdGggXHUyMDE0IGVtcHR5aW5nIHRoZSBlbGVtZW50IGFuZCByZXBsYWNpbmcgdGhlIGFuY2hvclxuXHRcdHZhciBmYXN0X3BhdGggPSB0cmFuc2l0aW9ucy5sZW5ndGggPT09IDAgJiYgY29udHJvbGxlZF9hbmNob3IgIT09IG51bGw7XG5cblx0XHRpZiAoZmFzdF9wYXRoKSB7XG5cdFx0XHR2YXIgYW5jaG9yID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoY29udHJvbGxlZF9hbmNob3IpO1xuXHRcdFx0dmFyIHBhcmVudF9ub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoYW5jaG9yLnBhcmVudE5vZGUpO1xuXG5cdFx0XHRjbGVhcl90ZXh0X2NvbnRlbnQocGFyZW50X25vZGUpO1xuXHRcdFx0cGFyZW50X25vZGUuYXBwZW5kKGFuY2hvcik7XG5cblx0XHRcdHN0YXRlLml0ZW1zLmNsZWFyKCk7XG5cdFx0fVxuXG5cdFx0ZGVzdHJveV9lZmZlY3RzKHRvX2Rlc3Ryb3ksICFmYXN0X3BhdGgpO1xuXHR9IGVsc2Uge1xuXHRcdGdyb3VwID0ge1xuXHRcdFx0cGVuZGluZzogbmV3IFNldCh0b19kZXN0cm95KSxcblx0XHRcdGRvbmU6IG5ldyBTZXQoKVxuXHRcdH07XG5cblx0XHQoc3RhdGUub3V0cm9ncm91cHMgPz89IG5ldyBTZXQoKSkuYWRkKGdyb3VwKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0W119IHRvX2Rlc3Ryb3lcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtb3ZlX2RvbVxuICovXG5mdW5jdGlvbiBkZXN0cm95X2VmZmVjdHModG9fZGVzdHJveSwgcmVtb3ZlX2RvbSA9IHRydWUpIHtcblx0Ly8gVE9ETyBvbmx5IGRlc3Ryb3kgZWZmZWN0cyBpZiBubyBwZW5kaW5nIGJhdGNoIG5lZWRzIHRoZW0uIG90aGVyd2lzZSxcblx0Ly8ganVzdCByZS1hZGQgdGhlIGBFRkZFQ1RfT0ZGU0NSRUVOYCBmbGFnXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdG9fZGVzdHJveS5sZW5ndGg7IGkrKykge1xuXHRcdGRlc3Ryb3lfZWZmZWN0KHRvX2Rlc3Ryb3lbaV0sIHJlbW92ZV9kb20pO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqL1xudmFyIG9mZnNjcmVlbl9hbmNob3I7XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnR9IG5vZGUgVGhlIG5leHQgc2libGluZyBub2RlLCBvciB0aGUgcGFyZW50IG5vZGUgaWYgdGhpcyBpcyBhICdjb250cm9sbGVkJyBibG9ja1xuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geygpID0+IFZbXX0gZ2V0X2NvbGxlY3Rpb25cbiAqIEBwYXJhbSB7KHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBhbnl9IGdldF9rZXlcbiAqIEBwYXJhbSB7KGFuY2hvcjogTm9kZSwgaXRlbTogTWF5YmVTb3VyY2U8Vj4sIGluZGV4OiBNYXliZVNvdXJjZTxudW1iZXI+KSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVsbCB8ICgoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gZmFsbGJhY2tfZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaChub2RlLCBmbGFncywgZ2V0X2NvbGxlY3Rpb24sIGdldF9rZXksIHJlbmRlcl9mbiwgZmFsbGJhY2tfZm4gPSBudWxsKSB7XG5cdHZhciBhbmNob3IgPSBub2RlO1xuXG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgRWFjaEl0ZW0+fSAqL1xuXHR2YXIgaXRlbXMgPSBuZXcgTWFwKCk7XG5cblx0dmFyIGlzX2NvbnRyb2xsZWQgPSAoZmxhZ3MgJiBFQUNIX0lTX0NPTlRST0xMRUQpICE9PSAwO1xuXG5cdGlmIChpc19jb250cm9sbGVkKSB7XG5cdFx0dmFyIHBhcmVudF9ub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSk7XG5cblx0XHRhbmNob3IgPSBoeWRyYXRpbmdcblx0XHRcdD8gc2V0X2h5ZHJhdGVfbm9kZShnZXRfZmlyc3RfY2hpbGQocGFyZW50X25vZGUpKVxuXHRcdFx0OiBwYXJlbnRfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fVxuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIGZhbGxiYWNrID0gbnVsbDtcblxuXHQvLyBUT0RPOiBpZGVhbGx5IHdlIGNvdWxkIHVzZSBkZXJpdmVkIGZvciBydW5lcyBtb2RlIGJ1dCBiZWNhdXNlIG9mIHRoZSBhYmlsaXR5XG5cdC8vIHRvIHVzZSBhIHN0b3JlIHdoaWNoIGNhbiBiZSBtdXRhdGVkLCB3ZSBjYW4ndCBkbyB0aGF0IGhlcmUgYXMgbXV0YXRpbmcgYSBzdG9yZVxuXHQvLyB3aWxsIHN0aWxsIHJlc3VsdCBpbiB0aGUgY29sbGVjdGlvbiBhcnJheSBiZWluZyB0aGUgc2FtZSBmcm9tIHRoZSBzdG9yZVxuXHR2YXIgZWFjaF9hcnJheSA9IGRlcml2ZWRfc2FmZV9lcXVhbCgoKSA9PiB7XG5cdFx0dmFyIGNvbGxlY3Rpb24gPSBnZXRfY29sbGVjdGlvbigpO1xuXG5cdFx0cmV0dXJuIGlzX2FycmF5KGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IGNvbGxlY3Rpb24gPT0gbnVsbCA/IFtdIDogYXJyYXlfZnJvbShjb2xsZWN0aW9uKTtcblx0fSk7XG5cblx0LyoqIEB0eXBlIHtWW119ICovXG5cdHZhciBhcnJheTtcblxuXHR2YXIgZmlyc3RfcnVuID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBjb21taXQoKSB7XG5cdFx0c3RhdGUuZmFsbGJhY2sgPSBmYWxsYmFjaztcblx0XHRyZWNvbmNpbGUoc3RhdGUsIGFycmF5LCBhbmNob3IsIGZsYWdzLCBnZXRfa2V5KTtcblxuXHRcdGlmIChmYWxsYmFjayAhPT0gbnVsbCkge1xuXHRcdFx0aWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRpZiAoKGZhbGxiYWNrLmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMCkge1xuXHRcdFx0XHRcdHJlc3VtZV9lZmZlY3QoZmFsbGJhY2spO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZhbGxiYWNrLmYgXj0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdFx0XHRtb3ZlKGZhbGxiYWNrLCBudWxsLCBhbmNob3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QoZmFsbGJhY2ssICgpID0+IHtcblx0XHRcdFx0XHQvLyBUT0RPIG9ubHkgbnVsbCBvdXQgaWYgbm8gcGVuZGluZyBiYXRjaCBuZWVkcyBpdCxcblx0XHRcdFx0XHQvLyBvdGhlcndpc2UgcmUtYWRkIGBmYWxsYmFjay5mcmFnbWVudGAgYW5kIG1vdmUgdGhlXG5cdFx0XHRcdFx0Ly8gZWZmZWN0IGludG8gaXRcblx0XHRcdFx0XHRmYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBlZmZlY3QgPSBibG9jaygoKSA9PiB7XG5cdFx0YXJyYXkgPSAvKiogQHR5cGUge1ZbXX0gKi8gKGdldChlYWNoX2FycmF5KSk7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuXHRcdC8qKiBgdHJ1ZWAgaWYgdGhlcmUgd2FzIGEgaHlkcmF0aW9uIG1pc21hdGNoLiBOZWVkcyB0byBiZSBhIGBsZXRgIG9yIGVsc2UgaXQgaXNuJ3QgdHJlZXNoYWtlbiBvdXQgKi9cblx0XHRsZXQgbWlzbWF0Y2ggPSBmYWxzZTtcblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdHZhciBpc19lbHNlID0gcmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24oYW5jaG9yKSA9PT0gSFlEUkFUSU9OX1NUQVJUX0VMU0U7XG5cblx0XHRcdGlmIChpc19lbHNlICE9PSAobGVuZ3RoID09PSAwKSkge1xuXHRcdFx0XHQvLyBoeWRyYXRpb24gbWlzbWF0Y2ggXHUyMDE0IHJlbW92ZSB0aGUgc2VydmVyLXJlbmRlcmVkIERPTSBhbmQgc3RhcnQgb3ZlclxuXHRcdFx0XHRhbmNob3IgPSBza2lwX25vZGVzKCk7XG5cblx0XHRcdFx0c2V0X2h5ZHJhdGVfbm9kZShhbmNob3IpO1xuXHRcdFx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0XHRcdFx0bWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBrZXlzID0gbmV3IFNldCgpO1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0XHR2YXIgZGVmZXIgPSBzaG91bGRfZGVmZXJfYXBwZW5kKCk7XG5cblx0XHRmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGh5ZHJhdGluZyAmJlxuXHRcdFx0XHRoeWRyYXRlX25vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJlxuXHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChoeWRyYXRlX25vZGUpLmRhdGEgPT09IEhZRFJBVElPTl9FTkRcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBUaGUgc2VydmVyIHJlbmRlcmVkIGZld2VyIGl0ZW1zIHRoYW4gZXhwZWN0ZWQsXG5cdFx0XHRcdC8vIHNvIGJyZWFrIG91dCBhbmQgY29udGludWUgYXBwZW5kaW5nIG5vbi1oeWRyYXRlZCBpdGVtc1xuXHRcdFx0XHRhbmNob3IgPSAvKiogQHR5cGUge0NvbW1lbnR9ICovIChoeWRyYXRlX25vZGUpO1xuXHRcdFx0XHRtaXNtYXRjaCA9IHRydWU7XG5cdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cdFx0XHR2YXIga2V5ID0gZ2V0X2tleSh2YWx1ZSwgaW5kZXgpO1xuXG5cdFx0XHR2YXIgaXRlbSA9IGZpcnN0X3J1biA/IG51bGwgOiBpdGVtcy5nZXQoa2V5KTtcblxuXHRcdFx0aWYgKGl0ZW0pIHtcblx0XHRcdFx0Ly8gdXBkYXRlIGJlZm9yZSByZWNvbmNpbGlhdGlvbiwgdG8gdHJpZ2dlciBhbnkgYXN5bmMgdXBkYXRlc1xuXHRcdFx0XHRpZiAoaXRlbS52KSBpbnRlcm5hbF9zZXQoaXRlbS52LCB2YWx1ZSk7XG5cdFx0XHRcdGlmIChpdGVtLmkpIGludGVybmFsX3NldChpdGVtLmksIGluZGV4KTtcblxuXHRcdFx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuZGVsZXRlKGl0ZW0uZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW0gPSBjcmVhdGVfaXRlbShcblx0XHRcdFx0XHRpdGVtcyxcblx0XHRcdFx0XHRmaXJzdF9ydW4gPyBhbmNob3IgOiAob2Zmc2NyZWVuX2FuY2hvciA/Pz0gY3JlYXRlX3RleHQoKSksXG5cdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGluZGV4LFxuXHRcdFx0XHRcdHJlbmRlcl9mbixcblx0XHRcdFx0XHRmbGFncyxcblx0XHRcdFx0XHRnZXRfY29sbGVjdGlvblxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICghZmlyc3RfcnVuKSB7XG5cdFx0XHRcdFx0aXRlbS5lLmYgfD0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW1zLnNldChrZXksIGl0ZW0pO1xuXHRcdFx0fVxuXG5cdFx0XHRrZXlzLmFkZChrZXkpO1xuXHRcdH1cblxuXHRcdGlmIChsZW5ndGggPT09IDAgJiYgZmFsbGJhY2tfZm4gJiYgIWZhbGxiYWNrKSB7XG5cdFx0XHRpZiAoZmlyc3RfcnVuKSB7XG5cdFx0XHRcdGZhbGxiYWNrID0gYnJhbmNoKCgpID0+IGZhbGxiYWNrX2ZuKGFuY2hvcikpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZmFsbGJhY2sgPSBicmFuY2goKCkgPT4gZmFsbGJhY2tfZm4oKG9mZnNjcmVlbl9hbmNob3IgPz89IGNyZWF0ZV90ZXh0KCkpKSk7XG5cdFx0XHRcdGZhbGxiYWNrLmYgfD0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZW1vdmUgZXhjZXNzIG5vZGVzXG5cdFx0aWYgKGh5ZHJhdGluZyAmJiBsZW5ndGggPiAwKSB7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKHNraXBfbm9kZXMoKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFmaXJzdF9ydW4pIHtcblx0XHRcdGlmIChkZWZlcikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIGl0ZW1dIG9mIGl0ZW1zKSB7XG5cdFx0XHRcdFx0aWYgKCFrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuYWRkKGl0ZW0uZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmF0Y2gub25jb21taXQoY29tbWl0KTtcblx0XHRcdFx0YmF0Y2gub25kaXNjYXJkKCgpID0+IHtcblx0XHRcdFx0XHQvLyBUT0RPIHByZXN1bWFibHkgd2UgbmVlZCB0byBkbyBzb21ldGhpbmcgaGVyZT9cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb21taXQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAobWlzbWF0Y2gpIHtcblx0XHRcdC8vIGNvbnRpbnVlIGluIGh5ZHJhdGlvbiBtb2RlXG5cdFx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gd2UgbW91bnQgdGhlIGVhY2ggYmxvY2sgZm9yIHRoZSBmaXJzdCB0aW1lLCB0aGUgY29sbGVjdGlvbiB3b24ndCBiZVxuXHRcdC8vIGNvbm5lY3RlZCB0byB0aGlzIGVmZmVjdCBhcyB0aGUgZWZmZWN0IGhhc24ndCBmaW5pc2hlZCBydW5uaW5nIHlldCBhbmQgaXRzIGRlcHNcblx0XHQvLyB3b24ndCBiZSBhc3NpZ25lZC4gSG93ZXZlciwgaXQncyBwb3NzaWJsZSB0aGF0IHdoZW4gcmVjb25jaWxpbmcgdGhlIGVhY2ggYmxvY2tcblx0XHQvLyB0aGF0IGEgbXV0YXRpb24gb2NjdXJyZWQgYW5kIGl0J3MgbWFkZSB0aGUgY29sbGVjdGlvbiBNQVlCRV9ESVJUWSwgc28gcmVhZGluZyB0aGVcblx0XHQvLyBjb2xsZWN0aW9uIGFnYWluIGNhbiBwcm92aWRlIGNvbnNpc3RlbmN5IHRvIHRoZSByZWFjdGl2ZSBncmFwaCBhZ2FpbiBhcyB0aGUgZGVyaXZlZHNcblx0XHQvLyB3aWxsIG5vdyBiZSBgQ0xFQU5gLlxuXHRcdGdldChlYWNoX2FycmF5KTtcblx0fSk7XG5cblx0LyoqIEB0eXBlIHtFYWNoU3RhdGV9ICovXG5cdHZhciBzdGF0ZSA9IHsgZWZmZWN0LCBmbGFncywgaXRlbXMsIG91dHJvZ3JvdXBzOiBudWxsLCBmYWxsYmFjayB9O1xuXG5cdGZpcnN0X3J1biA9IGZhbHNlO1xuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRhbmNob3IgPSBoeWRyYXRlX25vZGU7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBpdGVtcyBvdXRwdXQgYnkgYW4gZWFjaCBibG9jayBhcyBpdHMgaW5wdXQgY2hhbmdlc1xuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtBcnJheTxWPn0gYXJyYXlcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnQgfCBUZXh0fSBhbmNob3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsodmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IGFueX0gZ2V0X2tleVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHJlY29uY2lsZShzdGF0ZSwgYXJyYXksIGFuY2hvciwgZmxhZ3MsIGdldF9rZXkpIHtcblx0dmFyIGlzX2FuaW1hdGVkID0gKGZsYWdzICYgRUFDSF9JU19BTklNQVRFRCkgIT09IDA7XG5cblx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0dmFyIGl0ZW1zID0gc3RhdGUuaXRlbXM7XG5cdHZhciBjdXJyZW50ID0gc3RhdGUuZWZmZWN0LmZpcnN0O1xuXG5cdC8qKiBAdHlwZSB7dW5kZWZpbmVkIHwgU2V0PEVmZmVjdD59ICovXG5cdHZhciBzZWVuO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIHByZXYgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7dW5kZWZpbmVkIHwgU2V0PEVmZmVjdD59ICovXG5cdHZhciB0b19hbmltYXRlO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0W119ICovXG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0dmFyIHN0YXNoZWQgPSBbXTtcblxuXHQvKiogQHR5cGUge1Z9ICovXG5cdHZhciB2YWx1ZTtcblxuXHQvKiogQHR5cGUge2FueX0gKi9cblx0dmFyIGtleTtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IHVuZGVmaW5lZH0gKi9cblx0dmFyIGVmZmVjdDtcblxuXHQvKiogQHR5cGUge251bWJlcn0gKi9cblx0dmFyIGk7XG5cblx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHR2YWx1ZSA9IGFycmF5W2ldO1xuXHRcdFx0a2V5ID0gZ2V0X2tleSh2YWx1ZSwgaSk7XG5cdFx0XHRlZmZlY3QgPSAvKiogQHR5cGUge0VhY2hJdGVtfSAqLyAoaXRlbXMuZ2V0KGtleSkpLmU7XG5cblx0XHRcdC8vIG9mZnNjcmVlbiA9PSBjb21pbmcgaW4gbm93LCBubyBhbmltYXRpb24gaW4gdGhhdCBjYXNlLFxuXHRcdFx0Ly8gZWxzZSB0aGlzIHdvdWxkIGhhcHBlbiBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8xNzE4MVxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pID09PSAwKSB7XG5cdFx0XHRcdGVmZmVjdC5ub2Rlcz8uYT8ubWVhc3VyZSgpO1xuXHRcdFx0XHQodG9fYW5pbWF0ZSA/Pz0gbmV3IFNldCgpKS5hZGQoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHR2YWx1ZSA9IGFycmF5W2ldO1xuXHRcdGtleSA9IGdldF9rZXkodmFsdWUsIGkpO1xuXG5cdFx0ZWZmZWN0ID0gLyoqIEB0eXBlIHtFYWNoSXRlbX0gKi8gKGl0ZW1zLmdldChrZXkpKS5lO1xuXG5cdFx0aWYgKHN0YXRlLm91dHJvZ3JvdXBzICE9PSBudWxsKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHN0YXRlLm91dHJvZ3JvdXBzKSB7XG5cdFx0XHRcdGdyb3VwLnBlbmRpbmcuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHRcdGdyb3VwLmRvbmUuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pICE9PSAwKSB7XG5cdFx0XHRlZmZlY3QuZiBePSBFRkZFQ1RfT0ZGU0NSRUVOO1xuXG5cdFx0XHRpZiAoZWZmZWN0ID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdG1vdmUoZWZmZWN0LCBudWxsLCBhbmNob3IpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0IDogY3VycmVudDtcblxuXHRcdFx0XHRpZiAoZWZmZWN0ID09PSBzdGF0ZS5lZmZlY3QubGFzdCkge1xuXHRcdFx0XHRcdHN0YXRlLmVmZmVjdC5sYXN0ID0gZWZmZWN0LnByZXY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZWZmZWN0LnByZXYpIGVmZmVjdC5wcmV2Lm5leHQgPSBlZmZlY3QubmV4dDtcblx0XHRcdFx0aWYgKGVmZmVjdC5uZXh0KSBlZmZlY3QubmV4dC5wcmV2ID0gZWZmZWN0LnByZXY7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGVmZmVjdCk7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIGVmZmVjdCwgbmV4dCk7XG5cblx0XHRcdFx0bW92ZShlZmZlY3QsIG5leHQsIGFuY2hvcik7XG5cdFx0XHRcdHByZXYgPSBlZmZlY3Q7XG5cblx0XHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0XHRzdGFzaGVkID0gW107XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXYubmV4dDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChlZmZlY3QuZiAmIElORVJUKSAhPT0gMCkge1xuXHRcdFx0cmVzdW1lX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0XHRcdGVmZmVjdC5ub2Rlcz8uYT8udW5maXgoKTtcblx0XHRcdFx0KHRvX2FuaW1hdGUgPz89IG5ldyBTZXQoKSkuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGVmZmVjdCAhPT0gY3VycmVudCkge1xuXHRcdFx0aWYgKHNlZW4gIT09IHVuZGVmaW5lZCAmJiBzZWVuLmhhcyhlZmZlY3QpKSB7XG5cdFx0XHRcdGlmIChtYXRjaGVkLmxlbmd0aCA8IHN0YXNoZWQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gbW9yZSBlZmZpY2llbnQgdG8gbW92ZSBsYXRlciBpdGVtcyB0byB0aGUgZnJvbnRcblx0XHRcdFx0XHR2YXIgc3RhcnQgPSBzdGFzaGVkWzBdO1xuXHRcdFx0XHRcdHZhciBqO1xuXG5cdFx0XHRcdFx0cHJldiA9IHN0YXJ0LnByZXY7XG5cblx0XHRcdFx0XHR2YXIgYSA9IG1hdGNoZWRbMF07XG5cdFx0XHRcdFx0dmFyIGIgPSBtYXRjaGVkW21hdGNoZWQubGVuZ3RoIC0gMV07XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbWF0Y2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0bW92ZShtYXRjaGVkW2pdLCBzdGFydCwgYW5jaG9yKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgc3Rhc2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0c2Vlbi5kZWxldGUoc3Rhc2hlZFtqXSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgYS5wcmV2LCBiLm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGEpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGIsIHN0YXJ0KTtcblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBzdGFydDtcblx0XHRcdFx0XHRwcmV2ID0gYjtcblx0XHRcdFx0XHRpIC09IDE7XG5cblx0XHRcdFx0XHRtYXRjaGVkID0gW107XG5cdFx0XHRcdFx0c3Rhc2hlZCA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIG1vcmUgZWZmaWNpZW50IHRvIG1vdmUgZWFybGllciBpdGVtcyB0byB0aGUgYmFja1xuXHRcdFx0XHRcdHNlZW4uZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHRcdFx0bW92ZShlZmZlY3QsIGN1cnJlbnQsIGFuY2hvcik7XG5cblx0XHRcdFx0XHRsaW5rKHN0YXRlLCBlZmZlY3QucHJldiwgZWZmZWN0Lm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGVmZmVjdCwgcHJldiA9PT0gbnVsbCA/IHN0YXRlLmVmZmVjdC5maXJzdCA6IHByZXYubmV4dCk7XG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgcHJldiwgZWZmZWN0KTtcblxuXHRcdFx0XHRcdHByZXYgPSBlZmZlY3Q7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0c3Rhc2hlZCA9IFtdO1xuXG5cdFx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50ICE9PSBlZmZlY3QpIHtcblx0XHRcdFx0KHNlZW4gPz89IG5ldyBTZXQoKSkuYWRkKGN1cnJlbnQpO1xuXHRcdFx0XHRzdGFzaGVkLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdXJyZW50ID09PSBudWxsKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgoZWZmZWN0LmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMCkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKGVmZmVjdCk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGVmZmVjdDtcblx0XHRjdXJyZW50ID0gZWZmZWN0Lm5leHQ7XG5cdH1cblxuXHRpZiAoc3RhdGUub3V0cm9ncm91cHMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHN0YXRlLm91dHJvZ3JvdXBzKSB7XG5cdFx0XHRpZiAoZ3JvdXAucGVuZGluZy5zaXplID09PSAwKSB7XG5cdFx0XHRcdGRlc3Ryb3lfZWZmZWN0cyhhcnJheV9mcm9tKGdyb3VwLmRvbmUpKTtcblx0XHRcdFx0c3RhdGUub3V0cm9ncm91cHM/LmRlbGV0ZShncm91cCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHN0YXRlLm91dHJvZ3JvdXBzLnNpemUgPT09IDApIHtcblx0XHRcdHN0YXRlLm91dHJvZ3JvdXBzID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZiAoY3VycmVudCAhPT0gbnVsbCB8fCBzZWVuICE9PSB1bmRlZmluZWQpIHtcblx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdHZhciB0b19kZXN0cm95ID0gW107XG5cblx0XHRpZiAoc2VlbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGVmZmVjdCBvZiBzZWVuKSB7XG5cdFx0XHRcdGlmICgoZWZmZWN0LmYgJiBJTkVSVCkgPT09IDApIHtcblx0XHRcdFx0XHR0b19kZXN0cm95LnB1c2goZWZmZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG5cdFx0XHQvLyBJZiB0aGUgZWFjaCBibG9jayBpc24ndCBpbmVydCwgdGhlbiBpbmVydCBlZmZlY3RzIGFyZSBjdXJyZW50bHkgb3V0cm9pbmcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbmNlIHRoZSB0cmFuc2l0aW9uIGlzIGZpbmlzaGVkXG5cdFx0XHRpZiAoKGN1cnJlbnQuZiAmIElORVJUKSA9PT0gMCAmJiBjdXJyZW50ICE9PSBzdGF0ZS5mYWxsYmFjaykge1xuXHRcdFx0XHR0b19kZXN0cm95LnB1c2goY3VycmVudCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0fVxuXG5cdFx0dmFyIGRlc3Ryb3lfbGVuZ3RoID0gdG9fZGVzdHJveS5sZW5ndGg7XG5cblx0XHRpZiAoZGVzdHJveV9sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgY29udHJvbGxlZF9hbmNob3IgPSAoZmxhZ3MgJiBFQUNIX0lTX0NPTlRST0xMRUQpICE9PSAwICYmIGxlbmd0aCA9PT0gMCA/IGFuY2hvciA6IG51bGw7XG5cblx0XHRcdGlmIChpc19hbmltYXRlZCkge1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGVzdHJveV9sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdHRvX2Rlc3Ryb3lbaV0ubm9kZXM/LmE/Lm1lYXN1cmUoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkZXN0cm95X2xlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0dG9fZGVzdHJveVtpXS5ub2Rlcz8uYT8uZml4KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cGF1c2VfZWZmZWN0cyhzdGF0ZSwgdG9fZGVzdHJveSwgY29udHJvbGxlZF9hbmNob3IpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc19hbmltYXRlZCkge1xuXHRcdHF1ZXVlX21pY3JvX3Rhc2soKCkgPT4ge1xuXHRcdFx0aWYgKHRvX2FuaW1hdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcdFx0Zm9yIChlZmZlY3Qgb2YgdG9fYW5pbWF0ZSkge1xuXHRcdFx0XHRlZmZlY3Qubm9kZXM/LmE/LmFwcGx5KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtNYXA8YW55LCBFYWNoSXRlbT59IGl0ZW1zXG4gKiBAcGFyYW0ge05vZGV9IGFuY2hvclxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHBhcmFtIHt1bmtub3dufSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHsoYW5jaG9yOiBOb2RlLCBpdGVtOiBWIHwgU291cmNlPFY+LCBpbmRleDogbnVtYmVyIHwgVmFsdWU8bnVtYmVyPiwgY29sbGVjdGlvbjogKCkgPT4gVltdKSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsoKSA9PiBWW119IGdldF9jb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RWFjaEl0ZW19XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9pdGVtKGl0ZW1zLCBhbmNob3IsIHZhbHVlLCBrZXksIGluZGV4LCByZW5kZXJfZm4sIGZsYWdzLCBnZXRfY29sbGVjdGlvbikge1xuXHR2YXIgdiA9XG5cdFx0KGZsYWdzICYgRUFDSF9JVEVNX1JFQUNUSVZFKSAhPT0gMFxuXHRcdFx0PyAoZmxhZ3MgJiBFQUNIX0lURU1fSU1NVVRBQkxFKSA9PT0gMFxuXHRcdFx0XHQ/IG11dGFibGVfc291cmNlKHZhbHVlLCBmYWxzZSwgZmFsc2UpXG5cdFx0XHRcdDogc291cmNlKHZhbHVlKVxuXHRcdFx0OiBudWxsO1xuXG5cdHZhciBpID0gKGZsYWdzICYgRUFDSF9JTkRFWF9SRUFDVElWRSkgIT09IDAgPyBzb3VyY2UoaW5kZXgpIDogbnVsbDtcblxuXHRpZiAoREVWICYmIHYpIHtcblx0XHQvLyBGb3IgdHJhY2luZyBwdXJwb3Nlcywgd2UgbmVlZCB0byBsaW5rIHRoZSBzb3VyY2Ugc2lnbmFsIHdlIGNyZWF0ZSB3aXRoIHRoZVxuXHRcdC8vIGNvbGxlY3Rpb24gKyBpbmRleCBzbyB0aGF0IHRyYWNpbmcgd29ya3MgYXMgaW50ZW5kZWRcblx0XHR2LnRyYWNlID0gKCkgPT4ge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtZXhwcmVzc2lvbnNcblx0XHRcdGdldF9jb2xsZWN0aW9uKClbaT8udiA/PyBpbmRleF07XG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dixcblx0XHRpLFxuXHRcdGU6IGJyYW5jaCgoKSA9PiB7XG5cdFx0XHRyZW5kZXJfZm4oYW5jaG9yLCB2ID8/IHZhbHVlLCBpID8/IGluZGV4LCBnZXRfY29sbGVjdGlvbik7XG5cblx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdGl0ZW1zLmRlbGV0ZShrZXkpO1xuXHRcdFx0fTtcblx0XHR9KVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gbmV4dFxuICogQHBhcmFtIHtUZXh0IHwgRWxlbWVudCB8IENvbW1lbnR9IGFuY2hvclxuICovXG5mdW5jdGlvbiBtb3ZlKGVmZmVjdCwgbmV4dCwgYW5jaG9yKSB7XG5cdGlmICghZWZmZWN0Lm5vZGVzKSByZXR1cm47XG5cblx0dmFyIG5vZGUgPSBlZmZlY3Qubm9kZXMuc3RhcnQ7XG5cdHZhciBlbmQgPSBlZmZlY3Qubm9kZXMuZW5kO1xuXG5cdHZhciBkZXN0ID1cblx0XHRuZXh0ICYmIChuZXh0LmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMFxuXHRcdFx0PyAvKiogQHR5cGUge0VmZmVjdE5vZGVzfSAqLyAobmV4dC5ub2Rlcykuc3RhcnRcblx0XHRcdDogYW5jaG9yO1xuXG5cdHdoaWxlIChub2RlICE9PSBudWxsKSB7XG5cdFx0dmFyIG5leHRfbm9kZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhub2RlKSk7XG5cdFx0ZGVzdC5iZWZvcmUobm9kZSk7XG5cblx0XHRpZiAobm9kZSA9PT0gZW5kKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm9kZSA9IG5leHRfbm9kZTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtFZmZlY3QgfCBudWxsfSBwcmV2XG4gKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IG5leHRcbiAqL1xuZnVuY3Rpb24gbGluayhzdGF0ZSwgcHJldiwgbmV4dCkge1xuXHRpZiAocHJldiA9PT0gbnVsbCkge1xuXHRcdHN0YXRlLmVmZmVjdC5maXJzdCA9IG5leHQ7XG5cdH0gZWxzZSB7XG5cdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0fVxuXG5cdGlmIChuZXh0ID09PSBudWxsKSB7XG5cdFx0c3RhdGUuZWZmZWN0Lmxhc3QgPSBwcmV2O1xuXHR9IGVsc2Uge1xuXHRcdG5leHQucHJldiA9IHByZXY7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IHJlZ2lzdGVyX3N0eWxlIH0gZnJvbSAnLi4vZGV2L2Nzcy5qcyc7XG5pbXBvcnQgeyBlZmZlY3QgfSBmcm9tICcuLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gYW5jaG9yXG4gKiBAcGFyYW0ge3sgaGFzaDogc3RyaW5nLCBjb2RlOiBzdHJpbmcgfX0gY3NzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKGFuY2hvciwgY3NzKSB7XG5cdC8vIFVzZSBgcXVldWVfbWljcm9fdGFza2AgdG8gZW5zdXJlIGBhbmNob3JgIGlzIGluIHRoZSBET00sIG90aGVyd2lzZSBnZXRSb290Tm9kZSgpIHdpbGwgeWllbGQgd3JvbmcgcmVzdWx0c1xuXHRlZmZlY3QoKCkgPT4ge1xuXHRcdHZhciByb290ID0gYW5jaG9yLmdldFJvb3ROb2RlKCk7XG5cblx0XHR2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdFxuXHRcdFx0PyAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KVxuXHRcdFx0OiAvKiogQHR5cGUge0RvY3VtZW50fSAqLyAocm9vdCkuaGVhZCA/PyAvKiogQHR5cGUge0RvY3VtZW50fSAqLyAocm9vdC5vd25lckRvY3VtZW50KS5oZWFkO1xuXG5cdFx0Ly8gQWx3YXlzIHF1ZXJ5aW5nIHRoZSBET00gaXMgcm91Z2hseSB0aGUgc2FtZSBwZXJmIGFzIGFkZGl0aW9uYWxseSBjaGVja2luZyBmb3IgcHJlc2VuY2UgaW4gYSBtYXAgZmlyc3QgYXNzdW1pbmdcblx0XHQvLyB0aGF0IHlvdSdsbCBnZXQgY2FjaGUgaGl0cyBoYWxmIG9mIHRoZSB0aW1lLCBzbyB3ZSBqdXN0IGFsd2F5cyBxdWVyeSB0aGUgZG9tIGZvciBzaW1wbGljaXR5IGFuZCBjb2RlIHNhdmluZ3MuXG5cdFx0aWYgKCF0YXJnZXQucXVlcnlTZWxlY3RvcignIycgKyBjc3MuaGFzaCkpIHtcblx0XHRcdGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0XHRcdHN0eWxlLmlkID0gY3NzLmhhc2g7XG5cdFx0XHRzdHlsZS50ZXh0Q29udGVudCA9IGNzcy5jb2RlO1xuXG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG5cdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdHJlZ2lzdGVyX3N0eWxlKGNzcy5oYXNoLCBzdHlsZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEFjdGlvblBheWxvYWQgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgZWZmZWN0LCByZW5kZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IHNhZmVfbm90X2VxdWFsIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lcXVhbGl0eS5qcyc7XG5pbXBvcnQgeyBkZWVwX3JlYWRfc3RhdGUsIHVudHJhY2sgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgUFxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7KGRvbTogRWxlbWVudCwgdmFsdWU/OiBQKSA9PiBBY3Rpb25QYXlsb2FkPFA+fSBhY3Rpb25cbiAqIEBwYXJhbSB7KCkgPT4gUH0gW2dldF92YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uKGRvbSwgYWN0aW9uLCBnZXRfdmFsdWUpIHtcblx0ZWZmZWN0KCgpID0+IHtcblx0XHR2YXIgcGF5bG9hZCA9IHVudHJhY2soKCkgPT4gYWN0aW9uKGRvbSwgZ2V0X3ZhbHVlPy4oKSkgfHwge30pO1xuXG5cdFx0aWYgKGdldF92YWx1ZSAmJiBwYXlsb2FkPy51cGRhdGUpIHtcblx0XHRcdHZhciBpbml0ZWQgPSBmYWxzZTtcblx0XHRcdC8qKiBAdHlwZSB7UH0gKi9cblx0XHRcdHZhciBwcmV2ID0gLyoqIEB0eXBlIHthbnl9ICovICh7fSk7IC8vIGluaXRpYWxpemUgd2l0aCBzb21ldGhpbmcgc28gaXQncyBuZXZlciBlcXVhbCBvbiBmaXJzdCBydW5cblxuXHRcdFx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IGdldF92YWx1ZSgpO1xuXG5cdFx0XHRcdC8vIEFjdGlvbidzIHVwZGF0ZSBtZXRob2QgaXMgY29hcnNlLWdyYWluZWQsIGkuZS4gd2hlbiBhbnl0aGluZyBpbiB0aGUgcGFzc2VkIHZhbHVlIGNoYW5nZXMsIHVwZGF0ZS5cblx0XHRcdFx0Ly8gVGhpcyB3b3JrcyBpbiBsZWdhY3kgbW9kZSBiZWNhdXNlIG9mIG11dGFibGVfc291cmNlIGJlaW5nIHVwZGF0ZWQgYXMgYSB3aG9sZSwgYnV0IHdoZW4gdXNpbmcgJHN0YXRlXG5cdFx0XHRcdC8vIHRvZ2V0aGVyIHdpdGggYWN0aW9ucyBhbmQgbXV0YXRpb24sIGl0IHdvdWxkbid0IG5vdGljZSB0aGUgY2hhbmdlIHdpdGhvdXQgYSBkZWVwIHJlYWQuXG5cdFx0XHRcdGRlZXBfcmVhZF9zdGF0ZSh2YWx1ZSk7XG5cblx0XHRcdFx0aWYgKGluaXRlZCAmJiBzYWZlX25vdF9lcXVhbChwcmV2LCB2YWx1ZSkpIHtcblx0XHRcdFx0XHRwcmV2ID0gdmFsdWU7XG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHBheWxvYWQudXBkYXRlKSh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpbml0ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChwYXlsb2FkPy5kZXN0cm95KSB7XG5cdFx0XHRyZXR1cm4gKCkgPT4gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHBheWxvYWQuZGVzdHJveSkoKTtcblx0XHR9XG5cdH0pO1xufVxuIiwgImltcG9ydCB7IGVzY2FwZV9odG1sIH0gZnJvbSAnLi4vLi4vZXNjYXBpbmcuanMnO1xuaW1wb3J0IHsgY2xzeCBhcyBfY2xzeCB9IGZyb20gJ2Nsc3gnO1xuXG4vKipcbiAqIGA8ZGl2IHRyYW5zbGF0ZT17ZmFsc2V9PmAgc2hvdWxkIGJlIHJlbmRlcmVkIGFzIGA8ZGl2IHRyYW5zbGF0ZT1cIm5vXCI+YCBhbmQgX25vdF9cbiAqIGA8ZGl2IHRyYW5zbGF0ZT1cImZhbHNlXCI+YCwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byBgPGRpdiB0cmFuc2xhdGU9XCJ5ZXNcIj5gLiBUaGVyZVxuICogbWF5IGJlIG90aGVyIG9kZCBjYXNlcyB0aGF0IG5lZWQgdG8gYmUgYWRkZWQgdG8gdGhpcyBsaXN0IGluIGZ1dHVyZVxuICogQHR5cGUge1JlY29yZDxzdHJpbmcsIE1hcDxhbnksIHN0cmluZz4+fVxuICovXG5jb25zdCByZXBsYWNlbWVudHMgPSB7XG5cdHRyYW5zbGF0ZTogbmV3IE1hcChbXG5cdFx0W3RydWUsICd5ZXMnXSxcblx0XHRbZmFsc2UsICdubyddXG5cdF0pXG59O1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbaXNfYm9vbGVhbl1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5hbWUsIHZhbHVlLCBpc19ib29sZWFuID0gZmFsc2UpIHtcblx0Ly8gYXR0cmlidXRlIGhpZGRlbiBmb3IgdmFsdWVzIG90aGVyIHRoYW4gXCJ1bnRpbC1mb3VuZFwiIGJlaGF2ZXMgbGlrZSBhIGJvb2xlYW4gYXR0cmlidXRlXG5cdGlmIChuYW1lID09PSAnaGlkZGVuJyAmJiB2YWx1ZSAhPT0gJ3VudGlsLWZvdW5kJykge1xuXHRcdGlzX2Jvb2xlYW4gPSB0cnVlO1xuXHR9XG5cdGlmICh2YWx1ZSA9PSBudWxsIHx8ICghdmFsdWUgJiYgaXNfYm9vbGVhbikpIHJldHVybiAnJztcblx0Y29uc3Qgbm9ybWFsaXplZCA9IChuYW1lIGluIHJlcGxhY2VtZW50cyAmJiByZXBsYWNlbWVudHNbbmFtZV0uZ2V0KHZhbHVlKSkgfHwgdmFsdWU7XG5cdGNvbnN0IGFzc2lnbm1lbnQgPSBpc19ib29sZWFuID8gJycgOiBgPVwiJHtlc2NhcGVfaHRtbChub3JtYWxpemVkLCB0cnVlKX1cImA7XG5cdHJldHVybiBgICR7bmFtZX0ke2Fzc2lnbm1lbnR9YDtcbn1cblxuLyoqXG4gKiBTbWFsbCB3cmFwcGVyIGFyb3VuZCBjbHN4IHRvIHByZXNlcnZlIFN2ZWx0ZSdzICh3ZWlyZCkgaGFuZGxpbmcgb2YgZmFsc3kgdmFsdWVzLlxuICogVE9ETyBTdmVsdGUgNiByZXZpc2l0IHRoaXMsIGFuZCBsaWtlbHkgdHVybiBhbGwgZmFsc3kgdmFsdWVzIGludG8gdGhlIGVtcHR5IHN0cmluZyAod2hhdCBjbHN4IGFsc28gZG9lcylcbiAqIEBwYXJhbSAge2FueX0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsc3godmFsdWUpIHtcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4gX2Nsc3godmFsdWUpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB2YWx1ZSA/PyAnJztcblx0fVxufVxuXG5jb25zdCB3aGl0ZXNwYWNlID0gWy4uLicgXFx0XFxuXFxyXFxmXFx1MDBhMFxcdTAwMGJcXHVmZWZmJ107XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IFtoYXNoXVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBib29sZWFuPn0gW2RpcmVjdGl2ZXNdXG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgbnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX2NsYXNzKHZhbHVlLCBoYXNoLCBkaXJlY3RpdmVzKSB7XG5cdHZhciBjbGFzc25hbWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiAnJyArIHZhbHVlO1xuXG5cdGlmIChoYXNoKSB7XG5cdFx0Y2xhc3NuYW1lID0gY2xhc3NuYW1lID8gY2xhc3NuYW1lICsgJyAnICsgaGFzaCA6IGhhc2g7XG5cdH1cblxuXHRpZiAoZGlyZWN0aXZlcykge1xuXHRcdGZvciAodmFyIGtleSBpbiBkaXJlY3RpdmVzKSB7XG5cdFx0XHRpZiAoZGlyZWN0aXZlc1trZXldKSB7XG5cdFx0XHRcdGNsYXNzbmFtZSA9IGNsYXNzbmFtZSA/IGNsYXNzbmFtZSArICcgJyArIGtleSA6IGtleTtcblx0XHRcdH0gZWxzZSBpZiAoY2xhc3NuYW1lLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgbGVuID0ga2V5Lmxlbmd0aDtcblx0XHRcdFx0dmFyIGEgPSAwO1xuXG5cdFx0XHRcdHdoaWxlICgoYSA9IGNsYXNzbmFtZS5pbmRleE9mKGtleSwgYSkpID49IDApIHtcblx0XHRcdFx0XHR2YXIgYiA9IGEgKyBsZW47XG5cblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHQoYSA9PT0gMCB8fCB3aGl0ZXNwYWNlLmluY2x1ZGVzKGNsYXNzbmFtZVthIC0gMV0pKSAmJlxuXHRcdFx0XHRcdFx0KGIgPT09IGNsYXNzbmFtZS5sZW5ndGggfHwgd2hpdGVzcGFjZS5pbmNsdWRlcyhjbGFzc25hbWVbYl0pKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Y2xhc3NuYW1lID0gKGEgPT09IDAgPyAnJyA6IGNsYXNzbmFtZS5zdWJzdHJpbmcoMCwgYSkpICsgY2xhc3NuYW1lLnN1YnN0cmluZyhiICsgMSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGEgPSBiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjbGFzc25hbWUgPT09ICcnID8gbnVsbCA6IGNsYXNzbmFtZTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLGFueT59IHN0eWxlc1xuICogQHBhcmFtIHtib29sZWFufSBpbXBvcnRhbnRcbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlcyhzdHlsZXMsIGltcG9ydGFudCA9IGZhbHNlKSB7XG5cdHZhciBzZXBhcmF0b3IgPSBpbXBvcnRhbnQgPyAnICFpbXBvcnRhbnQ7JyA6ICc7Jztcblx0dmFyIGNzcyA9ICcnO1xuXG5cdGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcblx0XHR2YXIgdmFsdWUgPSBzdHlsZXNba2V5XTtcblx0XHRpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gJycpIHtcblx0XHRcdGNzcyArPSAnICcgKyBrZXkgKyAnOiAnICsgdmFsdWUgKyBzZXBhcmF0b3I7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNzcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gdG9fY3NzX25hbWUobmFtZSkge1xuXHRpZiAobmFtZVswXSAhPT0gJy0nIHx8IG5hbWVbMV0gIT09ICctJykge1xuXHRcdHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH1cblx0cmV0dXJuIG5hbWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT4gfCBbUmVjb3JkPHN0cmluZywgYW55PiwgUmVjb3JkPHN0cmluZywgYW55Pl19IFtzdHlsZXNdXG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgbnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX3N0eWxlKHZhbHVlLCBzdHlsZXMpIHtcblx0aWYgKHN0eWxlcykge1xuXHRcdHZhciBuZXdfc3R5bGUgPSAnJztcblxuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyxhbnk+IHwgdW5kZWZpbmVkfSAqL1xuXHRcdHZhciBub3JtYWxfc3R5bGVzO1xuXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLGFueT4gfCB1bmRlZmluZWR9ICovXG5cdFx0dmFyIGltcG9ydGFudF9zdHlsZXM7XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG5cdFx0XHRub3JtYWxfc3R5bGVzID0gc3R5bGVzWzBdO1xuXHRcdFx0aW1wb3J0YW50X3N0eWxlcyA9IHN0eWxlc1sxXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm9ybWFsX3N0eWxlcyA9IHN0eWxlcztcblx0XHR9XG5cblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuXHRcdFx0XHQucmVwbGFjZUFsbCgvXFxzKlxcL1xcKi4qP1xcKlxcL1xccyovZywgJycpXG5cdFx0XHRcdC50cmltKCk7XG5cblx0XHRcdC8qKiBAdHlwZSB7Ym9vbGVhbiB8ICdcIicgfCBcIidcIn0gKi9cblx0XHRcdHZhciBpbl9zdHIgPSBmYWxzZTtcblx0XHRcdHZhciBpbl9hcG8gPSAwO1xuXHRcdFx0dmFyIGluX2NvbW1lbnQgPSBmYWxzZTtcblxuXHRcdFx0dmFyIHJlc2VydmVkX25hbWVzID0gW107XG5cblx0XHRcdGlmIChub3JtYWxfc3R5bGVzKSB7XG5cdFx0XHRcdHJlc2VydmVkX25hbWVzLnB1c2goLi4uT2JqZWN0LmtleXMobm9ybWFsX3N0eWxlcykubWFwKHRvX2Nzc19uYW1lKSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW1wb3J0YW50X3N0eWxlcykge1xuXHRcdFx0XHRyZXNlcnZlZF9uYW1lcy5wdXNoKC4uLk9iamVjdC5rZXlzKGltcG9ydGFudF9zdHlsZXMpLm1hcCh0b19jc3NfbmFtZSkpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RhcnRfaW5kZXggPSAwO1xuXHRcdFx0dmFyIG5hbWVfaW5kZXggPSAtMTtcblxuXHRcdFx0Y29uc3QgbGVuID0gdmFsdWUubGVuZ3RoO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHR2YXIgYyA9IHZhbHVlW2ldO1xuXG5cdFx0XHRcdGlmIChpbl9jb21tZW50KSB7XG5cdFx0XHRcdFx0aWYgKGMgPT09ICcvJyAmJiB2YWx1ZVtpIC0gMV0gPT09ICcqJykge1xuXHRcdFx0XHRcdFx0aW5fY29tbWVudCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChpbl9zdHIpIHtcblx0XHRcdFx0XHRpZiAoaW5fc3RyID09PSBjKSB7XG5cdFx0XHRcdFx0XHRpbl9zdHIgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gJy8nICYmIHZhbHVlW2kgKyAxXSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0aW5fY29tbWVudCA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gJ1wiJyB8fCBjID09PSBcIidcIikge1xuXHRcdFx0XHRcdGluX3N0ciA9IGM7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gJygnKSB7XG5cdFx0XHRcdFx0aW5fYXBvKys7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gJyknKSB7XG5cdFx0XHRcdFx0aW5fYXBvLS07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWluX2NvbW1lbnQgJiYgaW5fc3RyID09PSBmYWxzZSAmJiBpbl9hcG8gPT09IDApIHtcblx0XHRcdFx0XHRpZiAoYyA9PT0gJzonICYmIG5hbWVfaW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRuYW1lX2luZGV4ID0gaTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09ICc7JyB8fCBpID09PSBsZW4gLSAxKSB7XG5cdFx0XHRcdFx0XHRpZiAobmFtZV9pbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG5hbWUgPSB0b19jc3NfbmFtZSh2YWx1ZS5zdWJzdHJpbmcoc3RhcnRfaW5kZXgsIG5hbWVfaW5kZXgpLnRyaW0oKSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFyZXNlcnZlZF9uYW1lcy5pbmNsdWRlcyhuYW1lKSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjICE9PSAnOycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSB2YWx1ZS5zdWJzdHJpbmcoc3RhcnRfaW5kZXgsIGkpLnRyaW0oKTtcblx0XHRcdFx0XHRcdFx0XHRuZXdfc3R5bGUgKz0gJyAnICsgcHJvcGVydHkgKyAnOyc7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnRfaW5kZXggPSBpICsgMTtcblx0XHRcdFx0XHRcdG5hbWVfaW5kZXggPSAtMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAobm9ybWFsX3N0eWxlcykge1xuXHRcdFx0bmV3X3N0eWxlICs9IGFwcGVuZF9zdHlsZXMobm9ybWFsX3N0eWxlcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGltcG9ydGFudF9zdHlsZXMpIHtcblx0XHRcdG5ld19zdHlsZSArPSBhcHBlbmRfc3R5bGVzKGltcG9ydGFudF9zdHlsZXMsIHRydWUpO1xuXHRcdH1cblxuXHRcdG5ld19zdHlsZSA9IG5ld19zdHlsZS50cmltKCk7XG5cdFx0cmV0dXJuIG5ld19zdHlsZSA9PT0gJycgPyBudWxsIDogbmV3X3N0eWxlO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogU3RyaW5nKHZhbHVlKTtcbn1cbiIsICJpbXBvcnQgeyB0b19jbGFzcyB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bWJlcn0gaXNfaHRtbFxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtoYXNoXVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbcHJldl9jbGFzc2VzXVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbbmV4dF9jbGFzc2VzXVxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGJvb2xlYW4+IHwgdW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2NsYXNzKGRvbSwgaXNfaHRtbCwgdmFsdWUsIGhhc2gsIHByZXZfY2xhc3NlcywgbmV4dF9jbGFzc2VzKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgbmVlZCB0byBhZGQgX19jbGFzc05hbWUgdG8gcGF0Y2hlZCBwcm90b3R5cGVcblx0dmFyIHByZXYgPSBkb20uX19jbGFzc05hbWU7XG5cblx0aWYgKFxuXHRcdGh5ZHJhdGluZyB8fFxuXHRcdHByZXYgIT09IHZhbHVlIHx8XG5cdFx0cHJldiA9PT0gdW5kZWZpbmVkIC8vIGZvciBlZGdlIGNhc2Ugb2YgYGNsYXNzPXt1bmRlZmluZWR9YFxuXHQpIHtcblx0XHR2YXIgbmV4dF9jbGFzc19uYW1lID0gdG9fY2xhc3ModmFsdWUsIGhhc2gsIG5leHRfY2xhc3Nlcyk7XG5cblx0XHRpZiAoIWh5ZHJhdGluZyB8fCBuZXh0X2NsYXNzX25hbWUgIT09IGRvbS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpIHtcblx0XHRcdC8vIFJlbW92aW5nIHRoZSBhdHRyaWJ1dGUgd2hlbiB0aGUgdmFsdWUgaXMgb25seSBhbiBlbXB0eSBzdHJpbmcgY2F1c2VzXG5cdFx0XHQvLyBwZXJmb3JtYW5jZSBpc3N1ZXMgdnMgc2ltcGx5IG1ha2luZyB0aGUgY2xhc3NOYW1lIGFuIGVtcHR5IHN0cmluZy4gU29cblx0XHRcdC8vIHdlIHNob3VsZCBvbmx5IHJlbW92ZSB0aGUgY2xhc3MgaWYgdGhlIHZhbHVlIGlzIG51bGxpc2hcblx0XHRcdC8vIGFuZCB0aGVyZSBubyBoYXNoL2RpcmVjdGl2ZXMgOlxuXHRcdFx0aWYgKG5leHRfY2xhc3NfbmFtZSA9PSBudWxsKSB7XG5cdFx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGlzX2h0bWwpIHtcblx0XHRcdFx0ZG9tLmNsYXNzTmFtZSA9IG5leHRfY2xhc3NfbmFtZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmV4dF9jbGFzc19uYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIG5lZWQgdG8gYWRkIF9fY2xhc3NOYW1lIHRvIHBhdGNoZWQgcHJvdG90eXBlXG5cdFx0ZG9tLl9fY2xhc3NOYW1lID0gdmFsdWU7XG5cdH0gZWxzZSBpZiAobmV4dF9jbGFzc2VzICYmIHByZXZfY2xhc3NlcyAhPT0gbmV4dF9jbGFzc2VzKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIG5leHRfY2xhc3Nlcykge1xuXHRcdFx0dmFyIGlzX3ByZXNlbnQgPSAhIW5leHRfY2xhc3Nlc1trZXldO1xuXG5cdFx0XHRpZiAocHJldl9jbGFzc2VzID09IG51bGwgfHwgaXNfcHJlc2VudCAhPT0gISFwcmV2X2NsYXNzZXNba2V5XSkge1xuXHRcdFx0XHRkb20uY2xhc3NMaXN0LnRvZ2dsZShrZXksIGlzX3ByZXNlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXh0X2NsYXNzZXM7XG59XG4iLCAiaW1wb3J0IHsgdG9fc3R5bGUgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvYXR0cmlidXRlcy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gZG9tXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IHByZXZcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gbmV4dFxuICogQHBhcmFtIHtzdHJpbmd9IFtwcmlvcml0eV1cbiAqL1xuZnVuY3Rpb24gdXBkYXRlX3N0eWxlcyhkb20sIHByZXYgPSB7fSwgbmV4dCwgcHJpb3JpdHkpIHtcblx0Zm9yICh2YXIga2V5IGluIG5leHQpIHtcblx0XHR2YXIgdmFsdWUgPSBuZXh0W2tleV07XG5cblx0XHRpZiAocHJldltrZXldICE9PSB2YWx1ZSkge1xuXHRcdFx0aWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRcdGRvbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZG9tLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIHByaW9yaXR5KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IGRvbVxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgW1JlY29yZDxzdHJpbmcsIGFueT4sIFJlY29yZDxzdHJpbmcsIGFueT5dfSBbcHJldl9zdHlsZXNdXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT4gfCBbUmVjb3JkPHN0cmluZywgYW55PiwgUmVjb3JkPHN0cmluZywgYW55Pl19IFtuZXh0X3N0eWxlc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdHlsZShkb20sIHZhbHVlLCBwcmV2X3N0eWxlcywgbmV4dF9zdHlsZXMpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHR2YXIgcHJldiA9IGRvbS5fX3N0eWxlO1xuXG5cdGlmIChoeWRyYXRpbmcgfHwgcHJldiAhPT0gdmFsdWUpIHtcblx0XHR2YXIgbmV4dF9zdHlsZV9hdHRyID0gdG9fc3R5bGUodmFsdWUsIG5leHRfc3R5bGVzKTtcblxuXHRcdGlmICghaHlkcmF0aW5nIHx8IG5leHRfc3R5bGVfYXR0ciAhPT0gZG9tLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSkge1xuXHRcdFx0aWYgKG5leHRfc3R5bGVfYXR0ciA9PSBudWxsKSB7XG5cdFx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb20uc3R5bGUuY3NzVGV4dCA9IG5leHRfc3R5bGVfYXR0cjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZG9tLl9fc3R5bGUgPSB2YWx1ZTtcblx0fSBlbHNlIGlmIChuZXh0X3N0eWxlcykge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG5leHRfc3R5bGVzKSkge1xuXHRcdFx0dXBkYXRlX3N0eWxlcyhkb20sIHByZXZfc3R5bGVzPy5bMF0sIG5leHRfc3R5bGVzWzBdKTtcblx0XHRcdHVwZGF0ZV9zdHlsZXMoZG9tLCBwcmV2X3N0eWxlcz8uWzFdLCBuZXh0X3N0eWxlc1sxXSwgJ2ltcG9ydGFudCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR1cGRhdGVfc3R5bGVzKGRvbSwgcHJldl9zdHlsZXMsIG5leHRfc3R5bGVzKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV4dF9zdHlsZXM7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBFZmZlY3QgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBoeWRyYXRpbmcsIHNldF9oeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3JzLCBnZXRfcHJvdG90eXBlX29mIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGNyZWF0ZV9ldmVudCwgZGVsZWdhdGUgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyBhZGRfZm9ybV9yZXNldF9saXN0ZW5lciwgYXV0b2ZvY3VzIH0gZnJvbSAnLi9taXNjLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi4vLi4vd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgTE9BRElOR19BVFRSX1NZTUJPTCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi90YXNrLmpzJztcbmltcG9ydCB7IGlzX2NhcHR1cmVfZXZlbnQsIGNhbl9kZWxlZ2F0ZV9ldmVudCwgbm9ybWFsaXplX2F0dHJpYnV0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0Z2V0LFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGF0dGFjaCB9IGZyb20gJy4vYXR0YWNobWVudHMuanMnO1xuaW1wb3J0IHsgY2xzeCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IHNldF9jbGFzcyB9IGZyb20gJy4vY2xhc3MuanMnO1xuaW1wb3J0IHsgc2V0X3N0eWxlIH0gZnJvbSAnLi9zdHlsZS5qcyc7XG5pbXBvcnQgeyBBVFRBQ0hNRU5UX0tFWSwgTkFNRVNQQUNFX0hUTUwsIFVOSU5JVElBTElaRUQgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYnJhbmNoLCBkZXN0cm95X2VmZmVjdCwgZWZmZWN0LCBtYW5hZ2VkIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGluaXRfc2VsZWN0LCBzZWxlY3Rfb3B0aW9uIH0gZnJvbSAnLi9iaW5kaW5ncy9zZWxlY3QuanMnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYXN5bmMuanMnO1xuXG5leHBvcnQgY29uc3QgQ0xBU1MgPSBTeW1ib2woJ2NsYXNzJyk7XG5leHBvcnQgY29uc3QgU1RZTEUgPSBTeW1ib2woJ3N0eWxlJyk7XG5cbmNvbnN0IElTX0NVU1RPTV9FTEVNRU5UID0gU3ltYm9sKCdpcyBjdXN0b20gZWxlbWVudCcpO1xuY29uc3QgSVNfSFRNTCA9IFN5bWJvbCgnaXMgaHRtbCcpO1xuXG4vKipcbiAqIFRoZSB2YWx1ZS9jaGVja2VkIGF0dHJpYnV0ZSBpbiB0aGUgdGVtcGxhdGUgYWN0dWFsbHkgY29ycmVzcG9uZHMgdG8gdGhlIGRlZmF1bHRWYWx1ZSBwcm9wZXJ0eSwgc28gd2UgbmVlZFxuICogdG8gcmVtb3ZlIGl0IHVwb24gaHlkcmF0aW9uIHRvIGF2b2lkIGEgYnVnIHdoZW4gc29tZW9uZSByZXNldHMgdGhlIGZvcm0gdmFsdWUuXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9pbnB1dF9kZWZhdWx0cyhpbnB1dCkge1xuXHRpZiAoIWh5ZHJhdGluZykgcmV0dXJuO1xuXG5cdHZhciBhbHJlYWR5X3JlbW92ZWQgPSBmYWxzZTtcblxuXHQvLyBXZSB0cnkgYW5kIHJlbW92ZSB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGxhdGVyLCByYXRoZXIgdGhhbiBzeW5jIGR1cmluZyBoeWRyYXRpb24uXG5cdC8vIERvaW5nIGl0IHN5bmMgZHVyaW5nIGh5ZHJhdGlvbiBoYXMgYSBuZWdhdGl2ZSBpbXBhY3Qgb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWZlcnJpbmcgdGhlXG5cdC8vIHdvcmsgaW4gYW4gaWRsZSB0YXNrIGFsbGV2aWF0ZXMgdGhpcyBncmVhdGx5LiBJZiBhIGZvcm0gcmVzZXQgZXZlbnQgY29tZXMgaW4gYmVmb3JlXG5cdC8vIHRoZSBpZGxlIGNhbGxiYWNrLCB0aGVuIHdlIGVuc3VyZSB0aGUgaW5wdXQgZGVmYXVsdHMgYXJlIGNsZWFyZWQganVzdCBiZWZvcmUuXG5cdHZhciByZW1vdmVfZGVmYXVsdHMgPSAoKSA9PiB7XG5cdFx0aWYgKGFscmVhZHlfcmVtb3ZlZCkgcmV0dXJuO1xuXHRcdGFscmVhZHlfcmVtb3ZlZCA9IHRydWU7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGF0dHJpYnV0ZXMgYnV0IHByZXNlcnZlIHRoZSB2YWx1ZXNcblx0XHRpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBpbnB1dC52YWx1ZTtcblx0XHRcdHNldF9hdHRyaWJ1dGUoaW5wdXQsICd2YWx1ZScsIG51bGwpO1xuXHRcdFx0aW5wdXQudmFsdWUgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcblx0XHRcdHZhciBjaGVja2VkID0gaW5wdXQuY2hlY2tlZDtcblx0XHRcdHNldF9hdHRyaWJ1dGUoaW5wdXQsICdjaGVja2VkJywgbnVsbCk7XG5cdFx0XHRpbnB1dC5jaGVja2VkID0gY2hlY2tlZDtcblx0XHR9XG5cdH07XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRpbnB1dC5fX29uX3IgPSByZW1vdmVfZGVmYXVsdHM7XG5cdHF1ZXVlX21pY3JvX3Rhc2socmVtb3ZlX2RlZmF1bHRzKTtcblx0YWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3ZhbHVlKGVsZW1lbnQsIHZhbHVlKSB7XG5cdHZhciBhdHRyaWJ1dGVzID0gZ2V0X2F0dHJpYnV0ZXMoZWxlbWVudCk7XG5cblx0aWYgKFxuXHRcdGF0dHJpYnV0ZXMudmFsdWUgPT09XG5cdFx0XHQoYXR0cmlidXRlcy52YWx1ZSA9XG5cdFx0XHRcdC8vIHRyZWF0IG51bGwgYW5kIHVuZGVmaW5lZCB0aGUgc2FtZSBmb3IgdGhlIGluaXRpYWwgdmFsdWVcblx0XHRcdFx0dmFsdWUgPz8gdW5kZWZpbmVkKSB8fFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHQvLyBgcHJvZ3Jlc3NgIGVsZW1lbnRzIGFsd2F5cyBuZWVkIHRoZWlyIHZhbHVlIHNldCB3aGVuIGl0J3MgYDBgXG5cdFx0KGVsZW1lbnQudmFsdWUgPT09IHZhbHVlICYmICh2YWx1ZSAhPT0gMCB8fCBlbGVtZW50Lm5vZGVOYW1lICE9PSAnUFJPR1JFU1MnKSlcblx0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRlbGVtZW50LnZhbHVlID0gdmFsdWUgPz8gJyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jaGVja2VkKGVsZW1lbnQsIGNoZWNrZWQpIHtcblx0dmFyIGF0dHJpYnV0ZXMgPSBnZXRfYXR0cmlidXRlcyhlbGVtZW50KTtcblxuXHRpZiAoXG5cdFx0YXR0cmlidXRlcy5jaGVja2VkID09PVxuXHRcdChhdHRyaWJ1dGVzLmNoZWNrZWQgPVxuXHRcdFx0Ly8gdHJlYXQgbnVsbCBhbmQgdW5kZWZpbmVkIHRoZSBzYW1lIGZvciB0aGUgaW5pdGlhbCB2YWx1ZVxuXHRcdFx0Y2hlY2tlZCA/PyB1bmRlZmluZWQpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0ZWxlbWVudC5jaGVja2VkID0gY2hlY2tlZDtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBvbiBhbiBgb3B0aW9uYCBlbGVtZW50LlxuICogTm90IHNldCB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBiZWNhdXNlIHRoYXQgZG9lc24ndCByZWZsZWN0IHRvIHRoZSBET00sXG4gKiB3aGljaCBtZWFucyBpdCB3b3VsZG4ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgd2hlbiBhIGZvcm0gaXMgcmVzZXQuXG4gKiBAcGFyYW0ge0hUTUxPcHRpb25FbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNlbGVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc2VsZWN0ZWQoZWxlbWVudCwgc2VsZWN0ZWQpIHtcblx0aWYgKHNlbGVjdGVkKSB7XG5cdFx0Ly8gVGhlIHNlbGVjdGVkIG9wdGlvbiBjb3VsZCd2ZSBjaGFuZ2VkIHZpYSB1c2VyIHNlbGVjdGlvbiwgYW5kXG5cdFx0Ly8gc2V0dGluZyB0aGUgdmFsdWUgd2l0aG91dCB0aGlzIGNoZWNrIHdvdWxkIHNldCBpdCBiYWNrLlxuXHRcdGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBkZWZhdWx0IGNoZWNrZWQgcHJvcGVydHkgd2l0aG91dCBpbmZsdWVuY2luZyB0aGUgY3VycmVudCBjaGVja2VkIHByb3BlcnR5LlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZWZhdWx0X2NoZWNrZWQoZWxlbWVudCwgY2hlY2tlZCkge1xuXHRjb25zdCBleGlzdGluZ192YWx1ZSA9IGVsZW1lbnQuY2hlY2tlZDtcblx0ZWxlbWVudC5kZWZhdWx0Q2hlY2tlZCA9IGNoZWNrZWQ7XG5cdGVsZW1lbnQuY2hlY2tlZCA9IGV4aXN0aW5nX3ZhbHVlO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGRlZmF1bHQgdmFsdWUgcHJvcGVydHkgd2l0aG91dCBpbmZsdWVuY2luZyB0aGUgY3VycmVudCB2YWx1ZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RlZmF1bHRfdmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcblx0Y29uc3QgZXhpc3RpbmdfdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuXHRlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlO1xuXHRlbGVtZW50LnZhbHVlID0gZXhpc3RpbmdfdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwX3dhcm5pbmddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUsIHNraXBfd2FybmluZykge1xuXHR2YXIgYXR0cmlidXRlcyA9IGdldF9hdHRyaWJ1dGVzKGVsZW1lbnQpO1xuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXG5cdFx0aWYgKFxuXHRcdFx0YXR0cmlidXRlID09PSAnc3JjJyB8fFxuXHRcdFx0YXR0cmlidXRlID09PSAnc3Jjc2V0JyB8fFxuXHRcdFx0KGF0dHJpYnV0ZSA9PT0gJ2hyZWYnICYmIGVsZW1lbnQubm9kZU5hbWUgPT09ICdMSU5LJylcblx0XHQpIHtcblx0XHRcdGlmICghc2tpcF93YXJuaW5nKSB7XG5cdFx0XHRcdGNoZWNrX3NyY19pbl9kZXZfaHlkcmF0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUgPz8gJycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSByZXNldCB0aGVzZSBhdHRyaWJ1dGVzLCB0aGV5IHdvdWxkIHJlc3VsdCBpbiBhbm90aGVyIG5ldHdvcmsgcmVxdWVzdCwgd2hpY2ggd2Ugd2FudCB0byBhdm9pZC5cblx0XHRcdC8vIFdlIGFzc3VtZSB0aGV5IGFyZSB0aGUgc2FtZSBiZXR3ZWVuIGNsaWVudCBhbmQgc2VydmVyIGFzIGNoZWNraW5nIGlmIHRoZXkgYXJlIGVxdWFsIGlzIGV4cGVuc2l2ZVxuXHRcdFx0Ly8gKHdlIGNhbid0IGp1c3QgY29tcGFyZSB0aGUgc3RyaW5ncyBhcyB0aGV5IGNhbiBiZSBkaWZmZXJlbnQgYmV0d2VlbiBjbGllbnQgYW5kIHNlcnZlciBidXQgcmVzdWx0IGluIHRoZVxuXHRcdFx0Ly8gc2FtZSB1cmwsIHNvIHdlIHdvdWxkIG5lZWQgdG8gY3JlYXRlIGhpZGRlbiBhbmNob3IgZWxlbWVudHMgdG8gY29tcGFyZSB0aGVtKVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPT09IChhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPSB2YWx1ZSkpIHJldHVybjtcblxuXHRpZiAoYXR0cmlidXRlID09PSAnbG9hZGluZycpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudFtMT0FESU5HX0FUVFJfU1lNQk9MXSA9IHZhbHVlO1xuXHR9XG5cblx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgZ2V0X3NldHRlcnMoZWxlbWVudCkuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRlbGVtZW50W2F0dHJpYnV0ZV0gPSB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZG9tXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF94bGlua19hdHRyaWJ1dGUoZG9tLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGRvbS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG5cdC8vIFdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgc2V0dGluZyBjdXN0b20gZWxlbWVudCBwcm9wcywgd2hpY2ggY2FuXG5cdC8vIGludm9rZSBsaWZlY3ljbGUgbWV0aG9kcyBvbiBvdGhlciBjdXN0b20gZWxlbWVudHMsIGRvZXMgbm90IGFsc29cblx0Ly8gYXNzb2NpYXRlIHRob3NlIGxpZmVjeWNsZSBtZXRob2RzIHdpdGggdGhlIGN1cnJlbnQgYWN0aXZlIHJlYWN0aW9uXG5cdC8vIG9yIGVmZmVjdFxuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdC8vIElmIHdlJ3JlIGh5ZHJhdGluZyBidXQgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGZyb20gU3ZlbHRlLCBhbmQgaXQgYWxyZWFkeSBzY2FmZm9sZGVkLFxuXHQvLyB0aGVuIGl0IG1pZ2h0IHJ1biBibG9jayBsb2dpYyBpbiBoeWRyYXRpb24gbW9kZSwgd2hpY2ggd2UgaGF2ZSB0byBwcmV2ZW50LlxuXHRsZXQgd2FzX2h5ZHJhdGluZyA9IGh5ZHJhdGluZztcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHR9XG5cblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2FjdGl2ZV9lZmZlY3QobnVsbCk7XG5cblx0dHJ5IHtcblx0XHRpZiAoXG5cdFx0XHQvLyBgc3R5bGVgIHNob3VsZCB1c2UgYHNldF9hdHRyaWJ1dGVgIHJhdGhlciB0aGFuIHRoZSBzZXR0ZXJcblx0XHRcdHByb3AgIT09ICdzdHlsZScgJiZcblx0XHRcdC8vIERvbid0IGNvbXB1dGUgc2V0dGVycyBmb3IgY3VzdG9tIGVsZW1lbnRzIHdoaWxlIHRoZXkgYXJlbid0IHJlZ2lzdGVyZWQgeWV0LFxuXHRcdFx0Ly8gYmVjYXVzZSBkdXJpbmcgdGhlaXIgdXBncmFkZS9pbnN0YW50aWF0aW9uIHRoZXkgbWlnaHQgYWRkIG1vcmUgc2V0dGVycy5cblx0XHRcdC8vIEluc3RlYWQsIGZhbGwgYmFjayB0byBhIHNpbXBsZSBcImFuIG9iamVjdCwgdGhlbiBzZXQgYXMgcHJvcGVydHlcIiBoZXVyaXN0aWMuXG5cdFx0XHQoc2V0dGVyc19jYWNoZS5oYXMobm9kZS5nZXRBdHRyaWJ1dGUoJ2lzJykgfHwgbm9kZS5ub2RlTmFtZSkgfHxcblx0XHRcdC8vIGN1c3RvbUVsZW1lbnRzIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIGJyb3dzZXIgZXh0ZW5zaW9uIGNvbnRleHRzXG5cdFx0XHQhY3VzdG9tRWxlbWVudHMgfHxcblx0XHRcdGN1c3RvbUVsZW1lbnRzLmdldChub2RlLmdldEF0dHJpYnV0ZSgnaXMnKSB8fCBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0PyBnZXRfc2V0dGVycyhub2RlKS5pbmNsdWRlcyhwcm9wKVxuXHRcdFx0XHQ6IHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRub2RlW3Byb3BdID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFdlIGRpZCBnZXR0ZXJzIGV0YyBjaGVja3MgYWxyZWFkeSwgc3RyaW5naWZ5IGJlZm9yZSBwYXNzaW5nIHRvIHNldF9hdHRyaWJ1dGVcblx0XHRcdC8vIHRvIGVuc3VyZSBpdCBkb2Vzbid0IGludm9rZSB0aGUgc2FtZSBsb2dpYyBhZ2FpbiwgYW5kIHBvdGVudGlhbGx5IHBvcHVsYXRpbmdcblx0XHRcdC8vIHRoZSBzZXR0ZXJzIGNhY2hlIHRvbyBlYXJseS5cblx0XHRcdHNldF9hdHRyaWJ1dGUobm9kZSwgcHJvcCwgdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKSk7XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZpb3VzX2VmZmVjdCk7XG5cdFx0aWYgKHdhc19oeWRyYXRpbmcpIHtcblx0XHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogU3ByZWFkcyBhdHRyaWJ1dGVzIG9udG8gYSBET00gZWxlbWVudCwgdGFraW5nIGludG8gYWNjb3VudCB0aGUgY3VycmVudGx5IHNldCBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IGVsZW1lbnRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55PiB8IHVuZGVmaW5lZH0gcHJldlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSBuZXh0IE5ldyBhdHRyaWJ1dGVzIC0gdGhpcyBmdW5jdGlvbiBtdXRhdGVzIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2Nzc19oYXNoXVxuICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkX3JlbW92ZV9kZWZhdWx0c11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBfd2FybmluZ11cbiAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fVxuICovXG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhcblx0ZWxlbWVudCxcblx0cHJldixcblx0bmV4dCxcblx0Y3NzX2hhc2gsXG5cdHNob3VsZF9yZW1vdmVfZGVmYXVsdHMgPSBmYWxzZSxcblx0c2tpcF93YXJuaW5nID0gZmFsc2Vcbikge1xuXHRpZiAoaHlkcmF0aW5nICYmIHNob3VsZF9yZW1vdmVfZGVmYXVsdHMgJiYgZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnKSB7XG5cdFx0dmFyIGlucHV0ID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZWxlbWVudCk7XG5cdFx0dmFyIGF0dHJpYnV0ZSA9IGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcgPyAnZGVmYXVsdENoZWNrZWQnIDogJ2RlZmF1bHRWYWx1ZSc7XG5cblx0XHRpZiAoIShhdHRyaWJ1dGUgaW4gbmV4dCkpIHtcblx0XHRcdHJlbW92ZV9pbnB1dF9kZWZhdWx0cyhpbnB1dCk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGF0dHJpYnV0ZXMgPSBnZXRfYXR0cmlidXRlcyhlbGVtZW50KTtcblxuXHR2YXIgaXNfY3VzdG9tX2VsZW1lbnQgPSBhdHRyaWJ1dGVzW0lTX0NVU1RPTV9FTEVNRU5UXTtcblx0dmFyIHByZXNlcnZlX2F0dHJpYnV0ZV9jYXNlID0gIWF0dHJpYnV0ZXNbSVNfSFRNTF07XG5cblx0Ly8gSWYgd2UncmUgaHlkcmF0aW5nIGJ1dCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgZnJvbSBTdmVsdGUsIGFuZCBpdCBhbHJlYWR5IHNjYWZmb2xkZWQsXG5cdC8vIHRoZW4gaXQgbWlnaHQgcnVuIGJsb2NrIGxvZ2ljIGluIGh5ZHJhdGlvbiBtb2RlLCB3aGljaCB3ZSBoYXZlIHRvIHByZXZlbnQuXG5cdGxldCBpc19oeWRyYXRpbmdfY3VzdG9tX2VsZW1lbnQgPSBoeWRyYXRpbmcgJiYgaXNfY3VzdG9tX2VsZW1lbnQ7XG5cdGlmIChpc19oeWRyYXRpbmdfY3VzdG9tX2VsZW1lbnQpIHtcblx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0fVxuXG5cdHZhciBjdXJyZW50ID0gcHJldiB8fCB7fTtcblx0dmFyIGlzX29wdGlvbl9lbGVtZW50ID0gZWxlbWVudC50YWdOYW1lID09PSAnT1BUSU9OJztcblxuXHRmb3IgKHZhciBrZXkgaW4gcHJldikge1xuXHRcdGlmICghKGtleSBpbiBuZXh0KSkge1xuXHRcdFx0bmV4dFtrZXldID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZiAobmV4dC5jbGFzcykge1xuXHRcdG5leHQuY2xhc3MgPSBjbHN4KG5leHQuY2xhc3MpO1xuXHR9IGVsc2UgaWYgKGNzc19oYXNoIHx8IG5leHRbQ0xBU1NdKSB7XG5cdFx0bmV4dC5jbGFzcyA9IG51bGw7IC8qIGZvcmNlIGNhbGwgdG8gc2V0X2NsYXNzKCkgKi9cblx0fVxuXG5cdGlmIChuZXh0W1NUWUxFXSkge1xuXHRcdG5leHQuc3R5bGUgPz89IG51bGw7IC8qIGZvcmNlIGNhbGwgdG8gc2V0X3N0eWxlKCkgKi9cblx0fVxuXG5cdHZhciBzZXR0ZXJzID0gZ2V0X3NldHRlcnMoZWxlbWVudCk7XG5cblx0Ly8gc2luY2Uga2V5IGlzIGNhcHR1cmVkIHdlIHVzZSBjb25zdFxuXHRmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG5cdFx0Ly8gbGV0IGluc3RlYWQgb2YgdmFyIGJlY2F1c2UgcmVmZXJlbmNlZCBpbiBhIGNsb3N1cmVcblx0XHRsZXQgdmFsdWUgPSBuZXh0W2tleV07XG5cblx0XHQvLyBVcCBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBkbyB0aGlzIGZvciB0aGUgaW5pdGlhbCB2YWx1ZSwgdG9vLCBldmVuIGlmIGl0J3MgdW5kZWZpbmVkLFxuXHRcdC8vIGFuZCB0aGlzIHdvdWxkbid0IGJlIHJlYWNoZWQgaW4gY2FzZSBvZiB1bmRlZmluZWQgYmVjYXVzZSBvZiB0aGUgZXF1YWxpdHkgY2hlY2sgYmVsb3dcblx0XHRpZiAoaXNfb3B0aW9uX2VsZW1lbnQgJiYga2V5ID09PSAndmFsdWUnICYmIHZhbHVlID09IG51bGwpIHtcblx0XHRcdC8vIFRoZSA8b3B0aW9uPiBlbGVtZW50IGlzIGEgc3BlY2lhbCBjYXNlIGJlY2F1c2UgcmVtb3ZpbmcgdGhlIHZhbHVlIGF0dHJpYnV0ZSBtZWFuc1xuXHRcdFx0Ly8gdGhlIHZhbHVlIGlzIHNldCB0byB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBvcHRpb24gZWxlbWVudCwgYW5kIHNldHRpbmcgdGhlIHZhbHVlXG5cdFx0XHQvLyB0byBudWxsIG9yIHVuZGVmaW5lZCBtZWFucyB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSBzdHJpbmcgXCJudWxsXCIgb3IgXCJ1bmRlZmluZWRcIi5cblx0XHRcdC8vIFRvIGFsaWduIHdpdGggaG93IHdlIGhhbmRsZSB0aGlzIGNhc2UgaW4gbm9uLXNwcmVhZC1zY2VuYXJpb3MsIHRoaXMgbG9naWMgaXMgbmVlZGVkLlxuXHRcdFx0Ly8gVGhlcmUncyBhIHN1cGVyLWVkZ2UtY2FzZSBidWcgaGVyZSB0aGF0IGlzIGxlZnQgaW4gaW4gZmF2b3Igb2Ygc21hbGxlciBjb2RlIHNpemU6XG5cdFx0XHQvLyBCZWNhdXNlIG9mIHRoZSBcInNldCBtaXNzaW5nIHByb3BzIHRvIG51bGxcIiBsb2dpYyBhYm92ZSwgd2UgY2FuJ3QgZGlmZmVyZW50aWF0ZVxuXHRcdFx0Ly8gYmV0d2VlbiBhIG1pc3NpbmcgdmFsdWUgYW5kIGFuIGV4cGxpY2l0bHkgc2V0IHZhbHVlIG9mIG51bGwgb3IgdW5kZWZpbmVkLiBUaGF0IG1lYW5zXG5cdFx0XHQvLyB0aGF0IG9uY2Ugc2V0LCB0aGUgdmFsdWUgYXR0cmlidXRlIG9mIGFuIDxvcHRpb24+IGVsZW1lbnQgY2FuJ3QgYmUgcmVtb3ZlZC4gVGhpcyBpc1xuXHRcdFx0Ly8gYSB2ZXJ5IHJhcmUgZWRnZSBjYXNlLCBhbmQgcmVtb3ZpbmcgdGhlIGF0dHJpYnV0ZSBhbHRvZ2V0aGVyIGlzbid0IHBvc3NpYmxlIGVpdGhlclxuXHRcdFx0Ly8gZm9yIHRoZSA8b3B0aW9uIHZhbHVlPXt1bmRlZmluZWR9PiBjYXNlLCBzbyB3ZSdyZSBub3QgbG9zaW5nIGFueSBmdW5jdGlvbmFsaXR5IGhlcmUuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRlbGVtZW50LnZhbHVlID0gZWxlbWVudC5fX3ZhbHVlID0gJyc7XG5cdFx0XHRjdXJyZW50W2tleV0gPSB2YWx1ZTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChrZXkgPT09ICdjbGFzcycpIHtcblx0XHRcdHZhciBpc19odG1sID0gZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcblx0XHRcdHNldF9jbGFzcyhlbGVtZW50LCBpc19odG1sLCB2YWx1ZSwgY3NzX2hhc2gsIHByZXY/LltDTEFTU10sIG5leHRbQ0xBU1NdKTtcblx0XHRcdGN1cnJlbnRba2V5XSA9IHZhbHVlO1xuXHRcdFx0Y3VycmVudFtDTEFTU10gPSBuZXh0W0NMQVNTXTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdHNldF9zdHlsZShlbGVtZW50LCB2YWx1ZSwgcHJldj8uW1NUWUxFXSwgbmV4dFtTVFlMRV0pO1xuXHRcdFx0Y3VycmVudFtrZXldID0gdmFsdWU7XG5cdFx0XHRjdXJyZW50W1NUWUxFXSA9IG5leHRbU1RZTEVdO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFyIHByZXZfdmFsdWUgPSBjdXJyZW50W2tleV07XG5cblx0XHQvLyBTa2lwIGlmIHZhbHVlIGlzIHVuY2hhbmdlZCwgdW5sZXNzIGl0J3MgYHVuZGVmaW5lZGAgYW5kIHRoZSBlbGVtZW50IHN0aWxsIGhhcyB0aGUgYXR0cmlidXRlXG5cdFx0aWYgKHZhbHVlID09PSBwcmV2X3ZhbHVlICYmICEodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShrZXkpKSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y3VycmVudFtrZXldID0gdmFsdWU7XG5cblx0XHR2YXIgcHJlZml4ID0ga2V5WzBdICsga2V5WzFdOyAvLyB0aGlzIGlzIGZhc3RlciB0aGFuIGtleS5zbGljZSgwLCAyKVxuXHRcdGlmIChwcmVmaXggPT09ICckJCcpIGNvbnRpbnVlO1xuXG5cdFx0aWYgKHByZWZpeCA9PT0gJ29uJykge1xuXHRcdFx0LyoqIEB0eXBlIHt7IGNhcHR1cmU/OiB0cnVlIH19ICovXG5cdFx0XHRjb25zdCBvcHRzID0ge307XG5cdFx0XHRjb25zdCBldmVudF9oYW5kbGVfa2V5ID0gJyQkJyArIGtleTtcblx0XHRcdGxldCBldmVudF9uYW1lID0ga2V5LnNsaWNlKDIpO1xuXHRcdFx0dmFyIGRlbGVnYXRlZCA9IGNhbl9kZWxlZ2F0ZV9ldmVudChldmVudF9uYW1lKTtcblxuXHRcdFx0aWYgKGlzX2NhcHR1cmVfZXZlbnQoZXZlbnRfbmFtZSkpIHtcblx0XHRcdFx0ZXZlbnRfbmFtZSA9IGV2ZW50X25hbWUuc2xpY2UoMCwgLTcpO1xuXHRcdFx0XHRvcHRzLmNhcHR1cmUgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWRlbGVnYXRlZCAmJiBwcmV2X3ZhbHVlKSB7XG5cdFx0XHRcdC8vIExpc3RlbmluZyB0byBzYW1lIGV2ZW50IGJ1dCBkaWZmZXJlbnQgaGFuZGxlciAtPiBvdXIgaGFuZGxlIGZ1bmN0aW9uIGJlbG93IHRha2VzIGNhcmUgb2YgdGhpc1xuXHRcdFx0XHQvLyBJZiB3ZSB3ZXJlIHRvIHJlbW92ZSBhbmQgYWRkIGxpc3RlbmVycyBpbiB0aGlzIGNhc2UsIGl0IGNvdWxkIGhhcHBlbiB0aGF0IHRoZSBldmVudCBpcyBcInN3YWxsb3dlZFwiXG5cdFx0XHRcdC8vICh0aGUgYnJvd3NlciBzZWVtcyB0byBub3Qga25vdyB5ZXQgdGhhdCBhIG5ldyBvbmUgZXhpc3RzIG5vdykgYW5kIGRvZXNuJ3QgcmVhY2ggdGhlIGhhbmRsZXJcblx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMTE5MDNcblx0XHRcdFx0aWYgKHZhbHVlICE9IG51bGwpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBjdXJyZW50W2V2ZW50X2hhbmRsZV9rZXldLCBvcHRzKTtcblx0XHRcdFx0Y3VycmVudFtldmVudF9oYW5kbGVfa2V5XSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRcdGlmICghZGVsZWdhdGVkKSB7XG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogQHRoaXMge2FueX1cblx0XHRcdFx0XHQgKiBAcGFyYW0ge0V2ZW50fSBldnRcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRmdW5jdGlvbiBoYW5kbGUoZXZ0KSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50W2tleV0uY2FsbCh0aGlzLCBldnQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnRbZXZlbnRfaGFuZGxlX2tleV0gPSBjcmVhdGVfZXZlbnQoZXZlbnRfbmFtZSwgZWxlbWVudCwgaGFuZGxlLCBvcHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ZWxlbWVudFtgX18ke2V2ZW50X25hbWV9YF0gPSB2YWx1ZTtcblx0XHRcdFx0XHRkZWxlZ2F0ZShbZXZlbnRfbmFtZV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGRlbGVnYXRlZCkge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGVsZW1lbnRbYF9fJHtldmVudF9uYW1lfWBdID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHQvLyBhdm9pZCB1c2luZyB0aGUgc2V0dGVyXG5cdFx0XHRzZXRfYXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnYXV0b2ZvY3VzJykge1xuXHRcdFx0YXV0b2ZvY3VzKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChlbGVtZW50KSwgQm9vbGVhbih2YWx1ZSkpO1xuXHRcdH0gZWxzZSBpZiAoIWlzX2N1c3RvbV9lbGVtZW50ICYmIChrZXkgPT09ICdfX3ZhbHVlJyB8fCAoa2V5ID09PSAndmFsdWUnICYmIHZhbHVlICE9IG51bGwpKSkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSdyZSBub3QgcnVubmluZyB0aGlzIGZvciBjdXN0b20gZWxlbWVudHMgYmVjYXVzZSBfX3ZhbHVlIGlzIGFjdHVhbGx5XG5cdFx0XHQvLyBob3cgTGl0IHN0b3JlcyB0aGUgY3VycmVudCB2YWx1ZSBvbiB0aGUgZWxlbWVudCwgYW5kIG1lc3Npbmcgd2l0aCB0aGF0IHdvdWxkIGJyZWFrIHRoaW5ncy5cblx0XHRcdGVsZW1lbnQudmFsdWUgPSBlbGVtZW50Ll9fdmFsdWUgPSB2YWx1ZTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ3NlbGVjdGVkJyAmJiBpc19vcHRpb25fZWxlbWVudCkge1xuXHRcdFx0c2V0X3NlbGVjdGVkKC8qKiBAdHlwZSB7SFRNTE9wdGlvbkVsZW1lbnR9ICovIChlbGVtZW50KSwgdmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbmFtZSA9IGtleTtcblx0XHRcdGlmICghcHJlc2VydmVfYXR0cmlidXRlX2Nhc2UpIHtcblx0XHRcdFx0bmFtZSA9IG5vcm1hbGl6ZV9hdHRyaWJ1dGUobmFtZSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBpc19kZWZhdWx0ID0gbmFtZSA9PT0gJ2RlZmF1bHRWYWx1ZScgfHwgbmFtZSA9PT0gJ2RlZmF1bHRDaGVja2VkJztcblxuXHRcdFx0aWYgKHZhbHVlID09IG51bGwgJiYgIWlzX2N1c3RvbV9lbGVtZW50ICYmICFpc19kZWZhdWx0KSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXNba2V5XSA9IG51bGw7XG5cblx0XHRcdFx0aWYgKG5hbWUgPT09ICd2YWx1ZScgfHwgbmFtZSA9PT0gJ2NoZWNrZWQnKSB7XG5cdFx0XHRcdFx0Ly8gcmVtb3ZpbmcgdmFsdWUvY2hlY2tlZCBhbHNvIHJlbW92ZXMgZGVmYXVsdFZhbHVlL2RlZmF1bHRDaGVja2VkIFx1MjAxNCBwcmVzZXJ2ZVxuXHRcdFx0XHRcdGxldCBpbnB1dCA9IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8gKGVsZW1lbnQpO1xuXHRcdFx0XHRcdGNvbnN0IHVzZV9kZWZhdWx0ID0gcHJldiA9PT0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGlmIChuYW1lID09PSAndmFsdWUnKSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJldmlvdXMgPSBpbnB1dC5kZWZhdWx0VmFsdWU7XG5cdFx0XHRcdFx0XHRpbnB1dC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0XHRcdFx0XHRpbnB1dC5kZWZhdWx0VmFsdWUgPSBwcmV2aW91cztcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGlucHV0LnZhbHVlID0gaW5wdXQuX192YWx1ZSA9IHVzZV9kZWZhdWx0ID8gcHJldmlvdXMgOiBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJldmlvdXMgPSBpbnB1dC5kZWZhdWx0Q2hlY2tlZDtcblx0XHRcdFx0XHRcdGlucHV0LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHRcdFx0XHRcdGlucHV0LmRlZmF1bHRDaGVja2VkID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0XHRpbnB1dC5jaGVja2VkID0gdXNlX2RlZmF1bHQgPyBwcmV2aW91cyA6IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRpc19kZWZhdWx0IHx8XG5cdFx0XHRcdChzZXR0ZXJzLmluY2x1ZGVzKG5hbWUpICYmIChpc19jdXN0b21fZWxlbWVudCB8fCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSlcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdFx0Ly8gcmVtb3ZlIGl0IGZyb20gYXR0cmlidXRlcydzIGNhY2hlXG5cdFx0XHRcdGlmIChuYW1lIGluIGF0dHJpYnV0ZXMpIGF0dHJpYnV0ZXNbbmFtZV0gPSBVTklOSVRJQUxJWkVEO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0c2V0X2F0dHJpYnV0ZShlbGVtZW50LCBuYW1lLCB2YWx1ZSwgc2tpcF93YXJuaW5nKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoaXNfaHlkcmF0aW5nX2N1c3RvbV9lbGVtZW50KSB7XG5cdFx0c2V0X2h5ZHJhdGluZyh0cnVlKTtcblx0fVxuXG5cdHJldHVybiBjdXJyZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gZWxlbWVudFxuICogQHBhcmFtIHsoLi4uZXhwcmVzc2lvbnM6IGFueSkgPT4gUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55Pn0gZm5cbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gYW55Pn0gc3luY1xuICogQHBhcmFtIHtBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+fSBhc3luY1xuICogQHBhcmFtIHtBcnJheTxQcm9taXNlPHZvaWQ+Pn0gYmxvY2tlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY3NzX2hhc2hdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRfcmVtb3ZlX2RlZmF1bHRzXVxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcF93YXJuaW5nXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cmlidXRlX2VmZmVjdChcblx0ZWxlbWVudCxcblx0Zm4sXG5cdHN5bmMgPSBbXSxcblx0YXN5bmMgPSBbXSxcblx0YmxvY2tlcnMgPSBbXSxcblx0Y3NzX2hhc2gsXG5cdHNob3VsZF9yZW1vdmVfZGVmYXVsdHMgPSBmYWxzZSxcblx0c2tpcF93YXJuaW5nID0gZmFsc2Vcbikge1xuXHRmbGF0dGVuKGJsb2NrZXJzLCBzeW5jLCBhc3luYywgKHZhbHVlcykgPT4ge1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55PiB8IHVuZGVmaW5lZH0gKi9cblx0XHR2YXIgcHJldiA9IHVuZGVmaW5lZDtcblxuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN5bWJvbCwgRWZmZWN0Pn0gKi9cblx0XHR2YXIgZWZmZWN0cyA9IHt9O1xuXG5cdFx0dmFyIGlzX3NlbGVjdCA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnO1xuXHRcdHZhciBpbml0ZWQgPSBmYWxzZTtcblxuXHRcdG1hbmFnZWQoKCkgPT4ge1xuXHRcdFx0dmFyIG5leHQgPSBmbiguLi52YWx1ZXMubWFwKGdldCkpO1xuXHRcdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSAqL1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBzZXRfYXR0cmlidXRlcyhcblx0XHRcdFx0ZWxlbWVudCxcblx0XHRcdFx0cHJldixcblx0XHRcdFx0bmV4dCxcblx0XHRcdFx0Y3NzX2hhc2gsXG5cdFx0XHRcdHNob3VsZF9yZW1vdmVfZGVmYXVsdHMsXG5cdFx0XHRcdHNraXBfd2FybmluZ1xuXHRcdFx0KTtcblxuXHRcdFx0aWYgKGluaXRlZCAmJiBpc19zZWxlY3QgJiYgJ3ZhbHVlJyBpbiBuZXh0KSB7XG5cdFx0XHRcdHNlbGVjdF9vcHRpb24oLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi8gKGVsZW1lbnQpLCBuZXh0LnZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChsZXQgc3ltYm9sIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZWZmZWN0cykpIHtcblx0XHRcdFx0aWYgKCFuZXh0W3N5bWJvbF0pIGRlc3Ryb3lfZWZmZWN0KGVmZmVjdHNbc3ltYm9sXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IHN5bWJvbCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG5leHQpKSB7XG5cdFx0XHRcdHZhciBuID0gbmV4dFtzeW1ib2xdO1xuXG5cdFx0XHRcdGlmIChzeW1ib2wuZGVzY3JpcHRpb24gPT09IEFUVEFDSE1FTlRfS0VZICYmICghcHJldiB8fCBuICE9PSBwcmV2W3N5bWJvbF0pKSB7XG5cdFx0XHRcdFx0aWYgKGVmZmVjdHNbc3ltYm9sXSkgZGVzdHJveV9lZmZlY3QoZWZmZWN0c1tzeW1ib2xdKTtcblx0XHRcdFx0XHRlZmZlY3RzW3N5bWJvbF0gPSBicmFuY2goKCkgPT4gYXR0YWNoKGVsZW1lbnQsICgpID0+IG4pKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnRbc3ltYm9sXSA9IG47XG5cdFx0XHR9XG5cblx0XHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdH0pO1xuXG5cdFx0aWYgKGlzX3NlbGVjdCkge1xuXHRcdFx0dmFyIHNlbGVjdCA9IC8qKiBAdHlwZSB7SFRNTFNlbGVjdEVsZW1lbnR9ICovIChlbGVtZW50KTtcblxuXHRcdFx0ZWZmZWN0KCgpID0+IHtcblx0XHRcdFx0c2VsZWN0X29wdGlvbihzZWxlY3QsIC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55Pn0gKi8gKHByZXYpLnZhbHVlLCB0cnVlKTtcblx0XHRcdFx0aW5pdF9zZWxlY3Qoc2VsZWN0KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGluaXRlZCA9IHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0X2F0dHJpYnV0ZXMoZWxlbWVudCkge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPn0gKiovIChcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudC5fX2F0dHJpYnV0ZXMgPz89IHtcblx0XHRcdFtJU19DVVNUT01fRUxFTUVOVF06IGVsZW1lbnQubm9kZU5hbWUuaW5jbHVkZXMoJy0nKSxcblx0XHRcdFtJU19IVE1MXTogZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IE5BTUVTUEFDRV9IVE1MXG5cdFx0fVxuXHQpO1xufVxuXG4vKiogQHR5cGUge01hcDxzdHJpbmcsIHN0cmluZ1tdPn0gKi9cbnZhciBzZXR0ZXJzX2NhY2hlID0gbmV3IE1hcCgpO1xuXG4vKiogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50ICovXG5mdW5jdGlvbiBnZXRfc2V0dGVycyhlbGVtZW50KSB7XG5cdHZhciBjYWNoZV9rZXkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaXMnKSB8fCBlbGVtZW50Lm5vZGVOYW1lO1xuXHR2YXIgc2V0dGVycyA9IHNldHRlcnNfY2FjaGUuZ2V0KGNhY2hlX2tleSk7XG5cdGlmIChzZXR0ZXJzKSByZXR1cm4gc2V0dGVycztcblx0c2V0dGVyc19jYWNoZS5zZXQoY2FjaGVfa2V5LCAoc2V0dGVycyA9IFtdKSk7XG5cblx0dmFyIGRlc2NyaXB0b3JzO1xuXHR2YXIgcHJvdG8gPSBlbGVtZW50OyAvLyBJbiB0aGUgY2FzZSBvZiBjdXN0b20gZWxlbWVudHMgdGhlcmUgbWlnaHQgYmUgc2V0dGVycyBvbiB0aGUgaW5zdGFuY2Vcblx0dmFyIGVsZW1lbnRfcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuXHQvLyBTdG9wIGF0IEVsZW1lbnQsIGZyb20gdGhlcmUgb24gdGhlcmUncyBvbmx5IHVubmVjZXNzYXJ5IHNldHRlcnMgd2UncmUgbm90IGludGVyZXN0ZWQgaW5cblx0Ly8gRG8gbm90IHVzZSBjb250cnVjdG9yLm5hbWUgaGVyZSBhcyB0aGF0J3MgdW5yZWxpYWJsZSBpbiBzb21lIGJyb3dzZXIgZW52aXJvbm1lbnRzXG5cdHdoaWxlIChlbGVtZW50X3Byb3RvICE9PSBwcm90bykge1xuXHRcdGRlc2NyaXB0b3JzID0gZ2V0X2Rlc2NyaXB0b3JzKHByb3RvKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBkZXNjcmlwdG9ycykge1xuXHRcdFx0aWYgKGRlc2NyaXB0b3JzW2tleV0uc2V0KSB7XG5cdFx0XHRcdHNldHRlcnMucHVzaChrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHByb3RvID0gZ2V0X3Byb3RvdHlwZV9vZihwcm90byk7XG5cdH1cblxuXHRyZXR1cm4gc2V0dGVycztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrX3NyY19pbl9kZXZfaHlkcmF0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0aWYgKCFERVYpIHJldHVybjtcblx0aWYgKGF0dHJpYnV0ZSA9PT0gJ3NyY3NldCcgJiYgc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50LCB2YWx1ZSkpIHJldHVybjtcblx0aWYgKHNyY191cmxfZXF1YWwoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSA/PyAnJywgdmFsdWUpKSByZXR1cm47XG5cblx0dy5oeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWQoXG5cdFx0YXR0cmlidXRlLFxuXHRcdGVsZW1lbnQub3V0ZXJIVE1MLnJlcGxhY2UoZWxlbWVudC5pbm5lckhUTUwsIGVsZW1lbnQuaW5uZXJIVE1MICYmICcuLi4nKSxcblx0XHRTdHJpbmcodmFsdWUpXG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRfc3JjXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIG5ldyBVUkwoZWxlbWVudF9zcmMsIGRvY3VtZW50LmJhc2VVUkkpLmhyZWYgPT09IG5ldyBVUkwodXJsLCBkb2N1bWVudC5iYXNlVVJJKS5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50LCBzcmNzZXQpIHtcblx0dmFyIGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50LnNyY3NldCk7XG5cdHZhciB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4uLy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IHJlbmRlcl9lZmZlY3QsIHRlYXJkb3duIH0gZnJvbSAnLi4vLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGxpc3Rlbl90b19ldmVudF9hbmRfcmVzZXRfZXZlbnQgfSBmcm9tICcuL3NoYXJlZC5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uLy4uLy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBpcyB9IGZyb20gJy4uLy4uLy4uL3Byb3h5LmpzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi8uLi90YXNrLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uLy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyB0aWNrLCB1bnRyYWNrIH0gZnJvbSAnLi4vLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyBpc19ydW5lcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgY3VycmVudF9iYXRjaCwgcHJldmlvdXNfYmF0Y2ggfSBmcm9tICcuLi8uLi8uLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gKiBAcGFyYW0geygpID0+IHVua25vd259IGdldFxuICogQHBhcmFtIHsodmFsdWU6IHVua25vd24pID0+IHZvaWR9IHNldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX3ZhbHVlKGlucHV0LCBnZXQsIHNldCA9IGdldCkge1xuXHR2YXIgYmF0Y2hlcyA9IG5ldyBXZWFrU2V0KCk7XG5cblx0bGlzdGVuX3RvX2V2ZW50X2FuZF9yZXNldF9ldmVudChpbnB1dCwgJ2lucHV0JywgYXN5bmMgKGlzX3Jlc2V0KSA9PiB7XG5cdFx0aWYgKERFViAmJiBpbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG5cdFx0XHQvLyBUT0RPIHNob3VsZCB0aGlzIGhhcHBlbiBpbiBwcm9kIHRvbz9cblx0XHRcdGUuYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlKCk7XG5cdFx0fVxuXG5cdFx0LyoqIEB0eXBlIHthbnl9ICovXG5cdFx0dmFyIHZhbHVlID0gaXNfcmVzZXQgPyBpbnB1dC5kZWZhdWx0VmFsdWUgOiBpbnB1dC52YWx1ZTtcblx0XHR2YWx1ZSA9IGlzX251bWJlcmxpa2VfaW5wdXQoaW5wdXQpID8gdG9fbnVtYmVyKHZhbHVlKSA6IHZhbHVlO1xuXHRcdHNldCh2YWx1ZSk7XG5cblx0XHRpZiAoY3VycmVudF9iYXRjaCAhPT0gbnVsbCkge1xuXHRcdFx0YmF0Y2hlcy5hZGQoY3VycmVudF9iYXRjaCk7XG5cdFx0fVxuXG5cdFx0Ly8gQmVjYXVzZSBgeyNlYWNoIC4uLn1gIGJsb2NrcyB3b3JrIGJ5IHVwZGF0aW5nIHNvdXJjZXMgaW5zaWRlIHRoZSBmbHVzaCxcblx0XHQvLyB3ZSBuZWVkIHRvIHdhaXQgYSB0aWNrIGJlZm9yZSBjaGVja2luZyB0byBzZWUgaWYgd2Ugc2hvdWxkIGZvcmNpYmx5XG5cdFx0Ly8gdXBkYXRlIHRoZSBpbnB1dCBhbmQgcmVzZXQgdGhlIHNlbGVjdGlvbiBzdGF0ZVxuXHRcdGF3YWl0IHRpY2soKTtcblxuXHRcdC8vIFJlc3BlY3QgYW55IHZhbGlkYXRpb24gaW4gYWNjZXNzb3JzXG5cdFx0aWYgKHZhbHVlICE9PSAodmFsdWUgPSBnZXQoKSkpIHtcblx0XHRcdHZhciBzdGFydCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuXHRcdFx0dmFyIGVuZCA9IGlucHV0LnNlbGVjdGlvbkVuZDtcblx0XHRcdHZhciBsZW5ndGggPSBpbnB1dC52YWx1ZS5sZW5ndGg7XG5cblx0XHRcdC8vIHRoZSB2YWx1ZSBpcyBjb2VyY2VkIG9uIGFzc2lnbm1lbnRcblx0XHRcdGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG5cblx0XHRcdC8vIFJlc3RvcmUgc2VsZWN0aW9uXG5cdFx0XHRpZiAoZW5kICE9PSBudWxsKSB7XG5cdFx0XHRcdHZhciBuZXdfbGVuZ3RoID0gaW5wdXQudmFsdWUubGVuZ3RoO1xuXHRcdFx0XHQvLyBJZiBjdXJzb3Igd2FzIGF0IGVuZCBhbmQgbmV3IGlucHV0IGlzIGxvbmdlciwgbW92ZSBjdXJzb3IgdG8gbmV3IGVuZFxuXHRcdFx0XHRpZiAoc3RhcnQgPT09IGVuZCAmJiBlbmQgPT09IGxlbmd0aCAmJiBuZXdfbGVuZ3RoID4gbGVuZ3RoKSB7XG5cdFx0XHRcdFx0aW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBuZXdfbGVuZ3RoO1xuXHRcdFx0XHRcdGlucHV0LnNlbGVjdGlvbkVuZCA9IG5ld19sZW5ndGg7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcblx0XHRcdFx0XHRpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIG5ld19sZW5ndGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoXG5cdFx0Ly8gSWYgd2UgYXJlIGh5ZHJhdGluZyBhbmQgdGhlIHZhbHVlIGhhcyBzaW5jZSBjaGFuZ2VkLFxuXHRcdC8vIHRoZW4gdXNlIHRoZSB1cGRhdGVkIHZhbHVlIGZyb20gdGhlIGlucHV0IGluc3RlYWQuXG5cdFx0KGh5ZHJhdGluZyAmJiBpbnB1dC5kZWZhdWx0VmFsdWUgIT09IGlucHV0LnZhbHVlKSB8fFxuXHRcdC8vIElmIGRlZmF1bHRWYWx1ZSBpcyBzZXQsIHRoZW4gdmFsdWUgPT0gZGVmYXVsdFZhbHVlXG5cdFx0Ly8gVE9ETyBTdmVsdGUgNjogcmVtb3ZlIGlucHV0LnZhbHVlIGNoZWNrIGFuZCBzZXQgdG8gZW1wdHkgc3RyaW5nP1xuXHRcdCh1bnRyYWNrKGdldCkgPT0gbnVsbCAmJiBpbnB1dC52YWx1ZSlcblx0KSB7XG5cdFx0c2V0KGlzX251bWJlcmxpa2VfaW5wdXQoaW5wdXQpID8gdG9fbnVtYmVyKGlucHV0LnZhbHVlKSA6IGlucHV0LnZhbHVlKTtcblxuXHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSBudWxsKSB7XG5cdFx0XHRiYXRjaGVzLmFkZChjdXJyZW50X2JhdGNoKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRpZiAoREVWICYmIGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdC8vIFRPRE8gc2hvdWxkIHRoaXMgaGFwcGVuIGluIHByb2QgdG9vP1xuXHRcdFx0ZS5iaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWUoKTtcblx0XHR9XG5cblx0XHR2YXIgdmFsdWUgPSBnZXQoKTtcblxuXHRcdGlmIChpbnB1dCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuXHRcdFx0Ly8gd2UgbmVlZCBib3RoLCBiZWNhdXNlIGluIG5vbi1hc3luYyBtb2RlLCByZW5kZXIgZWZmZWN0cyBydW4gYmVmb3JlIHByZXZpb3VzX2JhdGNoIGlzIHNldFxuXHRcdFx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKHByZXZpb3VzX2JhdGNoID8/IGN1cnJlbnRfYmF0Y2gpO1xuXG5cdFx0XHQvLyBOZXZlciByZXdyaXRlIHRoZSBjb250ZW50cyBvZiBhIGZvY3VzZWQgaW5wdXQuIFdlIGNhbiBnZXQgaGVyZSBpZiwgZm9yIGV4YW1wbGUsXG5cdFx0XHQvLyBhbiB1cGRhdGUgaXMgZGVmZXJyZWQgYmVjYXVzZSBvZiBhc3luYyB3b3JrIGRlcGVuZGluZyBvbiB0aGUgaW5wdXQ6XG5cdFx0XHQvL1xuXHRcdFx0Ly8gPGlucHV0IGJpbmQ6dmFsdWU9e3F1ZXJ5fT5cblx0XHRcdC8vIDxwPnthd2FpdCBmaW5kKHF1ZXJ5KX08L3A+XG5cdFx0XHRpZiAoYmF0Y2hlcy5oYXMoYmF0Y2gpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaXNfbnVtYmVybGlrZV9pbnB1dChpbnB1dCkgJiYgdmFsdWUgPT09IHRvX251bWJlcihpbnB1dC52YWx1ZSkpIHtcblx0XHRcdC8vIGhhbmRsZXMgMCB2cyAwMCBjYXNlIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvOTk1OSlcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXQudHlwZSA9PT0gJ2RhdGUnICYmICF2YWx1ZSAmJiAhaW5wdXQudmFsdWUpIHtcblx0XHRcdC8vIEhhbmRsZXMgdGhlIGNhc2Ugd2hlcmUgYSB0ZW1wb3JhcmlseSBpbnZhbGlkIGRhdGUgaXMgc2V0ICh3aGlsZSB0eXBpbmcsIGZvciBleGFtcGxlIHdpdGggYSBsZWFkaW5nIDAgZm9yIHRoZSBkYXkpXG5cdFx0XHQvLyBhbmQgcHJldmVudHMgdGhpcyBzdGF0ZSBmcm9tIGNsZWFyaW5nIHRoZSBvdGhlciBwYXJ0cyBvZiB0aGUgZGF0ZSBpbnB1dCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzc4OTcpXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZG9uJ3Qgc2V0IHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgaWYgaXQncyB0aGUgc2FtZSB0byBhbGxvd1xuXHRcdC8vIG1pbmxlbmd0aCB0byB3b3JrIHByb3Blcmx5XG5cdFx0aWYgKHZhbHVlICE9PSBpbnB1dC52YWx1ZSkge1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciB0aGUgdmFsdWUgaXMgY29lcmNlZCBvbiBhc3NpZ25tZW50XG5cdFx0XHRpbnB1dC52YWx1ZSA9IHZhbHVlID8/ICcnO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKiBAdHlwZSB7U2V0PEhUTUxJbnB1dEVsZW1lbnRbXT59ICovXG5jb25zdCBwZW5kaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBpbnB1dHNcbiAqIEBwYXJhbSB7bnVsbCB8IFtudW1iZXJdfSBncm91cF9pbmRleFxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICogQHBhcmFtIHsoKSA9PiB1bmtub3dufSBnZXRcbiAqIEBwYXJhbSB7KHZhbHVlOiB1bmtub3duKSA9PiB2b2lkfSBzZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9ncm91cChpbnB1dHMsIGdyb3VwX2luZGV4LCBpbnB1dCwgZ2V0LCBzZXQgPSBnZXQpIHtcblx0dmFyIGlzX2NoZWNrYm94ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdjaGVja2JveCc7XG5cdHZhciBiaW5kaW5nX2dyb3VwID0gaW5wdXRzO1xuXG5cdC8vIG5lZWRzIHRvIGJlIGxldCBvciByZWxhdGVkIGNvZGUgaXNuJ3QgdHJlZXNoYWtlbiBvdXQgaWYgaXQncyBhbHdheXMgZmFsc2Vcblx0bGV0IGh5ZHJhdGlvbl9taXNtYXRjaCA9IGZhbHNlO1xuXG5cdGlmIChncm91cF9pbmRleCAhPT0gbnVsbCkge1xuXHRcdGZvciAodmFyIGluZGV4IG9mIGdyb3VwX2luZGV4KSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRiaW5kaW5nX2dyb3VwID0gYmluZGluZ19ncm91cFtpbmRleF0gPz89IFtdO1xuXHRcdH1cblx0fVxuXG5cdGJpbmRpbmdfZ3JvdXAucHVzaChpbnB1dCk7XG5cblx0bGlzdGVuX3RvX2V2ZW50X2FuZF9yZXNldF9ldmVudChcblx0XHRpbnB1dCxcblx0XHQnY2hhbmdlJyxcblx0XHQoKSA9PiB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR2YXIgdmFsdWUgPSBpbnB1dC5fX3ZhbHVlO1xuXG5cdFx0XHRpZiAoaXNfY2hlY2tib3gpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfYmluZGluZ19ncm91cF92YWx1ZShiaW5kaW5nX2dyb3VwLCB2YWx1ZSwgaW5wdXQuY2hlY2tlZCk7XG5cdFx0XHR9XG5cblx0XHRcdHNldCh2YWx1ZSk7XG5cdFx0fSxcblx0XHQvLyBUT0RPIGJldHRlciBkZWZhdWx0IHZhbHVlIGhhbmRsaW5nXG5cdFx0KCkgPT4gc2V0KGlzX2NoZWNrYm94ID8gW10gOiBudWxsKVxuXHQpO1xuXG5cdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdHZhciB2YWx1ZSA9IGdldCgpO1xuXG5cdFx0Ly8gSWYgd2UgYXJlIGh5ZHJhdGluZyBhbmQgdGhlIHZhbHVlIGhhcyBzaW5jZSBjaGFuZ2VkLCB0aGVuIHVzZSB0aGUgdXBkYXRlIHZhbHVlXG5cdFx0Ly8gZnJvbSB0aGUgaW5wdXQgaW5zdGVhZC5cblx0XHRpZiAoaHlkcmF0aW5nICYmIGlucHV0LmRlZmF1bHRDaGVja2VkICE9PSBpbnB1dC5jaGVja2VkKSB7XG5cdFx0XHRoeWRyYXRpb25fbWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChpc19jaGVja2JveCkge1xuXHRcdFx0dmFsdWUgPSB2YWx1ZSB8fCBbXTtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGlucHV0LmNoZWNrZWQgPSB2YWx1ZS5pbmNsdWRlcyhpbnB1dC5fX3ZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0aW5wdXQuY2hlY2tlZCA9IGlzKGlucHV0Ll9fdmFsdWUsIHZhbHVlKTtcblx0XHR9XG5cdH0pO1xuXG5cdHRlYXJkb3duKCgpID0+IHtcblx0XHR2YXIgaW5kZXggPSBiaW5kaW5nX2dyb3VwLmluZGV4T2YoaW5wdXQpO1xuXG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0YmluZGluZ19ncm91cC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdH1cblx0fSk7XG5cblx0aWYgKCFwZW5kaW5nLmhhcyhiaW5kaW5nX2dyb3VwKSkge1xuXHRcdHBlbmRpbmcuYWRkKGJpbmRpbmdfZ3JvdXApO1xuXG5cdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHQvLyBuZWNlc3NhcnkgdG8gbWFpbnRhaW4gYmluZGluZyBncm91cCBvcmRlciBpbiBhbGwgaW5zZXJ0aW9uIHNjZW5hcmlvc1xuXHRcdFx0YmluZGluZ19ncm91cC5zb3J0KChhLCBiKSA9PiAoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSA9PT0gNCA/IC0xIDogMSkpO1xuXHRcdFx0cGVuZGluZy5kZWxldGUoYmluZGluZ19ncm91cCk7XG5cdFx0fSk7XG5cdH1cblxuXHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRpZiAoaHlkcmF0aW9uX21pc21hdGNoKSB7XG5cdFx0XHR2YXIgdmFsdWU7XG5cblx0XHRcdGlmIChpc19jaGVja2JveCkge1xuXHRcdFx0XHR2YWx1ZSA9IGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGJpbmRpbmdfZ3JvdXAsIHZhbHVlLCBpbnB1dC5jaGVja2VkKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBoeWRyYXRpb25faW5wdXQgPSBiaW5kaW5nX2dyb3VwLmZpbmQoKGlucHV0KSA9PiBpbnB1dC5jaGVja2VkKTtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHR2YWx1ZSA9IGh5ZHJhdGlvbl9pbnB1dD8uX192YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0c2V0KHZhbHVlKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAqIEBwYXJhbSB7KCkgPT4gdW5rbm93bn0gZ2V0XG4gKiBAcGFyYW0geyh2YWx1ZTogdW5rbm93bikgPT4gdm9pZH0gc2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfY2hlY2tlZChpbnB1dCwgZ2V0LCBzZXQgPSBnZXQpIHtcblx0bGlzdGVuX3RvX2V2ZW50X2FuZF9yZXNldF9ldmVudChpbnB1dCwgJ2NoYW5nZScsIChpc19yZXNldCkgPT4ge1xuXHRcdHZhciB2YWx1ZSA9IGlzX3Jlc2V0ID8gaW5wdXQuZGVmYXVsdENoZWNrZWQgOiBpbnB1dC5jaGVja2VkO1xuXHRcdHNldCh2YWx1ZSk7XG5cdH0pO1xuXG5cdGlmIChcblx0XHQvLyBJZiB3ZSBhcmUgaHlkcmF0aW5nIGFuZCB0aGUgdmFsdWUgaGFzIHNpbmNlIGNoYW5nZWQsXG5cdFx0Ly8gdGhlbiB1c2UgdGhlIHVwZGF0ZSB2YWx1ZSBmcm9tIHRoZSBpbnB1dCBpbnN0ZWFkLlxuXHRcdChoeWRyYXRpbmcgJiYgaW5wdXQuZGVmYXVsdENoZWNrZWQgIT09IGlucHV0LmNoZWNrZWQpIHx8XG5cdFx0Ly8gSWYgZGVmYXVsdENoZWNrZWQgaXMgc2V0LCB0aGVuIGNoZWNrZWQgPT0gZGVmYXVsdENoZWNrZWRcblx0XHR1bnRyYWNrKGdldCkgPT0gbnVsbFxuXHQpIHtcblx0XHRzZXQoaW5wdXQuY2hlY2tlZCk7XG5cdH1cblxuXHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHR2YXIgdmFsdWUgPSBnZXQoKTtcblx0XHRpbnB1dC5jaGVja2VkID0gQm9vbGVhbih2YWx1ZSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge0FycmF5PEhUTUxJbnB1dEVsZW1lbnQ+fSBncm91cFxuICogQHBhcmFtIHtWfSBfX3ZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAqIEByZXR1cm5zIHtWW119XG4gKi9cbmZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdC8qKiBAdHlwZSB7U2V0PFY+fSAqL1xuXHR2YXIgdmFsdWUgPSBuZXcgU2V0KCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChncm91cFtpXS5jaGVja2VkKSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFjaGVja2VkKSB7XG5cdFx0dmFsdWUuZGVsZXRlKF9fdmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaXNfbnVtYmVybGlrZV9pbnB1dChpbnB1dCkge1xuXHR2YXIgdHlwZSA9IGlucHV0LnR5cGU7XG5cdHJldHVybiB0eXBlID09PSAnbnVtYmVyJyB8fCB0eXBlID09PSAncmFuZ2UnO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5mdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICogQHBhcmFtIHsoKSA9PiBGaWxlTGlzdCB8IG51bGx9IGdldFxuICogQHBhcmFtIHsodmFsdWU6IEZpbGVMaXN0IHwgbnVsbCkgPT4gdm9pZH0gc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX2ZpbGVzKGlucHV0LCBnZXQsIHNldCA9IGdldCkge1xuXHRsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KGlucHV0LCAnY2hhbmdlJywgKCkgPT4ge1xuXHRcdHNldChpbnB1dC5maWxlcyk7XG5cdH0pO1xuXG5cdGlmIChcblx0XHQvLyBJZiB3ZSBhcmUgaHlkcmF0aW5nIGFuZCB0aGUgdmFsdWUgaGFzIHNpbmNlIGNoYW5nZWQsXG5cdFx0Ly8gdGhlbiB1c2UgdGhlIHVwZGF0ZWQgdmFsdWUgZnJvbSB0aGUgaW5wdXQgaW5zdGVhZC5cblx0XHRoeWRyYXRpbmcgJiZcblx0XHRpbnB1dC5maWxlc1xuXHQpIHtcblx0XHRzZXQoaW5wdXQuZmlsZXMpO1xuXHR9XG5cblx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0aW5wdXQuZmlsZXMgPSBnZXQoKTtcblx0fSk7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0TGVnYWN5IH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IHJ1biwgcnVuX2FsbCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZGVyaXZlZCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZGVyaXZlZHMuanMnO1xuaW1wb3J0IHsgdXNlcl9wcmVfZWZmZWN0LCB1c2VyX2VmZmVjdCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBkZWVwX3JlYWRfc3RhdGUsIGdldCwgdW50cmFjayB9IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuXG4vKipcbiAqIExlZ2FjeS1tb2RlIG9ubHk6IENhbGwgYG9uTW91bnRgIGNhbGxiYWNrcyBhbmQgc2V0IHVwIGBiZWZvcmVVcGRhdGVgL2BhZnRlclVwZGF0ZWAgZWZmZWN0c1xuICogQHBhcmFtIHtib29sZWFufSBbaW1tdXRhYmxlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChpbW11dGFibGUgPSBmYWxzZSkge1xuXHRjb25zdCBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXG5cdGNvbnN0IGNhbGxiYWNrcyA9IGNvbnRleHQubC51O1xuXHRpZiAoIWNhbGxiYWNrcykgcmV0dXJuO1xuXG5cdGxldCBwcm9wcyA9ICgpID0+IGRlZXBfcmVhZF9zdGF0ZShjb250ZXh0LnMpO1xuXG5cdGlmIChpbW11dGFibGUpIHtcblx0XHRsZXQgdmVyc2lvbiA9IDA7XG5cdFx0bGV0IHByZXYgPSAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovICh7fSk7XG5cblx0XHQvLyBJbiBsZWdhY3kgaW1tdXRhYmxlIG1vZGUsIGJlZm9yZS9hZnRlclVwZGF0ZSBvbmx5IGZpcmUgaWYgdGhlIG9iamVjdCBpZGVudGl0eSBvZiBhIHByb3AgY2hhbmdlc1xuXHRcdGNvbnN0IGQgPSBkZXJpdmVkKCgpID0+IHtcblx0XHRcdGxldCBjaGFuZ2VkID0gZmFsc2U7XG5cdFx0XHRjb25zdCBwcm9wcyA9IGNvbnRleHQucztcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG5cdFx0XHRcdGlmIChwcm9wc1trZXldICE9PSBwcmV2W2tleV0pIHtcblx0XHRcdFx0XHRwcmV2W2tleV0gPSBwcm9wc1trZXldO1xuXHRcdFx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2hhbmdlZCkgdmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIHZlcnNpb247XG5cdFx0fSk7XG5cblx0XHRwcm9wcyA9ICgpID0+IGdldChkKTtcblx0fVxuXG5cdC8vIGJlZm9yZVVwZGF0ZVxuXHRpZiAoY2FsbGJhY2tzLmIubGVuZ3RoKSB7XG5cdFx0dXNlcl9wcmVfZWZmZWN0KCgpID0+IHtcblx0XHRcdG9ic2VydmVfYWxsKGNvbnRleHQsIHByb3BzKTtcblx0XHRcdHJ1bl9hbGwoY2FsbGJhY2tzLmIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gb25Nb3VudCAobXVzdCBydW4gYmVmb3JlIGFmdGVyVXBkYXRlKVxuXHR1c2VyX2VmZmVjdCgoKSA9PiB7XG5cdFx0Y29uc3QgZm5zID0gdW50cmFjaygoKSA9PiBjYWxsYmFja3MubS5tYXAocnVuKSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGZvciAoY29uc3QgZm4gb2YgZm5zKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRmbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG5cblx0Ly8gYWZ0ZXJVcGRhdGVcblx0aWYgKGNhbGxiYWNrcy5hLmxlbmd0aCkge1xuXHRcdHVzZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdG9ic2VydmVfYWxsKGNvbnRleHQsIHByb3BzKTtcblx0XHRcdHJ1bl9hbGwoY2FsbGJhY2tzLmEpO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogSW52b2tlIHRoZSBnZXR0ZXIgb2YgYWxsIHNpZ25hbHMgYXNzb2NpYXRlZCB3aXRoIGEgY29tcG9uZW50XG4gKiBzbyB0aGV5IGNhbiBiZSByZWdpc3RlcmVkIHRvIHRoZSBlZmZlY3QgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4uXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHRMZWdhY3l9IGNvbnRleHRcbiAqIEBwYXJhbSB7KCgpID0+IHZvaWQpfSBwcm9wc1xuICovXG5mdW5jdGlvbiBvYnNlcnZlX2FsbChjb250ZXh0LCBwcm9wcykge1xuXHRpZiAoY29udGV4dC5sLnMpIHtcblx0XHRmb3IgKGNvbnN0IHNpZ25hbCBvZiBjb250ZXh0LmwucykgZ2V0KHNpZ25hbCk7XG5cdH1cblxuXHRwcm9wcygpO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tICcuL3B1YmxpYycgKi9cbmltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuLi9pbmRleC1jbGllbnQuanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL2ludGVybmFsL3NoYXJlZC91dGlscy5qcyc7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7UmVhZGFibGU8VD4gfCBudWxsIHwgdW5kZWZpbmVkfSBzdG9yZVxuICogQHBhcmFtIHsodmFsdWU6IFQpID0+IHZvaWR9IHJ1blxuICogQHBhcmFtIHsodmFsdWU6IFQpID0+IHZvaWR9IFtpbnZhbGlkYXRlXVxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVfdG9fc3RvcmUoc3RvcmUsIHJ1biwgaW52YWxpZGF0ZSkge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRydW4odW5kZWZpbmVkKTtcblxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRpZiAoaW52YWxpZGF0ZSkgaW52YWxpZGF0ZSh1bmRlZmluZWQpO1xuXG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblxuXHQvLyBTdmVsdGUgc3RvcmUgdGFrZXMgYSBwcml2YXRlIHNlY29uZCBhcmd1bWVudFxuXHQvLyBTdGFydFN0b3BOb3RpZmllciBjb3VsZCBtdXRhdGUgc3RhdGUsIGFuZCB3ZSB3YW50IHRvIHNpbGVuY2UgdGhlIGNvcnJlc3BvbmRpbmcgdmFsaWRhdGlvbiBlcnJvclxuXHRjb25zdCB1bnN1YiA9IHVudHJhY2soKCkgPT5cblx0XHRzdG9yZS5zdWJzY3JpYmUoXG5cdFx0XHRydW4sXG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRpbnZhbGlkYXRlXG5cdFx0KVxuXHQpO1xuXG5cdC8vIEFsc28gc3VwcG9ydCBSeEpTXG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyBmaXggdGhpcyBpbiB0aGUgdHlwZXM/XG5cdHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbiIsICIvKiogQGltcG9ydCB7IFJlYWRhYmxlLCBTdGFydFN0b3BOb3RpZmllciwgU3Vic2NyaWJlciwgVW5zdWJzY3JpYmVyLCBVcGRhdGVyLCBXcml0YWJsZSB9IGZyb20gJy4uL3B1YmxpYy5qcycgKi9cbi8qKiBAaW1wb3J0IHsgU3RvcmVzLCBTdG9yZXNWYWx1ZXMsIFN1YnNjcmliZUludmFsaWRhdGVUdXBsZSB9IGZyb20gJy4uL3ByaXZhdGUuanMnICovXG5pbXBvcnQgeyBub29wLCBydW5fYWxsIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IHNhZmVfbm90X2VxdWFsIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZXF1YWxpdHkuanMnO1xuaW1wb3J0IHsgc3Vic2NyaWJlX3RvX3N0b3JlIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxTdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8YW55PiB8IGFueT59XG4gKi9cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmVcblx0fTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge1dyaXRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuXHQvKiogQHR5cGUge1Vuc3Vic2NyaWJlciB8IG51bGx9ICovXG5cdGxldCBzdG9wID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1NldDxTdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD4+fSAqL1xuXHRjb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogQHBhcmFtIHtUfSBuZXdfdmFsdWVcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0aWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IG5ld192YWx1ZTtcblx0XHRcdGlmIChzdG9wKSB7XG5cdFx0XHRcdC8vIHN0b3JlIGlzIHJlYWR5XG5cdFx0XHRcdGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG5cdFx0XHRcdFx0c3Vic2NyaWJlclsxXSgpO1xuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bl9xdWV1ZSkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1VwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKC8qKiBAdHlwZSB7VH0gKi8gKHZhbHVlKSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7U3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtVbnN1YnNjcmliZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuXHRcdC8qKiBAdHlwZSB7U3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKC8qKiBAdHlwZSB7VH0gKi8gKHZhbHVlKSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcblx0XHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcblx0XHRcdFx0c3RvcCgpO1xuXHRcdFx0XHRzdG9wID0gbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7U3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBTdG9yZXNWYWx1ZXM8Uz4sIHNldDogKHZhbHVlOiBUKSA9PiB2b2lkLCB1cGRhdGU6IChmbjogVXBkYXRlcjxUPikgPT4gdm9pZCkgPT4gVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7UmVhZGFibGU8VD59XG4gKi9cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBAdGVtcGxhdGUge1N0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogU3RvcmVzVmFsdWVzPFM+KSA9PiBUfSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge1N0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U30gc3RvcmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuXHRjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuXHQvKiogQHR5cGUge0FycmF5PFJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtUW119ICovXG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSB0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZV90b19zdG9yZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtSZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge1JlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZG9ubHkoc3RvcmUpIHtcblx0cmV0dXJuIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gaSBzdXNwZWN0IHRoZSBiaW5kIGlzIHVubmVjZXNzYXJ5XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSBhIHN0b3JlIGJ5IHN1YnNjcmliaW5nIGFuZCBpbW1lZGlhdGVseSB1bnN1YnNjcmliaW5nLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1JlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmVfdG9fc3RvcmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gdmFsdWU7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBTdG9yZVJlZmVyZW5jZXNDb250YWluZXIgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBTdG9yZSB9IGZyb20gJyNzaGFyZWQnICovXG5pbXBvcnQgeyBzdWJzY3JpYmVfdG9fc3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0X3N0b3JlIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc2hhcmVkL2luZGV4LmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgbm9vcCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IHRlYXJkb3duIH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcbmltcG9ydCB7IG11dGFibGVfc291cmNlLCBzZXQgfSBmcm9tICcuL3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbi8qKlxuICogV2hldGhlciBvciBub3QgdGhlIHByb3AgY3VycmVudGx5IGJlaW5nIHJlYWQgaXMgYSBzdG9yZSBiaW5kaW5nLCBhcyBpblxuICogYDxDaGlsZCBiaW5kOng9eyR5fSAvPmAuIElmIGl0IGlzLCB3ZSB0cmVhdCB0aGUgcHJvcCBhcyBtdXRhYmxlIGV2ZW4gaW5cbiAqIHJ1bmVzIG1vZGUsIGFuZCBza2lwIGBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWAgdmFsaWRhdGlvblxuICovXG5sZXQgaXNfc3RvcmVfYmluZGluZyA9IGZhbHNlO1xuXG5sZXQgSVNfVU5NT1VOVEVEID0gU3ltYm9sKCk7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIHN0b3JlLiBJZiB0aGUgc3RvcmUgaXNuJ3Qgc3Vic2NyaWJlZCB0byB5ZXQsIGl0IHdpbGwgY3JlYXRlIGEgcHJveHlcbiAqIHNpZ25hbCB0aGF0IHdpbGwgYmUgdXBkYXRlZCB3aGVuIHRoZSBzdG9yZSBpcy4gVGhlIHN0b3JlIHJlZmVyZW5jZXMgY29udGFpbmVyIGlzIG5lZWRlZCB0b1xuICogdHJhY2sgcmVhc3NpZ25tZW50cyB0byBzdG9yZXMgYW5kIHRvIHRyYWNrIHRoZSBjb3JyZWN0IGNvbXBvbmVudCBjb250ZXh0LlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U3RvcmU8Vj4gfCBudWxsIHwgdW5kZWZpbmVkfSBzdG9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlX25hbWVcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfZ2V0KHN0b3JlLCBzdG9yZV9uYW1lLCBzdG9yZXMpIHtcblx0Y29uc3QgZW50cnkgPSAoc3RvcmVzW3N0b3JlX25hbWVdID8/PSB7XG5cdFx0c3RvcmU6IG51bGwsXG5cdFx0c291cmNlOiBtdXRhYmxlX3NvdXJjZSh1bmRlZmluZWQpLFxuXHRcdHVuc3Vic2NyaWJlOiBub29wXG5cdH0pO1xuXG5cdGlmIChERVYpIHtcblx0XHRlbnRyeS5zb3VyY2UubGFiZWwgPSBzdG9yZV9uYW1lO1xuXHR9XG5cblx0Ly8gaWYgdGhlIGNvbXBvbmVudCB0aGF0IHNldHVwIHRoaXMgaXMgYWxyZWFkeSB1bm1vdW50ZWQgd2UgZG9uJ3Qgd2FudCB0byByZWdpc3RlciBhIHN1YnNjcmlwdGlvblxuXHRpZiAoZW50cnkuc3RvcmUgIT09IHN0b3JlICYmICEoSVNfVU5NT1VOVEVEIGluIHN0b3JlcykpIHtcblx0XHRlbnRyeS51bnN1YnNjcmliZSgpO1xuXHRcdGVudHJ5LnN0b3JlID0gc3RvcmUgPz8gbnVsbDtcblxuXHRcdGlmIChzdG9yZSA9PSBudWxsKSB7XG5cdFx0XHRlbnRyeS5zb3VyY2UudiA9IHVuZGVmaW5lZDsgLy8gc2VlIHN5bmNocm9ub3VzIGNhbGxiYWNrIGNvbW1lbnQgYmVsb3dcblx0XHRcdGVudHJ5LnVuc3Vic2NyaWJlID0gbm9vcDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGlzX3N5bmNocm9ub3VzX2NhbGxiYWNrID0gdHJ1ZTtcblxuXHRcdFx0ZW50cnkudW5zdWJzY3JpYmUgPSBzdWJzY3JpYmVfdG9fc3RvcmUoc3RvcmUsICh2KSA9PiB7XG5cdFx0XHRcdGlmIChpc19zeW5jaHJvbm91c19jYWxsYmFjaykge1xuXHRcdFx0XHRcdC8vIElmIHRoZSBmaXJzdCB1cGRhdGVzIHRvIHRoZSBzdG9yZSB2YWx1ZSAocG9zc2libHkgbXVsdGlwbGUgb2YgdGhlbSkgYXJlIHN5bmNocm9ub3VzbHlcblx0XHRcdFx0XHQvLyBpbnNpZGUgYSBkZXJpdmVkLCB3ZSB3aWxsIGhpdCB0aGUgYHN0YXRlX3Vuc2FmZV9tdXRhdGlvbmAgZXJyb3IgaWYgd2UgYHNldGAgdGhlIHZhbHVlXG5cdFx0XHRcdFx0ZW50cnkuc291cmNlLnYgPSB2O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNldChlbnRyeS5zb3VyY2UsIHYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aXNfc3luY2hyb25vdXNfY2FsbGJhY2sgPSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHQvLyBpZiB0aGUgY29tcG9uZW50IHRoYXQgc2V0dXAgdGhpcyBzdG9yZXMgaXMgYWxyZWFkeSB1bm1vdW50ZWQgdGhlIHNvdXJjZSB3aWxsIGJlIG91dCBvZiBzeW5jXG5cdC8vIHNvIHdlIGp1c3QgdXNlIHRoZSBgZ2V0YCBmb3IgdGhlIHN0b3JlcywgbGVzcyBwZXJmb3JtYW50IGJ1dCBpdCBhdm9pZHMgdG8gY3JlYXRlIGEgbWVtb3J5IGxlYWtcblx0Ly8gYW5kIGl0IHdpbGwga2VlcCB0aGUgdmFsdWUgY29uc2lzdGVudFxuXHRpZiAoc3RvcmUgJiYgSVNfVU5NT1VOVEVEIGluIHN0b3Jlcykge1xuXHRcdHJldHVybiBnZXRfc3RvcmUoc3RvcmUpO1xuXHR9XG5cblx0cmV0dXJuIGdldChlbnRyeS5zb3VyY2UpO1xufVxuXG4vKipcbiAqIFVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBpZiBpdCdzIG5vdCB0aGUgc2FtZSBhcyB0aGUgb25lIGluIHRoZSBzdG9yZSByZWZlcmVuY2VzIGNvbnRhaW5lci5cbiAqIFdlIG5lZWQgdGhpcyBpbiBhZGRpdGlvbiB0byBgc3RvcmVfZ2V0YCBiZWNhdXNlIHNvbWVvbmUgY291bGQgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGJ1dFxuICogdGhlbiBuZXZlciBzdWJzY3JpYmUgdG8gdGhlIG5ldyBvbmUgKGlmIGFueSksIGNhdXNpbmcgdGhlIHN1YnNjcmlwdGlvbiB0byBzdGF5IG9wZW4gd3JvbmdmdWxseS5cbiAqIEBwYXJhbSB7U3RvcmU8YW55PiB8IG51bGwgfCB1bmRlZmluZWR9IHN0b3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVfbmFtZVxuICogQHBhcmFtIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJ9IHN0b3Jlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfdW5zdWIoc3RvcmUsIHN0b3JlX25hbWUsIHN0b3Jlcykge1xuXHQvKiogQHR5cGUge1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lclsnJ10gfCB1bmRlZmluZWR9ICovXG5cdGxldCBlbnRyeSA9IHN0b3Jlc1tzdG9yZV9uYW1lXTtcblxuXHRpZiAoZW50cnkgJiYgZW50cnkuc3RvcmUgIT09IHN0b3JlKSB7XG5cdFx0Ly8gRG9uJ3QgcmVzZXQgc3RvcmUgeWV0LCBzbyB0aGF0IHN0b3JlX2dldCBhYm92ZSBjYW4gcmVzdWJzY3JpYmUgdG8gbmV3IHN0b3JlIGlmIG5lY2Vzc2FyeVxuXHRcdGVudHJ5LnVuc3Vic2NyaWJlKCk7XG5cdFx0ZW50cnkudW5zdWJzY3JpYmUgPSBub29wO1xuXHR9XG5cblx0cmV0dXJuIHN0b3JlO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG5ldyB2YWx1ZSBvZiBhIHN0b3JlIGFuZCByZXR1cm5zIHRoYXQgdmFsdWUuXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtTdG9yZTxWPn0gc3RvcmVcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfc2V0KHN0b3JlLCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJ9IHN0b3Jlc1xuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlX25hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGVfc3RvcmUoc3RvcmVzLCBzdG9yZV9uYW1lKSB7XG5cdHZhciBlbnRyeSA9IHN0b3Jlc1tzdG9yZV9uYW1lXTtcblx0aWYgKGVudHJ5LnN0b3JlICE9PSBudWxsKSB7XG5cdFx0c3RvcmVfc2V0KGVudHJ5LnN0b3JlLCBlbnRyeS5zb3VyY2Uudik7XG5cdH1cbn1cblxuLyoqXG4gKiBVbnN1YnNjcmliZXMgZnJvbSBhbGwgYXV0by1zdWJzY3JpYmVkIHN0b3JlcyBvbiBkZXN0cm95XG4gKiBAcmV0dXJucyB7W1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lciwgKCk9PnZvaWRdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBfc3RvcmVzKCkge1xuXHQvKiogQHR5cGUge1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lcn0gKi9cblx0Y29uc3Qgc3RvcmVzID0ge307XG5cblx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHR0ZWFyZG93bigoKSA9PiB7XG5cdFx0XHRmb3IgKHZhciBzdG9yZV9uYW1lIGluIHN0b3Jlcykge1xuXHRcdFx0XHRjb25zdCByZWYgPSBzdG9yZXNbc3RvcmVfbmFtZV07XG5cdFx0XHRcdHJlZi51bnN1YnNjcmliZSgpO1xuXHRcdFx0fVxuXHRcdFx0ZGVmaW5lX3Byb3BlcnR5KHN0b3JlcywgSVNfVU5NT1VOVEVELCB7XG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR2YWx1ZTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gW3N0b3JlcywgY2xlYW51cF07XG59XG5cbi8qKlxuICogVXBkYXRlcyBhIHN0b3JlIHdpdGggYSBuZXcgdmFsdWUuXG4gKiBAcGFyYW0ge1N0b3JlPFY+fSBzdG9yZSAgdGhlIHN0b3JlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHthbnl9IGV4cHJlc3Npb24gIHRoZSBleHByZXNzaW9uIHRoYXQgbXV0YXRlcyB0aGUgc3RvcmVcbiAqIEBwYXJhbSB7Vn0gbmV3X3ZhbHVlICB0aGUgbmV3IHN0b3JlIHZhbHVlXG4gKiBAdGVtcGxhdGUgVlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfbXV0YXRlKHN0b3JlLCBleHByZXNzaW9uLCBuZXdfdmFsdWUpIHtcblx0c3RvcmUuc2V0KG5ld192YWx1ZSk7XG5cdHJldHVybiBleHByZXNzaW9uO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RvcmU8bnVtYmVyPn0gc3RvcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdG9yZV92YWx1ZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zdG9yZShzdG9yZSwgc3RvcmVfdmFsdWUsIGQgPSAxKSB7XG5cdHN0b3JlLnNldChzdG9yZV92YWx1ZSArIGQpO1xuXHRyZXR1cm4gc3RvcmVfdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTdG9yZTxudW1iZXI+fSBzdG9yZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0b3JlX3ZhbHVlXG4gKiBAcGFyYW0gezEgfCAtMX0gW2RdXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3ByZV9zdG9yZShzdG9yZSwgc3RvcmVfdmFsdWUsIGQgPSAxKSB7XG5cdGNvbnN0IHZhbHVlID0gc3RvcmVfdmFsdWUgKyBkO1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGVkIGluc2lkZSBwcm9wIGdldHRlcnMgdG8gY29tbXVuaWNhdGUgdGhhdCB0aGUgcHJvcCBpcyBhIHN0b3JlIGJpbmRpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcmtfc3RvcmVfYmluZGluZygpIHtcblx0aXNfc3RvcmVfYmluZGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHR1cGxlIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYGZuKClgIHJlYWRzIGEgcHJvcCB0aGF0IGlzIGEgc3RvcmUgYmluZGluZy5cbiAqIFVzZWQgdG8gcHJldmVudCBgYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmVgIHZhbGlkYXRpb24gZmFsc2UgcG9zaXRpdmVzIGFuZFxuICogZW5zdXJlIHRoYXQgdGhlc2UgcHJvcHMgYXJlIHRyZWF0ZWQgYXMgbXV0YWJsZSBldmVuIGluIHJ1bmVzIG1vZGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IFR9IGZuXG4gKiBAcmV0dXJucyB7W1QsIGJvb2xlYW5dfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZV9zdG9yZV9iaW5kaW5nKGZuKSB7XG5cdHZhciBwcmV2aW91c19pc19zdG9yZV9iaW5kaW5nID0gaXNfc3RvcmVfYmluZGluZztcblxuXHR0cnkge1xuXHRcdGlzX3N0b3JlX2JpbmRpbmcgPSBmYWxzZTtcblx0XHRyZXR1cm4gW2ZuKCksIGlzX3N0b3JlX2JpbmRpbmddO1xuXHR9IGZpbmFsbHkge1xuXHRcdGlzX3N0b3JlX2JpbmRpbmcgPSBwcmV2aW91c19pc19zdG9yZV9iaW5kaW5nO1xuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnMsIENvbXBvbmVudFR5cGUsIFN2ZWx0ZUNvbXBvbmVudCwgQ29tcG9uZW50IH0gZnJvbSAnc3ZlbHRlJyAqL1xuaW1wb3J0IHsgRElSVFksIExFR0FDWV9QUk9QUywgTUFZQkVfRElSVFkgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHVzZXJfcHJlX2VmZmVjdCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgbXV0YWJsZV9zb3VyY2UsIHNldCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgbW91bnQsIHVubW91bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVuZGVyLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QsIGdldCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzJztcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgaXNfYXJyYXkgfSBmcm9tICcuLi9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvZXJyb3JzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQsIGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9jb250ZXh0LmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZyB9IGZyb20gJy4uL2ludGVybmFsL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzIH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvc3RhdHVzLmpzJztcblxuLyoqXG4gKiBUYWtlcyB0aGUgc2FtZSBvcHRpb25zIGFzIGEgU3ZlbHRlIDQgY29tcG9uZW50IGFuZCB0aGUgY29tcG9uZW50IGZ1bmN0aW9uIGFuZCByZXR1cm5zIGEgU3ZlbHRlIDQgY29tcGF0aWJsZSBjb21wb25lbnQuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoaXMgb25seSBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB0byBtaWdyYXRlIHlvdXIgaW1wZXJhdGl2ZSBjb21wb25lbnQgY29kZSB0byBTdmVsdGUgNS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXZlbnRzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFNsb3RzXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnM8UHJvcHM+ICYge1xuICogXHRjb21wb25lbnQ6IENvbXBvbmVudFR5cGU8U3ZlbHRlQ29tcG9uZW50PFByb3BzLCBFdmVudHMsIFNsb3RzPj4gfCBDb21wb25lbnQ8UHJvcHM+O1xuICogfX0gb3B0aW9uc1xuICogQHJldHVybnMge1N2ZWx0ZUNvbXBvbmVudDxQcm9wcywgRXZlbnRzLCBTbG90cz4gJiBFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xhc3NDb21wb25lbnQob3B0aW9ucykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yICQkcHJvcF9kZWYgZXRjIGFyZSBub3QgYWN0dWFsbHkgZGVmaW5lZFxuXHRyZXR1cm4gbmV3IFN2ZWx0ZTRDb21wb25lbnQob3B0aW9ucyk7XG59XG5cbi8qKlxuICogVGFrZXMgdGhlIGNvbXBvbmVudCBmdW5jdGlvbiBhbmQgcmV0dXJucyBhIFN2ZWx0ZSA0IGNvbXBhdGlibGUgY29tcG9uZW50IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGlzIG9ubHkgYXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gdG8gbWlncmF0ZSB5b3VyIGltcGVyYXRpdmUgY29tcG9uZW50IGNvZGUgdG8gU3ZlbHRlIDUuXG4gKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBQcm9wc1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBFeHBvcnRzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV2ZW50c1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBTbG90c1xuICpcbiAqIEBwYXJhbSB7U3ZlbHRlQ29tcG9uZW50PFByb3BzLCBFdmVudHMsIFNsb3RzPiB8IENvbXBvbmVudDxQcm9wcz59IGNvbXBvbmVudFxuICogQHJldHVybnMge0NvbXBvbmVudFR5cGU8U3ZlbHRlQ29tcG9uZW50PFByb3BzLCBFdmVudHMsIFNsb3RzPiAmIEV4cG9ydHM+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciAkJHByb3BfZGVmIGV0YyBhcmUgbm90IGFjdHVhbGx5IGRlZmluZWRcblx0cmV0dXJuIGNsYXNzIGV4dGVuZHMgU3ZlbHRlNENvbXBvbmVudCB7XG5cdFx0LyoqIEBwYXJhbSB7YW55fSBvcHRpb25zICovXG5cdFx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdFx0c3VwZXIoe1xuXHRcdFx0XHRjb21wb25lbnQsXG5cdFx0XHRcdC4uLm9wdGlvbnNcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHVzaW5nIHRoZSBjb21wb25lbnQgYXMgYm90aCBhIGNsYXNzIGFuZCBmdW5jdGlvbiBkdXJpbmcgdGhlIHRyYW5zaXRpb24gcGVyaW9kXG4gKiBAdHlwZWRlZiAge3tuZXcgKG86IENvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9ucyk6IFN2ZWx0ZUNvbXBvbmVudDsoLi4uYXJnczogUGFyYW1ldGVyczxDb21wb25lbnQ8UmVjb3JkPHN0cmluZywgYW55Pj4+KTogUmV0dXJuVHlwZTxDb21wb25lbnQ8UmVjb3JkPHN0cmluZywgYW55PiwgUmVjb3JkPHN0cmluZywgYW55Pj4+O319IExlZ2FjeUNvbXBvbmVudFR5cGVcbiAqL1xuXG5jbGFzcyBTdmVsdGU0Q29tcG9uZW50IHtcblx0LyoqIEB0eXBlIHthbnl9ICovXG5cdCNldmVudHM7XG5cblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSAqL1xuXHQjaW5zdGFuY2U7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7Q29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zICYge1xuXHQgKiAgY29tcG9uZW50OiBhbnk7XG5cdCAqIH19IG9wdGlvbnNcblx0ICovXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHR2YXIgc291cmNlcyA9IG5ldyBNYXAoKTtcblxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nIHwgc3ltYm9sfSBrZXlcblx0XHQgKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG5cdFx0ICovXG5cdFx0dmFyIGFkZF9zb3VyY2UgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuXHRcdFx0dmFyIHMgPSBtdXRhYmxlX3NvdXJjZSh2YWx1ZSwgZmFsc2UsIGZhbHNlKTtcblx0XHRcdHNvdXJjZXMuc2V0KGtleSwgcyk7XG5cdFx0XHRyZXR1cm4gcztcblx0XHR9O1xuXG5cdFx0Ly8gUmVwbGljYXRlIGNvYXJzZS1ncmFpbmVkIHByb3BzIHRocm91Z2ggYSBwcm94eSB0aGF0IGhhcyBhIHZlcnNpb24gc291cmNlIGZvclxuXHRcdC8vIGVhY2ggcHJvcGVydHksIHdoaWNoIGlzIGluY3JlbWVudGVkIG9uIHVwZGF0ZXMgdG8gdGhlIHByb3BlcnR5IGl0c2VsZi4gRG8gbm90XG5cdFx0Ly8gdXNlIG91ciAkc3RhdGUgcHJveHkgYmVjYXVzZSB0aGF0IG9uZSBoYXMgZmluZS1ncmFpbmVkIHJlYWN0aXZpdHkuXG5cdFx0Y29uc3QgcHJvcHMgPSBuZXcgUHJveHkoXG5cdFx0XHR7IC4uLihvcHRpb25zLnByb3BzIHx8IHt9KSwgJCRldmVudHM6IHt9IH0sXG5cdFx0XHR7XG5cdFx0XHRcdGdldCh0YXJnZXQsIHByb3ApIHtcblx0XHRcdFx0XHRyZXR1cm4gZ2V0KHNvdXJjZXMuZ2V0KHByb3ApID8/IGFkZF9zb3VyY2UocHJvcCwgUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wKSkpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRoYXModGFyZ2V0LCBwcm9wKSB7XG5cdFx0XHRcdFx0Ly8gTmVjZXNzYXJ5IHRvIG5vdCB0aHJvdyBcImludmFsaWQgYmluZGluZ1wiIHZhbGlkYXRpb24gZXJyb3JzIG9uIHRoZSBjb21wb25lbnQgc2lkZVxuXHRcdFx0XHRcdGlmIChwcm9wID09PSBMRUdBQ1lfUFJPUFMpIHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdFx0Z2V0KHNvdXJjZXMuZ2V0KHByb3ApID8/IGFkZF9zb3VyY2UocHJvcCwgUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wKSkpO1xuXHRcdFx0XHRcdHJldHVybiBSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3ApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuXHRcdFx0XHRcdHNldChzb3VyY2VzLmdldChwcm9wKSA/PyBhZGRfc291cmNlKHByb3AsIHZhbHVlKSwgdmFsdWUpO1xuXHRcdFx0XHRcdHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHR0aGlzLiNpbnN0YW5jZSA9IChvcHRpb25zLmh5ZHJhdGUgPyBoeWRyYXRlIDogbW91bnQpKG9wdGlvbnMuY29tcG9uZW50LCB7XG5cdFx0XHR0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxuXHRcdFx0YW5jaG9yOiBvcHRpb25zLmFuY2hvcixcblx0XHRcdHByb3BzLFxuXHRcdFx0Y29udGV4dDogb3B0aW9ucy5jb250ZXh0LFxuXHRcdFx0aW50cm86IG9wdGlvbnMuaW50cm8gPz8gZmFsc2UsXG5cdFx0XHRyZWNvdmVyOiBvcHRpb25zLnJlY292ZXJcblx0XHR9KTtcblxuXHRcdC8vIFdlIGRvbid0IGZsdXNoU3luYyBmb3IgY3VzdG9tIGVsZW1lbnQgd3JhcHBlcnMgb3IgaWYgdGhlIHVzZXIgZG9lc24ndCB3YW50IGl0LFxuXHRcdC8vIG9yIGlmIHdlJ3JlIGluIGFzeW5jIG1vZGUgc2luY2UgYGZsdXNoU3luYygpYCB3aWxsIGZhaWxcblx0XHRpZiAoIWFzeW5jX21vZGVfZmxhZyAmJiAoIW9wdGlvbnM/LnByb3BzPy4kJGhvc3QgfHwgb3B0aW9ucy5zeW5jID09PSBmYWxzZSkpIHtcblx0XHRcdGZsdXNoU3luYygpO1xuXHRcdH1cblxuXHRcdHRoaXMuI2V2ZW50cyA9IHByb3BzLiQkZXZlbnRzO1xuXG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy4jaW5zdGFuY2UpKSB7XG5cdFx0XHRpZiAoa2V5ID09PSAnJHNldCcgfHwga2V5ID09PSAnJGRlc3Ryb3knIHx8IGtleSA9PT0gJyRvbicpIGNvbnRpbnVlO1xuXHRcdFx0ZGVmaW5lX3Byb3BlcnR5KHRoaXMsIGtleSwge1xuXHRcdFx0XHRnZXQoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuI2luc3RhbmNlW2tleV07XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8qKiBAcGFyYW0ge2FueX0gdmFsdWUgKi9cblx0XHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy4jaW5zdGFuY2Vba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLiNpbnN0YW5jZS4kc2V0ID0gLyoqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gbmV4dCAqLyAobmV4dCkgPT4ge1xuXHRcdFx0T2JqZWN0LmFzc2lnbihwcm9wcywgbmV4dCk7XG5cdFx0fTtcblxuXHRcdHRoaXMuI2luc3RhbmNlLiRkZXN0cm95ID0gKCkgPT4ge1xuXHRcdFx0dW5tb3VudCh0aGlzLiNpbnN0YW5jZSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IHByb3BzICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHR0aGlzLiNpbnN0YW5jZS4kc2V0KHByb3BzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcblx0ICogQHBhcmFtIHsoLi4uYXJnczogYW55W10pID0+IGFueX0gY2FsbGJhY2tcblx0ICogQHJldHVybnMge2FueX1cblx0ICovXG5cdCRvbihldmVudCwgY2FsbGJhY2spIHtcblx0XHR0aGlzLiNldmVudHNbZXZlbnRdID0gdGhpcy4jZXZlbnRzW2V2ZW50XSB8fCBbXTtcblxuXHRcdC8qKiBAcGFyYW0ge2FueVtdfSBhcmdzICovXG5cdFx0Y29uc3QgY2IgPSAoLi4uYXJncykgPT4gY2FsbGJhY2suY2FsbCh0aGlzLCAuLi5hcmdzKTtcblx0XHR0aGlzLiNldmVudHNbZXZlbnRdLnB1c2goY2IpO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHR0aGlzLiNldmVudHNbZXZlbnRdID0gdGhpcy4jZXZlbnRzW2V2ZW50XS5maWx0ZXIoLyoqIEBwYXJhbSB7YW55fSBmbiAqLyAoZm4pID0+IGZuICE9PSBjYik7XG5cdFx0fTtcblx0fVxuXG5cdCRkZXN0cm95KCkge1xuXHRcdHRoaXMuI2luc3RhbmNlLiRkZXN0cm95KCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSdW5zIHRoZSBnaXZlbiBmdW5jdGlvbiBvbmNlIGltbWVkaWF0ZWx5IG9uIHRoZSBzZXJ2ZXIsIGFuZCB3b3JrcyBsaWtlIGAkZWZmZWN0LnByZWAgb24gdGhlIGNsaWVudC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhpcyBvbmx5IGFzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uIHRvIG1pZ3JhdGUgeW91ciBjb21wb25lbnQgY29kZSB0byBTdmVsdGUgNS5cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHVzZXJfcHJlX2VmZmVjdCgoKSA9PiB7XG5cdFx0Zm4oKTtcblx0XHR2YXIgZWZmZWN0ID0gLyoqIEB0eXBlIHtpbXBvcnQoJyNjbGllbnQnKS5FZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblx0XHQvLyBJZiB0aGUgZWZmZWN0IGlzIGltbWVkaWF0ZWx5IG1hZGUgZGlydHkgYWdhaW4sIG1hcmsgaXQgYXMgbWF5YmUgZGlydHkgdG8gZW11bGF0ZSBsZWdhY3kgYmVoYXZpb3VyXG5cdFx0aWYgKChlZmZlY3QuZiAmIERJUlRZKSAhPT0gMCkge1xuXHRcdFx0bGV0IGZpbGVuYW1lID0gXCJhIGZpbGUgKHdlIGNhbid0IGtub3cgd2hpY2ggb25lKVwiO1xuXHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGZpbGVuYW1lID0gZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uPy5bRklMRU5BTUVdID8/IGZpbGVuYW1lO1xuXHRcdFx0fVxuXHRcdFx0dy5sZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrKGZpbGVuYW1lKTtcblx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgTUFZQkVfRElSVFkpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gbWltaWMgdGhlIG11bHRpcGxlIGxpc3RlbmVycyBhdmFpbGFibGUgaW4gc3ZlbHRlIDRcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJbXX0gaGFuZGxlcnNcbiAqIEByZXR1cm5zIHtFdmVudExpc3RlbmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlcnMoLi4uaGFuZGxlcnMpIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGNvbnN0IHsgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIH0gPSBldmVudDtcblx0XHRsZXQgc3RvcHBlZCA9IGZhbHNlO1xuXG5cdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuXHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IGVycm9ycyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIGB0aGlzYCBpcyBub3QgdHlwZWRcblx0XHRcdFx0aGFuZGxlcj8uY2FsbCh0aGlzLCBldmVudCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGVycm9ycy5wdXNoKGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3RvcHBlZCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGxldCBlcnJvciBvZiBlcnJvcnMpIHtcblx0XHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gY3JlYXRlIGEgYGJ1YmJsZWAgZnVuY3Rpb24gdGhhdCBtaW1pYyB0aGUgYmVoYXZpb3Igb2YgYG9uOmNsaWNrYCB3aXRob3V0IGhhbmRsZXIgYXZhaWxhYmxlIGluIHN2ZWx0ZSA0LlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoaXMgb25seSBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB0byBtaWdyYXRlIHlvdXIgYXV0b21hdGljYWxseSBkZWxlZ2F0ZWQgZXZlbnRzIGluIFN2ZWx0ZSA1LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnViYmxlcigpIHtcblx0Y29uc3QgYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdGlmIChhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnY3JlYXRlQnViYmxlcicpO1xuXHR9XG5cblx0cmV0dXJuICgvKipAdHlwZSB7c3RyaW5nfSovIHR5cGUpID0+ICgvKipAdHlwZSB7RXZlbnR9Ki8gZXZlbnQpID0+IHtcblx0XHRjb25zdCBldmVudHMgPSAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uIHwgRnVuY3Rpb25bXT59ICovIChcblx0XHRcdGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC5zLiQkZXZlbnRzXG5cdFx0KT8uWy8qKiBAdHlwZSB7YW55fSAqLyAodHlwZSldO1xuXG5cdFx0aWYgKGV2ZW50cykge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2tzID0gaXNfYXJyYXkoZXZlbnRzKSA/IGV2ZW50cy5zbGljZSgpIDogW2V2ZW50c107XG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0XHRmbi5jYWxsKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC54LCBldmVudCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG5leHBvcnQge1xuXHRvbmNlLFxuXHRwcmV2ZW50RGVmYXVsdCxcblx0c2VsZixcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLFxuXHRzdG9wUHJvcGFnYXRpb24sXG5cdHRydXN0ZWQsXG5cdHBhc3NpdmUsXG5cdG5vbnBhc3NpdmVcbn0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L2RvbS9sZWdhY3kvZXZlbnQtbW9kaWZpZXJzLmpzJztcbiIsICJpbXBvcnQgeyBjcmVhdGVDbGFzc0NvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uLy4uL2xlZ2FjeS9sZWdhY3ktY2xpZW50LmpzJztcbmltcG9ydCB7IGVmZmVjdF9yb290LCByZW5kZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGFwcGVuZCB9IGZyb20gJy4uL3RlbXBsYXRlLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgZ2V0X2Rlc2NyaXB0b3IsIG9iamVjdF9rZXlzIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG5cbi8qKiBAdHlwZSB7YW55fSAqL1xubGV0IFN2ZWx0ZUVsZW1lbnQ7XG5cbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0U3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvciAqL1xuXHRcdCQkY3Rvcjtcblx0XHQvKiogU2xvdHMgKi9cblx0XHQkJHM7XG5cdFx0LyoqIEB0eXBlIHthbnl9IFRoZSBTdmVsdGUgY29tcG9uZW50IGluc3RhbmNlICovXG5cdFx0JCRjO1xuXHRcdC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgY29ubmVjdGVkICovXG5cdFx0JCRjbiA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3RbXT59IEV2ZW50IGxpc3RlbmVycyAqL1xuXHRcdCQkbCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7TWFwPEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QsIEZ1bmN0aW9uPn0gRXZlbnQgbGlzdGVuZXIgdW5zdWJzY3JpYmUgZnVuY3Rpb25zICovXG5cdFx0JCRsX3UgPSBuZXcgTWFwKCk7XG5cdFx0LyoqIEB0eXBlIHthbnl9IFRoZSBtYW5hZ2VkIHJlbmRlciBlZmZlY3QgZm9yIHJlZmxlY3RpbmcgYXR0cmlidXRlcyAqL1xuXHRcdCQkbWU7XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0geyp9ICQkY29tcG9uZW50Q3RvclxuXHRcdCAqIEBwYXJhbSB7Kn0gJCRzbG90c1xuXHRcdCAqIEBwYXJhbSB7Kn0gdXNlX3NoYWRvd19kb21cblx0XHQgKi9cblx0XHRjb25zdHJ1Y3RvcigkJGNvbXBvbmVudEN0b3IsICQkc2xvdHMsIHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRzdXBlcigpO1xuXHRcdFx0dGhpcy4kJGN0b3IgPSAkJGNvbXBvbmVudEN0b3I7XG5cdFx0XHR0aGlzLiQkcyA9ICQkc2xvdHM7XG5cdFx0XHRpZiAodXNlX3NoYWRvd19kb20pIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcblx0XHQgKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGxpc3RlbmVyXG5cdFx0ICogQHBhcmFtIHtib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuXHRcdCAqL1xuXHRcdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdC8vIFdlIGNhbid0IGRldGVybWluZSB1cGZyb250IGlmIHRoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCBvciBub3QsIHNvIHdlIGhhdmUgdG9cblx0XHRcdC8vIGxpc3RlbiB0byBib3RoLiBJZiBzb21lb25lIHVzZXMgYSBjdXN0b20gZXZlbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgcmVndWxhclxuXHRcdFx0Ly8gYnJvd3NlciBldmVudCwgdGhpcyBmaXJlcyB0d2ljZSAtIHdlIGNhbid0IGF2b2lkIHRoYXQuXG5cdFx0XHR0aGlzLiQkbFt0eXBlXSA9IHRoaXMuJCRsW3R5cGVdIHx8IFtdO1xuXHRcdFx0dGhpcy4kJGxbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0c3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcblx0XHQgKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGxpc3RlbmVyXG5cdFx0ICogQHBhcmFtIHtib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuXHRcdCAqL1xuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuIHx8IHRoaXMuJCRjKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuXHRcdFx0XHRmdW5jdGlvbiBjcmVhdGVfc2xvdChuYW1lKSB7XG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogQHBhcmFtIHtFbGVtZW50fSBhbmNob3Jcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRyZXR1cm4gKGFuY2hvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Nsb3QnKTtcblx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHNsb3QubmFtZSA9IG5hbWU7XG5cblx0XHRcdFx0XHRcdGFwcGVuZChhbmNob3IsIHNsb3QpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSAqL1xuXHRcdFx0XHRjb25zdCAkJHNsb3RzID0ge307XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nX3Nsb3RzID0gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyh0aGlzKTtcblx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIG9mIHRoaXMuJCRzKSB7XG5cdFx0XHRcdFx0aWYgKG5hbWUgaW4gZXhpc3Rpbmdfc2xvdHMpIHtcblx0XHRcdFx0XHRcdGlmIChuYW1lID09PSAnZGVmYXVsdCcgJiYgIXRoaXMuJCRkLmNoaWxkcmVuKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuJCRkLmNoaWxkcmVuID0gY3JlYXRlX3Nsb3QobmFtZSk7XG5cdFx0XHRcdFx0XHRcdCQkc2xvdHMuZGVmYXVsdCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkJHNsb3RzW25hbWVdID0gY3JlYXRlX3Nsb3QobmFtZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBQb3J0IG92ZXIgcHJvcHMgdGhhdCB3ZXJlIHNldCBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSBjZSB3YXMgaW5pdGlhbGl6ZWRcblx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdFx0XHRpZiAoIShrZXkgaW4gdGhpcy4kJGQpICYmIHRoaXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpc1trZXldOyAvLyBkb24ndCB0cmFuc2Zvcm0sIHRoZXNlIHdlcmUgc2V0IHRocm91Z2ggSmF2YVNjcmlwdFxuXHRcdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXNba2V5XTsgLy8gcmVtb3ZlIHRoZSBwcm9wZXJ0eSB0aGF0IHNoYWRvd3MgdGhlIGdldHRlci9zZXR0ZXJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGMgPSBjcmVhdGVDbGFzc0NvbXBvbmVudCh7XG5cdFx0XHRcdFx0Y29tcG9uZW50OiB0aGlzLiQkY3Rvcixcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMuc2hhZG93Um9vdCB8fCB0aGlzLFxuXHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHQuLi50aGlzLiQkZCxcblx0XHRcdFx0XHRcdCQkc2xvdHMsXG5cdFx0XHRcdFx0XHQkJGhvc3Q6IHRoaXNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlZmxlY3QgY29tcG9uZW50IHByb3BzIGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0dGhpcy4kJG1lID0gZWZmZWN0X3Jvb3QoKCkgPT4ge1xuXHRcdFx0XHRcdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy4kJHIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgb2Ygb2JqZWN0X2tleXModGhpcy4kJGMpKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghdGhpcy4kJHBfZFtrZXldPy5yZWZsZWN0KSBjb250aW51ZTtcblx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjW2tleV07XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZV92YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShcblx0XHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkcF9kLFxuXHRcdFx0XHRcdFx0XHRcdCd0b0F0dHJpYnV0ZSdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZV92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy4kJGwpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuJCRsW3R5cGVdKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkbCA9IHt9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFdlIGRvbid0IG5lZWQgdGhpcyB3aGVuIHdvcmtpbmcgd2l0aGluIFN2ZWx0ZSBjb2RlLCBidXQgZm9yIGNvbXBhdGliaWxpdHkgb2YgcGVvcGxlIHVzaW5nIHRoaXMgb3V0c2lkZSBvZiBTdmVsdGVcblx0XHQvLyBhbmQgc2V0dGluZyBhdHRyaWJ1dGVzIHRocm91Z2ggc2V0QXR0cmlidXRlIGV0YywgdGhpcyBpcyBoZWxwZnVsXG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gYXR0clxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBfb2xkVmFsdWVcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmV3VmFsdWVcblx0XHQgKi9cblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gJiYgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRtZSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlX25hbWVcblx0XHQgKi9cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0b2JqZWN0X2tleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCB0cnVlPn0gKi9cblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG5cdFx0cmVzdWx0Wy8qKiBAdHlwZSB7RWxlbWVudH0gbm9kZSAqLyAobm9kZSkuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcblx0fSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHthbnl9IENvbXBvbmVudCAgQSBTdmVsdGUgY29tcG9uZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IHByb3BzX2RlZmluaXRpb24gIFRoZSBwcm9wcyB0byBvYnNlcnZlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBzbG90cyAgVGhlIHNsb3RzIHRvIGNyZWF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gZXhwb3J0cyAgRXhwbGljaXRseSBleHBvcnRlZCB2YWx1ZXMsIG90aGVyIHRoYW4gcHJvcHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlX3NoYWRvd19kb20gIFdoZXRoZXIgdG8gdXNlIHNoYWRvdyBET01cbiAqIEBwYXJhbSB7KGNlOiBuZXcgKCkgPT4gSFRNTEVsZW1lbnQpID0+IG5ldyAoKSA9PiBIVE1MRWxlbWVudH0gW2V4dGVuZF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jdXN0b21fZWxlbWVudChcblx0Q29tcG9uZW50LFxuXHRwcm9wc19kZWZpbml0aW9uLFxuXHRzbG90cyxcblx0ZXhwb3J0cyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0X2tleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdG9iamVjdF9rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRkZWZpbmVfcHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR2YXIgY29tcG9uZW50ID0gdGhpcy4kJGM7XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudCkge1xuXHRcdFx0XHRcdC8vIC8vIElmIHRoZSBpbnN0YW5jZSBoYXMgYW4gYWNjZXNzb3IsIHVzZSB0aGF0IGluc3RlYWRcblx0XHRcdFx0XHR2YXIgc2V0dGVyID0gZ2V0X2Rlc2NyaXB0b3IoY29tcG9uZW50LCBwcm9wKT8uZ2V0O1xuXG5cdFx0XHRcdFx0aWYgKHNldHRlcikge1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50W3Byb3BdID0gdmFsdWU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbXBvbmVudC4kc2V0KHsgW3Byb3BdOiB2YWx1ZSB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGV4cG9ydHMuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcblx0XHRkZWZpbmVfcHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wZXJ0eSwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/Lltwcm9wZXJ0eV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gQ2xhc3M7XG5cdHJldHVybiBDbGFzcztcbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIENvbXBvbmVudENvbnRleHRMZWdhY3kgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICcuL2luZGV4LmpzJyAqL1xuLyoqIEBpbXBvcnQgeyBOb3RGdW5jdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvdHlwZXMuanMnICovXG5pbXBvcnQgeyBhY3RpdmVfcmVhY3Rpb24sIHVudHJhY2sgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzJztcbmltcG9ydCB7IGlzX2FycmF5IH0gZnJvbSAnLi9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgdXNlcl9lZmZlY3QgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnIH0gZnJvbSAnLi9pbnRlcm5hbC9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbmlmIChERVYpIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG5cdCAqL1xuXHRmdW5jdGlvbiB0aHJvd19ydW5lX2Vycm9yKHJ1bmUpIHtcblx0XHRpZiAoIShydW5lIGluIGdsb2JhbFRoaXMpKSB7XG5cdFx0XHQvLyBUT0RPIGlmIHBlb3BsZSBzdGFydCBhZGp1c3RpbmcgdGhlIFwidGhpcyBjYW4gY29udGFpbiBydW5lc1wiIGNvbmZpZyB0aHJvdWdoIHYtcC1zIG1vcmUsIGFkanVzdCB0aGlzIG1lc3NhZ2Vcblx0XHRcdC8qKiBAdHlwZSB7YW55fSAqL1xuXHRcdFx0bGV0IHZhbHVlOyAvLyBsZXQncyBob3BlIG5vb25lIG1vZGlmaWVzIHRoaXMgZ2xvYmFsLCBidXQgYmVsdHMgYW5kIGJyYWNlc1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMsIHJ1bmUsIHtcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2V0dGVyLXJldHVyblxuXHRcdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGUucnVuZV9vdXRzaWRlX3N2ZWx0ZShydW5lKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0OiAodikgPT4ge1xuXHRcdFx0XHRcdHZhbHVlID0gdjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0dGhyb3dfcnVuZV9lcnJvcignJHN0YXRlJyk7XG5cdHRocm93X3J1bmVfZXJyb3IoJyRlZmZlY3QnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGRlcml2ZWQnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGluc3BlY3QnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJHByb3BzJyk7XG5cdHRocm93X3J1bmVfZXJyb3IoJyRiaW5kYWJsZScpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gW2BBYm9ydFNpZ25hbGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbCkgdGhhdCBhYm9ydHMgd2hlbiB0aGUgY3VycmVudCBbZGVyaXZlZF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRkZXJpdmVkKSBvciBbZWZmZWN0XShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCkgcmUtcnVucyBvciBpcyBkZXN0cm95ZWQuXG4gKlxuICogTXVzdCBiZSBjYWxsZWQgd2hpbGUgYSBkZXJpdmVkIG9yIGVmZmVjdCBpcyBydW5uaW5nLlxuICpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdD5cbiAqIFx0aW1wb3J0IHsgZ2V0QWJvcnRTaWduYWwgfSBmcm9tICdzdmVsdGUnO1xuICpcbiAqIFx0bGV0IHsgaWQgfSA9ICRwcm9wcygpO1xuICpcbiAqIFx0YXN5bmMgZnVuY3Rpb24gZ2V0RGF0YShpZCkge1xuICogXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9pdGVtcy8ke2lkfWAsIHtcbiAqIFx0XHRcdHNpZ25hbDogZ2V0QWJvcnRTaWduYWwoKVxuICogXHRcdH0pO1xuICpcbiAqIFx0XHRyZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICogXHR9XG4gKlxuICogXHRjb25zdCBkYXRhID0gJGRlcml2ZWQoYXdhaXQgZ2V0RGF0YShpZCkpO1xuICogPC9zY3JpcHQ+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFib3J0U2lnbmFsKCkge1xuXHRpZiAoYWN0aXZlX3JlYWN0aW9uID09PSBudWxsKSB7XG5cdFx0ZS5nZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb24oKTtcblx0fVxuXG5cdHJldHVybiAoYWN0aXZlX3JlYWN0aW9uLmFjID8/PSBuZXcgQWJvcnRDb250cm9sbGVyKCkpLnNpZ25hbDtcbn1cblxuLyoqXG4gKiBgb25Nb3VudGAsIGxpa2UgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpLCBzY2hlZHVsZXMgYSBmdW5jdGlvbiB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIFVubGlrZSBgJGVmZmVjdGAsIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBvbmx5IHJ1bnMgb25jZS5cbiAqXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgX2luc2lkZV8gdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLiBJZiBhIGZ1bmN0aW9uIGlzIHJldHVybmVkIF9zeW5jaHJvbm91c2x5XyBmcm9tIGBvbk1vdW50YCxcbiAqIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGZ1bmN0aW9ucyBkbyBub3QgcnVuIGR1cmluZyBbc2VydmVyLXNpZGUgcmVuZGVyaW5nXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvc3ZlbHRlLXNlcnZlciNyZW5kZXIpLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IE5vdEZ1bmN0aW9uPFQ+IHwgUHJvbWlzZTxOb3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRpZiAoY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnb25Nb3VudCcpO1xuXHR9XG5cblx0aWYgKGxlZ2FjeV9tb2RlX2ZsYWcgJiYgY29tcG9uZW50X2NvbnRleHQubCAhPT0gbnVsbCkge1xuXHRcdGluaXRfdXBkYXRlX2NhbGxiYWNrcyhjb21wb25lbnRfY29udGV4dCkubS5wdXNoKGZuKTtcblx0fSBlbHNlIHtcblx0XHR1c2VyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRjb25zdCBjbGVhbnVwID0gdW50cmFjayhmbik7XG5cdFx0XHRpZiAodHlwZW9mIGNsZWFudXAgPT09ICdmdW5jdGlvbicpIHJldHVybiAvKiogQHR5cGUgeygpID0+IHZvaWR9ICovIChjbGVhbnVwKTtcblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdvbkRlc3Ryb3knKTtcblx0fVxuXG5cdG9uTW91bnQoKCkgPT4gKCkgPT4gdW50cmFjayhmbikpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBbVD1hbnldXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHthbnl9cGFyYW1zXzBcbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9sZWdhY3ktb24jQ29tcG9uZW50LWV2ZW50cykuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBjYW4gYmUgdHlwZWQgdG8gbmFycm93IHRoZSBhbGxvd2VkIGV2ZW50IG5hbWVzIGFuZCB0aGUgdHlwZSBvZiB0aGUgYGRldGFpbGAgYXJndW1lbnQ6XG4gKiBgYGB0c1xuICogY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICogIGxvYWRlZDogbnVsbDsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGNhbGxiYWNrIHByb3BzIGFuZC9vciB0aGUgYCRob3N0KClgIHJ1bmUgaW5zdGVhZCBcdTIwMTQgc2VlIFttaWdyYXRpb24gZ3VpZGVdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS92NS1taWdyYXRpb24tZ3VpZGUjRXZlbnQtY2hhbmdlcy1Db21wb25lbnQtZXZlbnRzKVxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXAgPSBhbnldXG4gKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyPEV2ZW50TWFwPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcblx0Y29uc3QgYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdGlmIChhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnY3JlYXRlRXZlbnREaXNwYXRjaGVyJyk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIFtkZXRhaWxdXG5cdCAqIEBwYXJhbSBbb3B0aW9uc11cblx0ICovXG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCBvcHRpb25zKSA9PiB7XG5cdFx0Y29uc3QgZXZlbnRzID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbiB8IEZ1bmN0aW9uW10+fSAqLyAoXG5cdFx0XHRhY3RpdmVfY29tcG9uZW50X2NvbnRleHQucy4kJGV2ZW50c1xuXHRcdCk/LlsvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpXTtcblxuXHRcdGlmIChldmVudHMpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrcyA9IGlzX2FycmF5KGV2ZW50cykgPyBldmVudHMuc2xpY2UoKSA6IFtldmVudHNdO1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjcmVhdGVfY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgb3B0aW9ucyk7XG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0XHRmbi5jYWxsKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC54LCBldmVudCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8vIFRPRE8gbWFyayBiZWZvcmVVcGRhdGUgYW5kIGFmdGVyVXBkYXRlIGFzIGRlcHJlY2F0ZWQgaW4gU3ZlbHRlIDZcblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdC5wcmVgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIFtgJGVmZmVjdC5wcmVgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCMkZWZmZWN0LnByZSkgaW5zdGVhZFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2JlZm9yZVVwZGF0ZScpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudF9jb250ZXh0LmwgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9sZWdhY3lfb25seSgnYmVmb3JlVXBkYXRlJyk7XG5cdH1cblxuXHRpbml0X3VwZGF0ZV9jYWxsYmFja3MoY29tcG9uZW50X2NvbnRleHQpLmIucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdGAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpIGluc3RlYWRcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2FmdGVyVXBkYXRlJyk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50X2NvbnRleHQubCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KCdhZnRlclVwZGF0ZScpO1xuXHR9XG5cblx0aW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbXBvbmVudF9jb250ZXh0KS5hLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIExlZ2FjeS1tb2RlOiBJbml0IGNhbGxiYWNrcyBvYmplY3QgZm9yIG9uTW91bnQvYmVmb3JlVXBkYXRlL2FmdGVyVXBkYXRlXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHR9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gaW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbnRleHQpIHtcblx0dmFyIGwgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb250ZXh0KS5sO1xuXHRyZXR1cm4gKGwudSA/Pz0geyBhOiBbXSwgYjogW10sIG06IFtdIH0pO1xufVxuXG5leHBvcnQgeyBmbHVzaFN5bmMsIGZvcmsgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmV4cG9ydCB7XG5cdGNyZWF0ZUNvbnRleHQsXG5cdGdldENvbnRleHQsXG5cdGdldEFsbENvbnRleHRzLFxuXHRoYXNDb250ZXh0LFxuXHRzZXRDb250ZXh0XG59IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMnO1xuZXhwb3J0IHsgaHlkcmF0YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2h5ZHJhdGFibGUuanMnO1xuZXhwb3J0IHsgaHlkcmF0ZSwgbW91bnQsIHVubW91bnQgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGljaywgdW50cmFjaywgc2V0dGxlZCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuZXhwb3J0IHsgY3JlYXRlUmF3U25pcHBldCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2RvbS9ibG9ja3Mvc25pcHBldC5qcyc7XG4iLCAiLy8gZ2VuZXJhdGVkIGR1cmluZyByZWxlYXNlLCBkbyBub3QgbW9kaWZ5XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgdmVyc2lvbiwgYXMgc2V0IGluIHBhY2thZ2UuanNvbi5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzUuNDcuMCc7XG5leHBvcnQgY29uc3QgUFVCTElDX1ZFUlNJT04gPSAnNSc7XG4iLCAiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uLmpzJztcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0KCh3aW5kb3cuX19zdmVsdGUgPz89IHt9KS52ID8/PSBuZXcgU2V0KCkpLmFkZChQVUJMSUNfVkVSU0lPTik7XG59XG4iLCAiaW1wb3J0IHsgZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuL2luZGV4LmpzJztcblxuZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcoKTtcbiIsICJpbXBvcnQgeyB3cml0YWJsZSwgcmVhZGFibGUsIGRlcml2ZWQgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG5pbXBvcnQgdHlwZSBGb2N1c1Nlc3Npb25zUGx1Z2luIGZyb20gXCJAL21haW5cIjtcbmltcG9ydCB0eXBlIHsgU2Vzc2lvbk1hbmFnZXIsIEZvY3VzU2Vzc2lvbiB9IGZyb20gXCJAL3NlcnZpY2VzL3Nlc3Npb24tbWFuYWdlclwiO1xuaW1wb3J0IHsgZ2V0UmVtYWluaW5nVGltZSB9IGZyb20gXCJAL3V0aWxzL3RpbWUtdXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IHBsdWdpbiA9IHdyaXRhYmxlPEZvY3VzU2Vzc2lvbnNQbHVnaW4+KCk7XG5cbmV4cG9ydCBjb25zdCBkcmFmdE5hbWUgPSB3cml0YWJsZShcIkZvY3VzIFNlc3Npb25cIik7XG5leHBvcnQgY29uc3QgZHJhZnRNaW51dGVzID0gd3JpdGFibGUoMjUpO1xuZXhwb3J0IGNvbnN0IGRyYWZ0U2Vjb25kcyA9IHdyaXRhYmxlKDApO1xuXG5leHBvcnQgY29uc3Qgc2Vzc2lvbiA9IHJlYWRhYmxlPEZvY3VzU2Vzc2lvbiB8IG51bGw+KG51bGwsIChzZXQpID0+IHtcblx0bGV0IHNlc3Npb25NYW5hZ2VyOiBTZXNzaW9uTWFuYWdlcjtcblxuXHRjb25zdCB1bnN1YnNjcmliZVBsdWdpbiA9IHBsdWdpbi5zdWJzY3JpYmUoKHApID0+IHtcblx0XHRpZiAocCkge1xuXHRcdFx0c2Vzc2lvbk1hbmFnZXIgPSBwLnNlc3Npb25NYW5hZ2VyO1xuXG5cdFx0XHQvLyBJbml0aWFsIHNldFxuXHRcdFx0c2V0KHNlc3Npb25NYW5hZ2VyLmdldEFjdGl2ZVNlc3Npb24oKSk7XG5cblx0XHRcdC8vIExpc3RlbiBmb3IgY2hhbmdlc1xuXHRcdFx0c2Vzc2lvbk1hbmFnZXIub25DaGFuZ2UoKCkgPT4ge1xuXHRcdFx0XHRzZXQoc2Vzc2lvbk1hbmFnZXIuZ2V0QWN0aXZlU2Vzc2lvbigpKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHR1bnN1YnNjcmliZVBsdWdpbigpO1xuXHRcdC8vIFdlIHRlY2huaWNhbGx5IGNhbid0IHVuc3Vic2NyaWJlIGZyb20gc2Vzc2lvbk1hbmFnZXIgd2l0aCB0aGUgY3VycmVudCBBUElcblx0XHQvLyB3aXRob3V0IGEgc3BlY2lmaWMgbGlzdGVuZXIgcmVmZXJlbmNlLCBidXQgdGhlIHBsdWdpbiBsaWZlY3ljbGUgaGFuZGxlcyB0aGlzLlxuXHRcdC8vIElkZWFsbHkgd2Ugd291bGQgYWRkIGEgc3BlY2lmaWMgcmVtb3ZlTGlzdGVuZXIgbWV0aG9kIGlmIHdlIG5lZWQgZ3JhbnVsYXIgY2xlYW51cCxcblx0XHQvLyBidXQgZm9yIGEgc2luZ2xldG9uIHNlcnZpY2UgaXQncyBhY2NlcHRhYmxlLlxuXHR9O1xufSk7XG5cbmV4cG9ydCBjb25zdCB0aW1lUmVtYWluaW5nID0gZGVyaXZlZChcblx0c2Vzc2lvbixcblx0KCRzZXNzaW9uLCBzZXQpID0+IHtcblx0XHRpZiAoISRzZXNzaW9uIHx8ICRzZXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikge1xuXHRcdFx0c2V0KDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcblx0XHRcdGlmICgkc2Vzc2lvbi5zdGF0dXMgPT09IFwicnVubmluZ1wiKSB7XG5cdFx0XHRcdGNvbnN0IHJlbWFpbmluZyA9IGdldFJlbWFpbmluZ1RpbWUoXG5cdFx0XHRcdFx0JHNlc3Npb24uZHVyYXRpb24sXG5cdFx0XHRcdFx0JHNlc3Npb24uZWxhcHNlZCxcblx0XHRcdFx0XHQkc2Vzc2lvbi5zdGF0dXMsXG5cdFx0XHRcdFx0JHNlc3Npb24ubGFzdFJlc3VtZWQsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHNldChyZW1haW5pbmcpO1xuXHRcdFx0fSBlbHNlIGlmICgkc2Vzc2lvbi5zdGF0dXMgPT09IFwicGF1c2VkXCIpIHtcblx0XHRcdFx0Y29uc3QgcmVtYWluaW5nID0gZ2V0UmVtYWluaW5nVGltZShcblx0XHRcdFx0XHQkc2Vzc2lvbi5kdXJhdGlvbixcblx0XHRcdFx0XHQkc2Vzc2lvbi5lbGFwc2VkLFxuXHRcdFx0XHRcdCRzZXNzaW9uLnN0YXR1cyxcblx0XHRcdFx0XHQkc2Vzc2lvbi5sYXN0UmVzdW1lZCxcblx0XHRcdFx0KTtcblx0XHRcdFx0c2V0KHJlbWFpbmluZyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHVwZGF0ZSgpO1xuXG5cdFx0Y29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGUsIDEwMDApO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHRcdH07XG5cdH0sXG5cdDAsIC8vIEluaXRpYWwgdmFsdWVcbik7XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgc2Vzc2lvbiB9IGZyb20gXCIuLi9zdG9yZXNcIjtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwic2Vzc2lvbi1oZWFkZXJcIj5cblx0eyNpZiAkc2Vzc2lvbn1cblx0XHQ8aDM+eyRzZXNzaW9uLm5hbWV9PC9oMz5cblx0XHQ8c3BhbiBjbGFzcz1cInN0YXR1cy10YWcgeyRzZXNzaW9uLnN0YXR1c31cIj57JHNlc3Npb24uc3RhdHVzfTwvc3Bhbj5cblx0ezplbHNlfVxuXHRcdDxoMz5ObyBhY3RpdmUgc2Vzc2lvbjwvaDM+XG5cdHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuXHQuc2Vzc2lvbi1oZWFkZXIge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0bWFyZ2luLWJvdHRvbTogMXJlbTtcblx0XHRwYWRkaW5nLWJvdHRvbTogMXJlbTtcblx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHR9XG5cblx0aDMge1xuXHRcdG1hcmdpbjogMDtcblx0fVxuXG5cdC5zdGF0dXMtdGFnIHtcblx0XHRwYWRkaW5nOiA0cHggOHB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRmb250LXNpemU6IDAuOGVtO1xuXHRcdHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG5cdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XG5cdH1cblxuXHQuc3RhdHVzLXRhZy5ydW5uaW5nIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG5cdH1cblxuXHQuc3RhdHVzLXRhZy5wYXVzZWQge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItd2FybmluZyk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0fVxuXG5cdC5zdGF0dXMtdGFnLmNvbXBsZXRlZCB7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuXHR9XG48L3N0eWxlPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IHRpbWVSZW1haW5pbmcsIHNlc3Npb24sIGRyYWZ0TmFtZSwgZHJhZnRNaW51dGVzLCBkcmFmdFNlY29uZHMgfSBmcm9tIFwiLi4vc3RvcmVzXCI7XG5cdGltcG9ydCB7IGZvcm1hdER1cmF0aW9uIH0gZnJvbSBcIkAvdXRpbHMvdGltZS11dGlsc1wiO1xuXG5cdGxldCBzaG93TmFtZUlucHV0ID0gZmFsc2U7XG5cblx0ZnVuY3Rpb24gdG9nZ2xlTmFtZUlucHV0KCkge1xuXHRcdHNob3dOYW1lSW5wdXQgPSAhc2hvd05hbWVJbnB1dDtcblx0fVxuXG5cdGZ1bmN0aW9uIGZvcm1hdERpc3BsYXkodmFsOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiB2YWwudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVNaW51dGVzSW5wdXQoZTogRXZlbnQgJiB7IGN1cnJlbnRUYXJnZXQ6IEhUTUxJbnB1dEVsZW1lbnQgfSkge1xuXHRcdGNvbnN0IGlucHV0ID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKTtcblx0XHRsZXQgdmFsID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcblx0XHRpZiAoaXNOYU4odmFsKSkgdmFsID0gMDtcblx0XHRpZiAodmFsID4gOTkpIHZhbCA9IDk5O1xuXHRcdCRkcmFmdE1pbnV0ZXMgPSB2YWw7XG5cdFx0Ly8gRm9yY2UgdXBkYXRlIGlucHV0IHZhbHVlIHRvIGVuc3VyZSBmb3JtYXR0aW5nXG5cdFx0ZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gZm9ybWF0RGlzcGxheSh2YWwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlU2Vjb25kc0lucHV0KGU6IEV2ZW50ICYgeyBjdXJyZW50VGFyZ2V0OiBIVE1MSW5wdXRFbGVtZW50IH0pIHtcblx0XHRjb25zdCBpbnB1dCA9IGUuY3VycmVudFRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIik7XG5cdFx0bGV0IHZhbCA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG5cdFx0aWYgKGlzTmFOKHZhbCkpIHZhbCA9IDA7XG5cdFx0aWYgKHZhbCA+IDU5KSB2YWwgPSA1OTtcblx0XHQkZHJhZnRTZWNvbmRzID0gdmFsO1xuXHRcdGUuY3VycmVudFRhcmdldC52YWx1ZSA9IGZvcm1hdERpc3BsYXkodmFsKTtcblx0fVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJzZXNzaW9uLXRpbWVyXCI+XG5cdHsjaWYgJHNlc3Npb259XG5cdFx0PGRpdiBjbGFzcz1cInRpbWUtZGlzcGxheVwiIGNsYXNzOmlzLW92ZXJ0aW1lPXskdGltZVJlbWFpbmluZyA8IDB9PlxuXHRcdFx0e2Zvcm1hdER1cmF0aW9uKCR0aW1lUmVtYWluaW5nKX1cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclwiPlxuXHRcdFx0PGRpdlxuXHRcdFx0XHRjbGFzcz1cInByb2dyZXNzLWJhclwiXG5cdFx0XHRcdHN0eWxlPVwid2lkdGg6IHtNYXRoLm1pbigxMDAsICgkc2Vzc2lvbi5lbGFwc2VkIC8gJHNlc3Npb24uZHVyYXRpb24pICogMTAwKX0lXCJcblx0XHRcdD48L2Rpdj5cblx0XHQ8L2Rpdj5cblx0ezplbHNlfVxuXHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tdGltZXItY29udGFpbmVyXCI+XG5cdFx0XHR7I2lmIHNob3dOYW1lSW5wdXR9XG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdHR5cGU9XCJ0ZXh0XCJcblx0XHRcdFx0XHRjbGFzcz1cImZzLXRpbWVyLW5hbWUtaW5wdXRcIlxuXHRcdFx0XHRcdGJpbmQ6dmFsdWU9eyRkcmFmdE5hbWV9XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJTZXNzaW9uIE5hbWVcIlxuXHRcdFx0XHRcdG9uOmJsdXI9eygpID0+IChzaG93TmFtZUlucHV0ID0gZmFsc2UpfVxuXHRcdFx0XHQvPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0Y2xhc3M9XCJmcy10aW1lci1uYW1lLWRpc3BsYXlcIlxuXHRcdFx0XHRcdG9uOmNsaWNrPXt0b2dnbGVOYW1lSW5wdXR9XG5cdFx0XHRcdFx0cm9sZT1cImJ1dHRvblwiXG5cdFx0XHRcdFx0dGFiaW5kZXg9XCIwXCJcblx0XHRcdFx0XHRvbjprZXlwcmVzcz17KGUpID0+IGUua2V5ID09PSBcIkVudGVyXCIgJiYgdG9nZ2xlTmFtZUlucHV0KCl9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7JGRyYWZ0TmFtZX1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7L2lmfVxuXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtdGltZXItaW5wdXRzXCI+XG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdHR5cGU9XCJ0ZXh0XCJcblx0XHRcdFx0XHRpbnB1dG1vZGU9XCJudW1lcmljXCJcblx0XHRcdFx0XHR2YWx1ZT17Zm9ybWF0RGlzcGxheSgkZHJhZnRNaW51dGVzKX1cblx0XHRcdFx0XHRvbjppbnB1dD17aGFuZGxlTWludXRlc0lucHV0fVxuXHRcdFx0XHRcdGNsYXNzPVwiZnMtdGltZXItaW5wdXRcIlxuXHRcdFx0XHQvPlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImZzLXRpbWVyLXNlcGFyYXRvclwiPjo8L3NwYW4+XG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdHR5cGU9XCJ0ZXh0XCJcblx0XHRcdFx0XHRpbnB1dG1vZGU9XCJudW1lcmljXCJcblx0XHRcdFx0XHR2YWx1ZT17Zm9ybWF0RGlzcGxheSgkZHJhZnRTZWNvbmRzKX1cblx0XHRcdFx0XHRvbjppbnB1dD17aGFuZGxlU2Vjb25kc0lucHV0fVxuXHRcdFx0XHRcdG9uOmZvY3VzPXsoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnNlbGVjdCgpfVxuXHRcdFx0XHRcdGNsYXNzPVwiZnMtdGltZXItaW5wdXRcIlxuXHRcdFx0XHQvPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuXHQuc2Vzc2lvbi10aW1lciB7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdG1hcmdpbjogMnJlbSAwO1xuXHR9XG5cblx0LnRpbWUtZGlzcGxheSB7XG5cdFx0Zm9udC1zaXplOiAzZW07XG5cdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcblx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHR9XG5cblx0LnByb2dyZXNzLWJhci1jb250YWluZXIge1xuXHRcdGhlaWdodDogNHB4O1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRib3JkZXItcmFkaXVzOiAycHg7XG5cdFx0bWFyZ2luLXRvcDogMXJlbTtcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXHR9XG5cblx0LnByb2dyZXNzLWJhciB7XG5cdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdFx0dHJhbnNpdGlvbjogd2lkdGggMXMgbGluZWFyO1xuXHR9XG5cblx0LyogQ3VzdG9tIFRpbWVyIFN0eWxlcyAqL1xuXHQuY3VzdG9tLXRpbWVyLWNvbnRhaW5lciB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Z2FwOiAwLjVyZW07XG5cdH1cblxuXHQuZnMtdGltZXItbmFtZS1kaXNwbGF5IHtcblx0XHRmb250LXNpemU6IDEuMmVtO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0Ym9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCB0cmFuc3BhcmVudDtcblx0XHR0cmFuc2l0aW9uOlxuXHRcdFx0Ym9yZGVyLWNvbG9yIDAuMnMsXG5cdFx0XHRjb2xvciAwLjJzO1xuXHR9XG5cblx0LmZzLXRpbWVyLW5hbWUtZGlzcGxheTpob3ZlciB7XG5cdFx0Ym9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0fVxuXG5cdC5mcy10aW1lci1uYW1lLWlucHV0IHtcblx0XHRmb250LXNpemU6IDEuMmVtO1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0XHR3aWR0aDogMjAwcHg7XG5cdH1cblxuXHQuZnMtdGltZXItaW5wdXRzIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0Z2FwOiAwLjI1cmVtO1xuXHR9XG5cblx0LmZzLXRpbWVyLWlucHV0IHtcblx0XHRmb250LXNpemU6IDNlbTtcblx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdHdpZHRoOiA1cmVtOyAvKiBBcHByb3ggd2lkdGggZm9yIDIgZGlnaXRzICovXG5cdFx0aGVpZ2h0OiA0cmVtO1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRwYWRkaW5nOiAwO1xuXHRcdC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xuXHRcdGFwcGVhcmFuY2U6IHRleHRmaWVsZDtcblx0fVxuXG5cdC5mcy10aW1lci1pbnB1dDpob3ZlciB7XG5cdFx0Y29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdH1cblxuXHQuZnMtdGltZXItaW5wdXQ6Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sXG5cdC5mcy10aW1lci1pbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG5cdFx0LXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuXHRcdG1hcmdpbjogMDtcblx0fVxuXG5cdC5mcy10aW1lci1pbnB1dDpmb2N1cyB7XG5cdFx0b3V0bGluZTogbm9uZTtcblx0XHRib3gtc2hhZG93OiBub25lO1xuXHRcdGNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuXHR9XG5cblx0LmZzLXRpbWVyLXNlcGFyYXRvciB7XG5cdFx0Zm9udC1zaXplOiAzZW07XG5cdFx0Zm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcblx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHRcdG1hcmdpbi1ib3R0b206IDAuNXJlbTsgLyogT3B0aWNhbCBhbGlnbm1lbnQgKi9cblx0fVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTZXNzaW9uTWFuYWdlciB9IGZyb20gXCJAL3NlcnZpY2VzL3Nlc3Npb24tbWFuYWdlclwiO1xuXG5leHBvcnQgY2xhc3MgU2Vzc2lvbkVuZE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIHNlc3Npb25NYW5hZ2VyOiBTZXNzaW9uTWFuYWdlcjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnNlc3Npb25NYW5hZ2VyID0gc2Vzc2lvbk1hbmFnZXI7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmFkZENsYXNzKFwiZnMtc2Vzc2lvbi1lbmQtbW9kYWxcIik7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiRm9jdXMgc2Vzc2lvbiBjb21wbGV0ZWQhXCIgfSk7XG5cblx0XHRjb25zdCBjb250cm9scyA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwiZnMtbW9kYWwtY29udHJvbHNcIiB9KTtcblxuXHRcdC8vIEV4dGVuc2lvbiBPcHRpb25zXG5cdFx0Y29uc3QgZXh0ZW5zaW9uc0RpdiA9IGNvbnRyb2xzLmNyZWF0ZURpdih7IGNsczogXCJmcy1leHRlbnNpb24tb3B0aW9uc1wiIH0pO1xuXHRcdGV4dGVuc2lvbnNEaXYuY3JlYXRlRGl2KHsgY2xzOiBcImZzLWxhYmVsXCIsIHRleHQ6IFwiTmVlZCBtb3JlIHRpbWU/XCIgfSk7XG5cblx0XHRjb25zdCBidG5Sb3cgPSBleHRlbnNpb25zRGl2LmNyZWF0ZURpdih7IGNsczogXCJmcy1jb250cm9scy1yb3dcIiB9KTtcblxuXHRcdGNvbnN0IHRpbWVzID0gW1xuXHRcdFx0eyBsYWJlbDogXCIrMzBzXCIsIHZhbDogMC41IH0sXG5cdFx0XHR7IGxhYmVsOiBcIisxbVwiLCB2YWw6IDEgfSxcblx0XHRcdHsgbGFiZWw6IFwiKzVtXCIsIHZhbDogNSB9LFxuXHRcdF07XG5cblx0XHR0aW1lcy5mb3JFYWNoKCh0KSA9PiB7XG5cdFx0XHRjb25zdCBidG4gPSBidG5Sb3cuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBjbHM6IFwiZnMtY29udHJvbC10ZXh0LWJ0blwiLCB0ZXh0OiB0LmxhYmVsIH0pO1xuXHRcdFx0YnRuLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIuYWRkVGltZSh0LnZhbCk7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHQvLyBTZXBhcmF0b3Igb3Igc3BhY2luZ1xuXHRcdGNvbnRyb2xzLmNyZWF0ZURpdih7IGNsczogXCJmcy1zcGFjZXJcIiB9KTtcblxuXHRcdC8vIEZpbmlzaCBBY3Rpb25cblx0XHRjb25zdCBmaW5pc2hCdG4gPSBjb250cm9scy5jcmVhdGVFbChcImJ1dHRvblwiLCB7IGNsczogXCJtb2QtY3RhIGZzLWZpbmlzaC1idG5cIiwgdGV4dDogXCJGaW5pc2ggc2Vzc2lvblwiIH0pO1xuXHRcdGZpbmlzaEJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5zZXNzaW9uTWFuYWdlci5zdG9wU2Vzc2lvbihcIm1vZGFsXCIpOyAvLyBFeHBsaWNpdCBzdG9wXG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHQvLyBJZiB0aGUgc2Vzc2lvbiBpcyBzdGlsbCBcImNvbXBsZXRlZFwiICh1c2VyIGRpc21pc3NlZCBtb2RhbCB3aXRob3V0IGFjdGlvbiksXG5cdFx0Ly8gd2Ugc2hvdWxkIHRyZWF0IGl0IGFzIGZpbmlzaGluZyB0aGUgc2Vzc2lvbiB0byBzdG9wIHRoZSBhbGFybS5cblx0XHQvLyBIb3dldmVyLCBpZiB0aGV5IGNsaWNrZWQgXCJBZGQgVGltZVwiLCB0aGUgc3BlY2lmaWMgaGFuZGxlciB3b3VsZCBoYXZlIGFscmVhZHlcblx0XHQvLyBjaGFuZ2VkIHRoZSBzdGF0ZSB0byBcInJ1bm5pbmdcIiAodmlhIGFkZFRpbWUpIGJlZm9yZSBjbG9zaW5nLlxuXHRcdGNvbnN0IHNlc3Npb24gPSB0aGlzLnNlc3Npb25NYW5hZ2VyLmdldEFjdGl2ZVNlc3Npb24oKTtcblx0XHRpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikge1xuXHRcdFx0dm9pZCB0aGlzLnNlc3Npb25NYW5hZ2VyLnN0b3BTZXNzaW9uKFwibW9kYWxcIik7XG5cdFx0fVxuXHR9XG59XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgc2Vzc2lvbiwgcGx1Z2luLCBkcmFmdE5hbWUsIGRyYWZ0TWludXRlcywgZHJhZnRTZWNvbmRzIH0gZnJvbSBcIi4uL3N0b3Jlc1wiO1xuXHRpbXBvcnQgeyBTZXNzaW9uRW5kTW9kYWwgfSBmcm9tIFwiLi4vc2Vzc2lvbi1lbmQtbW9kYWxcIjtcblx0aW1wb3J0IHsgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5cdGZ1bmN0aW9uIGljb24obm9kZTogSFRNTEVsZW1lbnQsIGljb25OYW1lOiBzdHJpbmcpIHtcblx0XHRzZXRJY29uKG5vZGUsIGljb25OYW1lKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dXBkYXRlKG5ld0ljb25OYW1lOiBzdHJpbmcpIHtcblx0XHRcdFx0bm9kZS5lbXB0eSgpO1xuXHRcdFx0XHRzZXRJY29uKG5vZGUsIG5ld0ljb25OYW1lKTtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbihuYW1lOiBzdHJpbmcpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5zdGFydFNlc3Npb24obmFtZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzdGFydEN1c3RvbVNlc3Npb24oKSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSAkZHJhZnRNaW51dGVzICogNjAgKyAkZHJhZnRTZWNvbmRzO1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLnN0YXJ0U2Vzc2lvbigkZHJhZnROYW1lLCBkdXJhdGlvbik7XG5cdH1cblxuXHRmdW5jdGlvbiBzdG9wU2Vzc2lvbigpIHtcblx0XHQvLyAkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5zdG9wU2Vzc2lvbigpO1xuXHRcdC8vIFBhdXNlIGZpcnN0IHNvIHRpbWVyIHN0b3BzIHRpY2tpbmcgdmlzaWJseSB3aGlsZSB0aGV5IGRlY2lkZVxuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLnBhdXNlU2Vzc2lvbigpO1xuXHRcdG5ldyBTZXNzaW9uRW5kTW9kYWwoJHBsdWdpbiEuYXBwLCAkcGx1Z2luIS5zZXNzaW9uTWFuYWdlcikub3BlbigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGF1c2VTZXNzaW9uKCkge1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLnBhdXNlU2Vzc2lvbigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVzdW1lU2Vzc2lvbigpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5yZXN1bWVTZXNzaW9uKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUaW1lKG1pbnV0ZXM6IG51bWJlcikge1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLmFkZFRpbWUobWludXRlcyk7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZnMtY29udHJvbHNcIj5cblx0PGRpdiBjbGFzcz1cImZzLWNvbnRyb2xzLXJvd1wiPlxuXHRcdHsjaWYgJHNlc3Npb259XG5cdFx0XHR7I2lmICRzZXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIn1cblx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLXN0YXR1cy1tc2dcIj5TZXNzaW9uIENvbXBsZXRlZDwvZGl2PlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJGaW5pc2hcIiBvbjpjbGljaz17c3RvcFNlc3Npb259PlxuXHRcdFx0XHRcdDxkaXYgdXNlOmljb249e1wiY2hlY2tcIn0+PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtc2Vjb25kYXJ5XCIgYXJpYS1sYWJlbD1cIlN0b3AgU2Vzc2lvblwiIG9uOmNsaWNrPXtzdG9wU2Vzc2lvbn0+XG5cdFx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJzcXVhcmVcIn0+PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXG5cdFx0XHRcdHsjaWYgJHNlc3Npb24uc3RhdHVzID09PSBcInJ1bm5pbmdcIn1cblx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJQYXVzZVwiIG9uOmNsaWNrPXtwYXVzZVNlc3Npb259PlxuXHRcdFx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJwYXVzZVwifT48L2Rpdj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0ezplbHNlfVxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJmcy1jb250cm9sLWJ0biBmcy1wcmltYXJ5XCIgYXJpYS1sYWJlbD1cIlJlc3VtZVwiIG9uOmNsaWNrPXtyZXN1bWVTZXNzaW9ufT5cblx0XHRcdFx0XHRcdDxkaXYgdXNlOmljb249e1wicGxheVwifT48L2Rpdj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0ey9pZn1cblx0XHRcdHsvaWZ9XG5cdFx0ezplbHNlfVxuXHRcdFx0PCEtLSBJZGxlIFN0YXRlIC0tPlxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXNlY29uZGFyeSBmcy1zbWFsbFwiXG5cdFx0XHRcdGFyaWEtbGFiZWw9XCJTaG9ydCBCcmVha1wiXG5cdFx0XHRcdG9uOmNsaWNrPXsoKSA9PiBzdGFydFNlc3Npb24oXCJTaG9ydCBCcmVha1wiKX1cblx0XHRcdD5cblx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJjb2ZmZWVcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXByaW1hcnkgZnMtbGFyZ2VcIiBhcmlhLWxhYmVsPVwiU3RhcnQgU2Vzc2lvblwiIG9uOmNsaWNrPXtzdGFydEN1c3RvbVNlc3Npb259PlxuXHRcdFx0XHQ8ZGl2IHVzZTppY29uPXtcInBsYXlcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXNlY29uZGFyeSBmcy1zbWFsbFwiXG5cdFx0XHRcdGFyaWEtbGFiZWw9XCJMb25nIEJyZWFrXCJcblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHN0YXJ0U2Vzc2lvbihcIkxvbmcgQnJlYWtcIil9XG5cdFx0XHQ+XG5cdFx0XHRcdDxkaXYgdXNlOmljb249e1wiYXJtY2hhaXJcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cblxuXHQ8IS0tIEFjdGl2ZSBTZXNzaW9uIENvbnRyb2xzIChBZGQgVGltZSkgLS0+XG5cdHsjaWYgJHNlc3Npb24gJiYgKCRzZXNzaW9uLnN0YXR1cyA9PT0gXCJydW5uaW5nXCIgfHwgJHNlc3Npb24uc3RhdHVzID09PSBcInBhdXNlZFwiKX1cblx0XHQ8ZGl2IGNsYXNzPVwiZnMtY29udHJvbHMtcm93IGZzLW10LTJcIj5cblx0XHRcdDxidXR0b24gY2xhc3M9XCJmcy1jb250cm9sLXRleHQtYnRuXCIgb246Y2xpY2s9eygpID0+IGFkZFRpbWUoMC41KX0+KzMwczwvYnV0dG9uPlxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cImZzLWNvbnRyb2wtdGV4dC1idG5cIiBvbjpjbGljaz17KCkgPT4gYWRkVGltZSgxKX0+KzFtPC9idXR0b24+XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC10ZXh0LWJ0blwiIG9uOmNsaWNrPXsoKSA9PiBhZGRUaW1lKDUpfT4rNW08L2J1dHRvbj5cblx0XHQ8L2Rpdj5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5mcy1jb250cm9scyB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Z2FwOiAxcmVtO1xuXHR9XG5cblx0LmZzLWNvbnRyb2xzLXJvdyB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRnYXA6IDFyZW07XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0fVxuXG5cdC5mcy1tdC0yIHtcblx0XHRtYXJnaW4tdG9wOiAwLjVyZW07XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG4ge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHR3aWR0aDogNDBweDtcblx0XHRoZWlnaHQ6IDQwcHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogNTAlO1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHRcdHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcblx0XHRwYWRkaW5nOiAwO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtYnRuLmZzLWxhcmdlIHtcblx0XHR3aWR0aDogNTZweDtcblx0XHRoZWlnaHQ6IDU2cHg7XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG4uZnMtc21hbGwge1xuXHRcdHdpZHRoOiAzMnB4O1xuXHRcdGhlaWdodDogMzJweDtcblx0XHRvcGFjaXR5OiAwLjg7XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG46aG92ZXIge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtcblx0XHRvcGFjaXR5OiAxO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtYnRuLmZzLXByaW1hcnkge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcblx0fVxuXG5cdC5mcy1jb250cm9sLWJ0bi5mcy1wcmltYXJ5OmhvdmVyIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtdGV4dC1idG4ge1xuXHRcdGJhY2tncm91bmQ6IG5vbmU7XG5cdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdHBhZGRpbmc6IDRweCA4cHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRmb250LXNpemU6IDAuOGVtO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0fVxuXG5cdC5mcy1jb250cm9sLXRleHQtYnRuOmhvdmVyIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHR9XG5cblx0LmZzLXN0YXR1cy1tc2cge1xuXHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LXN1Y2Nlc3MpO1xuXHRcdG1hcmdpbi1yaWdodDogMXJlbTtcblx0fVxuPC9zdHlsZT5cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBwbHVnaW4gfSBmcm9tIFwiLi4vc3RvcmVzXCI7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInNlc3Npb24tZm9vdGVyXCI+XG5cdDxzbWFsbD52eyRwbHVnaW4/Lm1hbmlmZXN0LnZlcnNpb259PC9zbWFsbD5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5zZXNzaW9uLWZvb3RlciB7XG5cdFx0bWFyZ2luLXRvcDogYXV0bztcblx0XHRwYWRkaW5nLXRvcDogMXJlbTtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuXHRcdGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdH1cbjwvc3R5bGU+XG4iLCAiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uRGV0YWlsc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwcml2YXRlIHNlc3Npb25EYXRhOiBhbnk7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHNlc3Npb25EYXRhOiBhbnkpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoXCJzZXNzaW9uLWRldGFpbHMtbW9kYWxcIik7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlNlc3Npb24gZGV0YWlsc1wiIH0pO1xuXG5cdFx0Y29uc3QgcHJlID0gY29udGVudEVsLmNyZWF0ZUVsKFwicHJlXCIpO1xuXHRcdHByZS5jcmVhdGVFbChcImNvZGVcIiwge1xuXHRcdFx0dGV4dDogSlNPTi5zdHJpbmdpZnkodGhpcy5zZXNzaW9uRGF0YSwgbnVsbCwgMiksXG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgcGx1Z2luIH0gZnJvbSBcIi4uL3N0b3Jlc1wiO1xuXHRpbXBvcnQgeyBTZXNzaW9uRGV0YWlsc01vZGFsIH0gZnJvbSBcIi4uL3Nlc3Npb24tZGV0YWlscy1tb2RhbFwiO1xuXHRpbXBvcnQgeyBzZXRJY29uIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cdGltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5cblx0Ly8gRGVmaW5lIGludGVyZmFjZSBmb3Igd2hhdCBzcGVjaWZpYyBmaWVsZHMgd2UgZXhwZWN0IGZyb20gSHViIGhpc3Rvcnlcblx0Ly8gSHViIHJldHVybnMgcmF3IG9iamVjdHMuIFVzdWFsbHkgeyBpZCwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGNvbmZpZzogeyBuYW1lLCBkdXJhdGlvbk1pbnV0ZXMgfSwgLi4uIH1cblx0Ly8gQmFzZWQgb24gU2Vzc2lvbk1hbmFnZXIgb2YgSHViOlxuXHQvLyBzZXNzaW9uIG9iamVjdCBoYXM6IGlkLCBzdGFydCwgZW5kLCBjb25maWcsIG1ldGFkYXRhLiAvLyBXYWl0LCBTdGVwIDE5IChBY3Rpdml0eUxvZ2dlcikgZ2V0UmVjZW50U2Vzc2lvbnMgcmV0dXJuczogeyBpZCwgc3RhcnQsIGVuZCwgLi4uIH1cblx0Ly8gQW5kIGl0IHNlZW1zIEFjdGl2aXR5TG9nZ2VyIGRvZXNuJ3Qgc3RvcmUgJ2NvbmZpZycgaW4gdGhlIGxpZ2h0d2VpZ2h0IHNlc3Npb24gbWFwIGluIGdldFJlY2VudFNlc3Npb25zP1xuXHQvLyBMZXQncyBjaGVjayBBY3Rpdml0eUxvZ2dlci50cyBnZXRSZWNlbnRTZXNzaW9ucyBhZ2FpbiAoU3RlcCAxOSkuXG5cdC8qXG4gICAgcHVibGljIGFzeW5jIGdldFJlY2VudFNlc3Npb25zKGRheXM6IG51bWJlciA9IDcpOiBQcm9taXNlPGFueVtdPiB7XG5cdFx0Y29uc3Qgc2Vzc2lvbnM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIC4uLlxuICAgICAgICAvLyBsb2dzLnR5cGUgPT09IFwic2Vzc2lvbl9zdGFydFwiIC0+IHNlc3Npb25zLnNldChpZCwgeyAuLi5leGlzdGluZywgaWQsIHN0YXJ0OiBsb2cudGltZXN0YW1wIH0pXG4gICAgICAgIC8vIEl0IGRvZXNuJ3Qgc2VlbSB0byBtZXJnZSB0aGUgZnVsbCBsb2cgZXZlbnQgcGF5bG9hZCAod2hpY2ggY29udGFpbnMgY29uZmlnKSBpbnRvIHRoZSBzZXNzaW9uIG9iamVjdCFcbiAgICAgICAgLy8gSXQgb25seSBzZXRzIHN0YXJ0L2VuZC9pZC5cbiAgICAqL1xuXG5cdC8vIEFoLCBBY3Rpdml0eUxvZ2dlci50cyBsaW5lIDE2OTpcblx0Ly8gc2Vzc2lvbnMuc2V0KGxvZy5zZXNzaW9uSWQsIHsgLi4uZXhpc3RpbmcsIGlkOiBsb2cuc2Vzc2lvbklkLCBzdGFydDogbG9nLnRpbWVzdGFtcCB9KTtcblx0Ly8gVGhpcyBMT1NFUyB0aGUgYGNvbmZpZ2AgYW5kIGBtZXRhZGF0YWAgZnJvbSB0aGUgbG9nIGV2ZW50IVxuXHQvLyBJIG5lZWQgdG8gZml4IEh1YidzIEFjdGl2aXR5TG9nZ2VyIHRvIGluY2x1ZGUgdGhlIGNvbmZpZyBkYXRhIGlmIEkgd2FudCB0byBkaXNwbGF5IHRoZSBOYW1lLlxuXHQvLyBPUiBJIGNhbiB1c2UgZ2V0U2Vzc2lvbkNvbnRleHQoaWQpIGZvciBlYWNoIHNlc3Npb24sIGJ1dCB0aGF0IGlzIGhlYXZ5LlxuXG5cdC8vIE5PVEU6IFRoaXMgcmV2ZWFscyBhIFwiYnVnXCIgb3IgbWlzc2luZyBmZWF0dXJlIGluIE9ic2lkaWFuIEh1YidzIGdldFJlY2VudFNlc3Npb25zLlxuXHQvLyBJIHNob3VsZCBjaGVjayBpZiBJIGNhbiBtb2RpZnkgSHViIEFjdGl2aXR5TG9nZ2VyIHRvIGluY2x1ZGUgbW9yZSBkYXRhLlxuXHQvLyBZZXMsIEkgaGF2ZSBhY2Nlc3MgdG8gbW9kaWZ5IEh1YiBjb2RlLlxuXG5cdC8vIExldCdzIG1vZGlmeSBIdWIgQWN0aXZpdHlMb2dnZXIgZmlyc3QgdG8gaW5jbHVkZSB0aGUgZGF0YS5cblxuXHRsZXQgaGlzdG9yeTogYW55W10gPSBbXTtcblxuXHQvLyBXZSB3aWxsIHdhaXQgZm9yIHRoZSBIdWIgZml4LiBCdXQgbGV0J3MgYXNzdW1lIHdlIGNhbiBnZXQ6XG5cdC8vIHsgaWQsIHN0YXJ0LCBlbmQsIGNvbmZpZzogeyBuYW1lLCBkdXJhdGlvbk1pbnV0ZXMgfSB9XG5cblx0JDogc2Vzc2lvbk1hbmFnZXIgPSAkcGx1Z2luPy5zZXNzaW9uTWFuYWdlcjtcblxuXHRhc3luYyBmdW5jdGlvbiBsb2FkSGlzdG9yeSgpIHtcblx0XHRpZiAoc2Vzc2lvbk1hbmFnZXIpIHtcblx0XHRcdGhpc3RvcnkgPSBhd2FpdCBzZXNzaW9uTWFuYWdlci5nZXRTZXNzaW9uSGlzdG9yeSgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJlbG9hZCB3aGVuIHNlc3Npb24gbWFuYWdlciBpcyBhdmFpbGFibGUgb3IgY2hhbmdlc1xuXHQkOiBpZiAoc2Vzc2lvbk1hbmFnZXIpIHtcblx0XHRsb2FkSGlzdG9yeSgpO1xuXG5cdFx0Ly8gQWxzbyBob29rIGludG8gc2Vzc2lvbiBjb21wbGV0aW9uIHRvIHJlZnJlc2hcblx0XHRzZXNzaW9uTWFuYWdlci5vblNlc3Npb25Db21wbGV0ZSgoKSA9PiB7XG5cdFx0XHRzZXRUaW1lb3V0KGxvYWRIaXN0b3J5LCA1MDApO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gb3BlbkRldGFpbHMoc2Vzc2lvbjogYW55KSB7XG5cdFx0bmV3IFNlc3Npb25EZXRhaWxzTW9kYWwoJHBsdWdpbiEuYXBwLCBzZXNzaW9uKS5vcGVuKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBmb3JtYXRUaW1lKHRzOiBudW1iZXIpIHtcblx0XHRyZXR1cm4gbmV3IERhdGUodHMpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiBcIjItZGlnaXRcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZvcm1hdER1cmF0aW9uKHNlc3Npb246IGFueSkge1xuXHRcdGlmIChzZXNzaW9uLmVuZCAmJiBzZXNzaW9uLnN0YXJ0KSB7XG5cdFx0XHRjb25zdCBkaWZmTXMgPSBzZXNzaW9uLmVuZCAtIHNlc3Npb24uc3RhcnQ7XG5cdFx0XHRjb25zdCBtaW51dGVzID0gTWF0aC5yb3VuZChkaWZmTXMgLyAxMDAwIC8gNjApO1xuXHRcdFx0cmV0dXJuIGAke21pbnV0ZXN9bWA7XG5cdFx0fVxuXHRcdHJldHVybiBgJHtzZXNzaW9uLmNvbmZpZz8uZHVyYXRpb25NaW51dGVzIHx8IFwiP1wifW1gO1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImZzLWhpc3RvcnlcIj5cblx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktaGVhZGVyXCI+UmVjZW50IFNlc3Npb25zPC9kaXY+XG5cblx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktbGlzdFwiPlxuXHRcdHsjZWFjaCBoaXN0b3J5IGFzIHNlc3Npb259XG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGNsYXNzPVwiZnMtaGlzdG9yeS1pdGVtXCJcblx0XHRcdFx0cm9sZT1cImJ1dHRvblwiXG5cdFx0XHRcdHRhYmluZGV4PVwiMFwiXG5cdFx0XHRcdG9uOmNsaWNrPXsoKSA9PiBvcGVuRGV0YWlscyhzZXNzaW9uKX1cblx0XHRcdFx0b246a2V5ZG93bj17KGUpID0+IChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIiBcIikgJiYgb3BlbkRldGFpbHMoc2Vzc2lvbil9XG5cdFx0XHQ+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJmcy1oaXN0b3J5LWljb25cIj5cblx0XHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0XHRjbGFzcz1cImZzLXN0YXR1cy1kb3Qtc21cIlxuXHRcdFx0XHRcdFx0c3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB7c2Vzc2lvbi5lbmQgPyAndmFyKC0tdGV4dC1tdXRlZCknIDogJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknfVwiXG5cdFx0XHRcdFx0PjwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktaW5mb1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmcy1oaXN0b3J5LW5hbWVcIj57c2Vzc2lvbi5jb25maWc/Lm5hbWUgfHwgXCJVbnRpdGxlZCBTZXNzaW9uXCJ9PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktbWV0YVwiPlxuXHRcdFx0XHRcdFx0e2Zvcm1hdFRpbWUoc2Vzc2lvbi5zdGFydCl9IOKAoiB7Zm9ybWF0RHVyYXRpb24oc2Vzc2lvbil9XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0ezplbHNlfVxuXHRcdFx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktZW1wdHlcIj5ObyByZWNlbnQgc2Vzc2lvbnMgZm91bmQ8L2Rpdj5cblx0XHR7L2VhY2h9XG5cdDwvZGl2PlxuPC9kaXY+XG5cbjxzdHlsZT5cblx0LmZzLWhpc3Rvcnkge1xuXHRcdG1hcmdpbi10b3A6IDI0cHg7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRwYWRkaW5nLXRvcDogMTZweDtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWhlYWRlciB7XG5cdFx0Zm9udC1zaXplOiAxMnB4O1xuXHRcdGZvbnQtd2VpZ2h0OiA2MDA7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdGxldHRlci1zcGFjaW5nOiAwLjVweDtcblx0XHRtYXJnaW4tYm90dG9tOiAxMnB4O1xuXHRcdHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1saXN0IHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdFx0Z2FwOiA4cHg7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1pdGVtIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Z2FwOiAxMnB4O1xuXHRcdHBhZGRpbmc6IDhweCAxMnB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDhweDtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuXHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0dHJhbnNpdGlvbjogYWxsIDAuMnM7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1pdGVtOmhvdmVyIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcblx0XHRib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1pY29uIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1pbmZvIHtcblx0XHRmbGV4OiAxO1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRnYXA6IDJweDtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LW5hbWUge1xuXHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRmb250LXdlaWdodDogNTAwO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1tZXRhIHtcblx0XHRmb250LXNpemU6IDExcHg7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHR9XG5cblx0LmZzLWhpc3RvcnktZW1wdHkge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdHBhZGRpbmc6IDE2cHg7XG5cdH1cbjwvc3R5bGU+XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IFNlc3Npb25IZWFkZXIgZnJvbSBcIi4vY29tcG9uZW50cy9TZXNzaW9uSGVhZGVyLnN2ZWx0ZVwiO1xuXHRpbXBvcnQgU2Vzc2lvblRpbWVyIGZyb20gXCIuL2NvbXBvbmVudHMvU2Vzc2lvblRpbWVyLnN2ZWx0ZVwiO1xuXHRpbXBvcnQgU2Vzc2lvbkNvbnRyb2xzIGZyb20gXCIuL2NvbXBvbmVudHMvU2Vzc2lvbkNvbnRyb2xzLnN2ZWx0ZVwiO1xuXHRpbXBvcnQgU2Vzc2lvbkZvb3RlciBmcm9tIFwiLi9jb21wb25lbnRzL1Nlc3Npb25Gb290ZXIuc3ZlbHRlXCI7XG5cdGltcG9ydCBTZXNzaW9uSGlzdG9yeSBmcm9tIFwiLi9jb21wb25lbnRzL1Nlc3Npb25IaXN0b3J5LnN2ZWx0ZVwiO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJmb2N1cy1zZXNzaW9uLWNvbnRhaW5lclwiPlxuXHQ8U2Vzc2lvbkhlYWRlciAvPlxuXHQ8U2Vzc2lvblRpbWVyIC8+XG5cdDxTZXNzaW9uQ29udHJvbHMgLz5cblx0PFNlc3Npb25IaXN0b3J5IC8+XG5cdDxTZXNzaW9uRm9vdGVyIC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuXHQuZm9jdXMtc2Vzc2lvbi1jb250YWluZXIge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0cGFkZGluZzogMXJlbTtcblx0fVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBtb3VudCwgdW5tb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbmltcG9ydCBTZXNzaW9uTW9kYWxDb21wb25lbnQgZnJvbSBcIi4vU2Vzc2lvbk1vZGFsLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgU2Vzc2lvbk1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRjb21wb25lbnQ6IFJldHVyblR5cGU8dHlwZW9mIG1vdW50PiB8IG51bGwgPSBudWxsO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuXHRcdHRoaXMuY29tcG9uZW50ID0gbW91bnQoU2Vzc2lvbk1vZGFsQ29tcG9uZW50IGFzIGFueSwge1xuXHRcdFx0dGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKCksXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRpZiAodGhpcy5jb21wb25lbnQpIHtcblx0XHRcdHZvaWQgdW5tb3VudCh0aGlzLmNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHRoaXMuY29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBzZXNzaW9uLCB0aW1lUmVtYWluaW5nLCBwbHVnaW4gfSBmcm9tIFwiLi9zdG9yZXNcIjtcblx0aW1wb3J0IHsgZm9ybWF0RHVyYXRpb24gfSBmcm9tIFwiQC91dGlscy90aW1lLXV0aWxzXCI7XG5cblx0bGV0IHsgY2xvc2UgfSA9ICRwcm9wcygpO1xuXG5cdGZ1bmN0aW9uIHN0b3AoKSB7XG5cdFx0JHBsdWdpbj8uc2Vzc2lvbk1hbmFnZXIuc3RvcFNlc3Npb24oKTtcblx0XHRjbG9zZSgpO1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInNlc3Npb24tbW9kYWwtY29udGVudFwiPlxuXHR7I2lmICRzZXNzaW9ufVxuXHRcdDxoMj57JHNlc3Npb24ubmFtZX08L2gyPlxuXHRcdDxkaXYgY2xhc3M9XCJzdGF0c1wiPlxuXHRcdFx0PHA+RHVyYXRpb246IHtmb3JtYXREdXJhdGlvbigkc2Vzc2lvbi5kdXJhdGlvbil9PC9wPlxuXHRcdFx0PHA+VGltZSByZW1haW5pbmc6IHtmb3JtYXREdXJhdGlvbigkdGltZVJlbWFpbmluZyl9PC9wPlxuXHRcdDwvZGl2PlxuXHRcdDxidXR0b24gY2xhc3M9XCJtb2Qtd2FybmluZ1wiIG9uY2xpY2s9e3N0b3B9PlN0b3Agc2Vzc2lvbjwvYnV0dG9uPlxuXHR7OmVsc2V9XG5cdFx0PGgyPk5vIGFjdGl2ZSBzZXNzaW9uPC9oMj5cblx0XHQ8cD5HbyB0byB0aGUgc2lkZSBwYW5lbCB0byBzdGFydCBhIG5ldyBzZXNzaW9uLjwvcD5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5zZXNzaW9uLW1vZGFsLWNvbnRlbnQge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRwYWRkaW5nOiAxcmVtO1xuXHR9XG5cblx0LnN0YXRzIHtcblx0XHRtYXJnaW46IDEuNXJlbSAwO1xuXHRcdGZvbnQtc2l6ZTogMS4xZW07XG5cdH1cblxuXHRidXR0b24ge1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuPC9zdHlsZT5cbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBtb3VudCwgdW5tb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbmltcG9ydCBUZXN0U3ZlbHRlTW9kYWwgZnJvbSBcIi4vY29tcG9uZW50cy9UZXN0U3ZlbHRlTW9kYWwuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjbGFzcyBTdmVsdGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0Y29tcG9uZW50OiBSZXR1cm5UeXBlPHR5cGVvZiBtb3VudD4gfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuXHRcdHRoaXMuY29tcG9uZW50ID0gbW91bnQoVGVzdFN2ZWx0ZU1vZGFsIGFzIGFueSwge1xuXHRcdFx0dGFyZ2V0OiBjb250ZW50RWwsXG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRhcHA6IHRoaXMuYXBwLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0aWYgKHRoaXMuY29tcG9uZW50KSB7XG5cdFx0XHR2b2lkIHVubW91bnQodGhpcy5jb21wb25lbnQpO1xuXHRcdH1cblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5cdGltcG9ydCB7IEFwcCwgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblx0bGV0IHsgYXBwIH06IHsgYXBwOiBBcHAgfSA9ICRwcm9wcygpO1xuXG5cdGxldCBjb3VudCA9ICRzdGF0ZSgwKTtcblx0bGV0IG1lc3NhZ2UgPSBcIkhlbGxvIFN2ZWx0ZSA1IVwiO1xuXG5cdGZ1bmN0aW9uIGluY3JlbWVudCgpIHtcblx0XHRjb3VudCArPSAxO1xuXHRcdG5ldyBOb3RpY2UoYENvdW50IGlzIG5vdyAke2NvdW50fWApO1xuXHR9XG5cblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coXCJTdmVsdGUgNSBjb21wb25lbnQgbW91bnRlZCBpbiBhcHA6XCIsIGFwcCk7XG5cdH0pO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJzdmVsdGUtbW9kYWwtY29udGVudFwiPlxuXHQ8aDI+e21lc3NhZ2V9PC9oMj5cblx0PHA+VGhpcyBpcyBhIHJlYWN0aXZlIFN2ZWx0ZSA1IGNvbXBvbmVudCB1c2luZyBSdW5lcy48L3A+XG5cblx0PGRpdiBjbGFzcz1cImNvdW50ZXItc2VjdGlvblwiPlxuXHRcdDxwPkNvdW50OiA8c3Ryb25nPntjb3VudH08L3N0cm9uZz48L3A+XG5cdFx0PGJ1dHRvbiBvbmNsaWNrPXtpbmNyZW1lbnR9PkluY3JlbWVudDwvYnV0dG9uPlxuXHQ8L2Rpdj5cblxuXHQ8c3R5bGU+XG5cdFx0LnN2ZWx0ZS1tb2RhbC1jb250ZW50IHtcblx0XHRcdHBhZGRpbmc6IDFyZW07XG5cdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0fVxuXHRcdC5jb3VudGVyLXNlY3Rpb24ge1xuXHRcdFx0bWFyZ2luLXRvcDogMnJlbTtcblx0XHRcdHBhZGRpbmc6IDFyZW07XG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA4cHg7XG5cdFx0fVxuXHRcdGJ1dHRvbiB7XG5cdFx0XHRtYXJnaW4tdG9wOiAxcmVtO1xuXHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdH1cblx0PC9zdHlsZT5cbjwvZGl2PlxuIiwgImV4cG9ydCBpbnRlcmZhY2UgRm9jdXNTZXNzaW9uU2V0dGluZ3Mge1xuXHRmb2N1c0R1cmF0aW9uOiBudW1iZXI7XG5cdHNob3J0QnJlYWtEdXJhdGlvbjogbnVtYmVyO1xuXHRsb25nQnJlYWtEdXJhdGlvbjogbnVtYmVyO1xuXHRlbmFibGVTb3VuZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEZvY3VzU2Vzc2lvblNldHRpbmdzID0ge1xuXHRmb2N1c0R1cmF0aW9uOiAyNSxcblx0c2hvcnRCcmVha0R1cmF0aW9uOiA1LFxuXHRsb25nQnJlYWtEdXJhdGlvbjogMTUsXG5cdGVuYWJsZVNvdW5kOiB0cnVlLFxufTtcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBGb2N1c1Nlc3Npb25zUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBGb2N1c1Nlc3Npb25TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogRm9jdXNTZXNzaW9uc1BsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBGb2N1c1Nlc3Npb25zUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJGb2N1cyBkdXJhdGlvbiAobWludXRlcylcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIGxlbmd0aCBvZiBhIGZvY3VzIHNlc3Npb24uXCIpXG5cdFx0XHQuYWRkU2xpZGVyKChzbGlkZXIpID0+XG5cdFx0XHRcdHNsaWRlclxuXHRcdFx0XHRcdC5zZXRMaW1pdHMoMSwgMTIwLCAxKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2N1c0R1cmF0aW9uKVxuXHRcdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNEdXJhdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlNob3J0IGJyZWFrIGR1cmF0aW9uIChtaW51dGVzKVwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgbGVuZ3RoIG9mIGEgc2hvcnQgYnJlYWsuXCIpXG5cdFx0XHQuYWRkU2xpZGVyKChzbGlkZXIpID0+XG5cdFx0XHRcdHNsaWRlclxuXHRcdFx0XHRcdC5zZXRMaW1pdHMoMSwgMzAsIDEpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3J0QnJlYWtEdXJhdGlvbilcblx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3J0QnJlYWtEdXJhdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkxvbmcgYnJlYWsgZHVyYXRpb24gKG1pbnV0ZXMpXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBsZW5ndGggb2YgYSBsb25nIGJyZWFrLlwiKVxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDEsIDYwLCAxKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb25nQnJlYWtEdXJhdGlvbilcblx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxvbmdCcmVha0R1cmF0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW50ZXJmYWNlIEh1YkFwaSB7XG5cdHNlc3Npb25zOiB7XG5cdFx0c3RhcnRTZXNzaW9uKGNvbmZpZzoge1xuXHRcdFx0ZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG5cdFx0XHRkdXJhdGlvblNlY29uZHM/OiBudW1iZXI7XG5cdFx0XHRuYW1lPzogc3RyaW5nO1xuXHRcdFx0bWV0YWRhdGE/OiBhbnk7XG5cdFx0fSk6IFByb21pc2U8c3RyaW5nPjtcblx0XHRlbmRTZXNzaW9uKG1ldGFkYXRhPzogYW55KTogUHJvbWlzZTxhbnk+O1xuXHRcdGlzQWN0aXZlKCk6IGJvb2xlYW47XG5cdFx0Z2V0QWN0aXZlU2Vzc2lvbklkKCk6IHN0cmluZyB8IG51bGw7XG5cdFx0Z2V0QWN0aXZlU2Vzc2lvbkNvbnRleHQoKTogUHJvbWlzZTxhbnk+O1xuXHRcdGdldFNlc3Npb25IaXN0b3J5KGRheXM/OiBudW1iZXIpOiBQcm9taXNlPGFueVtdPjtcblx0XHRnZXRTZXNzaW9uQ29udGV4dChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8YW55Pjtcblx0fTtcbn1cblxuZXhwb3J0IGNsYXNzIEh1YlNlcnZpY2Uge1xuXHRwcml2YXRlIGFwcDogQXBwO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0dGhpcy5hcHAgPSBhcHA7XG5cdH1cblxuXHRwcml2YXRlIGdldEFwaSgpOiBIdWJBcGkgfCBudWxsIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwib2JzaWRpYW4taHViLXBsdWdpblwiKT8uYXBpO1xuXHR9XG5cblx0cHVibGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhIXRoaXMuZ2V0QXBpKCk7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgc3RhcnRTZXNzaW9uKG5hbWU6IHN0cmluZywgZHVyYXRpb25NaW51dGVzOiBudW1iZXIsIGR1cmF0aW9uU2Vjb25kcz86IG51bWJlcik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGFwaSA9IHRoaXMuZ2V0QXBpKCk7XG5cdFx0aWYgKCFhcGkpIHJldHVybiBudWxsO1xuXHRcdHJldHVybiBhd2FpdCBhcGkuc2Vzc2lvbnMuc3RhcnRTZXNzaW9uKHtcblx0XHRcdGR1cmF0aW9uTWludXRlcyxcblx0XHRcdGR1cmF0aW9uU2Vjb25kczogZHVyYXRpb25TZWNvbmRzID8/IGR1cmF0aW9uTWludXRlcyAqIDYwLFxuXHRcdFx0bmFtZSxcblx0XHRcdG1ldGFkYXRhOiB7IHNvdXJjZTogXCJvYnNpZGlhbi1mb2N1cy1zZXNzaW9uc1wiIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZW5kU2Vzc2lvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBhcGkgPSB0aGlzLmdldEFwaSgpO1xuXHRcdGlmICghYXBpKSByZXR1cm47XG5cdFx0YXdhaXQgYXBpLnNlc3Npb25zLmVuZFNlc3Npb24oKTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBnZXRBY3RpdmVTZXNzaW9uKCk6IFByb21pc2U8eyBpZDogc3RyaW5nOyBzdGFydFRpbWU6IG51bWJlcjsgZHVyYXRpb246IG51bWJlcjsgbmFtZTogc3RyaW5nIH0gfCBudWxsPiB7XG5cdFx0Y29uc3QgYXBpID0gdGhpcy5nZXRBcGkoKTtcblx0XHRpZiAoIWFwaSkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyBUaGlzIG1ldGhvZCB3YXMgYSBwbGFjZWhvbGRlciBhbnl3YXksIGxldCdzIGxlYXZlIGl0IG51bGwgZm9yIG5vdyBvciBpbXBsZW1lbnQgaWYgbmVlZGVkXG5cdFx0Ly8gVGhlIHJlc3RvcmUgbG9naWMgdXNlcyBhc3luY1JlY292ZXJBY3RpdmVTZXNzaW9uIGJlbG93LlxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gV2UgbmVlZCBhIHNwZWNpZmljIG1ldGhvZCB0byByZWNvdmVyIHNlc3Npb24gc3RhdGVcblx0cHVibGljIGFzeW5jIGFzeW5jUmVjb3ZlckFjdGl2ZVNlc3Npb24oKTogUHJvbWlzZTx7XG5cdFx0aWQ6IHN0cmluZztcblx0XHRzdGFydFRpbWU6IG51bWJlcjtcblx0XHRkdXJhdGlvbjogbnVtYmVyO1xuXHRcdG5hbWU6IHN0cmluZztcblx0fSB8IG51bGw+IHtcblx0XHRjb25zdCBhcGkgPSB0aGlzLmdldEFwaSgpO1xuXHRcdGlmICghYXBpKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IGh1YlBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKFwib2JzaWRpYW4taHViLXBsdWdpblwiKTtcblx0XHRpZiAoaHViUGx1Z2luICYmIGh1YlBsdWdpbi5zZXR0aW5ncz8uYWN0aXZlU2Vzc2lvbikge1xuXHRcdFx0Y29uc3QgcyA9IGh1YlBsdWdpbi5zZXR0aW5ncy5hY3RpdmVTZXNzaW9uO1xuXHRcdFx0Y29uc3QgZHVyYXRpb25TZWNvbmRzID0gcy5jb25maWcuZHVyYXRpb25TZWNvbmRzID8/IHMuY29uZmlnLmR1cmF0aW9uTWludXRlcyAqIDYwO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQ6IHMuaWQsXG5cdFx0XHRcdHN0YXJ0VGltZTogcy5zdGFydFRpbWUsXG5cdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvblNlY29uZHMgLyA2MCwgLy8gUmV0dXJuIG1pbnV0ZXMgZm9yIGNvbXBhdGliaWxpdHkgb3IgdXBkYXRlIHJldHVybiB0eXBlPz9cblx0XHRcdFx0Ly8gV2FpdCwgdGhlIHJldHVybiB0eXBlIG9mIGFzeW5jUmVjb3ZlckFjdGl2ZVNlc3Npb24gaXMganVzdCBhbiBvYmplY3QuXG5cdFx0XHRcdC8vIFNlc3Npb25NYW5hZ2VyIGV4cGVjdHMgZHVyYXRpb24gaW4gbWludXRlcyB1c3VhbGx5P1xuXHRcdFx0XHQvLyBMZXQncyBjaGVjayBTZXNzaW9uTWFuYWdlci50cyBhZ2Fpbi5cblx0XHRcdFx0Ly8gU2Vzc2lvbk1hbmFnZXIudHMgbGluZXMgNTUtNjI6XG5cdFx0XHRcdC8vIGR1cmF0aW9uOiBodWJTZXNzaW9uLmR1cmF0aW9uICogNjBcblx0XHRcdFx0Ly8gU28gaHViU2Vzc2lvbi5kdXJhdGlvbiBJUyBFWFBFQ1RFRCBUTyBCRSBNSU5VVEVTIHRoZXJlIGN1cnJlbnRseS5cblx0XHRcdFx0Ly8gQlVUIEkgd2FudCBwcmVjaXNlIGR1cmF0aW9uLlxuXHRcdFx0XHQvLyBTbyBJIHNob3VsZCByZXR1cm4gc2Vjb25kcyBoZXJlIGFuZCB1cGRhdGUgU2Vzc2lvbk1hbmFnZXIgdG8gdHJlYXQgaXQgYXMgc2Vjb25kcz9cblx0XHRcdFx0Ly8gT1IgSSBzaG91bGQgY2hhbmdlIHRoaXMgcmV0dXJuIHR5cGUgdG8gcmV0dXJuIGV4cGxpY2l0IHNlY29uZHMuXG5cdFx0XHRcdC8vIExldCdzIHN0aWNrIHRvIHJldHVybmluZyBcImR1cmF0aW9uXCIgYXMgdGhlIHByaW1hcnkgdmFsdWUsIGJ1dCBtYXliZSBtYWtlIGl0IHNlY29uZHM/XG5cdFx0XHRcdC8vIEJlIGNhcmVmdWwuIFNlc3Npb25NYW5hZ2VyIGxpbmVzOlxuXHRcdFx0XHQvLyBkdXJhdGlvbjogaHViU2Vzc2lvbi5kdXJhdGlvbiAqIDYwLFxuXHRcdFx0XHQvLyBJRiBJIHJldHVybiBzZWNvbmRzIGhlcmUsIEkgbmVlZCB0byByZW1vdmUgKiA2MCBpbiBTZXNzaW9uTWFuYWdlci5cblx0XHRcdFx0bmFtZTogcy5jb25maWcubmFtZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZ2V0UmVjZW50U2Vzc2lvbnMobGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxhbnlbXT4ge1xuXHRcdGNvbnN0IGFwaSA9IHRoaXMuZ2V0QXBpKCk7XG5cdFx0aWYgKCFhcGkpIHJldHVybiBbXTtcblx0XHRjb25zdCBzZXNzaW9ucyA9IGF3YWl0IGFwaS5zZXNzaW9ucy5nZXRTZXNzaW9uSGlzdG9yeSg3KTsgLy8gQVBJIGRlZmF1bHRzIHRvIGRheXMsIGxldCdzIHNheSA3IGRheXMgaXMgZW5vdWdoIGZvciByZWNlbnQgbGlzdD9cblx0XHQvLyBPciB3ZSBtaWdodCB3YW50IHRvIGFzayBmb3IgbW9yZSBkYXlzIGlmIHdlIHdhbnQgMTAgaXRlbXMuXG5cdFx0Ly8gVGhlIEFQSSBzaWduYXR1cmUgc2F3IGVhcmxpZXIgd2FzIGdldFNlc3Npb25IaXN0b3J5KGRheXMpLlxuXG5cdFx0Ly8gTGV0J3MgcmV0dXJuIHRoZSBzbGljZS5cblx0XHRyZXR1cm4gc2Vzc2lvbnMuc2xpY2UoMCwgbGltaXQpO1xuXHR9XG5cblx0cHVibGljIGFzeW5jIGdldFNlc3Npb25Db250ZXh0KHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBhcGkgPSB0aGlzLmdldEFwaSgpO1xuXHRcdGlmICghYXBpKSByZXR1cm4gbnVsbDtcblx0XHRyZXR1cm4gYXdhaXQgYXBpLnNlc3Npb25zLmdldFNlc3Npb25Db250ZXh0KHNlc3Npb25JZCk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUEsaUJBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFDLG9CQUFzQzs7O0FDQS9CLElBQU0sZUFBTixNQUFtQjtBQUFBLEVBSXpCLFlBQVksVUFBbUIsTUFBTTtBQUhyQyxTQUFRLGVBQW9DO0FBQzVDLFNBQVEsVUFBbUI7QUFvQjNCLFNBQVEsb0JBQXNDLENBQUM7QUFDL0MsU0FBUSxlQUE4QjtBQWxCckMsU0FBSyxVQUFVO0FBQUEsRUFJaEI7QUFBQSxFQUVBLFdBQVcsU0FBa0I7QUFDNUIsU0FBSyxVQUFVO0FBQUEsRUFDaEI7QUFBQSxFQUVRLGFBQTJCO0FBQ2xDLFFBQUksQ0FBQyxLQUFLLGNBQWM7QUFDdkIsV0FBSyxlQUFlLEtBQUssT0FBTyxnQkFBaUIsT0FBZSxvQkFBb0I7QUFBQSxJQUNyRjtBQUNBLFdBQU8sS0FBSztBQUFBLEVBQ2I7QUFBQSxFQUtRLFNBQVMsTUFBYyxNQUFzQixVQUFrQixZQUFvQixHQUFHO0FBQzdGLFFBQUksQ0FBQyxLQUFLLFFBQVM7QUFDbkIsVUFBTSxNQUFNLEtBQUssV0FBVztBQUM1QixVQUFNLE1BQU0sSUFBSSxpQkFBaUI7QUFDakMsVUFBTSxPQUFPLElBQUksV0FBVztBQUU1QixRQUFJLE9BQU87QUFDWCxRQUFJLFVBQVUsZUFBZSxNQUFNLElBQUksY0FBYyxTQUFTO0FBRTlELFNBQUssS0FBSyxlQUFlLEtBQUssSUFBSSxjQUFjLFNBQVM7QUFDekQsU0FBSyxLQUFLLDZCQUE2QixNQUFTLElBQUksY0FBYyxZQUFZLFFBQVE7QUFFdEYsUUFBSSxRQUFRLElBQUk7QUFDaEIsU0FBSyxRQUFRLElBQUksV0FBVztBQUU1QixRQUFJLE1BQU0sSUFBSSxjQUFjLFNBQVM7QUFDckMsUUFBSSxLQUFLLElBQUksY0FBYyxZQUFZLFFBQVE7QUFFL0MsU0FBSyxrQkFBa0IsS0FBSyxHQUFHO0FBQy9CLFFBQUksVUFBVSxNQUFNO0FBQ25CLFdBQUssb0JBQW9CLEtBQUssa0JBQWtCLE9BQU8sQ0FBQyxNQUFNLE1BQU0sR0FBRztBQUFBLElBQ3hFO0FBQUEsRUFDRDtBQUFBLEVBRUEsWUFBWTtBQUNYLFNBQUssVUFBVTtBQUVmLFNBQUssU0FBUyxLQUFLLFFBQVEsR0FBRztBQUFBLEVBQy9CO0FBQUEsRUFFQSxZQUFZO0FBQ1gsU0FBSyxVQUFVO0FBRWYsU0FBSyxTQUFTLEtBQUssUUFBUSxHQUFHO0FBQzlCLFNBQUssU0FBUyxLQUFLLFFBQVEsS0FBSyxHQUFHO0FBQUEsRUFDcEM7QUFBQSxFQUVBLGFBQWE7QUFDWixTQUFLLFVBQVU7QUFFZixTQUFLLFNBQVMsS0FBSyxRQUFRLEdBQUc7QUFDOUIsU0FBSyxTQUFTLEtBQUssUUFBUSxLQUFLLEdBQUc7QUFBQSxFQUNwQztBQUFBLEVBRUEsYUFBYUMsUUFBTyxPQUFPO0FBQzFCLFNBQUssVUFBVTtBQUNmLFVBQU0sYUFBYSxNQUFNO0FBRXhCLFlBQU0sTUFBTTtBQUNaLFdBQUssU0FBUyxRQUFRLFFBQVEsS0FBSyxHQUFHO0FBQ3RDLFdBQUssU0FBUyxRQUFRLFFBQVEsS0FBSyxNQUFNLEdBQUc7QUFDNUMsV0FBSyxTQUFTLFFBQVEsUUFBUSxLQUFLLE1BQU0sR0FBRztBQUM1QyxXQUFLLFNBQVMsUUFBUSxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQUEsSUFDN0M7QUFFQSxlQUFXO0FBRVgsUUFBSUEsT0FBTTtBQUNULFdBQUssZUFBZSxPQUFPLFlBQVksWUFBWSxHQUFJO0FBQUEsSUFDeEQ7QUFBQSxFQUNEO0FBQUEsRUFFQSxZQUFZO0FBQ1gsUUFBSSxLQUFLLGNBQWM7QUFDdEIsYUFBTyxjQUFjLEtBQUssWUFBWTtBQUN0QyxXQUFLLGVBQWU7QUFBQSxJQUNyQjtBQUNBLFNBQUssa0JBQWtCLFFBQVEsQ0FBQyxRQUFRO0FBQ3ZDLFVBQUk7QUFDSCxZQUFJLEtBQUs7QUFBQSxNQUNWLFNBQVE7QUFBQSxNQUVSO0FBQUEsSUFDRCxDQUFDO0FBQ0QsU0FBSyxvQkFBb0IsQ0FBQztBQUFBLEVBQzNCO0FBQ0Q7OztBQ3JHTyxJQUFNLGlCQUFpQixDQUFDLFlBQTRCO0FBQzFELFFBQU0sT0FBTyxVQUFVLElBQUksTUFBTTtBQUNqQyxRQUFNLGFBQWEsS0FBSyxJQUFJLE9BQU87QUFDbkMsUUFBTSxJQUFJLEtBQUssTUFBTSxhQUFhLEVBQUU7QUFDcEMsUUFBTSxJQUFJLGFBQWE7QUFDdkIsU0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsU0FBUyxHQUFHLEdBQUcsQ0FBQztBQUNwRDtBQU1PLElBQU0sbUJBQW1CLENBQy9CLGlCQUNBLFNBQ0EsUUFDQSxnQkFDWTtBQUNaLE1BQUksV0FBVyxZQUFhLFFBQU87QUFHbkMsUUFBTSxXQUFXO0FBQ2pCLE1BQUksaUJBQWlCO0FBRXJCLE1BQUksV0FBVyxXQUFXO0FBQ3pCLFVBQU0sTUFBTSxLQUFLLElBQUk7QUFDckIsVUFBTSxhQUFhLEtBQUssT0FBTyxNQUFNLGVBQWUsR0FBSTtBQUN4RCxzQkFBa0I7QUFBQSxFQUNuQjtBQUVBLFNBQU8sV0FBVztBQUNuQjs7O0FDakJBLHNCQUFvQjtBQUViLElBQU0saUJBQU4sTUFBcUI7QUFBQSxFQVkzQixZQUFZLEtBQVUsVUFBZ0MsY0FBNEIsWUFBd0I7QUFYMUcsU0FBUSxnQkFBcUM7QUFDN0MsU0FBUSxZQUE0QixDQUFDO0FBQ3JDLFNBQVEsc0JBQTRFLENBQUM7QUFVcEYsU0FBSyxNQUFNO0FBQ1gsU0FBSyxXQUFXO0FBQ2hCLFNBQUssZUFBZTtBQUNwQixTQUFLLGFBQWE7QUFDbEIsU0FBSyxhQUFhLFdBQVcsU0FBUyxnQkFBZ0IsS0FBSztBQUMzRCxTQUFLLGlCQUFpQixTQUFTO0FBRy9CLFNBQUssSUFBSSxVQUFVLGNBQWMsTUFBTTtBQUN0QyxXQUFLLEtBQUssZUFBZTtBQUFBLElBQzFCLENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLGlCQUFpQjtBQUc5QixhQUFTLElBQUksR0FBRyxJQUFJLElBQUksS0FBSztBQUM1QixVQUFJLEtBQUssV0FBVyxZQUFZLEdBQUc7QUFDbEMsY0FBTSxhQUFhLE1BQU0sS0FBSyxXQUFXLDBCQUEwQjtBQUNuRSxZQUFJLFlBQVk7QUFNZixlQUFLLGdCQUFnQjtBQUFBLFlBQ3BCLE1BQU0sV0FBVyxRQUFRO0FBQUEsWUFDekIsVUFBVSxXQUFXLFdBQVc7QUFBQSxZQUNoQyxXQUFXLFdBQVc7QUFBQSxZQUN0QixRQUFRO0FBQUEsWUFDUixTQUFTO0FBQUEsWUFDVCxhQUFhLFdBQVc7QUFBQSxVQUN6QjtBQUdBLGdCQUFNLFlBQVk7QUFBQSxZQUNqQixLQUFLLGNBQWM7QUFBQSxZQUNuQjtBQUFBO0FBQUEsWUFDQTtBQUFBLFlBQ0EsS0FBSyxjQUFjO0FBQUEsVUFDcEI7QUFFQSxjQUFJLGFBQWEsR0FBRztBQUNuQixpQkFBSyxjQUFjLGFBQWE7QUFBQSxVQUNqQztBQUVBLGVBQUssZ0JBQWdCO0FBQUEsUUFDdEI7QUFDQTtBQUFBLE1BQ0Q7QUFDQSxZQUFNLElBQUksUUFBUSxDQUFDLFlBQVksV0FBVyxTQUFTLEdBQUcsQ0FBQztBQUFBLElBQ3hEO0FBQUEsRUFDRDtBQUFBLEVBRUEsa0JBQWtCLFNBQWlCO0FBQ2xDLFNBQUssaUJBQWlCLEtBQUssSUFBSSxHQUFHLE9BQU87QUFDekMsU0FBSyxnQkFBZ0I7QUFBQSxFQUN0QjtBQUFBLEVBRUEsb0JBQTRCO0FBQzNCLFdBQU8sS0FBSztBQUFBLEVBQ2I7QUFBQSxFQUVBLE1BQU0sYUFBYSxNQUFjLGlCQUEwQjtBQUMxRCxVQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3JCLFFBQUksV0FBVztBQUVmLFFBQUksYUFBYSxRQUFXO0FBRTNCLFVBQUksU0FBUyxlQUFlO0FBQzNCLG1CQUFXLEtBQUssU0FBUyxxQkFBcUI7QUFBQSxNQUMvQyxXQUFXLFNBQVMsY0FBYztBQUNqQyxtQkFBVyxLQUFLLFNBQVMsb0JBQW9CO0FBQUEsTUFDOUMsT0FBTztBQUNOLG1CQUFXLEtBQUssaUJBQWlCO0FBQUEsTUFDbEM7QUFBQSxJQUNEO0FBRUEsU0FBSyxnQkFBZ0I7QUFBQSxNQUNwQjtBQUFBLE1BQ0E7QUFBQSxNQUNBLFdBQVc7QUFBQSxNQUNYLFFBQVE7QUFBQSxNQUNSLFNBQVM7QUFBQSxNQUNULGFBQWE7QUFBQSxJQUNkO0FBR0EsUUFBSSxLQUFLLFdBQVcsWUFBWSxHQUFHO0FBQ2xDLFlBQU0sS0FBSyxXQUFXLGFBQWEsTUFBTSxLQUFLLEtBQUssV0FBVyxFQUFFLEdBQUcsUUFBUTtBQUFBLElBQzVFO0FBRUEsU0FBSyxhQUFhLFVBQVU7QUFDNUIsU0FBSyxnQkFBZ0I7QUFBQSxFQUN0QjtBQUFBLEVBRUEsZUFBZTtBQUNkLFFBQUksS0FBSyxpQkFBaUIsS0FBSyxjQUFjLFdBQVcsV0FBVztBQUNsRSxZQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3JCLFlBQU0seUJBQXlCLEtBQUssT0FBTyxNQUFNLEtBQUssY0FBYyxlQUFlLEdBQUk7QUFDdkYsV0FBSyxjQUFjLFdBQVc7QUFDOUIsV0FBSyxjQUFjLFNBQVM7QUFDNUIsV0FBSyxhQUFhLFVBQVU7QUFDNUIsV0FBSyxnQkFBZ0I7QUFBQSxJQUd0QjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGdCQUFnQjtBQUNmLFFBQUksS0FBSyxpQkFBaUIsS0FBSyxjQUFjLFdBQVcsVUFBVTtBQUNqRSxXQUFLLGNBQWMsU0FBUztBQUM1QixXQUFLLGNBQWMsY0FBYyxLQUFLLElBQUk7QUFDMUMsV0FBSyxhQUFhLFdBQVc7QUFDN0IsV0FBSyxnQkFBZ0I7QUFBQSxJQUN0QjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sWUFBWUMsU0FBaUI7QUFDbEMsU0FBSyxhQUFhLFVBQVU7QUFDNUIsUUFBSSxLQUFLLGVBQWU7QUFDdkIsV0FBSyxjQUFjLFNBQVM7QUFHNUIsVUFBSSxLQUFLLFdBQVcsWUFBWSxHQUFHO0FBQ2xDLGNBQU0sS0FBSyxXQUFXLFdBQVc7QUFBQSxNQUNsQztBQUVBLFdBQUssaUJBQWlCLEtBQUssZUFBZUEsT0FBTTtBQUNoRCxXQUFLLGdCQUFnQjtBQUNyQixXQUFLLGdCQUFnQjtBQUFBLElBQ3RCO0FBQUEsRUFDRDtBQUFBLEVBRUEsZUFBZTtBQUNkLFFBQUksS0FBSyxlQUFlO0FBQ3ZCLFdBQUssYUFBYSxVQUFVO0FBQzVCLFlBQU0sTUFBTSxLQUFLLElBQUk7QUFDckIsV0FBSyxjQUFjLFVBQVU7QUFDN0IsV0FBSyxjQUFjLGNBQWM7QUFDakMsV0FBSyxjQUFjLFlBQVk7QUFDL0IsV0FBSyxjQUFjLFNBQVM7QUFDNUIsV0FBSyxnQkFBZ0I7QUFBQSxJQUl0QjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFFBQVEsU0FBaUI7QUFDeEIsUUFBSSxLQUFLLGVBQWU7QUFDdkIsV0FBSyxjQUFjLFlBQVksVUFBVTtBQUd6QyxVQUFJLEtBQUssY0FBYyxXQUFXLGVBQWUsS0FBSyxjQUFjLFdBQVcsVUFBVTtBQUN4RixhQUFLLGFBQWEsVUFBVTtBQUM1QixhQUFLLGNBQWMsU0FBUztBQUM1QixhQUFLLGNBQWMsY0FBYyxLQUFLLElBQUk7QUFBQSxNQUMzQztBQUVBLFdBQUssZ0JBQWdCO0FBQUEsSUFDdEI7QUFBQSxFQUNEO0FBQUEsRUFFQSxPQUFPO0FBQ04sUUFBSSxLQUFLLGlCQUFpQixLQUFLLGNBQWMsV0FBVyxXQUFXO0FBQ2xFLFlBQU0sWUFBWTtBQUFBLFFBQ2pCLEtBQUssY0FBYztBQUFBLFFBQ25CLEtBQUssY0FBYztBQUFBLFFBQ25CLEtBQUssY0FBYztBQUFBLFFBQ25CLEtBQUssY0FBYztBQUFBLE1BQ3BCO0FBRUEsVUFBSSxhQUFhLEtBQUssQ0FBQyxLQUFLLGNBQWMsWUFBWTtBQUNyRCxhQUFLLGNBQWMsYUFBYTtBQUNoQyxhQUFLLGFBQWEsYUFBYSxJQUFJO0FBQ25DLGFBQUssZ0JBQWdCO0FBQUEsTUFDdEI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsbUJBQXdDO0FBQ3ZDLFdBQU8sS0FBSztBQUFBLEVBQ2I7QUFBQSxFQUVBLE1BQU0sa0JBQWtCLFFBQWdCLElBQW9CO0FBQzNELFFBQUksQ0FBQyxLQUFLLFdBQVcsWUFBWSxFQUFHLFFBQU8sQ0FBQztBQUM1QyxXQUFPLEtBQUssV0FBVyxrQkFBa0IsS0FBSztBQUFBLEVBQy9DO0FBQUEsRUFFQSxTQUFTLFVBQXNCO0FBQzlCLFNBQUssVUFBVSxLQUFLLFFBQVE7QUFBQSxFQUM3QjtBQUFBLEVBRUEsa0JBQWtCLFVBQTREO0FBQzdFLFNBQUssb0JBQW9CLEtBQUssUUFBUTtBQUFBLEVBQ3ZDO0FBQUEsRUFFQSxlQUFlLFVBQXNCO0FBQ3BDLFNBQUssWUFBWSxLQUFLLFVBQVUsT0FBTyxDQUFDLE1BQU0sTUFBTSxRQUFRO0FBQUEsRUFDN0Q7QUFBQSxFQUVRLGtCQUFrQjtBQUN6QixTQUFLLFVBQVUsUUFBUSxDQUFDLGFBQWEsU0FBUyxDQUFDO0FBQUEsRUFDaEQ7QUFBQSxFQUVRLGlCQUFpQkMsVUFBdUJELFNBQWlCO0FBQ2hFLFNBQUssb0JBQW9CLFFBQVEsQ0FBQyxhQUFhLFNBQVNDLFVBQVNELE9BQU0sQ0FBQztBQUFBLEVBQ3pFO0FBQ0Q7OztBQzlPQSxJQUFBRSxtQkFBd0M7OztBQ0F4QztBQUFBLElBQU0sWUFBVyxzQkFBVyxZQUFYLG1CQUFvQixRQUFwQixtQkFBeUI7QUFDMUMsSUFBTyx1QkFBUSxZQUFZLENBQUMsU0FBUyxZQUFZLEVBQUUsV0FBVyxNQUFNOzs7QUNDN0QsSUFBSSxXQUFXLE1BQU07QUFDckIsSUFBSSxXQUFXLE1BQU0sVUFBVTtBQUMvQixJQUFJLGFBQWEsTUFBTTtBQUN2QixJQUFJLGNBQWMsT0FBTztBQUN6QixJQUFJLGtCQUFrQixPQUFPO0FBQzdCLElBQUksaUJBQWlCLE9BQU87QUFDNUIsSUFBSSxrQkFBa0IsT0FBTztBQUM3QixJQUFJLG1CQUFtQixPQUFPO0FBQzlCLElBQUksa0JBQWtCLE1BQU07QUFDNUIsSUFBSSxtQkFBbUIsT0FBTztBQUM5QixJQUFJLGdCQUFnQixPQUFPO0FBVTNCLElBQU0sT0FBTyxNQUFNO0FBQUM7QUFlcEIsU0FBUyxJQUFJLElBQUk7QUFDdkIsU0FBTyxHQUFHO0FBQ1g7QUFHTyxTQUFTLFFBQVEsS0FBSztBQUM1QixXQUFTLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxLQUFLO0FBQ3BDLFFBQUksQ0FBQyxFQUFFO0FBQUEsRUFDUjtBQUNEO0FBTU8sU0FBUyxXQUFXO0FBRTFCLE1BQUk7QUFHSixNQUFJO0FBR0osTUFBSSxVQUFVLElBQUksUUFBUSxDQUFDLEtBQUssUUFBUTtBQUN2QyxjQUFVO0FBQ1YsYUFBUztBQUFBLEVBQ1YsQ0FBQztBQUdELFNBQU8sRUFBRSxTQUFTLFNBQVMsT0FBTztBQUNuQzs7O0FDbEVPLElBQU0sVUFBVSxLQUFLO0FBQ3JCLElBQU0sU0FBUyxLQUFLO0FBQ3BCLElBQU0sZ0JBQWdCLEtBQUs7QUFLM0IsSUFBTSxpQkFBaUIsS0FBSztBQUs1QixJQUFNLGVBQWUsS0FBSztBQUMxQixJQUFNLGdCQUFnQixLQUFLO0FBQzNCLElBQU0sY0FBYyxLQUFLO0FBQ3pCLElBQU0sa0JBQWtCLEtBQUs7QUFPN0IsSUFBTSxZQUFZLEtBQUs7QUFDdkIsSUFBTSxRQUFRLEtBQUs7QUFDbkIsSUFBTSxRQUFRLEtBQUs7QUFDbkIsSUFBTSxjQUFjLEtBQUs7QUFDekIsSUFBTSxRQUFRLEtBQUs7QUFDbkIsSUFBTSxZQUFZLEtBQUs7QUFJdkIsSUFBTSxhQUFhLEtBQUs7QUFLeEIsSUFBTSxxQkFBcUIsS0FBSztBQUNoQyxJQUFNLGVBQWUsS0FBSztBQUMxQixJQUFNLGNBQWMsS0FBSztBQUN6QixJQUFNLG1CQUFtQixLQUFLO0FBQzlCLElBQU0sY0FBYyxLQUFLO0FBQ3pCLElBQU0sbUJBQW1CLEtBQUs7QUFROUIsSUFBTSxhQUFhLEtBQUs7QUFHeEIsSUFBTSx1QkFBdUIsS0FBSztBQUNsQyxJQUFNLFFBQVEsS0FBSztBQUVuQixJQUFNLGNBQWMsS0FBSztBQUV6QixJQUFNLGVBQWUsT0FBTyxRQUFRO0FBQ3BDLElBQU0sZUFBZSxPQUFPLGNBQWM7QUFDMUMsSUFBTSxzQkFBc0IsT0FBTyxFQUFFO0FBQ3JDLElBQU0sb0JBQW9CLE9BQU8sWUFBWTtBQUc3QyxJQUFNLGlCQUFpQixJQUFLLE1BQU0sMkJBQTJCLE1BQU07QUFBQSxFQUF2QztBQUFBO0FBQ2xDLGdDQUFPO0FBQ1AsbUNBQVU7QUFBQTtBQUNYLEVBQUc7QUFHSSxJQUFNLFlBQVk7QUFDbEIsSUFBTSxlQUFlOzs7QUNickIsU0FBUyw0QkFBNEIsTUFBTTtBQUNqRCxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBLElBQWtDLElBQUk7QUFBQSxpREFBNEc7QUFFMUssVUFBTSxPQUFPO0FBRWIsVUFBTTtBQUFBLEVBQ1AsT0FBTztBQUNOLFVBQU0sSUFBSSxNQUFNLGtEQUFrRDtBQUFBLEVBQ25FO0FBQ0Q7OztBQzFETyxTQUFTLHVCQUF1QjtBQUN0QyxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBO0FBQUEsMENBQTJKO0FBRW5MLFVBQU0sT0FBTztBQUViLFVBQU07QUFBQSxFQUNQLE9BQU87QUFDTixVQUFNLElBQUksTUFBTSwyQ0FBMkM7QUFBQSxFQUM1RDtBQUNEO0FBTU8sU0FBUyw4QkFBOEI7QUFDN0MsTUFBSSxzQkFBSztBQUNSLFVBQU0sUUFBUSxJQUFJLE1BQU07QUFBQTtBQUFBLGlEQUFpTDtBQUV6TSxVQUFNLE9BQU87QUFFYixVQUFNO0FBQUEsRUFDUCxPQUFPO0FBQ04sVUFBTSxJQUFJLE1BQU0sa0RBQWtEO0FBQUEsRUFDbkU7QUFDRDtBQWdGTyxTQUFTLDBCQUEwQjtBQUN6QyxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBO0FBQUEsNkNBQTRIO0FBRXBKLFVBQU0sT0FBTztBQUViLFVBQU07QUFBQSxFQUNQLE9BQU87QUFDTixVQUFNLElBQUksTUFBTSw4Q0FBOEM7QUFBQSxFQUMvRDtBQUNEO0FBNEJPLFNBQVMsbUJBQW1CLE1BQU07QUFDeEMsTUFBSSxzQkFBSztBQUNSLFVBQU0sUUFBUSxJQUFJLE1BQU07QUFBQSxJQUF5QixJQUFJO0FBQUEsd0NBQThGO0FBRW5KLFVBQU0sT0FBTztBQUViLFVBQU07QUFBQSxFQUNQLE9BQU87QUFDTixVQUFNLElBQUksTUFBTSx5Q0FBeUM7QUFBQSxFQUMxRDtBQUNEO0FBTU8sU0FBUyw0QkFBNEI7QUFDM0MsTUFBSSxzQkFBSztBQUNSLFVBQU0sUUFBUSxJQUFJLE1BQU07QUFBQTtBQUFBLCtDQUE4SztBQUV0TSxVQUFNLE9BQU87QUFFYixVQUFNO0FBQUEsRUFDUCxPQUFPO0FBQ04sVUFBTSxJQUFJLE1BQU0sZ0RBQWdEO0FBQUEsRUFDakU7QUFDRDtBQU9PLFNBQVMsY0FBYyxNQUFNO0FBQ25DLE1BQUksc0JBQUs7QUFDUixVQUFNLFFBQVEsSUFBSSxNQUFNO0FBQUEsSUFBb0IsSUFBSTtBQUFBLG1DQUFpSDtBQUVqSyxVQUFNLE9BQU87QUFFYixVQUFNO0FBQUEsRUFDUCxPQUFPO0FBQ04sVUFBTSxJQUFJLE1BQU0sb0NBQW9DO0FBQUEsRUFDckQ7QUFDRDtBQXNCTyxTQUFTLCtCQUErQjtBQUM5QyxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBO0FBQUEsa0RBQWtNO0FBRTFOLFVBQU0sT0FBTztBQUViLFVBQU07QUFBQSxFQUNQLE9BQU87QUFDTixVQUFNLElBQUksTUFBTSxtREFBbUQ7QUFBQSxFQUNwRTtBQUNEO0FBdUZPLFNBQVMsbUJBQW1CO0FBQ2xDLE1BQUksc0JBQUs7QUFDUixVQUFNLFFBQVEsSUFBSSxNQUFNO0FBQUE7QUFBQSxzQ0FBNEY7QUFFcEgsVUFBTSxPQUFPO0FBRWIsVUFBTTtBQUFBLEVBQ1AsT0FBTztBQUNOLFVBQU0sSUFBSSxNQUFNLHVDQUF1QztBQUFBLEVBQ3hEO0FBQ0Q7QUEwRU8sU0FBUyxvQkFBb0IsTUFBTTtBQUN6QyxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBLFFBQThCLElBQUk7QUFBQSx5Q0FBb0g7QUFFOUssVUFBTSxPQUFPO0FBRWIsVUFBTTtBQUFBLEVBQ1AsT0FBTztBQUNOLFVBQU0sSUFBSSxNQUFNLDBDQUEwQztBQUFBLEVBQzNEO0FBQ0Q7QUFzQk8sU0FBUywwQkFBMEI7QUFDekMsTUFBSSxzQkFBSztBQUNSLFVBQU0sUUFBUSxJQUFJLE1BQU07QUFBQTtBQUFBLDZDQUFtTjtBQUUzTyxVQUFNLE9BQU87QUFFYixVQUFNO0FBQUEsRUFDUCxPQUFPO0FBQ04sVUFBTSxJQUFJLE1BQU0sOENBQThDO0FBQUEsRUFDL0Q7QUFDRDtBQU1PLFNBQVMsd0JBQXdCO0FBQ3ZDLE1BQUksc0JBQUs7QUFDUixVQUFNLFFBQVEsSUFBSSxNQUFNO0FBQUE7QUFBQSwyQ0FBOEc7QUFFdEksVUFBTSxPQUFPO0FBRWIsVUFBTTtBQUFBLEVBQ1AsT0FBTztBQUNOLFVBQU0sSUFBSSxNQUFNLDRDQUE0QztBQUFBLEVBQzdEO0FBQ0Q7QUFNTyxTQUFTLHdCQUF3QjtBQUN2QyxNQUFJLHNCQUFLO0FBQ1IsVUFBTSxRQUFRLElBQUksTUFBTTtBQUFBO0FBQUEsMkNBQXlPO0FBRWpRLFVBQU0sT0FBTztBQUViLFVBQU07QUFBQSxFQUNQLE9BQU87QUFDTixVQUFNLElBQUksTUFBTSw0Q0FBNEM7QUFBQSxFQUM3RDtBQUNEO0FBTU8sU0FBUyxnQ0FBZ0M7QUFDL0MsTUFBSSxzQkFBSztBQUNSLFVBQU0sUUFBUSxJQUFJLE1BQU07QUFBQTtBQUFBLG1EQUFzTDtBQUU5TSxVQUFNLE9BQU87QUFFYixVQUFNO0FBQUEsRUFDUCxPQUFPO0FBQ04sVUFBTSxJQUFJLE1BQU0sb0RBQW9EO0FBQUEsRUFDckU7QUFDRDs7O0FDMWVPLElBQU0scUJBQXFCO0FBQzNCLElBQU0sc0JBQXNCLEtBQUs7QUFFakMsSUFBTSxxQkFBcUIsS0FBSztBQUNoQyxJQUFNLG1CQUFtQixLQUFLO0FBQzlCLElBQU0sc0JBQXNCLEtBQUs7QUFHakMsSUFBTSxpQkFBaUIsS0FBSztBQUM1QixJQUFNLG1CQUFtQixLQUFLO0FBQzlCLElBQU0sb0JBQW9CLEtBQUs7QUFDL0IsSUFBTSx3QkFBd0IsS0FBSztBQUduQyxJQUFNLGlCQUFpQixLQUFLO0FBQzVCLElBQU0sb0JBQW9CLEtBQUs7QUFFL0IsSUFBTSxvQkFBb0I7QUFDMUIsSUFBTSwyQkFBMkIsS0FBSztBQUN0QyxJQUFNLG1CQUFtQixLQUFLO0FBQzlCLElBQU0sc0JBQXNCLEtBQUs7QUFFakMsSUFBTSxrQkFBa0I7QUFFeEIsSUFBTSx1QkFBdUI7QUFDN0IsSUFBTSxnQkFBZ0I7QUFDdEIsSUFBTSxrQkFBa0IsQ0FBQztBQUd6QixJQUFNLGtDQUFrQyxLQUFLO0FBQzdDLElBQU0sbUJBQW1CLEtBQUs7QUFFOUIsSUFBTSxnQkFBZ0IsT0FBTztBQUc3QixJQUFNLFdBQVcsT0FBTyxVQUFVO0FBQ2xDLElBQU0sTUFBTSxPQUFPLEtBQUs7QUFFeEIsSUFBTSxpQkFBaUI7OztBQ2xDOUIsSUFBSSxPQUFPO0FBQ1gsSUFBSSxTQUFTO0FBZ0NOLFNBQVMsZ0JBQWdCLE1BQU0sVUFBVTtBQUMvQyxNQUFJLHNCQUFLO0FBQ1IsWUFBUSxLQUFLO0FBQUEsd0JBQXFELElBQUksT0FBTyxRQUFRO0FBQUEsdUNBQW1LLE1BQU0sTUFBTTtBQUFBLEVBQ3JRLE9BQU87QUFDTixZQUFRLEtBQUssc0NBQXNDO0FBQUEsRUFDcEQ7QUFDRDtBQWdFTyxTQUFTLDRCQUE0QixXQUFXQyxPQUFNLE9BQU87QUFDbkUsTUFBSSxzQkFBSztBQUNSLFlBQVEsS0FBSztBQUFBLFVBQW1ELFNBQVMscUJBQXFCQSxLQUFJLCtFQUErRSxLQUFLO0FBQUEsbURBQXVHLE1BQU0sTUFBTTtBQUFBLEVBQzFTLE9BQU87QUFDTixZQUFRLEtBQUssa0RBQWtEO0FBQUEsRUFDaEU7QUFDRDtBQXdCTyxTQUFTLG1CQUFtQixVQUFVO0FBQzVDLE1BQUksc0JBQUs7QUFDUixZQUFRO0FBQUEsTUFDUDtBQUFBLElBQW9DLFdBQ2pDLG1IQUFtSCxRQUFRLEtBQzNILHdGQUF3RjtBQUFBO0FBQUEsTUFDM0Y7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUFBLEVBQ0QsT0FBTztBQUNOLFlBQVEsS0FBSyx5Q0FBeUM7QUFBQSxFQUN2RDtBQUNEO0FBNEJPLFNBQVMsMkJBQTJCO0FBQzFDLE1BQUksc0JBQUs7QUFDUixZQUFRLEtBQUs7QUFBQTtBQUFBLGdEQUEySSxNQUFNLE1BQU07QUFBQSxFQUNySyxPQUFPO0FBQ04sWUFBUSxLQUFLLCtDQUErQztBQUFBLEVBQzdEO0FBQ0Q7QUErQ08sU0FBUyw4QkFBOEIsVUFBVTtBQUN2RCxNQUFJLHNCQUFLO0FBQ1IsWUFBUSxLQUFLO0FBQUEsOEhBQXlLLFFBQVE7QUFBQSxxREFBMEYsTUFBTSxNQUFNO0FBQUEsRUFDclMsT0FBTztBQUNOLFlBQVEsS0FBSyxvREFBb0Q7QUFBQSxFQUNsRTtBQUNEO0FBS08sU0FBUyxzQkFBc0I7QUFDckMsTUFBSSxzQkFBSztBQUNSLFlBQVEsS0FBSztBQUFBO0FBQUEsMkNBQXVJLE1BQU0sTUFBTTtBQUFBLEVBQ2pLLE9BQU87QUFDTixZQUFRLEtBQUssMENBQTBDO0FBQUEsRUFDeEQ7QUFDRDtBQUtPLFNBQVMsNkJBQTZCO0FBQzVDLE1BQUksc0JBQUs7QUFDUixZQUFRLEtBQUs7QUFBQTtBQUFBLGtEQUE2TCxNQUFNLE1BQU07QUFBQSxFQUN2TixPQUFPO0FBQ04sWUFBUSxLQUFLLGlEQUFpRDtBQUFBLEVBQy9EO0FBQ0Q7OztBQ2xQTyxJQUFJLFlBQVk7QUFHaEIsU0FBUyxjQUFjLE9BQU87QUFDcEMsY0FBWTtBQUNiO0FBU08sSUFBSTtBQUdKLFNBQVMsaUJBQWlCLE1BQU07QUFDdEMsTUFBSSxTQUFTLE1BQU07QUFDbEIsSUFBRSxtQkFBbUI7QUFDckIsVUFBTTtBQUFBLEVBQ1A7QUFFQSxTQUFRLGVBQWU7QUFDeEI7QUFFTyxTQUFTLGVBQWU7QUFDOUIsU0FBTyxpQkFBaUIsaUJBQWlCLFlBQVksQ0FBQztBQUN2RDtBQUdPLFNBQVMsTUFBTSxNQUFNO0FBQzNCLE1BQUksQ0FBQyxVQUFXO0FBR2hCLE1BQUksaUJBQWlCLFlBQVksTUFBTSxNQUFNO0FBQzVDLElBQUUsbUJBQW1CO0FBQ3JCLFVBQU07QUFBQSxFQUNQO0FBRUEsaUJBQWU7QUFDaEI7QUFZTyxTQUFTLEtBQUssUUFBUSxHQUFHO0FBQy9CLE1BQUksV0FBVztBQUNkLFFBQUksSUFBSTtBQUNSLFFBQUksT0FBTztBQUVYLFdBQU8sS0FBSztBQUNYO0FBQUEsTUFBb0MsaUJBQWlCLElBQUk7QUFBQSxJQUMxRDtBQUVBLG1CQUFlO0FBQUEsRUFDaEI7QUFDRDtBQU1PLFNBQVMsV0FBVyxTQUFTLE1BQU07QUFDekMsTUFBSSxRQUFRO0FBQ1osTUFBSSxPQUFPO0FBRVgsU0FBTyxNQUFNO0FBQ1osUUFBSSxLQUFLLGFBQWEsY0FBYztBQUNuQyxVQUFJO0FBQUE7QUFBQSxRQUErQixLQUFNO0FBQUE7QUFFekMsVUFBSSxTQUFTLGVBQWU7QUFDM0IsWUFBSSxVQUFVLEVBQUcsUUFBTztBQUN4QixpQkFBUztBQUFBLE1BQ1YsV0FBVyxTQUFTLG1CQUFtQixTQUFTLHNCQUFzQjtBQUNyRSxpQkFBUztBQUFBLE1BQ1Y7QUFBQSxJQUNEO0FBRUEsUUFBSUM7QUFBQTtBQUFBLE1BQW9DLGlCQUFpQixJQUFJO0FBQUE7QUFDN0QsUUFBSSxPQUFRLE1BQUssT0FBTztBQUN4QixXQUFPQTtBQUFBLEVBQ1I7QUFDRDtBQU1PLFNBQVMsMkJBQTJCLE1BQU07QUFDaEQsTUFBSSxDQUFDLFFBQVEsS0FBSyxhQUFhLGNBQWM7QUFDNUMsSUFBRSxtQkFBbUI7QUFDckIsVUFBTTtBQUFBLEVBQ1A7QUFFQTtBQUFBO0FBQUEsSUFBK0IsS0FBTTtBQUFBO0FBQ3RDOzs7QUNwSE8sU0FBUyxPQUFPLE9BQU87QUFDN0IsU0FBTyxVQUFVLEtBQUs7QUFDdkI7QUFPTyxTQUFTLGVBQWUsR0FBRyxHQUFHO0FBQ3BDLFNBQU8sS0FBSyxJQUNULEtBQUssSUFDTCxNQUFNLEtBQU0sTUFBTSxRQUFRLE9BQU8sTUFBTSxZQUFhLE9BQU8sTUFBTTtBQUNyRTtBQVlPLFNBQVMsWUFBWSxPQUFPO0FBQ2xDLFNBQU8sQ0FBQyxlQUFlLE9BQU8sS0FBSyxDQUFDO0FBQ3JDOzs7QUM3Qk8sSUFBSSxrQkFBa0I7QUFFdEIsSUFBSSxtQkFBbUI7QUFFdkIsSUFBSSxvQkFBb0I7QUFXeEIsU0FBUywwQkFBMEI7QUFDekMscUJBQW1CO0FBQ3BCOzs7QUNKTyxJQUFJLHNCQUFzQjtBQTBIMUIsU0FBUyxJQUFJQyxTQUFRLE9BQU87QUFDbEMsRUFBQUEsUUFBTyxRQUFRO0FBQ2YsWUFBVUEsUUFBTyxHQUFHLEtBQUs7QUFFekIsU0FBT0E7QUFDUjtBQU1PLFNBQVMsVUFBVSxPQUFPLE9BQU87QUFuSnhDLE1BQUFDO0FBcUpDLEdBQUFBLE1BQUEsK0JBQVEsdUJBQVIsZ0JBQUFBLElBQUEsWUFBNkI7QUFDN0IsU0FBTztBQUNSOzs7QUNqSk8sU0FBUyxVQUFVLE9BQU87QUFDaEMsUUFBTSxRQUFRLElBQUksTUFBTTtBQUN4QixRQUFNQyxTQUFRLFVBQVU7QUFFeEIsTUFBSUEsT0FBTSxXQUFXLEdBQUc7QUFDdkIsV0FBTztBQUFBLEVBQ1I7QUFFQSxFQUFBQSxPQUFNLFFBQVEsSUFBSTtBQUVsQixrQkFBZ0IsT0FBTyxTQUFTO0FBQUEsSUFDL0IsT0FBT0EsT0FBTSxLQUFLLElBQUk7QUFBQSxFQUN2QixDQUFDO0FBRUQsa0JBQWdCLE9BQU8sUUFBUTtBQUFBLElBQzlCLE9BQU87QUFBQSxFQUNSLENBQUM7QUFFRDtBQUFBO0FBQUEsSUFBaUQ7QUFBQTtBQUNsRDtBQUtPLFNBQVMsWUFBWTtBQUUzQixRQUFNLFFBQVEsTUFBTTtBQUVwQixRQUFNLGtCQUFrQjtBQUN4QixRQUFNQSxTQUFRLElBQUksTUFBTSxFQUFFO0FBRTFCLFFBQU0sa0JBQWtCO0FBRXhCLE1BQUksQ0FBQ0EsT0FBTyxRQUFPLENBQUM7QUFFcEIsUUFBTSxRQUFRQSxPQUFNLE1BQU0sSUFBSTtBQUM5QixRQUFNLFlBQVksQ0FBQztBQUVuQixXQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLO0FBQ3RDLFVBQU0sT0FBTyxNQUFNLENBQUM7QUFDcEIsVUFBTSxhQUFhLEtBQUssV0FBVyxNQUFNLEdBQUc7QUFFNUMsUUFBSSxLQUFLLEtBQUssTUFBTSxTQUFTO0FBQzVCO0FBQUEsSUFDRDtBQUVBLFFBQUksS0FBSyxTQUFTLG9CQUFvQixHQUFHO0FBQ3hDLGFBQU8sQ0FBQztBQUFBLElBQ1Q7QUFFQSxRQUFJLFdBQVcsU0FBUyxxQkFBcUIsS0FBSyxXQUFXLFNBQVMsb0JBQW9CLEdBQUc7QUFDNUY7QUFBQSxJQUNEO0FBRUEsY0FBVSxLQUFLLElBQUk7QUFBQSxFQUNwQjtBQUVBLFNBQU87QUFDUjs7O0FDdERPLElBQUksb0JBQW9CO0FBR3hCLFNBQVMsc0JBQXNCLFNBQVM7QUFDOUMsc0JBQW9CO0FBQ3JCO0FBR08sSUFBSSxZQUFZO0FBR2hCLFNBQVMsY0FBY0MsUUFBTztBQUNwQyxjQUFZQTtBQUNiO0FBeUNPLElBQUksaUNBQWlDO0FBR3JDLFNBQVMsbUNBQW1DLElBQUk7QUFDdEQsbUNBQWlDO0FBQ2xDO0FBMkdPLFNBQVMsS0FBSyxPQUFPLFFBQVEsT0FBTyxJQUFJO0FBQzlDLHNCQUFvQjtBQUFBLElBQ25CLEdBQUc7QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILEdBQUcsb0JBQW9CLENBQUMsUUFBUSxFQUFFLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxDQUFDLEVBQUUsSUFBSTtBQUFBLEVBQy9EO0FBRUEsTUFBSSxzQkFBSztBQUVSLHNCQUFrQixXQUFXO0FBQzdCLHFDQUFpQztBQUFBLEVBQ2xDO0FBQ0Q7QUFPTyxTQUFTLElBQUlDLFlBQVc7QUF2TS9CLE1BQUFDO0FBd01DLE1BQUk7QUFBQTtBQUFBLElBQTJDO0FBQUE7QUFDL0MsTUFBSSxVQUFVLFFBQVE7QUFFdEIsTUFBSSxZQUFZLE1BQU07QUFDckIsWUFBUSxJQUFJO0FBRVosYUFBUyxNQUFNLFNBQVM7QUFDdkIseUJBQW1CLEVBQUU7QUFBQSxJQUN0QjtBQUFBLEVBQ0Q7QUFFQSxNQUFJRCxlQUFjLFFBQVc7QUFDNUIsWUFBUSxJQUFJQTtBQUFBLEVBQ2I7QUFFQSxVQUFRLElBQUk7QUFFWixzQkFBb0IsUUFBUTtBQUU1QixNQUFJLHNCQUFLO0FBQ1Isc0NBQWlDQyxNQUFBLHVEQUFtQixhQUFuQixPQUFBQSxNQUErQjtBQUFBLEVBQ2pFO0FBRUEsU0FBT0QsY0FBQSxPQUFBQTtBQUFBO0FBQUEsSUFBK0IsQ0FBQztBQUFBO0FBQ3hDO0FBR08sU0FBUyxXQUFXO0FBQzFCLFNBQU8sQ0FBQyxvQkFBcUIsc0JBQXNCLFFBQVEsa0JBQWtCLE1BQU07QUFDcEY7OztBQ2pPQSxJQUFJLGNBQWMsQ0FBQztBQUVuQixTQUFTLGtCQUFrQjtBQUMxQixNQUFJLFFBQVE7QUFDWixnQkFBYyxDQUFDO0FBQ2YsVUFBUSxLQUFLO0FBQ2Q7QUFLTyxTQUFTLGlCQUFpQixJQUFJO0FBQ3BDLE1BQUksWUFBWSxXQUFXLEtBQUssQ0FBQyxrQkFBa0I7QUFDbEQsUUFBSSxRQUFRO0FBQ1osbUJBQWUsTUFBTTtBQVNwQixVQUFJLFVBQVUsWUFBYSxpQkFBZ0I7QUFBQSxJQUM1QyxDQUFDO0FBQUEsRUFDRjtBQUVBLGNBQVksS0FBSyxFQUFFO0FBQ3BCO0FBS08sU0FBUyxjQUFjO0FBQzdCLFNBQU8sWUFBWSxTQUFTLEdBQUc7QUFDOUIsb0JBQWdCO0FBQUEsRUFDakI7QUFDRDs7O0FDaENBLElBQU0sY0FBYyxvQkFBSSxRQUFRO0FBS3pCLFNBQVMsYUFBYSxPQUFPO0FBQ25DLE1BQUlFLFVBQVM7QUFHYixNQUFJQSxZQUFXLE1BQU07QUFDRyxJQUFDLGdCQUFpQixLQUFLO0FBQzlDLFdBQU87QUFBQSxFQUNSO0FBRUEsTUFBSSx3QkFBTyxpQkFBaUIsU0FBUyxDQUFDLFlBQVksSUFBSSxLQUFLLEdBQUc7QUFDN0QsZ0JBQVksSUFBSSxPQUFPLGdCQUFnQixPQUFPQSxPQUFNLENBQUM7QUFBQSxFQUN0RDtBQUVBLE9BQUtBLFFBQU8sSUFBSSxnQkFBZ0IsR0FBRztBQUdsQyxTQUFLQSxRQUFPLElBQUkscUJBQXFCLEdBQUc7QUFDdkMsVUFBSSx3QkFBTyxDQUFDQSxRQUFPLFVBQVUsaUJBQWlCLE9BQU87QUFDcEQsMEJBQWtCLEtBQUs7QUFBQSxNQUN4QjtBQUVBLFlBQU07QUFBQSxJQUNQO0FBRXdCLElBQUNBLFFBQU8sRUFBRyxNQUFNLEtBQUs7QUFBQSxFQUMvQyxPQUFPO0FBRU4sMEJBQXNCLE9BQU9BLE9BQU07QUFBQSxFQUNwQztBQUNEO0FBTU8sU0FBUyxzQkFBc0IsT0FBT0EsU0FBUTtBQUNwRCxTQUFPQSxZQUFXLE1BQU07QUFDdkIsU0FBS0EsUUFBTyxJQUFJLHFCQUFxQixHQUFHO0FBQ3ZDLFVBQUk7QUFDcUIsUUFBQ0EsUUFBTyxFQUFHLE1BQU0sS0FBSztBQUM5QztBQUFBLE1BQ0QsU0FBUyxHQUFHO0FBQ1gsZ0JBQVE7QUFBQSxNQUNUO0FBQUEsSUFDRDtBQUVBLElBQUFBLFVBQVNBLFFBQU87QUFBQSxFQUNqQjtBQUVBLE1BQUksd0JBQU8saUJBQWlCLE9BQU87QUFDbEMsc0JBQWtCLEtBQUs7QUFBQSxFQUN4QjtBQUVBLFFBQU07QUFDUDtBQU9BLFNBQVMsZ0JBQWdCLE9BQU9BLFNBQVE7QUEzRXhDLE1BQUFDLEtBQUFDLEtBQUFDO0FBNEVDLFFBQU0scUJBQXFCLGVBQWUsT0FBTyxTQUFTO0FBSTFELE1BQUksc0JBQXNCLENBQUMsbUJBQW1CLGFBQWM7QUFFNUQsTUFBSSxTQUFTLGFBQWEsT0FBTztBQUNqQyxNQUFJLGtCQUFrQjtBQUFBLEVBQUssTUFBTSxRQUFNRixNQUFBRCxRQUFPLE9BQVAsZ0JBQUFDLElBQVcsU0FBUSxXQUFXO0FBQ3JFLE1BQUksVUFBVUQsUUFBTztBQUVyQixTQUFPLFlBQVksTUFBTTtBQUN4Qix1QkFBbUI7QUFBQSxFQUFLLE1BQU0sT0FBTUUsTUFBQSxRQUFRLGFBQVIsZ0JBQUFBLElBQW1CLFVBQVUsTUFBTSxLQUFLLEtBQUs7QUFDakYsY0FBVSxRQUFRO0FBQUEsRUFDbkI7QUFFQSxTQUFPO0FBQUEsSUFDTixTQUFTLE1BQU0sVUFBVTtBQUFBLEVBQUssZUFBZTtBQUFBO0FBQUEsSUFDN0MsUUFBT0MsTUFBQSxNQUFNLFVBQU4sZ0JBQUFBLElBQ0osTUFBTSxNQUNQLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxTQUFTLHFCQUFxQixHQUNyRCxLQUFLO0FBQUEsRUFDUjtBQUNEO0FBS0EsU0FBUyxrQkFBa0IsT0FBTztBQUNqQyxRQUFNLFdBQVcsWUFBWSxJQUFJLEtBQUs7QUFFdEMsTUFBSSxVQUFVO0FBQ2Isb0JBQWdCLE9BQU8sV0FBVztBQUFBLE1BQ2pDLE9BQU8sU0FBUztBQUFBLElBQ2pCLENBQUM7QUFFRCxvQkFBZ0IsT0FBTyxTQUFTO0FBQUEsTUFDL0IsT0FBTyxTQUFTO0FBQUEsSUFDakIsQ0FBQztBQUFBLEVBQ0Y7QUFDRDs7O0FDaEhBLElBQU0sY0FBYyxFQUFFLFFBQVEsY0FBYztBQU1yQyxTQUFTLGtCQUFrQixRQUFRLFFBQVE7QUFDakQsU0FBTyxJQUFLLE9BQU8sSUFBSSxjQUFlO0FBQ3ZDO0FBTU8sU0FBUyxzQkFBc0JDLFVBQVM7QUFFOUMsT0FBS0EsU0FBUSxJQUFJLGVBQWUsS0FBS0EsU0FBUSxTQUFTLE1BQU07QUFDM0Qsc0JBQWtCQSxVQUFTLEtBQUs7QUFBQSxFQUNqQyxPQUFPO0FBQ04sc0JBQWtCQSxVQUFTLFdBQVc7QUFBQSxFQUN2QztBQUNEOzs7QUNqQkEsU0FBUyxhQUFhLE1BQU07QUFDM0IsTUFBSSxTQUFTLEtBQU07QUFFbkIsYUFBVyxPQUFPLE1BQU07QUFDdkIsU0FBSyxJQUFJLElBQUksYUFBYSxNQUFNLElBQUksSUFBSSxnQkFBZ0IsR0FBRztBQUMxRDtBQUFBLElBQ0Q7QUFFQSxRQUFJLEtBQUs7QUFFVDtBQUFBO0FBQUEsTUFBcUMsSUFBSztBQUFBLElBQUk7QUFBQSxFQUMvQztBQUNEO0FBT08sU0FBUyxhQUFhQyxTQUFRLGVBQWUscUJBQXFCO0FBQ3hFLE9BQUtBLFFBQU8sSUFBSSxXQUFXLEdBQUc7QUFDN0Isa0JBQWMsSUFBSUEsT0FBTTtBQUFBLEVBQ3pCLFlBQVlBLFFBQU8sSUFBSSxpQkFBaUIsR0FBRztBQUMxQyx3QkFBb0IsSUFBSUEsT0FBTTtBQUFBLEVBQy9CO0FBSUEsZUFBYUEsUUFBTyxJQUFJO0FBR3hCLG9CQUFrQkEsU0FBUSxLQUFLO0FBQ2hDOzs7QUNLQSxJQUFNLFVBQVUsb0JBQUksSUFBSTtBQUdqQixJQUFJLGdCQUFnQjtBQU9wQixJQUFJLGlCQUFpQjtBQVFyQixJQUFJLGVBQWU7QUFJMUIsSUFBSSxzQkFBc0IsQ0FBQztBQUczQixJQUFJLHdCQUF3QjtBQUU1QixJQUFJLGNBQWM7QUFDWCxJQUFJLG1CQUFtQjtBQXhFOUI7QUEwRU8sSUFBTSxTQUFOLE1BQU0sT0FBTTtBQUFBLEVBQVo7QUFBQTtBQUNOLHFDQUFZO0FBT1o7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1DQUFVLG9CQUFJLElBQUk7QUFPbEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG9DQUFXLG9CQUFJLElBQUk7QUFPbkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBDQUFvQixvQkFBSSxJQUFJO0FBTTVCO0FBQUE7QUFBQTtBQUFBO0FBQUEsMkNBQXFCLG9CQUFJLElBQUk7QUFLN0I7QUFBQTtBQUFBO0FBQUEsaUNBQVc7QUFLWDtBQUFBO0FBQUE7QUFBQSwwQ0FBb0I7QUFPcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGtDQUFZO0FBTVo7QUFBQTtBQUFBO0FBQUE7QUFBQSx1Q0FBaUIsb0JBQUksSUFBSTtBQU16QjtBQUFBO0FBQUE7QUFBQTtBQUFBLDZDQUF1QixvQkFBSSxJQUFJO0FBTy9CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwyQ0FBa0Isb0JBQUksSUFBSTtBQUUxQixtQ0FBVTtBQUFBO0FBQUEsRUFFVixjQUFjO0FBQ2IsV0FBTyxLQUFLLFdBQVcsbUJBQUsscUJBQW9CO0FBQUEsRUFDakQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsUUFBUSxjQUFjO0FBdEp2QixRQUFBQztBQXVKRSwwQkFBc0IsQ0FBQztBQUV2QixxQkFBaUI7QUFFakIsU0FBSyxNQUFNO0FBR1gsUUFBSSxVQUFVLENBQUM7QUFHZixRQUFJLGlCQUFpQixDQUFDO0FBRXRCLGVBQVdDLFNBQVEsY0FBYztBQUNoQyw0QkFBSywyQ0FBTCxXQUEyQkEsT0FBTSxTQUFTO0FBQUEsSUFNM0M7QUFFQSxRQUFJLENBQUMsS0FBSyxTQUFTO0FBQ2xCLDRCQUFLLDhCQUFMO0FBQUEsSUFDRDtBQUVBLFFBQUksS0FBSyxZQUFZLEdBQUc7QUFDdkIsNEJBQUssb0NBQUwsV0FBb0I7QUFDcEIsNEJBQUssb0NBQUwsV0FBb0I7QUFBQSxJQUNyQixPQUFPO0FBR04sdUJBQWlCO0FBQ2pCLHNCQUFnQjtBQUVoQiwyQkFBcUIsY0FBYztBQUNuQywyQkFBcUIsT0FBTztBQUU1Qix1QkFBaUI7QUFFakIsT0FBQUQsTUFBQSxtQkFBSyxlQUFMLGdCQUFBQSxJQUFnQjtBQUFBLElBQ2pCO0FBRUEsbUJBQWU7QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBMEZBLFFBQVFFLFNBQVEsT0FBTztBQUN0QixRQUFJLFVBQVUsaUJBQWlCLENBQUMsS0FBSyxTQUFTLElBQUlBLE9BQU0sR0FBRztBQUMxRCxXQUFLLFNBQVMsSUFBSUEsU0FBUSxLQUFLO0FBQUEsSUFDaEM7QUFHQSxTQUFLQSxRQUFPLElBQUksaUJBQWlCLEdBQUc7QUFDbkMsV0FBSyxRQUFRLElBQUlBLFNBQVFBLFFBQU8sQ0FBQztBQUNqQyxtREFBYyxJQUFJQSxTQUFRQSxRQUFPO0FBQUEsSUFDbEM7QUFBQSxFQUNEO0FBQUEsRUFFQSxXQUFXO0FBQ1Ysb0JBQWdCO0FBQ2hCLFNBQUssTUFBTTtBQUFBLEVBQ1o7QUFBQSxFQUVBLGFBQWE7QUFHWixRQUFJLGtCQUFrQixLQUFNO0FBRTVCLG9CQUFnQjtBQUNoQixtQkFBZTtBQUFBLEVBQ2hCO0FBQUEsRUFFQSxRQUFRO0FBQ1AsU0FBSyxTQUFTO0FBRWQsUUFBSSxvQkFBb0IsU0FBUyxHQUFHO0FBQ25DLG9CQUFjO0FBRWQsVUFBSSxrQkFBa0IsUUFBUSxrQkFBa0IsTUFBTTtBQUVyRDtBQUFBLE1BQ0Q7QUFBQSxJQUNELFdBQVcsbUJBQUssY0FBYSxHQUFHO0FBQy9CLFdBQUssUUFBUSxDQUFDLENBQUM7QUFBQSxJQUNoQjtBQUVBLFNBQUssV0FBVztBQUFBLEVBQ2pCO0FBQUEsRUFFQSxVQUFVO0FBQ1QsZUFBVyxNQUFNLG1CQUFLLG9CQUFvQixJQUFHLElBQUk7QUFDakQsdUJBQUssb0JBQW1CLE1BQU07QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFpR0EsVUFBVSxVQUFVO0FBQ25CLHVCQUFLLFVBQUwsbUJBQUssWUFBWTtBQUNqQixRQUFJLFNBQVUsb0JBQUssbUJBQUwsbUJBQUsscUJBQXFCO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsVUFBVSxVQUFVO0FBQ25CLHVCQUFLLFVBQUwsbUJBQUssWUFBWTtBQUNqQixRQUFJLFNBQVUsb0JBQUssbUJBQUwsbUJBQUsscUJBQXFCO0FBRXhDLFNBQUssT0FBTztBQUFBLEVBQ2I7QUFBQSxFQUVBLFNBQVM7QUFDUixlQUFXLEtBQUssbUJBQUssaUJBQWdCO0FBQ3BDLHlCQUFLLHNCQUFxQixPQUFPLENBQUM7QUFDbEMsd0JBQWtCLEdBQUcsS0FBSztBQUMxQixzQkFBZ0IsQ0FBQztBQUFBLElBQ2xCO0FBRUEsZUFBVyxLQUFLLG1CQUFLLHVCQUFzQjtBQUMxQyx3QkFBa0IsR0FBRyxXQUFXO0FBQ2hDLHNCQUFnQixDQUFDO0FBQUEsSUFDbEI7QUFFQSxTQUFLLE1BQU07QUFBQSxFQUNaO0FBQUE7QUFBQSxFQUdBLFNBQVMsSUFBSTtBQUNaLHVCQUFLLG1CQUFrQixJQUFJLEVBQUU7QUFBQSxFQUM5QjtBQUFBO0FBQUEsRUFHQSxVQUFVLElBQUk7QUFDYix1QkFBSyxvQkFBbUIsSUFBSSxFQUFFO0FBQUEsRUFDL0I7QUFBQSxFQUVBLFVBQVU7QUFwZFgsUUFBQUY7QUFxZEUsYUFBUUEsTUFBQSxtQkFBSyxlQUFMLE9BQUFBLE1BQUEsbUJBQUssV0FBYyxTQUFTLElBQUc7QUFBQSxFQUN4QztBQUFBLEVBRUEsT0FBTyxTQUFTO0FBQ2YsUUFBSSxrQkFBa0IsTUFBTTtBQUMzQixZQUFNLFFBQVMsZ0JBQWdCLElBQUksT0FBTTtBQUN6QyxjQUFRLElBQUksYUFBYTtBQUV6QixVQUFJLENBQUMsa0JBQWtCO0FBQ3RCLGVBQU0sUUFBUSxNQUFNO0FBQ25CLGNBQUksa0JBQWtCLE9BQU87QUFFNUI7QUFBQSxVQUNEO0FBRUEsZ0JBQU0sTUFBTTtBQUFBLFFBQ2IsQ0FBQztBQUFBLE1BQ0Y7QUFBQSxJQUNEO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFBQTtBQUFBLEVBR0EsT0FBTyxRQUFRLE1BQU07QUFDcEIscUJBQWlCLElBQUk7QUFBQSxFQUN0QjtBQUFBLEVBRUEsUUFBUTtBQUNQLFFBQUksQ0FBQyxtQkFBb0IsQ0FBQyxLQUFLLFdBQVcsUUFBUSxTQUFTLEVBQUk7QUFJL0QsbUJBQWUsSUFBSSxJQUFJLEtBQUssT0FBTztBQUduQyxlQUFXLFNBQVMsU0FBUztBQUM1QixVQUFJLFVBQVUsS0FBTTtBQUVwQixpQkFBVyxDQUFDRSxTQUFRLFFBQVEsS0FBSyxNQUFNLFVBQVU7QUFDaEQsWUFBSSxDQUFDLGFBQWEsSUFBSUEsT0FBTSxHQUFHO0FBQzlCLHVCQUFhLElBQUlBLFNBQVEsUUFBUTtBQUFBLFFBQ2xDO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFuYUM7QUFNQTtBQUtBO0FBS0E7QUFPQTtBQU1BO0FBTUE7QUF6RE07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWlJTiwwQkFBcUIsU0FBQ0QsT0FBTSxTQUFTLGdCQUFnQjtBQTNNdEQsTUFBQUQ7QUE0TUUsRUFBQUMsTUFBSyxLQUFLO0FBRVYsTUFBSUUsVUFBU0YsTUFBSztBQUdsQixNQUFJLG1CQUFtQjtBQUV2QixTQUFPRSxZQUFXLE1BQU07QUFDdkIsUUFBSUMsU0FBUUQsUUFBTztBQUNuQixRQUFJLGFBQWFDLFVBQVMsZ0JBQWdCLGtCQUFrQjtBQUM1RCxRQUFJLHNCQUFzQixjQUFjQSxTQUFRLFdBQVc7QUFFM0QsUUFBSSxPQUFPLHdCQUF3QkEsU0FBUSxXQUFXLEtBQUssS0FBSyxnQkFBZ0IsSUFBSUQsT0FBTTtBQUsxRixRQUNDLG1CQUNBLHFCQUFxQixTQUNwQkMsU0FBUSxxQkFBcUIsT0FDOUJKLE1BQUFHLFFBQU8sTUFBUCxnQkFBQUgsSUFBVSxhQUNUO0FBQ0QseUJBQW1CRztBQUFBLElBQ3BCO0FBRUEsUUFBSSxDQUFDLFFBQVFBLFFBQU8sT0FBTyxNQUFNO0FBQ2hDLFVBQUksV0FBVztBQUNkLFFBQUFBLFFBQU8sS0FBSztBQUFBLE1BQ2IsV0FDQyxxQkFBcUIsU0FDcEJDLFVBQVMsU0FBUyxnQkFBZ0IscUJBQXFCLEdBQ3ZEO0FBQ3VCLFFBQUMsaUJBQWlCLEVBQUcsYUFBYUQsT0FBTTtBQUFBLE1BQ2pFLFlBQVlDLFNBQVEsWUFBWSxHQUFHO0FBQ2xDLGdCQUFRLEtBQUtELE9BQU07QUFBQSxNQUNwQixXQUFXLG9CQUFvQkMsVUFBUyxnQkFBZ0IscUJBQXFCLEdBQUc7QUFDL0UsdUJBQWUsS0FBS0QsT0FBTTtBQUFBLE1BQzNCLFdBQVcsU0FBU0EsT0FBTSxHQUFHO0FBQzVCLGFBQUtDLFNBQVEsa0JBQWtCLEVBQUcsb0JBQUssZ0JBQWUsSUFBSUQsT0FBTTtBQUNoRSxzQkFBY0EsT0FBTTtBQUFBLE1BQ3JCO0FBRUEsVUFBSUUsU0FBUUYsUUFBTztBQUVuQixVQUFJRSxXQUFVLE1BQU07QUFDbkIsUUFBQUYsVUFBU0U7QUFDVDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsUUFBSSxTQUFTRixRQUFPO0FBQ3BCLElBQUFBLFVBQVNBLFFBQU87QUFFaEIsV0FBT0EsWUFBVyxRQUFRLFdBQVcsTUFBTTtBQUMxQyxVQUFJLFdBQVcsa0JBQWtCO0FBQ2hDLDJCQUFtQjtBQUFBLE1BQ3BCO0FBRUEsTUFBQUEsVUFBUyxPQUFPO0FBQ2hCLGVBQVMsT0FBTztBQUFBLElBQ2pCO0FBQUEsRUFDRDtBQUNEO0FBQUE7QUFBQTtBQUFBO0FBS0EsbUJBQWMsU0FBQyxTQUFTO0FBQ3ZCLFdBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxRQUFRLEtBQUssR0FBRztBQUMzQyxpQkFBYSxRQUFRLENBQUMsR0FBRyxtQkFBSyxpQkFBZ0IsbUJBQUsscUJBQW9CO0FBQUEsRUFDeEU7QUFDRDtBQXdEQSxhQUFRLFdBQUc7QUFDVixNQUFJLG1CQUFLLHVCQUFzQixHQUFHO0FBRWpDLGVBQVcsTUFBTSxtQkFBSyxtQkFBbUIsSUFBRztBQUM1Qyx1QkFBSyxtQkFBa0IsTUFBTTtBQUFBLEVBQzlCO0FBRUEsTUFBSSxtQkFBSyxjQUFhLEdBQUc7QUFDeEIsMEJBQUssNkJBQUw7QUFBQSxFQUNEO0FBQ0Q7QUFFQSxZQUFPLFdBQUc7QUF4VlgsTUFBQUg7QUE2VkUsTUFBSSxRQUFRLE9BQU8sR0FBRztBQUNyQixTQUFLLFNBQVMsTUFBTTtBQUVwQixRQUFJLHdCQUF3QjtBQUM1QixRQUFJLGFBQWE7QUFFakIsZUFBVyxTQUFTLFNBQVM7QUFDNUIsVUFBSSxVQUFVLE1BQU07QUFDbkIscUJBQWE7QUFDYjtBQUFBLE1BQ0Q7QUFHQSxZQUFNLFVBQVUsQ0FBQztBQUVqQixpQkFBVyxDQUFDRSxTQUFRLEtBQUssS0FBSyxLQUFLLFNBQVM7QUFDM0MsWUFBSSxNQUFNLFFBQVEsSUFBSUEsT0FBTSxHQUFHO0FBQzlCLGNBQUksY0FBYyxVQUFVLE1BQU0sUUFBUSxJQUFJQSxPQUFNLEdBQUc7QUFFdEQsa0JBQU0sUUFBUSxJQUFJQSxTQUFRLEtBQUs7QUFBQSxVQUNoQyxPQUFPO0FBR047QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUVBLGdCQUFRLEtBQUtBLE9BQU07QUFBQSxNQUNwQjtBQUVBLFVBQUksUUFBUSxXQUFXLEdBQUc7QUFDekI7QUFBQSxNQUNEO0FBR0EsWUFBTSxTQUFTLENBQUMsR0FBRyxNQUFNLFFBQVEsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUM7QUFDM0UsVUFBSSxPQUFPLFNBQVMsR0FBRztBQUV0QixZQUFJLDJCQUEyQjtBQUMvQiw4QkFBc0IsQ0FBQztBQUd2QixjQUFNLFNBQVMsb0JBQUksSUFBSTtBQUV2QixjQUFNLFVBQVUsb0JBQUksSUFBSTtBQUN4QixtQkFBV0EsV0FBVSxTQUFTO0FBQzdCLHVCQUFhQSxTQUFRLFFBQVEsUUFBUSxPQUFPO0FBQUEsUUFDN0M7QUFFQSxZQUFJLG9CQUFvQixTQUFTLEdBQUc7QUFDbkMsMEJBQWdCO0FBQ2hCLGdCQUFNLE1BQU07QUFFWixxQkFBV0QsU0FBUSxxQkFBcUI7QUFDdkMsNEJBQUFELE1BQUEsT0FBTSwyQ0FBTixLQUFBQSxLQUE0QkMsT0FBTSxDQUFDLEdBQUcsQ0FBQztBQUFBLFVBQ3hDO0FBSUEsZ0JBQU0sV0FBVztBQUFBLFFBQ2xCO0FBRUEsOEJBQXNCO0FBQUEsTUFDdkI7QUFBQSxJQUNEO0FBRUEsb0JBQWdCO0FBQ2hCLG1CQUFlO0FBQUEsRUFDaEI7QUFFQSxPQUFLLFlBQVk7QUFDakIsVUFBUSxPQUFPLElBQUk7QUFDcEI7QUEzVk0sSUFBTSxRQUFOO0FBa2NBLFNBQVMsVUFBVSxJQUFJO0FBQzdCLE1BQUksb0JBQW9CO0FBQ3hCLHFCQUFtQjtBQUVuQixNQUFJO0FBQ0gsUUFBSTtBQUVKLFFBQUksSUFBSTtBQUNQLFVBQUksa0JBQWtCLE1BQU07QUFDM0Isc0JBQWM7QUFBQSxNQUNmO0FBRUEsZUFBUyxHQUFHO0FBQUEsSUFDYjtBQUVBLFdBQU8sTUFBTTtBQUNaLGtCQUFZO0FBRVosVUFBSSxvQkFBb0IsV0FBVyxHQUFHO0FBQ3JDLHVEQUFlO0FBR2YsWUFBSSxvQkFBb0IsV0FBVyxHQUFHO0FBR3JDLGtDQUF3QjtBQUV4QjtBQUFBO0FBQUEsWUFBeUI7QUFBQTtBQUFBLFFBQzFCO0FBQUEsTUFDRDtBQUVBLG9CQUFjO0FBQUEsSUFDZjtBQUFBLEVBQ0QsVUFBRTtBQUNELHVCQUFtQjtBQUFBLEVBQ3BCO0FBQ0Q7QUFFQSxTQUFTLGdCQUFnQjtBQWxqQnpCLE1BQUFEO0FBbWpCQyxNQUFJLHNCQUFzQjtBQUMxQixnQkFBYztBQUVkLE1BQUksZ0JBQWdCLHVCQUFNLG9CQUFJLElBQUksSUFBSTtBQUV0QyxNQUFJO0FBQ0gsUUFBSSxjQUFjO0FBQ2xCLDJCQUF1QixJQUFJO0FBRTNCLFdBQU8sb0JBQW9CLFNBQVMsR0FBRztBQUN0QyxVQUFJLFFBQVEsTUFBTSxPQUFPO0FBRXpCLFVBQUksZ0JBQWdCLEtBQU07QUFDekIsWUFBSSxzQkFBSztBQUNSLGNBQUksVUFBVSxvQkFBSSxJQUFJO0FBRXRCLHFCQUFXRSxXQUFVLE1BQU0sUUFBUSxLQUFLLEdBQUc7QUFDMUMsdUJBQVcsQ0FBQ0ksUUFBT0MsT0FBTSxNQUFLUCxNQUFBRSxRQUFPLFlBQVAsT0FBQUYsTUFBa0IsQ0FBQyxHQUFHO0FBQ25ELGtCQUFJLFFBQVEsUUFBUSxJQUFJTSxNQUFLO0FBRTdCLGtCQUFJLENBQUMsT0FBTztBQUNYLHdCQUFRLEVBQUUsT0FBT0MsUUFBTyxPQUFPLE9BQU8sRUFBRTtBQUN4Qyx3QkFBUSxJQUFJRCxRQUFPLEtBQUs7QUFBQSxjQUN6QjtBQUVBLG9CQUFNLFNBQVNDLFFBQU87QUFBQSxZQUN2QjtBQUFBLFVBQ0Q7QUFFQSxxQkFBV0EsV0FBVSxRQUFRLE9BQU8sR0FBRztBQUN0QyxnQkFBSUEsUUFBTyxPQUFPO0FBRWpCLHNCQUFRLE1BQU1BLFFBQU8sS0FBSztBQUFBLFlBQzNCO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFFQSw0QkFBb0I7QUFBQSxNQUNyQjtBQUVBLFlBQU0sUUFBUSxtQkFBbUI7QUFDakMsaUJBQVcsTUFBTTtBQUVqQixVQUFJLHNCQUFLO0FBQ1IsbUJBQVdMLFdBQVUsTUFBTSxRQUFRLEtBQUssR0FBRztBQUNmLFVBQUMsY0FBZSxJQUFJQSxPQUFNO0FBQUEsUUFDdEQ7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0QsVUFBRTtBQUNELGtCQUFjO0FBQ2QsMkJBQXVCLG1CQUFtQjtBQUUxQyw0QkFBd0I7QUFFeEIsUUFBSSxzQkFBSztBQUNSO0FBQUEsY0FBV0E7QUFBQTtBQUFBLFFBQXNDO0FBQUEsUUFBZ0I7QUFDaEUsUUFBQUEsUUFBTyxVQUFVO0FBQUEsTUFDbEI7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBRUEsU0FBUyxzQkFBc0I7QUFDOUIsTUFBSTtBQUNILElBQUUsNkJBQTZCO0FBQUEsRUFDaEMsU0FBUyxPQUFPO0FBQ2YsUUFBSSxzQkFBSztBQUVSLHNCQUFnQixPQUFPLFNBQVMsRUFBRSxPQUFPLEdBQUcsQ0FBQztBQUFBLElBQzlDO0FBSUEsMEJBQXNCLE9BQU8scUJBQXFCO0FBQUEsRUFDbkQ7QUFDRDtBQUdPLElBQUksc0JBQXNCO0FBTWpDLFNBQVMscUJBQXFCLFNBQVM7QUFDdEMsTUFBSSxTQUFTLFFBQVE7QUFDckIsTUFBSSxXQUFXLEVBQUc7QUFFbEIsTUFBSSxJQUFJO0FBRVIsU0FBTyxJQUFJLFFBQVE7QUFDbEIsUUFBSUMsVUFBUyxRQUFRLEdBQUc7QUFFeEIsU0FBS0EsUUFBTyxLQUFLLFlBQVksWUFBWSxLQUFLLFNBQVNBLE9BQU0sR0FBRztBQUMvRCw0QkFBc0Isb0JBQUksSUFBSTtBQUU5QixvQkFBY0EsT0FBTTtBQU9wQixVQUFJQSxRQUFPLFNBQVMsUUFBUUEsUUFBTyxVQUFVLFFBQVFBLFFBQU8sVUFBVSxNQUFNO0FBRzNFLFlBQUlBLFFBQU8sYUFBYSxRQUFRQSxRQUFPLE9BQU8sTUFBTTtBQUVuRCx3QkFBY0EsT0FBTTtBQUFBLFFBQ3JCLE9BQU87QUFFTixVQUFBQSxRQUFPLEtBQUs7QUFBQSxRQUNiO0FBQUEsTUFDRDtBQUlBLFdBQUksMkRBQXFCLFFBQU8sR0FBRztBQUNsQyxtQkFBVyxNQUFNO0FBRWpCLG1CQUFXLEtBQUsscUJBQXFCO0FBRXBDLGVBQUssRUFBRSxLQUFLLFlBQVksWUFBWSxFQUFHO0FBSXZDLGdCQUFNLGtCQUFrQixDQUFDLENBQUM7QUFDMUIsY0FBSSxXQUFXLEVBQUU7QUFDakIsaUJBQU8sYUFBYSxNQUFNO0FBQ3pCLGdCQUFJLG9CQUFvQixJQUFJLFFBQVEsR0FBRztBQUN0QyxrQ0FBb0IsT0FBTyxRQUFRO0FBQ25DLDhCQUFnQixLQUFLLFFBQVE7QUFBQSxZQUM5QjtBQUNBLHVCQUFXLFNBQVM7QUFBQSxVQUNyQjtBQUVBLG1CQUFTLElBQUksZ0JBQWdCLFNBQVMsR0FBRyxLQUFLLEdBQUcsS0FBSztBQUNyRCxrQkFBTUssS0FBSSxnQkFBZ0IsQ0FBQztBQUUzQixpQkFBS0EsR0FBRSxLQUFLLFlBQVksWUFBWSxFQUFHO0FBQ3ZDLDBCQUFjQSxFQUFDO0FBQUEsVUFDaEI7QUFBQSxRQUNEO0FBRUEsNEJBQW9CLE1BQU07QUFBQSxNQUMzQjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsd0JBQXNCO0FBQ3ZCO0FBV0EsU0FBUyxhQUFhLE9BQU8sU0FBUyxRQUFRLFNBQVM7QUFDdEQsTUFBSSxPQUFPLElBQUksS0FBSyxFQUFHO0FBQ3ZCLFNBQU8sSUFBSSxLQUFLO0FBRWhCLE1BQUksTUFBTSxjQUFjLE1BQU07QUFDN0IsZUFBVyxZQUFZLE1BQU0sV0FBVztBQUN2QyxZQUFNSixTQUFRLFNBQVM7QUFFdkIsV0FBS0EsU0FBUSxhQUFhLEdBQUc7QUFDNUI7QUFBQTtBQUFBLFVBQXFDO0FBQUEsVUFBVztBQUFBLFVBQVM7QUFBQSxVQUFRO0FBQUEsUUFBTztBQUFBLE1BQ3pFLFlBQ0VBLFVBQVMsUUFBUSxtQkFBbUIsTUFDcENBLFNBQVEsV0FBVyxLQUNwQixXQUFXLFVBQVUsU0FBUyxPQUFPLEdBQ3BDO0FBQ0QsMEJBQWtCLFVBQVUsS0FBSztBQUNqQztBQUFBO0FBQUEsVUFBdUM7QUFBQSxRQUFTO0FBQUEsTUFDakQ7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNEO0FBNkJBLFNBQVMsV0FBVyxVQUFVLFNBQVMsU0FBUztBQUMvQyxRQUFNLFVBQVUsUUFBUSxJQUFJLFFBQVE7QUFDcEMsTUFBSSxZQUFZLE9BQVcsUUFBTztBQUVsQyxNQUFJLFNBQVMsU0FBUyxNQUFNO0FBQzNCLGVBQVcsT0FBTyxTQUFTLE1BQU07QUFDaEMsVUFBSSxRQUFRLFNBQVMsR0FBRyxHQUFHO0FBQzFCLGVBQU87QUFBQSxNQUNSO0FBRUEsV0FBSyxJQUFJLElBQUksYUFBYSxLQUFLO0FBQUE7QUFBQSxRQUFtQztBQUFBLFFBQU07QUFBQSxRQUFTO0FBQUEsTUFBTyxHQUFHO0FBQzFGLGdCQUFRO0FBQUE7QUFBQSxVQUE0QjtBQUFBLFVBQU07QUFBQSxRQUFJO0FBQzlDLGVBQU87QUFBQSxNQUNSO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFFQSxVQUFRLElBQUksVUFBVSxLQUFLO0FBRTNCLFNBQU87QUFDUjtBQU1PLFNBQVMsZ0JBQWdCLFFBQVE7QUFDdkMsTUFBSUssVUFBVSx3QkFBd0I7QUFFdEMsU0FBT0EsUUFBTyxXQUFXLE1BQU07QUFDOUIsSUFBQUEsVUFBU0EsUUFBTztBQUNoQixRQUFJQyxTQUFRRCxRQUFPO0FBSW5CLFFBQ0MsZUFDQUEsWUFBVyxrQkFDVkMsU0FBUSxrQkFBa0IsTUFDMUJBLFNBQVEsaUJBQWlCLEdBQ3pCO0FBQ0Q7QUFBQSxJQUNEO0FBRUEsU0FBS0EsVUFBUyxjQUFjLG9CQUFvQixHQUFHO0FBQ2xELFdBQUtBLFNBQVEsV0FBVyxFQUFHO0FBQzNCLE1BQUFELFFBQU8sS0FBSztBQUFBLElBQ2I7QUFBQSxFQUNEO0FBRUEsc0JBQW9CLEtBQUtBLE9BQU07QUFDaEM7OztBQ3B3Qk8sU0FBUyxpQkFBaUIsT0FBTztBQUN2QyxNQUFJLGNBQWM7QUFDbEIsTUFBSSxVQUFVLE9BQU8sQ0FBQztBQUV0QixNQUFJO0FBRUosTUFBSSxzQkFBSztBQUNSLFFBQUksU0FBUywwQkFBMEI7QUFBQSxFQUN4QztBQUVBLFNBQU8sTUFBTTtBQUNaLFFBQUksZ0JBQWdCLEdBQUc7QUFDdEIsVUFBSSxPQUFPO0FBRVgsb0JBQWMsTUFBTTtBQUNuQixZQUFJLGdCQUFnQixHQUFHO0FBQ3RCLGlCQUFPLFFBQVEsTUFBTSxNQUFNLE1BQU0sVUFBVSxPQUFPLENBQUMsQ0FBQztBQUFBLFFBQ3JEO0FBRUEsdUJBQWU7QUFFZixlQUFPLE1BQU07QUFDWiwyQkFBaUIsTUFBTTtBQUl0QiwyQkFBZTtBQUVmLGdCQUFJLGdCQUFnQixHQUFHO0FBQ3RCO0FBQ0EscUJBQU87QUFJUCx3QkFBVSxPQUFPO0FBQUEsWUFDbEI7QUFBQSxVQUNELENBQUM7QUFBQSxRQUNGO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFDRDs7O0FDeENBLElBQUksUUFBUSxxQkFBcUIsbUJBQW1CO0FBUTdDLFNBQVMsU0FBUyxNQUFNLE9BQU8sVUFBVTtBQUMvQyxNQUFJLFNBQVMsTUFBTSxPQUFPLFFBQVE7QUFDbkM7QUFoRUEsME1BQUFFLGlCQUFBQyx1QkFBQTtBQWtFTyxJQUFNLFdBQU4sTUFBZTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQXlFckIsWUFBWSxNQUFNLE9BQU8sVUFBVTtBQXpFN0I7QUFFTjtBQUFBO0FBRUEsc0NBQWE7QUFHYjtBQUFBO0FBR0E7QUFBQSxzQ0FBZ0IsWUFBWSxlQUFlO0FBRzNDO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUEscUNBQWU7QUFHZjtBQUFBLHdDQUFrQjtBQUdsQjtBQUFBLHVDQUFpQjtBQUdqQjtBQUFBLDRDQUFzQjtBQUd0QjtBQUFBLHdDQUFrQjtBQUVsQiw2Q0FBdUI7QUFDdkIsdUNBQWlCO0FBRWpCLDhDQUF3QjtBQUd4QjtBQUFBLHVCQUFBRCxpQkFBaUIsb0JBQUksSUFBSTtBQUd6QjtBQUFBLHVCQUFBQyx1QkFBdUIsb0JBQUksSUFBSTtBQVMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHdDQUFrQjtBQUVsQixtREFBNkIsaUJBQWlCLE1BQU07QUFDbkQseUJBQUssaUJBQWtCLE9BQU8sbUJBQUsscUJBQW9CO0FBRXZELFVBQUksc0JBQUs7QUFDUixZQUFJLG1CQUFLLGtCQUFpQixtQkFBbUI7QUFBQSxNQUM5QztBQUVBLGFBQU8sTUFBTTtBQUNaLDJCQUFLLGlCQUFrQjtBQUFBLE1BQ3hCO0FBQUEsSUFDRCxDQUFDO0FBUUEsdUJBQUssU0FBVTtBQUNmLHVCQUFLLFFBQVM7QUFDZCx1QkFBSyxXQUFZO0FBRWpCLFNBQUs7QUFBQSxJQUFnQyxjQUFlO0FBRXBELFNBQUssYUFBYSxDQUFDLENBQUMsbUJBQUssUUFBTztBQUVoQyx1QkFBSyxTQUFVLE1BQU0sTUFBTTtBQUNKLE1BQUMsY0FBZSxJQUFJO0FBRTFDLFVBQUksV0FBVztBQUNkLGNBQU1DLFdBQVUsbUJBQUs7QUFDckIscUJBQWE7QUFFYixjQUFNO0FBQUE7QUFBQSxVQUNtQkEsU0FBUyxhQUFhO0FBQUEsVUFDdEJBLFNBQVMsU0FBUztBQUFBO0FBRTNDLFlBQUkseUJBQXlCO0FBQzVCLGdDQUFLLGlEQUFMO0FBQUEsUUFDRCxPQUFPO0FBQ04sZ0NBQUssa0RBQUw7QUFFQSxjQUFJLG1CQUFLLG9CQUFtQixHQUFHO0FBQzlCLGlCQUFLLGFBQWE7QUFBQSxVQUNuQjtBQUFBLFFBQ0Q7QUFBQSxNQUNELE9BQU87QUFDTixZQUFJLFNBQVMsc0JBQUssb0NBQUw7QUFFYixZQUFJO0FBQ0gsNkJBQUssY0FBZSxPQUFPLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFBQSxRQUNsRCxTQUFTLE9BQU87QUFDZixlQUFLLE1BQU0sS0FBSztBQUFBLFFBQ2pCO0FBRUEsWUFBSSxtQkFBSyxrQkFBaUIsR0FBRztBQUM1QixnQ0FBSyw4Q0FBTDtBQUFBLFFBQ0QsT0FBTztBQUNOLGVBQUssYUFBYTtBQUFBLFFBQ25CO0FBQUEsTUFDRDtBQUVBLGFBQU8sTUFBTTtBQXhMaEIsWUFBQUM7QUF5TEksU0FBQUEsTUFBQSxtQkFBSyxxQkFBTCxnQkFBQUEsSUFBc0I7QUFBQSxNQUN2QjtBQUFBLElBQ0QsR0FBRyxLQUFLO0FBRVIsUUFBSSxXQUFXO0FBQ2QseUJBQUssU0FBVTtBQUFBLElBQ2hCO0FBQUEsRUFDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFzREEsYUFBYUMsU0FBUTtBQUNwQixpQkFBYUEsU0FBUSxtQkFBS0osa0JBQWdCLG1CQUFLQyxzQkFBb0I7QUFBQSxFQUNwRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxjQUFjO0FBQ2IsV0FBTyxDQUFDLEtBQUssZUFBZSxDQUFDLEtBQUssVUFBVSxLQUFLLE9BQU8sWUFBWTtBQUFBLEVBQ3JFO0FBQUEsRUFFQSxzQkFBc0I7QUFDckIsV0FBTyxDQUFDLENBQUMsbUJBQUssUUFBTztBQUFBLEVBQ3RCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFnR0EscUJBQXFCLEdBQUc7QUFDdkIsMEJBQUssOENBQUwsV0FBMkI7QUFFM0IsdUJBQUssc0JBQUwsbUJBQUssd0JBQXdCO0FBRTdCLFFBQUksbUJBQUssa0JBQWlCO0FBQ3pCLG1CQUFhLG1CQUFLLGtCQUFpQixtQkFBSyxxQkFBb0I7QUFBQSxJQUM3RDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLHFCQUFxQjtBQUNwQix1QkFBSyw0QkFBTDtBQUNBLFdBQU87QUFBQTtBQUFBLE1BQW1DLG1CQUFLO0FBQUEsSUFBZ0I7QUFBQSxFQUNoRTtBQUFBO0FBQUEsRUFHQSxNQUFNLE9BQU87QUFDWixRQUFJLFVBQVUsbUJBQUssUUFBTztBQUMxQixRQUFJLFNBQVMsbUJBQUssUUFBTztBQUl6QixRQUFJLG1CQUFLLDBCQUEwQixDQUFDLFdBQVcsQ0FBQyxRQUFTO0FBQ3hELFlBQU07QUFBQSxJQUNQO0FBRUEsUUFBSSxtQkFBSyxlQUFjO0FBQ3RCLHFCQUFlLG1CQUFLLGFBQVk7QUFDaEMseUJBQUssY0FBZTtBQUFBLElBQ3JCO0FBRUEsUUFBSSxtQkFBSyxrQkFBaUI7QUFDekIscUJBQWUsbUJBQUssZ0JBQWU7QUFDbkMseUJBQUssaUJBQWtCO0FBQUEsSUFDeEI7QUFFQSxRQUFJLG1CQUFLLGlCQUFnQjtBQUN4QixxQkFBZSxtQkFBSyxlQUFjO0FBQ2xDLHlCQUFLLGdCQUFpQjtBQUFBLElBQ3ZCO0FBRUEsUUFBSSxXQUFXO0FBQ2Q7QUFBQTtBQUFBLFFBQThDLG1CQUFLO0FBQUEsTUFBYztBQUNqRSxXQUFLO0FBQ0wsdUJBQWlCLFdBQVcsQ0FBQztBQUFBLElBQzlCO0FBRUEsUUFBSSxZQUFZO0FBQ2hCLFFBQUksbUJBQW1CO0FBRXZCLFVBQU1JLFNBQVEsTUFBTTtBQUNuQixVQUFJLFdBQVc7QUFDZCxRQUFFLDJCQUEyQjtBQUM3QjtBQUFBLE1BQ0Q7QUFFQSxrQkFBWTtBQUVaLFVBQUksa0JBQWtCO0FBQ3JCLFFBQUUsOEJBQThCO0FBQUEsTUFDakM7QUFHQSxZQUFNLE9BQU87QUFFYix5QkFBSyxzQkFBdUI7QUFFNUIsVUFBSSxtQkFBSyxvQkFBbUIsTUFBTTtBQUNqQyxxQkFBYSxtQkFBSyxpQkFBZ0IsTUFBTTtBQUN2Qyw2QkFBSyxnQkFBaUI7QUFBQSxRQUN2QixDQUFDO0FBQUEsTUFDRjtBQUlBLFdBQUssYUFBYSxLQUFLLG9CQUFvQjtBQUUzQyx5QkFBSyxjQUFlLHNCQUFLLDZCQUFMLFdBQVUsTUFBTTtBQUNuQywyQkFBSyx1QkFBd0I7QUFDN0IsZUFBTyxPQUFPLE1BQU0sbUJBQUssV0FBTCxXQUFlLG1CQUFLLFNBQVE7QUFBQSxNQUNqRDtBQUVBLFVBQUksbUJBQUssa0JBQWlCLEdBQUc7QUFDNUIsOEJBQUssOENBQUw7QUFBQSxNQUNELE9BQU87QUFDTixhQUFLLGFBQWE7QUFBQSxNQUNuQjtBQUFBLElBQ0Q7QUFFQSxRQUFJLG9CQUFvQjtBQUV4QixRQUFJO0FBQ0gsMEJBQW9CLElBQUk7QUFDeEIseUJBQW1CO0FBQ25CLHlDQUFVLE9BQU9BO0FBQ2pCLHlCQUFtQjtBQUFBLElBQ3BCLFNBQVNDLFFBQU87QUFDZiw0QkFBc0JBLFFBQU8sbUJBQUssWUFBVyxtQkFBSyxTQUFRLE1BQU07QUFBQSxJQUNqRSxVQUFFO0FBQ0QsMEJBQW9CLGlCQUFpQjtBQUFBLElBQ3RDO0FBRUEsUUFBSSxRQUFRO0FBQ1gsdUJBQWlCLE1BQU07QUFDdEIsMkJBQUssZ0JBQWlCLHNCQUFLLDZCQUFMLFdBQVUsTUFBTTtBQUNyQyxnQkFBTSxPQUFPO0FBQ2IsNkJBQUssdUJBQXdCO0FBRTdCLGNBQUk7QUFDSCxtQkFBTyxPQUFPLE1BQU07QUFDbkI7QUFBQSxnQkFDQyxtQkFBSztBQUFBLGdCQUNMLE1BQU07QUFBQSxnQkFDTixNQUFNRDtBQUFBLGNBQ1A7QUFBQSxZQUNELENBQUM7QUFBQSxVQUNGLFNBQVNDLFFBQU87QUFDZjtBQUFBLGNBQXNCQTtBQUFBO0FBQUEsY0FBOEIsbUJBQUssU0FBUTtBQUFBLFlBQU87QUFDeEUsbUJBQU87QUFBQSxVQUNSLFVBQUU7QUFDRCwrQkFBSyx1QkFBd0I7QUFBQSxVQUM5QjtBQUFBLFFBQ0Q7QUFBQSxNQUNELENBQUM7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUNEO0FBelpDO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0FOLGtCQUFBO0FBR0FDLHdCQUFBO0FBU0E7QUFFQTtBQXhETTtBQWdJTiw4QkFBeUIsV0FBRztBQUMzQixNQUFJO0FBQ0gsdUJBQUssY0FBZSxPQUFPLE1BQU0sbUJBQUssV0FBTCxXQUFlLG1CQUFLLFNBQVE7QUFBQSxFQUM5RCxTQUFTLE9BQU87QUFDZixTQUFLLE1BQU0sS0FBSztBQUFBLEVBQ2pCO0FBQ0Q7QUFFQSw2QkFBd0IsV0FBRztBQUMxQixRQUFNTSxXQUFVLG1CQUFLLFFBQU87QUFDNUIsTUFBSSxDQUFDQSxVQUFTO0FBQ2I7QUFBQSxFQUNEO0FBQ0EscUJBQUssaUJBQWtCLE9BQU8sTUFBTUEsU0FBUSxtQkFBSyxRQUFPLENBQUM7QUFFekQsUUFBTSxRQUFRLE1BQU07QUFDbkIsUUFBSSxTQUFTLHNCQUFLLG9DQUFMO0FBRWIsdUJBQUssY0FBZSxzQkFBSyw2QkFBTCxXQUFVLE1BQU07QUFDbkMsWUFBTSxPQUFPO0FBQ2IsYUFBTyxPQUFPLE1BQU0sbUJBQUssV0FBTCxXQUFlLE9BQU87QUFBQSxJQUMzQztBQUVBLFFBQUksbUJBQUssa0JBQWlCLEdBQUc7QUFDNUIsNEJBQUssOENBQUw7QUFBQSxJQUNELE9BQU87QUFDTjtBQUFBO0FBQUEsUUFBb0MsbUJBQUs7QUFBQSxRQUFrQixNQUFNO0FBQ2hFLDZCQUFLLGlCQUFrQjtBQUFBLFFBQ3hCO0FBQUEsTUFBQztBQUVELFdBQUssYUFBYTtBQUFBLElBQ25CO0FBQUEsRUFDRCxDQUFDO0FBQ0Y7QUFFQSxnQkFBVyxXQUFHO0FBQ2IsTUFBSSxTQUFTLG1CQUFLO0FBRWxCLE1BQUksS0FBSyxZQUFZO0FBQ3BCLHVCQUFLLGlCQUFrQixZQUFZO0FBQ25DLHVCQUFLLFNBQVEsT0FBTyxtQkFBSyxnQkFBZTtBQUV4QyxhQUFTLG1CQUFLO0FBQUEsRUFDZjtBQUVBLFNBQU87QUFDUjtBQUFBO0FBQUE7QUFBQTtBQXlCQSxTQUFJLFNBQUMsSUFBSTtBQUNSLE1BQUksa0JBQWtCO0FBQ3RCLE1BQUksb0JBQW9CO0FBQ3hCLE1BQUksZUFBZTtBQUVuQixvQkFBa0IsbUJBQUssUUFBTztBQUM5QixzQkFBb0IsbUJBQUssUUFBTztBQUNoQyx3QkFBc0IsbUJBQUssU0FBUSxHQUFHO0FBRXRDLE1BQUk7QUFDSCxXQUFPLEdBQUc7QUFBQSxFQUNYLFNBQVMsR0FBRztBQUNYLGlCQUFhLENBQUM7QUFDZCxXQUFPO0FBQUEsRUFDUixVQUFFO0FBQ0Qsc0JBQWtCLGVBQWU7QUFDakMsd0JBQW9CLGlCQUFpQjtBQUNyQywwQkFBc0IsWUFBWTtBQUFBLEVBQ25DO0FBQ0Q7QUFFQSwwQkFBcUIsV0FBRztBQUN2QixRQUFNQTtBQUFBO0FBQUEsSUFBaUQsbUJBQUssUUFBTztBQUFBO0FBRW5FLE1BQUksbUJBQUssa0JBQWlCLE1BQU07QUFDL0IsdUJBQUsscUJBQXNCLFNBQVMsdUJBQXVCO0FBQzNELHVCQUFLLHFCQUFvQjtBQUFBO0FBQUEsTUFBb0MsbUJBQUs7QUFBQSxJQUFnQjtBQUNsRixnQkFBWSxtQkFBSyxlQUFjLG1CQUFLLG9CQUFtQjtBQUFBLEVBQ3hEO0FBRUEsTUFBSSxtQkFBSyxxQkFBb0IsTUFBTTtBQUNsQyx1QkFBSyxpQkFBa0IsT0FBTyxNQUFNQSxTQUFRLG1CQUFLLFFBQU8sQ0FBQztBQUFBLEVBQzFEO0FBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0EsMEJBQXFCLFNBQUMsR0FBRztBQWpUMUIsTUFBQUo7QUFrVEUsTUFBSSxDQUFDLEtBQUssb0JBQW9CLEdBQUc7QUFDaEMsUUFBSSxLQUFLLFFBQVE7QUFDaEIsc0JBQUFBLE1BQUEsS0FBSyxRQUFPLDhDQUFaLEtBQUFBLEtBQWtDO0FBQUEsSUFDbkM7QUFHQTtBQUFBLEVBQ0Q7QUFFQSxxQkFBSyxnQkFBTCxtQkFBSyxrQkFBa0I7QUFFdkIsTUFBSSxtQkFBSyxvQkFBbUIsR0FBRztBQUM5QixTQUFLLGFBQWE7QUFNbEIsZUFBVyxLQUFLLG1CQUFLSCxrQkFBZ0I7QUFDcEMsd0JBQWtCLEdBQUcsS0FBSztBQUMxQixzQkFBZ0IsQ0FBQztBQUFBLElBQ2xCO0FBRUEsZUFBVyxLQUFLLG1CQUFLQyx3QkFBc0I7QUFDMUMsd0JBQWtCLEdBQUcsV0FBVztBQUNoQyxzQkFBZ0IsQ0FBQztBQUFBLElBQ2xCO0FBRUEsdUJBQUtELGlCQUFlLE1BQU07QUFDMUIsdUJBQUtDLHVCQUFxQixNQUFNO0FBRWhDLFFBQUksbUJBQUssa0JBQWlCO0FBQ3pCLG1CQUFhLG1CQUFLLGtCQUFpQixNQUFNO0FBQ3hDLDJCQUFLLGlCQUFrQjtBQUFBLE1BQ3hCLENBQUM7QUFBQSxJQUNGO0FBRUEsUUFBSSxtQkFBSyxzQkFBcUI7QUFDN0IseUJBQUssU0FBUSxPQUFPLG1CQUFLLG9CQUFtQjtBQUM1Qyx5QkFBSyxxQkFBc0I7QUFBQSxJQUM1QjtBQUFBLEVBQ0Q7QUFDRDs7O0FDMVRNLFNBQVMsUUFBUSxVQUFVLE1BQU1PLFFBQU8sSUFBSTtBQUNsRCxRQUFNLElBQUksU0FBUyxJQUFJLFVBQVU7QUFFakMsTUFBSUEsT0FBTSxXQUFXLEtBQUssU0FBUyxXQUFXLEdBQUc7QUFDaEQsT0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDO0FBQ2Q7QUFBQSxFQUNEO0FBRUEsTUFBSSxRQUFRO0FBQ1osTUFBSTtBQUFBO0FBQUEsSUFBZ0M7QUFBQTtBQUVwQyxNQUFJLFVBQVUsUUFBUTtBQUV0QixXQUFTQyxPQUFNO0FBQ2QsWUFBUSxJQUFJRCxPQUFNLElBQUksQ0FBQyxlQUFlLGNBQWMsVUFBVSxDQUFDLENBQUMsRUFDOUQsS0FBSyxDQUFDLFdBQVc7QUFDakIsY0FBUTtBQUVSLFVBQUk7QUFDSCxXQUFHLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDO0FBQUEsTUFDL0IsU0FBUyxPQUFPO0FBRWYsYUFBSyxPQUFPLElBQUksZUFBZSxHQUFHO0FBQ2pDLGdDQUFzQixPQUFPLE1BQU07QUFBQSxRQUNwQztBQUFBLE1BQ0Q7QUFFQSxxQ0FBTztBQUNQLG9CQUFjO0FBQUEsSUFDZixDQUFDLEVBQ0EsTUFBTSxDQUFDLFVBQVU7QUFDakIsNEJBQXNCLE9BQU8sTUFBTTtBQUFBLElBQ3BDLENBQUM7QUFBQSxFQUNIO0FBRUEsTUFBSSxTQUFTLFNBQVMsR0FBRztBQUN4QixZQUFRLElBQUksUUFBUSxFQUFFLEtBQUssTUFBTTtBQUNoQyxjQUFRO0FBRVIsVUFBSTtBQUNILGVBQU9DLEtBQUk7QUFBQSxNQUNaLFVBQUU7QUFDRCx1Q0FBTztBQUNQLHNCQUFjO0FBQUEsTUFDZjtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0YsT0FBTztBQUNOLElBQUFBLEtBQUk7QUFBQSxFQUNMO0FBQ0Q7QUFlTyxTQUFTLFVBQVU7QUFDekIsTUFBSSxrQkFBa0I7QUFDdEIsTUFBSSxvQkFBb0I7QUFDeEIsTUFBSSw2QkFBNkI7QUFDakMsTUFBSUMsa0JBQWlCO0FBRXJCLE1BQUksc0JBQUs7QUFDUixRQUFJLHFCQUFxQjtBQUFBLEVBQzFCO0FBRUEsU0FBTyxTQUFTLFFBQVEsaUJBQWlCLE1BQU07QUFDOUMsc0JBQWtCLGVBQWU7QUFDakMsd0JBQW9CLGlCQUFpQjtBQUNyQywwQkFBc0IsMEJBQTBCO0FBQ2hELFFBQUksZUFBZ0IsQ0FBQUEsbUJBQUEsZ0JBQUFBLGdCQUFnQjtBQUVwQyxRQUFJLHNCQUFLO0FBQ1IsNkJBQXVCLElBQUk7QUFDM0Isb0JBQWMsa0JBQWtCO0FBQUEsSUFDakM7QUFBQSxFQUNEO0FBQ0Q7QUFrRk8sU0FBUyxnQkFBZ0I7QUFDL0Isb0JBQWtCLElBQUk7QUFDdEIsc0JBQW9CLElBQUk7QUFDeEIsd0JBQXNCLElBQUk7QUFFMUIsTUFBSSxzQkFBSztBQUNSLDJCQUF1QixJQUFJO0FBQzNCLGtCQUFjLElBQUk7QUFBQSxFQUNuQjtBQUNEOzs7QUMzS08sSUFBSSx1QkFBdUI7QUFHM0IsU0FBUyx1QkFBdUIsR0FBRztBQUN6Qyx5QkFBdUI7QUFDeEI7QUFFTyxJQUFNLHdCQUF3QixvQkFBSSxJQUFJO0FBQUE7QUFRdEMsU0FBUyxRQUFRLElBQUk7QUFDM0IsTUFBSUMsU0FBUSxVQUFVO0FBQ3RCLE1BQUksaUJBQ0gsb0JBQW9CLFNBQVMsZ0JBQWdCLElBQUksYUFBYTtBQUFBO0FBQUEsSUFDbkM7QUFBQSxNQUN4QjtBQUVKLE1BQUksa0JBQWtCLE1BQU07QUFHM0Isa0JBQWMsS0FBSztBQUFBLEVBQ3BCO0FBR0EsUUFBTSxTQUFTO0FBQUEsSUFDZCxLQUFLO0FBQUEsSUFDTCxNQUFNO0FBQUEsSUFDTixTQUFTO0FBQUEsSUFDVDtBQUFBLElBQ0EsR0FBR0E7QUFBQSxJQUNIO0FBQUEsSUFDQSxXQUFXO0FBQUEsSUFDWCxJQUFJO0FBQUEsSUFDSjtBQUFBO0FBQUEsTUFBcUI7QUFBQTtBQUFBLElBQ3JCLElBQUk7QUFBQSxJQUNKLFFBQVEsMENBQWtCO0FBQUEsSUFDMUIsSUFBSTtBQUFBLEVBQ0w7QUFFQSxNQUFJLHdCQUFPLG1CQUFtQjtBQUM3QixXQUFPLFVBQVUsVUFBVSxZQUFZO0FBQUEsRUFDeEM7QUFFQSxTQUFPO0FBQ1I7QUFBQTtBQVVPLFNBQVMsY0FBYyxJQUFJLE9BQU8sVUFBVTtBQUNsRCxNQUFJO0FBQUE7QUFBQSxJQUF1QztBQUFBO0FBRTNDLE1BQUksV0FBVyxNQUFNO0FBQ3BCLElBQUUscUJBQXFCO0FBQUEsRUFDeEI7QUFFQSxNQUFJQztBQUFBO0FBQUEsSUFBb0MsT0FBTztBQUFBO0FBRS9DLE1BQUk7QUFBQTtBQUFBO0FBQUEsSUFBNkQ7QUFBQTtBQUNqRSxNQUFJLFNBQVM7QUFBQTtBQUFBLElBQXlCO0FBQUEsRUFBYztBQUVwRCxNQUFJLHFCQUFLLFFBQU8sUUFBUTtBQUd4QixNQUFJLGlCQUFpQixDQUFDO0FBR3RCLE1BQUksWUFBWSxvQkFBSSxJQUFJO0FBRXhCLGVBQWEsTUFBTTtBQXRIcEIsUUFBQUM7QUF1SEUsUUFBSSxxQkFBSyx3QkFBdUI7QUFHaEMsUUFBSSxJQUFJLFNBQVM7QUFDakIsY0FBVSxFQUFFO0FBRVosUUFBSTtBQUlILGNBQVEsUUFBUSxHQUFHLENBQUMsRUFDbEIsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQ3hCLEtBQUssTUFBTTtBQUNYLFlBQUksVUFBVSxpQkFBaUIsTUFBTSxXQUFXO0FBRy9DLGdCQUFNLFdBQVc7QUFBQSxRQUNsQjtBQUVBLHNCQUFjO0FBQUEsTUFDZixDQUFDO0FBQUEsSUFDSCxTQUFTLE9BQU87QUFDZixRQUFFLE9BQU8sS0FBSztBQUNkLG9CQUFjO0FBQUEsSUFDZjtBQUVBLFFBQUkscUJBQUssd0JBQXVCO0FBRWhDLFFBQUk7QUFBQTtBQUFBLE1BQThCO0FBQUE7QUFFbEMsUUFBSSxnQkFBZ0I7QUFDbkIsVUFBSSxXQUFXRCxVQUFTLFlBQVk7QUFFcEMsTUFBQUEsVUFBUyxxQkFBcUIsQ0FBQztBQUMvQixZQUFNLFVBQVUsUUFBUTtBQUV4QixPQUFBQyxNQUFBLFVBQVUsSUFBSSxLQUFLLE1BQW5CLGdCQUFBQSxJQUFzQixPQUFPO0FBQzdCLGdCQUFVLE9BQU8sS0FBSztBQUN0QixnQkFBVSxJQUFJLE9BQU8sQ0FBQztBQUFBLElBQ3ZCO0FBTUEsVUFBTSxVQUFVLENBQUMsT0FBTyxRQUFRLFdBQWM7QUFDN0MsNkJBQXVCO0FBRXZCLFlBQU0sU0FBUztBQUVmLFVBQUksT0FBTztBQUNWLFlBQUksVUFBVSxnQkFBZ0I7QUFDN0IsaUJBQU8sS0FBSztBQUdaLHVCQUFhLFFBQVEsS0FBSztBQUFBLFFBQzNCO0FBQUEsTUFDRCxPQUFPO0FBQ04sYUFBSyxPQUFPLElBQUksaUJBQWlCLEdBQUc7QUFDbkMsaUJBQU8sS0FBSztBQUFBLFFBQ2I7QUFFQSxxQkFBYSxRQUFRLEtBQUs7QUFHMUIsbUJBQVcsQ0FBQyxHQUFHQyxFQUFDLEtBQUssV0FBVztBQUMvQixvQkFBVSxPQUFPLENBQUM7QUFDbEIsY0FBSSxNQUFNLE1BQU87QUFDakIsVUFBQUEsR0FBRSxPQUFPLGNBQWM7QUFBQSxRQUN4QjtBQUVBLFlBQUksd0JBQU8sYUFBYSxRQUFXO0FBQ2xDLGdDQUFzQixJQUFJLE1BQU07QUFFaEMscUJBQVcsTUFBTTtBQUNoQixnQkFBSSxzQkFBc0IsSUFBSSxNQUFNLEdBQUc7QUFDdEMsY0FBRTtBQUFBO0FBQUEsZ0JBQXVDLE9BQU87QUFBQSxnQkFBUTtBQUFBLGNBQVE7QUFDaEUsb0NBQXNCLE9BQU8sTUFBTTtBQUFBLFlBQ3BDO0FBQUEsVUFDRCxDQUFDO0FBQUEsUUFDRjtBQUFBLE1BQ0Q7QUFFQSxVQUFJLGdCQUFnQjtBQUNuQixRQUFBRixVQUFTLHFCQUFxQixFQUFFO0FBQ2hDLGNBQU0sVUFBVSxRQUFRO0FBQUEsTUFDekI7QUFBQSxJQUNEO0FBRUEsTUFBRSxRQUFRLEtBQUssU0FBUyxDQUFDLE1BQU0sUUFBUSxNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDN0QsQ0FBQztBQUVELFdBQVMsTUFBTTtBQUNkLGVBQVcsS0FBSyxVQUFVLE9BQU8sR0FBRztBQUNuQyxRQUFFLE9BQU8sY0FBYztBQUFBLElBQ3hCO0FBQUEsRUFDRCxDQUFDO0FBRUQsTUFBSSxzQkFBSztBQUdSLFdBQU8sS0FBSztBQUFBLEVBQ2I7QUFFQSxTQUFPLElBQUksUUFBUSxDQUFDLFdBQVc7QUFFOUIsYUFBU0csTUFBSyxHQUFHO0FBQ2hCLGVBQVMsS0FBSztBQUNiLFlBQUksTUFBTSxTQUFTO0FBQ2xCLGlCQUFPLE1BQU07QUFBQSxRQUNkLE9BQU87QUFHTixVQUFBQSxNQUFLLE9BQU87QUFBQSxRQUNiO0FBQUEsTUFDRDtBQUVBLFFBQUUsS0FBSyxJQUFJLEVBQUU7QUFBQSxJQUNkO0FBRUEsSUFBQUEsTUFBSyxPQUFPO0FBQUEsRUFDYixDQUFDO0FBQ0Y7O0FBc0JPLFNBQVMsbUJBQW1CLElBQUk7QUFDdEMsUUFBTSxTQUFTLHdCQUFRLEVBQUU7QUFDekIsU0FBTyxTQUFTO0FBQ2hCLFNBQU87QUFDUjtBQU1PLFNBQVMsd0JBQXdCQyxVQUFTO0FBQ2hELE1BQUksVUFBVUEsU0FBUTtBQUV0QixNQUFJLFlBQVksTUFBTTtBQUNyQixJQUFBQSxTQUFRLFVBQVU7QUFFbEIsYUFBUyxJQUFJLEdBQUcsSUFBSSxRQUFRLFFBQVEsS0FBSyxHQUFHO0FBQzNDO0FBQUE7QUFBQSxRQUFzQyxRQUFRLENBQUM7QUFBQSxNQUFFO0FBQUEsSUFDbEQ7QUFBQSxFQUNEO0FBQ0Q7QUFPQSxJQUFJLFFBQVEsQ0FBQztBQU1iLFNBQVMsMEJBQTBCQSxVQUFTO0FBQzNDLE1BQUksU0FBU0EsU0FBUTtBQUNyQixTQUFPLFdBQVcsTUFBTTtBQUN2QixTQUFLLE9BQU8sSUFBSSxhQUFhLEdBQUc7QUFHL0IsY0FBUSxPQUFPLElBQUksZUFBZTtBQUFBO0FBQUEsUUFBMkI7QUFBQSxVQUFVO0FBQUEsSUFDeEU7QUFDQSxhQUFTLE9BQU87QUFBQSxFQUNqQjtBQUNBLFNBQU87QUFDUjtBQU9PLFNBQVMsZ0JBQWdCQSxVQUFTO0FBQ3hDLE1BQUk7QUFDSixNQUFJLHFCQUFxQjtBQUV6QixvQkFBa0IsMEJBQTBCQSxRQUFPLENBQUM7QUFFcEQsTUFBSSxzQkFBSztBQUNSLFFBQUkscUJBQXFCO0FBQ3pCLHNCQUFrQixvQkFBSSxJQUFJLENBQUM7QUFDM0IsUUFBSTtBQUNILFVBQUksTUFBTSxTQUFTQSxRQUFPLEdBQUc7QUFDNUIsUUFBRSx3QkFBd0I7QUFBQSxNQUMzQjtBQUVBLFlBQU0sS0FBS0EsUUFBTztBQUVsQixNQUFBQSxTQUFRLEtBQUssQ0FBQztBQUNkLDhCQUF3QkEsUUFBTztBQUMvQixjQUFRLGdCQUFnQkEsUUFBTztBQUFBLElBQ2hDLFVBQUU7QUFDRCx3QkFBa0Isa0JBQWtCO0FBQ3BDLHdCQUFrQixrQkFBa0I7QUFDcEMsWUFBTSxJQUFJO0FBQUEsSUFDWDtBQUFBLEVBQ0QsT0FBTztBQUNOLFFBQUk7QUFDSCxNQUFBQSxTQUFRLEtBQUssQ0FBQztBQUNkLDhCQUF3QkEsUUFBTztBQUMvQixjQUFRLGdCQUFnQkEsUUFBTztBQUFBLElBQ2hDLFVBQUU7QUFDRCx3QkFBa0Isa0JBQWtCO0FBQUEsSUFDckM7QUFBQSxFQUNEO0FBRUEsU0FBTztBQUNSO0FBTU8sU0FBUyxlQUFlQSxVQUFTO0FBbld4QyxNQUFBQyxLQUFBQztBQW9XQyxNQUFJLFFBQVEsZ0JBQWdCRixRQUFPO0FBRW5DLE1BQUksQ0FBQ0EsU0FBUSxPQUFPLEtBQUssR0FBRztBQUMzQixJQUFBQSxTQUFRLEtBQUssd0JBQXdCO0FBTXJDLFFBQUksR0FBQ0MsTUFBQSxrQ0FBQUEsSUFBZSxZQUFXRCxTQUFRLFNBQVMsTUFBTTtBQUNyRCxNQUFBQSxTQUFRLElBQUk7QUFHWixVQUFJQSxTQUFRLFNBQVMsTUFBTTtBQUMxQiwwQkFBa0JBLFVBQVMsS0FBSztBQUNoQztBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUlBLE1BQUksc0JBQXNCO0FBQ3pCO0FBQUEsRUFDRDtBQUlBLE1BQUksaUJBQWlCLE1BQU07QUFHMUIsUUFBSSxnQkFBZ0IsT0FBS0UsTUFBQSxrQ0FBQUEsSUFBZSxVQUFTO0FBQ2hELG1CQUFhLElBQUlGLFVBQVMsS0FBSztBQUFBLElBQ2hDO0FBQUEsRUFDRCxPQUFPO0FBQ04sMEJBQXNCQSxRQUFPO0FBQUEsRUFDOUI7QUFDRDs7O0FDN1ZPLElBQUksZ0JBQWdCLG9CQUFJLElBQUk7QUFHNUIsSUFBTSxhQUFhLG9CQUFJLElBQUk7QUFLM0IsU0FBUyxrQkFBa0IsR0FBRztBQUNwQyxrQkFBZ0I7QUFDakI7QUFFQSxJQUFJLHlCQUF5QjtBQUV0QixTQUFTLDZCQUE2QjtBQUM1QywyQkFBeUI7QUFDMUI7QUFTTyxTQUFTLE9BQU8sR0FBR0csUUFBTztBQUVoQyxNQUFJLFNBQVM7QUFBQSxJQUNaLEdBQUc7QUFBQTtBQUFBLElBQ0g7QUFBQSxJQUNBLFdBQVc7QUFBQSxJQUNYO0FBQUEsSUFDQSxJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsRUFDTDtBQUVBLE1BQUksd0JBQU8sbUJBQW1CO0FBQzdCLFdBQU8sVUFBVUEsVUFBQSxPQUFBQSxTQUFTLFVBQVUsWUFBWTtBQUNoRCxXQUFPLFVBQVU7QUFDakIsV0FBTyxvQkFBb0I7QUFDM0IsV0FBTyxRQUFRO0FBQUEsRUFDaEI7QUFFQSxTQUFPO0FBQ1I7QUFBQTtBQVFPLFNBQVMsTUFBTSxHQUFHQSxRQUFPO0FBQy9CLFFBQU0sSUFBSSxPQUFPLEdBQUdBLE1BQUs7QUFFekIsc0JBQW9CLENBQUM7QUFFckIsU0FBTztBQUNSO0FBQUE7QUFTTyxTQUFTLGVBQWUsZUFBZSxZQUFZLE9BQU8sWUFBWSxNQUFNO0FBL0duRixNQUFBQyxLQUFBQztBQWdIQyxRQUFNLElBQUksT0FBTyxhQUFhO0FBQzlCLE1BQUksQ0FBQyxXQUFXO0FBQ2YsTUFBRSxTQUFTO0FBQUEsRUFDWjtBQUlBLE1BQUksb0JBQW9CLGFBQWEsc0JBQXNCLFFBQVEsa0JBQWtCLE1BQU0sTUFBTTtBQUNoRyxNQUFDQSxPQUFBRCxNQUFBLGtCQUFrQixHQUFFLE1BQXBCLE9BQUFDLE1BQUFELElBQW9CLElBQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUFBLEVBQ3RDO0FBRUEsU0FBTztBQUNSO0FBc0JPLFNBQVMsSUFBSUUsU0FBUSxPQUFPLGVBQWUsT0FBTztBQWxKekQsTUFBQUM7QUFtSkMsTUFDQyxvQkFBb0I7QUFBQTtBQUFBLEdBR25CLENBQUMsZUFBZSxnQkFBZ0IsSUFBSSxrQkFBa0IsTUFDdkQsU0FBUyxNQUNSLGdCQUFnQixLQUFLLFVBQVUsZUFBZSxRQUFRLG1CQUFtQixLQUMxRSxHQUFDQSxNQUFBLG9DQUFBQSxJQUFpQixTQUFTRCxXQUMxQjtBQUNELElBQUUsc0JBQXNCO0FBQUEsRUFDekI7QUFFQSxNQUFJLFlBQVksZUFBZSxNQUFNLEtBQUssSUFBSTtBQUU5QyxNQUFJLHNCQUFLO0FBQ1I7QUFBQSxNQUFVO0FBQUE7QUFBQSxNQUFrQ0EsUUFBTztBQUFBLElBQU07QUFBQSxFQUMxRDtBQUVBLFNBQU8sYUFBYUEsU0FBUSxTQUFTO0FBQ3RDO0FBUU8sU0FBUyxhQUFhQSxTQUFRLE9BQU87QUE5SzVDLE1BQUFDLEtBQUFDLEtBQUFDO0FBK0tDLE1BQUksQ0FBQ0gsUUFBTyxPQUFPLEtBQUssR0FBRztBQUMxQixRQUFJLFlBQVlBLFFBQU87QUFFdkIsUUFBSSxzQkFBc0I7QUFDekIsaUJBQVcsSUFBSUEsU0FBUSxLQUFLO0FBQUEsSUFDN0IsT0FBTztBQUNOLGlCQUFXLElBQUlBLFNBQVEsU0FBUztBQUFBLElBQ2pDO0FBRUEsSUFBQUEsUUFBTyxJQUFJO0FBRVgsUUFBSSxRQUFRLE1BQU0sT0FBTztBQUN6QixVQUFNLFFBQVFBLFNBQVEsU0FBUztBQUUvQixRQUFJLHNCQUFLO0FBQ1IsVUFBSSxxQkFBcUIsa0JBQWtCLE1BQU07QUFDaEQsU0FBQUMsTUFBQUQsUUFBTyxZQUFQLE9BQUFDLE1BQUFELFFBQU8sVUFBWSxvQkFBSSxJQUFJO0FBSTNCLGNBQU0sVUFBU0csT0FBQUQsTUFBQUYsUUFBTyxRQUFRLElBQUksRUFBRSxNQUFyQixnQkFBQUUsSUFBd0IsVUFBeEIsT0FBQUMsTUFBaUMsS0FBSztBQUNyRCxRQUFBSCxRQUFPLFFBQVEsSUFBSSxJQUFJLEVBQUU7QUFBQTtBQUFBLFVBQTJCO0FBQUEsV0FBTyxNQUFNLENBQUM7QUFFbEUsWUFBSSxxQkFBcUIsUUFBUSxHQUFHO0FBQ25DLGdCQUFNLFFBQVEsVUFBVSxZQUFZO0FBRXBDLGNBQUksVUFBVSxNQUFNO0FBQ25CLGdCQUFJLFFBQVFBLFFBQU8sUUFBUSxJQUFJLE1BQU0sS0FBSztBQUUxQyxnQkFBSSxDQUFDLE9BQU87QUFDWCxzQkFBUSxFQUFFLE9BQU8sT0FBTyxFQUFFO0FBQzFCLGNBQUFBLFFBQU8sUUFBUSxJQUFJLE1BQU0sT0FBTyxLQUFLO0FBQUEsWUFDdEM7QUFFQSxrQkFBTTtBQUFBLFVBQ1A7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUVBLFVBQUksa0JBQWtCLE1BQU07QUFDM0IsUUFBQUEsUUFBTyxvQkFBb0I7QUFBQSxNQUM1QjtBQUFBLElBQ0Q7QUFFQSxTQUFLQSxRQUFPLElBQUksYUFBYSxHQUFHO0FBQy9CLFlBQU1JO0FBQUE7QUFBQSxRQUFrQ0o7QUFBQTtBQUd4QyxXQUFLQSxRQUFPLElBQUksV0FBVyxHQUFHO0FBQzdCLHdCQUFnQkksUUFBTztBQUFBLE1BQ3hCO0FBRUEsNEJBQXNCQSxRQUFPO0FBQUEsSUFDOUI7QUFFQSxJQUFBSixRQUFPLEtBQUssd0JBQXdCO0FBSXBDLG1CQUFlQSxTQUFRLEtBQUs7QUFNNUIsUUFDQyxTQUFTLEtBQ1Qsa0JBQWtCLFNBQ2pCLGNBQWMsSUFBSSxXQUFXLE1BQzdCLGNBQWMsS0FBSyxnQkFBZ0Isa0JBQWtCLEdBQ3JEO0FBQ0QsVUFBSSxxQkFBcUIsTUFBTTtBQUM5Qiw2QkFBcUIsQ0FBQ0EsT0FBTSxDQUFDO0FBQUEsTUFDOUIsT0FBTztBQUNOLHlCQUFpQixLQUFLQSxPQUFNO0FBQUEsTUFDN0I7QUFBQSxJQUNEO0FBRUEsUUFBSSxDQUFDLE1BQU0sV0FBVyxjQUFjLE9BQU8sS0FBSyxDQUFDLHdCQUF3QjtBQUN4RSwwQkFBb0I7QUFBQSxJQUNyQjtBQUFBLEVBQ0Q7QUFFQSxTQUFPO0FBQ1I7QUFFTyxTQUFTLHNCQUFzQjtBQUNyQywyQkFBeUI7QUFDekIsTUFBSSwwQkFBMEI7QUFDOUIseUJBQXVCLElBQUk7QUFFM0IsUUFBTSxXQUFXLE1BQU0sS0FBSyxhQUFhO0FBRXpDLE1BQUk7QUFDSCxlQUFXSyxXQUFVLFVBQVU7QUFHOUIsV0FBS0EsUUFBTyxJQUFJLFdBQVcsR0FBRztBQUM3QiwwQkFBa0JBLFNBQVEsV0FBVztBQUFBLE1BQ3RDO0FBRUEsVUFBSSxTQUFTQSxPQUFNLEdBQUc7QUFDckIsc0JBQWNBLE9BQU07QUFBQSxNQUNyQjtBQUFBLElBQ0Q7QUFBQSxFQUNELFVBQUU7QUFDRCwyQkFBdUIsdUJBQXVCO0FBQUEsRUFDL0M7QUFFQSxnQkFBYyxNQUFNO0FBQ3JCO0FBbUNPLFNBQVMsVUFBVUMsU0FBUTtBQUNqQyxNQUFJQSxTQUFRQSxRQUFPLElBQUksQ0FBQztBQUN6QjtBQU9BLFNBQVMsZUFBZSxRQUFRLFFBQVE7QUF6VXhDLE1BQUFDO0FBMFVDLE1BQUksWUFBWSxPQUFPO0FBQ3ZCLE1BQUksY0FBYyxLQUFNO0FBRXhCLE1BQUksUUFBUSxTQUFTO0FBQ3JCLE1BQUksU0FBUyxVQUFVO0FBRXZCLFdBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxLQUFLO0FBQ2hDLFFBQUksV0FBVyxVQUFVLENBQUM7QUFDMUIsUUFBSUMsU0FBUSxTQUFTO0FBR3JCLFFBQUksQ0FBQyxTQUFTLGFBQWEsY0FBZTtBQUcxQyxRQUFJLHlCQUFRQSxTQUFRLGtCQUFrQixHQUFHO0FBQ3hDLG9CQUFjLElBQUksUUFBUTtBQUMxQjtBQUFBLElBQ0Q7QUFFQSxRQUFJLGFBQWFBLFNBQVEsV0FBVztBQUdwQyxRQUFJLFdBQVc7QUFDZCx3QkFBa0IsVUFBVSxNQUFNO0FBQUEsSUFDbkM7QUFFQSxTQUFLQSxTQUFRLGFBQWEsR0FBRztBQUM1QixVQUFJQztBQUFBO0FBQUEsUUFBa0M7QUFBQTtBQUV0QyxPQUFBRixNQUFBLGlDQUFBQSxJQUFjLE9BQU9FO0FBRXJCLFdBQUtELFNBQVEsZ0JBQWdCLEdBQUc7QUFFL0IsWUFBSUEsU0FBUSxXQUFXO0FBQ3RCLG1CQUFTLEtBQUs7QUFBQSxRQUNmO0FBRUEsdUJBQWVDLFVBQVMsV0FBVztBQUFBLE1BQ3BDO0FBQUEsSUFDRCxXQUFXLFdBQVc7QUFDckIsV0FBS0QsU0FBUSxrQkFBa0IsS0FBSyx3QkFBd0IsTUFBTTtBQUNqRSw0QkFBb0I7QUFBQTtBQUFBLFVBQTJCO0FBQUEsUUFBUztBQUFBLE1BQ3pEO0FBRUE7QUFBQTtBQUFBLFFBQXVDO0FBQUEsTUFBUztBQUFBLElBQ2pEO0FBQUEsRUFDRDtBQUNEOzs7QUN6VkEsSUFBTSw0QkFBNEI7QUFPM0IsU0FBUyxNQUFNLE9BQU87QUFFNUIsTUFBSSxPQUFPLFVBQVUsWUFBWSxVQUFVLFFBQVEsZ0JBQWdCLE9BQU87QUFDekUsV0FBTztBQUFBLEVBQ1I7QUFFQSxRQUFNLFlBQVksaUJBQWlCLEtBQUs7QUFFeEMsTUFBSSxjQUFjLG9CQUFvQixjQUFjLGlCQUFpQjtBQUNwRSxXQUFPO0FBQUEsRUFDUjtBQUdBLE1BQUksVUFBVSxvQkFBSSxJQUFJO0FBQ3RCLE1BQUksbUJBQW1CLFNBQVMsS0FBSztBQUNyQyxNQUFJLFVBQVUsTUFBTyxDQUFDO0FBRXRCLE1BQUlFLFNBQVEsd0JBQU8sb0JBQW9CLFVBQVUsWUFBWSxJQUFJO0FBQ2pFLE1BQUksaUJBQWlCO0FBT3JCLE1BQUksY0FBYyxDQUFDLE9BQU87QUFDekIsUUFBSSxtQkFBbUIsZ0JBQWdCO0FBQ3RDLGFBQU8sR0FBRztBQUFBLElBQ1g7QUFJQSxRQUFJLFdBQVc7QUFDZixRQUFJQyxXQUFVO0FBRWQsd0JBQW9CLElBQUk7QUFDeEIsdUJBQW1CLGNBQWM7QUFFakMsUUFBSSxTQUFTLEdBQUc7QUFFaEIsd0JBQW9CLFFBQVE7QUFDNUIsdUJBQW1CQSxRQUFPO0FBRTFCLFdBQU87QUFBQSxFQUNSO0FBRUEsTUFBSSxrQkFBa0I7QUFHckIsWUFBUSxJQUFJLFVBQVU7QUFBQTtBQUFBLE1BQTZCLE1BQU87QUFBQSxNQUFRRDtBQUFBLElBQUssQ0FBQztBQUN4RSxRQUFJLHNCQUFLO0FBQ1I7QUFBQSxNQUE0QjtBQUFBO0FBQUEsUUFBd0M7QUFBQSxNQUFNO0FBQUEsSUFDM0U7QUFBQSxFQUNEO0FBR0EsTUFBSSxPQUFPO0FBQ1gsTUFBSSxXQUFXO0FBRWYsV0FBUyxZQUFZLFVBQVU7QUFDOUIsUUFBSSxTQUFVO0FBQ2QsZUFBVztBQUNYLFdBQU87QUFFUCxRQUFJLFNBQVMsR0FBRyxJQUFJLFVBQVU7QUFHOUIsZUFBVyxDQUFDRSxPQUFNQyxPQUFNLEtBQUssU0FBUztBQUNyQyxVQUFJQSxTQUFRLFVBQVUsTUFBTUQsS0FBSSxDQUFDO0FBQUEsSUFDbEM7QUFDQSxlQUFXO0FBQUEsRUFDWjtBQUVBLFNBQU8sSUFBSTtBQUFBO0FBQUEsSUFBMEI7QUFBQSxJQUFRO0FBQUEsTUFDNUMsZUFBZSxHQUFHQSxPQUFNLFlBQVk7QUFDbkMsWUFDQyxFQUFFLFdBQVcsZUFDYixXQUFXLGlCQUFpQixTQUM1QixXQUFXLGVBQWUsU0FDMUIsV0FBVyxhQUFhLE9BQ3ZCO0FBS0QsVUFBRSx3QkFBd0I7QUFBQSxRQUMzQjtBQUNBLFlBQUksSUFBSSxRQUFRLElBQUlBLEtBQUk7QUFDeEIsWUFBSSxNQUFNLFFBQVc7QUFDcEIsY0FBSSxZQUFZLE1BQU07QUFDckIsZ0JBQUlFLEtBQUksTUFBTyxXQUFXLE9BQU9KLE1BQUs7QUFDdEMsb0JBQVEsSUFBSUUsT0FBTUUsRUFBQztBQUNuQixnQkFBSSx3QkFBTyxPQUFPRixVQUFTLFVBQVU7QUFDcEMsa0JBQUlFLElBQUcsVUFBVSxNQUFNRixLQUFJLENBQUM7QUFBQSxZQUM3QjtBQUNBLG1CQUFPRTtBQUFBLFVBQ1IsQ0FBQztBQUFBLFFBQ0YsT0FBTztBQUNOLGNBQUksR0FBRyxXQUFXLE9BQU8sSUFBSTtBQUFBLFFBQzlCO0FBRUEsZUFBTztBQUFBLE1BQ1I7QUFBQSxNQUVBLGVBQWUsUUFBUUYsT0FBTTtBQUM1QixZQUFJLElBQUksUUFBUSxJQUFJQSxLQUFJO0FBRXhCLFlBQUksTUFBTSxRQUFXO0FBQ3BCLGNBQUlBLFNBQVEsUUFBUTtBQUNuQixrQkFBTUUsS0FBSSxZQUFZLE1BQU0sTUFBTyxlQUFlSixNQUFLLENBQUM7QUFDeEQsb0JBQVEsSUFBSUUsT0FBTUUsRUFBQztBQUNuQixzQkFBVSxPQUFPO0FBRWpCLGdCQUFJLHNCQUFLO0FBQ1Isa0JBQUlBLElBQUcsVUFBVSxNQUFNRixLQUFJLENBQUM7QUFBQSxZQUM3QjtBQUFBLFVBQ0Q7QUFBQSxRQUNELE9BQU87QUFDTixjQUFJLEdBQUcsYUFBYTtBQUNwQixvQkFBVSxPQUFPO0FBQUEsUUFDbEI7QUFFQSxlQUFPO0FBQUEsTUFDUjtBQUFBLE1BRUEsSUFBSSxRQUFRQSxPQUFNLFVBQVU7QUFwSzlCLFlBQUFHO0FBcUtHLFlBQUlILFVBQVMsY0FBYztBQUMxQixpQkFBTztBQUFBLFFBQ1I7QUFFQSxZQUFJLHdCQUFPQSxVQUFTLG1CQUFtQjtBQUN0QyxpQkFBTztBQUFBLFFBQ1I7QUFFQSxZQUFJLElBQUksUUFBUSxJQUFJQSxLQUFJO0FBQ3hCLFlBQUksU0FBU0EsU0FBUTtBQUdyQixZQUFJLE1BQU0sV0FBYyxDQUFDLFlBQVVHLE1BQUEsZUFBZSxRQUFRSCxLQUFJLE1BQTNCLGdCQUFBRyxJQUE4QixZQUFXO0FBQzNFLGNBQUksWUFBWSxNQUFNO0FBQ3JCLGdCQUFJLElBQUksTUFBTSxTQUFTLE9BQU9ILEtBQUksSUFBSSxhQUFhO0FBQ25ELGdCQUFJRSxLQUFJLE1BQU8sR0FBR0osTUFBSztBQUV2QixnQkFBSSxzQkFBSztBQUNSLGtCQUFJSSxJQUFHLFVBQVUsTUFBTUYsS0FBSSxDQUFDO0FBQUEsWUFDN0I7QUFFQSxtQkFBT0U7QUFBQSxVQUNSLENBQUM7QUFFRCxrQkFBUSxJQUFJRixPQUFNLENBQUM7QUFBQSxRQUNwQjtBQUVBLFlBQUksTUFBTSxRQUFXO0FBQ3BCLGNBQUksSUFBSSxJQUFJLENBQUM7QUFDYixpQkFBTyxNQUFNLGdCQUFnQixTQUFZO0FBQUEsUUFDMUM7QUFFQSxlQUFPLFFBQVEsSUFBSSxRQUFRQSxPQUFNLFFBQVE7QUFBQSxNQUMxQztBQUFBLE1BRUEseUJBQXlCLFFBQVFBLE9BQU07QUFDdEMsWUFBSSxhQUFhLFFBQVEseUJBQXlCLFFBQVFBLEtBQUk7QUFFOUQsWUFBSSxjQUFjLFdBQVcsWUFBWTtBQUN4QyxjQUFJLElBQUksUUFBUSxJQUFJQSxLQUFJO0FBQ3hCLGNBQUksRUFBRyxZQUFXLFFBQVEsSUFBSSxDQUFDO0FBQUEsUUFDaEMsV0FBVyxlQUFlLFFBQVc7QUFDcEMsY0FBSUMsVUFBUyxRQUFRLElBQUlELEtBQUk7QUFDN0IsY0FBSUksU0FBUUgsV0FBQSxnQkFBQUEsUUFBUTtBQUVwQixjQUFJQSxZQUFXLFVBQWFHLFdBQVUsZUFBZTtBQUNwRCxtQkFBTztBQUFBLGNBQ04sWUFBWTtBQUFBLGNBQ1osY0FBYztBQUFBLGNBQ2QsT0FBQUE7QUFBQSxjQUNBLFVBQVU7QUFBQSxZQUNYO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFFQSxlQUFPO0FBQUEsTUFDUjtBQUFBLE1BRUEsSUFBSSxRQUFRSixPQUFNO0FBL05wQixZQUFBRztBQWdPRyxZQUFJSCxVQUFTLGNBQWM7QUFDMUIsaUJBQU87QUFBQSxRQUNSO0FBRUEsWUFBSSxJQUFJLFFBQVEsSUFBSUEsS0FBSTtBQUN4QixZQUFJLE1BQU8sTUFBTSxVQUFhLEVBQUUsTUFBTSxpQkFBa0IsUUFBUSxJQUFJLFFBQVFBLEtBQUk7QUFFaEYsWUFDQyxNQUFNLFVBQ0wsa0JBQWtCLFNBQVMsQ0FBQyxTQUFPRyxNQUFBLGVBQWUsUUFBUUgsS0FBSSxNQUEzQixnQkFBQUcsSUFBOEIsWUFDakU7QUFDRCxjQUFJLE1BQU0sUUFBVztBQUNwQixnQkFBSSxZQUFZLE1BQU07QUFDckIsa0JBQUksSUFBSSxNQUFNLE1BQU0sT0FBT0gsS0FBSSxDQUFDLElBQUk7QUFDcEMsa0JBQUlFLEtBQUksTUFBTyxHQUFHSixNQUFLO0FBRXZCLGtCQUFJLHNCQUFLO0FBQ1Isb0JBQUlJLElBQUcsVUFBVSxNQUFNRixLQUFJLENBQUM7QUFBQSxjQUM3QjtBQUVBLHFCQUFPRTtBQUFBLFlBQ1IsQ0FBQztBQUVELG9CQUFRLElBQUlGLE9BQU0sQ0FBQztBQUFBLFVBQ3BCO0FBRUEsY0FBSUksU0FBUSxJQUFJLENBQUM7QUFDakIsY0FBSUEsV0FBVSxlQUFlO0FBQzVCLG1CQUFPO0FBQUEsVUFDUjtBQUFBLFFBQ0Q7QUFFQSxlQUFPO0FBQUEsTUFDUjtBQUFBLE1BRUEsSUFBSSxRQUFRSixPQUFNSSxRQUFPLFVBQVU7QUFuUXJDLFlBQUFEO0FBb1FHLFlBQUksSUFBSSxRQUFRLElBQUlILEtBQUk7QUFDeEIsWUFBSSxNQUFNQSxTQUFRO0FBR2xCLFlBQUksb0JBQW9CQSxVQUFTLFVBQVU7QUFDMUMsbUJBQVMsSUFBSUksUUFBTztBQUFBLFVBQW1DLEVBQUcsR0FBRyxLQUFLLEdBQUc7QUFDcEUsZ0JBQUksVUFBVSxRQUFRLElBQUksSUFBSSxFQUFFO0FBQ2hDLGdCQUFJLFlBQVksUUFBVztBQUMxQixrQkFBSSxTQUFTLGFBQWE7QUFBQSxZQUMzQixXQUFXLEtBQUssUUFBUTtBQUl2Qix3QkFBVSxZQUFZLE1BQU0sTUFBTyxlQUFlTixNQUFLLENBQUM7QUFDeEQsc0JBQVEsSUFBSSxJQUFJLElBQUksT0FBTztBQUUzQixrQkFBSSxzQkFBSztBQUNSLG9CQUFJLFNBQVMsVUFBVSxNQUFNLENBQUMsQ0FBQztBQUFBLGNBQ2hDO0FBQUEsWUFDRDtBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBTUEsWUFBSSxNQUFNLFFBQVc7QUFDcEIsY0FBSSxDQUFDLFNBQU9LLE1BQUEsZUFBZSxRQUFRSCxLQUFJLE1BQTNCLGdCQUFBRyxJQUE4QixXQUFVO0FBQ25ELGdCQUFJLFlBQVksTUFBTSxNQUFPLFFBQVdMLE1BQUssQ0FBQztBQUU5QyxnQkFBSSxzQkFBSztBQUNSLGtCQUFJLEdBQUcsVUFBVSxNQUFNRSxLQUFJLENBQUM7QUFBQSxZQUM3QjtBQUNBLGdCQUFJLEdBQUcsTUFBTUksTUFBSyxDQUFDO0FBRW5CLG9CQUFRLElBQUlKLE9BQU0sQ0FBQztBQUFBLFVBQ3BCO0FBQUEsUUFDRCxPQUFPO0FBQ04sZ0JBQU0sRUFBRSxNQUFNO0FBRWQsY0FBSSxJQUFJLFlBQVksTUFBTSxNQUFNSSxNQUFLLENBQUM7QUFDdEMsY0FBSSxHQUFHLENBQUM7QUFBQSxRQUNUO0FBRUEsWUFBSSxhQUFhLFFBQVEseUJBQXlCLFFBQVFKLEtBQUk7QUFHOUQsWUFBSSx5Q0FBWSxLQUFLO0FBQ3BCLHFCQUFXLElBQUksS0FBSyxVQUFVSSxNQUFLO0FBQUEsUUFDcEM7QUFFQSxZQUFJLENBQUMsS0FBSztBQUtULGNBQUksb0JBQW9CLE9BQU9KLFVBQVMsVUFBVTtBQUNqRCxnQkFBSTtBQUFBO0FBQUEsY0FBb0MsUUFBUSxJQUFJLFFBQVE7QUFBQTtBQUM1RCxnQkFBSSxJQUFJLE9BQU9BLEtBQUk7QUFFbkIsZ0JBQUksT0FBTyxVQUFVLENBQUMsS0FBSyxLQUFLLEdBQUcsR0FBRztBQUNyQyxrQkFBSSxJQUFJLElBQUksQ0FBQztBQUFBLFlBQ2Q7QUFBQSxVQUNEO0FBRUEsb0JBQVUsT0FBTztBQUFBLFFBQ2xCO0FBRUEsZUFBTztBQUFBLE1BQ1I7QUFBQSxNQUVBLFFBQVEsUUFBUTtBQUNmLFlBQUksT0FBTztBQUVYLFlBQUksV0FBVyxRQUFRLFFBQVEsTUFBTSxFQUFFLE9BQU8sQ0FBQ0ssU0FBUTtBQUN0RCxjQUFJSixVQUFTLFFBQVEsSUFBSUksSUFBRztBQUM1QixpQkFBT0osWUFBVyxVQUFhQSxRQUFPLE1BQU07QUFBQSxRQUM3QyxDQUFDO0FBRUQsaUJBQVMsQ0FBQ0ksTUFBS0osT0FBTSxLQUFLLFNBQVM7QUFDbEMsY0FBSUEsUUFBTyxNQUFNLGlCQUFpQixFQUFFSSxRQUFPLFNBQVM7QUFDbkQscUJBQVMsS0FBS0EsSUFBRztBQUFBLFVBQ2xCO0FBQUEsUUFDRDtBQUVBLGVBQU87QUFBQSxNQUNSO0FBQUEsTUFFQSxpQkFBaUI7QUFDaEIsUUFBRSxzQkFBc0I7QUFBQSxNQUN6QjtBQUFBLElBQ0Q7QUFBQSxFQUFDO0FBQ0Y7QUFNQSxTQUFTLFVBQVUsTUFBTUwsT0FBTTtBQXZXL0IsTUFBQUc7QUF3V0MsTUFBSSxPQUFPSCxVQUFTLFNBQVUsUUFBTyxHQUFHLElBQUksWUFBV0csTUFBQUgsTUFBSyxnQkFBTCxPQUFBRyxNQUFvQixFQUFFO0FBQzdFLE1BQUksMEJBQTBCLEtBQUtILEtBQUksRUFBRyxRQUFPLEdBQUcsSUFBSSxJQUFJQSxLQUFJO0FBQ2hFLFNBQU8sUUFBUSxLQUFLQSxLQUFJLElBQUksR0FBRyxJQUFJLElBQUlBLEtBQUksTUFBTSxHQUFHLElBQUksS0FBS0EsS0FBSTtBQUNsRTtBQUtPLFNBQVMsa0JBQWtCLE9BQU87QUFDeEMsTUFBSTtBQUNILFFBQUksVUFBVSxRQUFRLE9BQU8sVUFBVSxZQUFZLGdCQUFnQixPQUFPO0FBQ3pFLGFBQU8sTUFBTSxZQUFZO0FBQUEsSUFDMUI7QUFBQSxFQUNELFNBQVE7QUFBQSxFQVFSO0FBRUEsU0FBTztBQUNSO0FBVUEsSUFBTSx5QkFBeUIsb0JBQUksSUFBSTtBQUFBLEVBQ3RDO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRCxDQUFDO0FBT0QsU0FBUyxrQkFBa0IsT0FBTztBQUNqQyxTQUFPLElBQUksTUFBTSxPQUFPO0FBQUEsSUFDdkIsSUFBSSxRQUFRTSxPQUFNLFVBQVU7QUFDM0IsVUFBSSxRQUFRLFFBQVEsSUFBSSxRQUFRQSxPQUFNLFFBQVE7QUFDOUMsVUFBSSxDQUFDLHVCQUF1QjtBQUFBO0FBQUEsUUFBMkJBO0FBQUEsTUFBSyxHQUFHO0FBQzlELGVBQU87QUFBQSxNQUNSO0FBTUEsYUFBTyxZQUFhLE1BQU07QUFDekIsbUNBQTJCO0FBQzNCLFlBQUksU0FBUyxNQUFNLE1BQU0sTUFBTSxJQUFJO0FBQ25DLDRCQUFvQjtBQUNwQixlQUFPO0FBQUEsTUFDUjtBQUFBLElBQ0Q7QUFBQSxFQUNELENBQUM7QUFDRjs7O0FDNWFPLFNBQVMsZ0NBQWdDO0FBQy9DLFFBQU1DLG1CQUFrQixNQUFNO0FBSTlCLFFBQU0sVUFBVSxNQUFNO0FBQ3RCLE1BQUksU0FBUztBQUNaLFlBQVE7QUFBQSxFQUNUO0FBRUEsUUFBTSxFQUFFLFNBQVMsYUFBYSxTQUFTLElBQUlBO0FBRTNDLEVBQUFBLGlCQUFnQixVQUFVLFNBQVUsTUFBTSxZQUFZO0FBQ3JELFVBQU1DLFNBQVEsUUFBUSxLQUFLLE1BQU0sTUFBTSxVQUFVO0FBRWpELFFBQUlBLFdBQVUsSUFBSTtBQUNqQixlQUFTLElBQUksa0NBQWMsR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLLEdBQUc7QUFDdEQsWUFBSSxrQkFBa0IsS0FBSyxDQUFDLENBQUMsTUFBTSxNQUFNO0FBQ3hDLFVBQUUsOEJBQThCLG9CQUFvQjtBQUNwRDtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFdBQU9BO0FBQUEsRUFDUjtBQUVBLEVBQUFELGlCQUFnQixjQUFjLFNBQVUsTUFBTSxZQUFZO0FBR3pELFVBQU1DLFNBQVEsWUFBWSxLQUFLLE1BQU0sTUFBTSxrQ0FBYyxLQUFLLFNBQVMsQ0FBQztBQUV4RSxRQUFJQSxXQUFVLElBQUk7QUFDakIsZUFBUyxJQUFJLEdBQUcsTUFBTSxrQ0FBYyxLQUFLLFNBQVMsSUFBSSxLQUFLLEdBQUc7QUFDN0QsWUFBSSxrQkFBa0IsS0FBSyxDQUFDLENBQUMsTUFBTSxNQUFNO0FBQ3hDLFVBQUUsOEJBQThCLHdCQUF3QjtBQUN4RDtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFdBQU9BO0FBQUEsRUFDUjtBQUVBLEVBQUFELGlCQUFnQixXQUFXLFNBQVUsTUFBTSxZQUFZO0FBQ3RELFVBQU0sTUFBTSxTQUFTLEtBQUssTUFBTSxNQUFNLFVBQVU7QUFFaEQsUUFBSSxDQUFDLEtBQUs7QUFDVCxlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLLEdBQUc7QUFDeEMsWUFBSSxrQkFBa0IsS0FBSyxDQUFDLENBQUMsTUFBTSxNQUFNO0FBQ3hDLFVBQUUsOEJBQThCLHFCQUFxQjtBQUNyRDtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFdBQU87QUFBQSxFQUNSO0FBR0EsUUFBTSxtQkFBbUIsTUFBTTtBQUM5QixJQUFBQSxpQkFBZ0IsVUFBVTtBQUMxQixJQUFBQSxpQkFBZ0IsY0FBYztBQUM5QixJQUFBQSxpQkFBZ0IsV0FBVztBQUFBLEVBQzVCO0FBQ0Q7OztBQ3hETyxJQUFJO0FBR0osSUFBSTtBQUdKLElBQUk7QUFHWCxJQUFJO0FBRUosSUFBSTtBQU1HLFNBQVMsa0JBQWtCO0FBQ2pDLE1BQUksWUFBWSxRQUFXO0FBQzFCO0FBQUEsRUFDRDtBQUVBLFlBQVU7QUFDVixjQUFZO0FBQ1osZUFBYSxVQUFVLEtBQUssVUFBVSxTQUFTO0FBRS9DLE1BQUksb0JBQW9CLFFBQVE7QUFDaEMsTUFBSSxpQkFBaUIsS0FBSztBQUMxQixNQUFJLGlCQUFpQixLQUFLO0FBRzFCLHVCQUFxQixlQUFlLGdCQUFnQixZQUFZLEVBQUU7QUFFbEUsd0JBQXNCLGVBQWUsZ0JBQWdCLGFBQWEsRUFBRTtBQUVwRSxNQUFJLGNBQWMsaUJBQWlCLEdBQUc7QUFHckMsc0JBQWtCLFVBQVU7QUFFNUIsc0JBQWtCLGNBQWM7QUFFaEMsc0JBQWtCLGVBQWU7QUFFakMsc0JBQWtCLFVBQVU7QUFFNUIsc0JBQWtCLE1BQU07QUFBQSxFQUN6QjtBQUVBLE1BQUksY0FBYyxjQUFjLEdBQUc7QUFFbEMsbUJBQWUsTUFBTTtBQUFBLEVBQ3RCO0FBRUEsTUFBSSxzQkFBSztBQUVSLHNCQUFrQixnQkFBZ0I7QUFFbEMsa0NBQThCO0FBQUEsRUFDL0I7QUFDRDtBQU1PLFNBQVMsWUFBWSxRQUFRLElBQUk7QUFDdkMsU0FBTyxTQUFTLGVBQWUsS0FBSztBQUNyQztBQUFBO0FBT08sU0FBUyxnQkFBZ0IsTUFBTTtBQUNyQztBQUFBO0FBQUEsSUFBMkMsbUJBQW1CLEtBQUssSUFBSTtBQUFBO0FBQ3hFO0FBQUE7QUFPTyxTQUFTLGlCQUFpQixNQUFNO0FBQ3RDO0FBQUE7QUFBQSxJQUEyQyxvQkFBb0IsS0FBSyxJQUFJO0FBQUE7QUFDekU7QUFTTyxTQUFTLE1BQU0sTUFBTSxTQUFTO0FBQ3BDLE1BQUksQ0FBQyxXQUFXO0FBQ2YsV0FBTyxnQ0FBZ0IsSUFBSTtBQUFBLEVBQzVCO0FBRUEsTUFBSUUsU0FBUSxnQ0FBZ0IsWUFBWTtBQUd4QyxNQUFJQSxXQUFVLE1BQU07QUFDbkIsSUFBQUEsU0FBUSxhQUFhLFlBQVksWUFBWSxDQUFDO0FBQUEsRUFDL0MsV0FBVyxXQUFXQSxPQUFNLGFBQWEsV0FBVztBQUNuRCxRQUFJQyxRQUFPLFlBQVk7QUFDdkIsSUFBQUQsVUFBQSxnQkFBQUEsT0FBTyxPQUFPQztBQUNkLHFCQUFpQkEsS0FBSTtBQUNyQixXQUFPQTtBQUFBLEVBQ1I7QUFFQSxtQkFBaUJELE1BQUs7QUFDdEIsU0FBT0E7QUFDUjtBQVFPLFNBQVMsWUFBWSxNQUFNLFVBQVUsT0FBTztBQXRJbkQsTUFBQUUsS0FBQUM7QUF1SUMsTUFBSSxDQUFDLFdBQVc7QUFDZixRQUFJLFFBQVEsZ0NBQWdCLElBQUk7QUFHaEMsUUFBSSxpQkFBaUIsV0FBVyxNQUFNLFNBQVMsR0FBSSxRQUFPLGlDQUFpQixLQUFLO0FBRWhGLFdBQU87QUFBQSxFQUNSO0FBSUEsTUFBSSxhQUFXRCxNQUFBLGlDQUFBQSxJQUFjLGNBQWEsV0FBVztBQUNwRCxRQUFJRCxRQUFPLFlBQVk7QUFFdkIsS0FBQUUsTUFBQSxpQ0FBQUEsSUFBYyxPQUFPRjtBQUNyQixxQkFBaUJBLEtBQUk7QUFDckIsV0FBT0E7QUFBQSxFQUNSO0FBRUEsU0FBTztBQUNSO0FBU08sU0FBUyxRQUFRLE1BQU0sUUFBUSxHQUFHLFVBQVUsT0FBTztBQUN6RCxNQUFJLGVBQWUsWUFBWSxlQUFlO0FBQzlDLE1BQUk7QUFFSixTQUFPLFNBQVM7QUFDZixtQkFBZTtBQUNmO0FBQUEsSUFBNEMsaUNBQWlCLFlBQVk7QUFBQSxFQUMxRTtBQUVBLE1BQUksQ0FBQyxXQUFXO0FBQ2YsV0FBTztBQUFBLEVBQ1I7QUFJQSxNQUFJLFlBQVcsNkNBQWMsY0FBYSxXQUFXO0FBQ3BELFFBQUlBLFFBQU8sWUFBWTtBQUl2QixRQUFJLGlCQUFpQixNQUFNO0FBQzFCLG1EQUFjLE1BQU1BO0FBQUEsSUFDckIsT0FBTztBQUNOLG1CQUFhLE9BQU9BLEtBQUk7QUFBQSxJQUN6QjtBQUNBLHFCQUFpQkEsS0FBSTtBQUNyQixXQUFPQTtBQUFBLEVBQ1I7QUFFQSxtQkFBaUIsWUFBWTtBQUM3QixTQUFPO0FBQ1I7QUFPTyxTQUFTLG1CQUFtQixNQUFNO0FBQ3hDLE9BQUssY0FBYztBQUNwQjtBQVFPLFNBQVMsc0JBQXNCO0FBQ3JDLE1BQUksQ0FBQyxnQkFBaUIsUUFBTztBQUM3QixNQUFJLHdCQUF3QixLQUFNLFFBQU87QUFFekMsTUFBSUc7QUFBQTtBQUFBLElBQStCLGNBQWU7QUFBQTtBQUNsRCxVQUFRQSxTQUFRLGdCQUFnQjtBQUNqQzs7O0FDeExBLElBQUksMEJBQTBCO0FBRXZCLFNBQVMsMEJBQTBCO0FBQ3pDLE1BQUksQ0FBQyx5QkFBeUI7QUFDN0IsOEJBQTBCO0FBQzFCLGFBQVM7QUFBQSxNQUNSO0FBQUEsTUFDQSxDQUFDLFFBQVE7QUFHUixnQkFBUSxRQUFRLEVBQUUsS0FBSyxNQUFNO0FBNUNqQyxjQUFBQztBQTZDSyxjQUFJLENBQUMsSUFBSSxrQkFBa0I7QUFDMUI7QUFBQSxvQkFBVztBQUFBO0FBQUEsY0FBb0MsSUFBSSxPQUFRO0FBQUEsY0FBVTtBQUVwRSxlQUFBQSxNQUFBLEVBQUUsV0FBRixnQkFBQUEsSUFBQTtBQUFBLFlBQ0Q7QUFBQSxVQUNEO0FBQUEsUUFDRCxDQUFDO0FBQUEsTUFDRjtBQUFBO0FBQUEsTUFFQSxFQUFFLFNBQVMsS0FBSztBQUFBLElBQ2pCO0FBQUEsRUFDRDtBQUNEOzs7QUNwQk8sU0FBUyx5QkFBeUIsSUFBSTtBQUM1QyxNQUFJLG9CQUFvQjtBQUN4QixNQUFJLGtCQUFrQjtBQUN0QixzQkFBb0IsSUFBSTtBQUN4QixvQkFBa0IsSUFBSTtBQUN0QixNQUFJO0FBQ0gsV0FBTyxHQUFHO0FBQUEsRUFDWCxVQUFFO0FBQ0Qsd0JBQW9CLGlCQUFpQjtBQUNyQyxzQkFBa0IsZUFBZTtBQUFBLEVBQ2xDO0FBQ0Q7QUFVTyxTQUFTLGdDQUFnQ0MsVUFBU0MsUUFBTyxTQUFTLFdBQVcsU0FBUztBQUM1RixFQUFBRCxTQUFRLGlCQUFpQkMsUUFBTyxNQUFNLHlCQUF5QixPQUFPLENBQUM7QUFFdkUsUUFBTSxPQUFPRCxTQUFRO0FBQ3JCLE1BQUksTUFBTTtBQUdULElBQUFBLFNBQVEsU0FBUyxNQUFNO0FBQ3RCLFdBQUs7QUFDTCxlQUFTLElBQUk7QUFBQSxJQUNkO0FBQUEsRUFDRCxPQUFPO0FBRU4sSUFBQUEsU0FBUSxTQUFTLE1BQU0sU0FBUyxJQUFJO0FBQUEsRUFDckM7QUFFQSwwQkFBd0I7QUFDekI7OztBQ3pCTyxTQUFTLGdCQUFnQixNQUFNO0FBQ3JDLE1BQUksa0JBQWtCLE1BQU07QUFDM0IsUUFBSSxvQkFBb0IsTUFBTTtBQUM3QixNQUFFLGNBQWMsSUFBSTtBQUFBLElBQ3JCO0FBRUEsSUFBRSwwQkFBMEI7QUFBQSxFQUM3QjtBQUVBLE1BQUksc0JBQXNCO0FBQ3pCLElBQUUsbUJBQW1CLElBQUk7QUFBQSxFQUMxQjtBQUNEO0FBTUEsU0FBUyxZQUFZRSxTQUFRLGVBQWU7QUFDM0MsTUFBSSxjQUFjLGNBQWM7QUFDaEMsTUFBSSxnQkFBZ0IsTUFBTTtBQUN6QixrQkFBYyxPQUFPLGNBQWMsUUFBUUE7QUFBQSxFQUM1QyxPQUFPO0FBQ04sZ0JBQVksT0FBT0E7QUFDbkIsSUFBQUEsUUFBTyxPQUFPO0FBQ2Qsa0JBQWMsT0FBT0E7QUFBQSxFQUN0QjtBQUNEO0FBUUEsU0FBUyxjQUFjLE1BQU0sSUFBSSxNQUFNO0FBckZ2QyxNQUFBQztBQXNGQyxNQUFJLFNBQVM7QUFFYixNQUFJLHNCQUFLO0FBRVIsV0FBTyxXQUFXLFNBQVMsT0FBTyxJQUFJLGtCQUFrQixHQUFHO0FBQzFELGVBQVMsT0FBTztBQUFBLElBQ2pCO0FBQUEsRUFDRDtBQUVBLE1BQUksV0FBVyxTQUFTLE9BQU8sSUFBSSxXQUFXLEdBQUc7QUFDaEQsWUFBUTtBQUFBLEVBQ1Q7QUFHQSxNQUFJRCxVQUFTO0FBQUEsSUFDWixLQUFLO0FBQUEsSUFDTCxNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxHQUFHLE9BQU8sUUFBUTtBQUFBLElBQ2xCLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFDQSxNQUFNO0FBQUEsSUFDTixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxVQUFVLE9BQU87QUFBQSxJQUNwQixNQUFNO0FBQUEsSUFDTixVQUFVO0FBQUEsSUFDVixJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsRUFDTDtBQUVBLE1BQUksc0JBQUs7QUFDUixJQUFBQSxRQUFPLHFCQUFxQjtBQUFBLEVBQzdCO0FBRUEsTUFBSSxNQUFNO0FBQ1QsUUFBSTtBQUNILG9CQUFjQSxPQUFNO0FBQ3BCLE1BQUFBLFFBQU8sS0FBSztBQUFBLElBQ2IsU0FBU0UsSUFBRztBQUNYLHFCQUFlRixPQUFNO0FBQ3JCLFlBQU1FO0FBQUEsSUFDUDtBQUFBLEVBQ0QsV0FBVyxPQUFPLE1BQU07QUFDdkIsb0JBQWdCRixPQUFNO0FBQUEsRUFDdkI7QUFHQSxNQUFJLElBQUlBO0FBS1IsTUFDQyxRQUNBLEVBQUUsU0FBUyxRQUNYLEVBQUUsYUFBYSxRQUNmLEVBQUUsVUFBVSxRQUNaLEVBQUUsVUFBVSxFQUFFO0FBQUEsR0FDYixFQUFFLElBQUksc0JBQXNCLEdBQzVCO0FBQ0QsUUFBSSxFQUFFO0FBQ04sU0FBSyxPQUFPLGtCQUFrQixNQUFNLE9BQU8sd0JBQXdCLEtBQUssTUFBTSxNQUFNO0FBQ25GLFFBQUUsS0FBSztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBRUEsTUFBSSxNQUFNLE1BQU07QUFDZixNQUFFLFNBQVM7QUFFWCxRQUFJLFdBQVcsTUFBTTtBQUNwQixrQkFBWSxHQUFHLE1BQU07QUFBQSxJQUN0QjtBQUdBLFFBQ0Msb0JBQW9CLFNBQ25CLGdCQUFnQixJQUFJLGFBQWEsTUFDakMsT0FBTyxpQkFBaUIsR0FDeEI7QUFDRCxVQUFJRztBQUFBO0FBQUEsUUFBa0M7QUFBQTtBQUN0QyxRQUFDRixNQUFBRSxTQUFRLFlBQVIsT0FBQUYsTUFBQUUsU0FBUSxVQUFZLENBQUMsR0FBRyxLQUFLLENBQUM7QUFBQSxJQUNoQztBQUFBLEVBQ0Q7QUFFQSxTQUFPSDtBQUNSO0FBTU8sU0FBUyxrQkFBa0I7QUFDakMsU0FBTyxvQkFBb0IsUUFBUSxDQUFDO0FBQ3JDO0FBS08sU0FBUyxTQUFTLElBQUk7QUFDNUIsUUFBTUEsVUFBUyxjQUFjLGVBQWUsTUFBTSxLQUFLO0FBQ3ZELG9CQUFrQkEsU0FBUSxLQUFLO0FBQy9CLEVBQUFBLFFBQU8sV0FBVztBQUNsQixTQUFPQTtBQUNSO0FBTU8sU0FBUyxZQUFZLElBQUk7QUFwTWhDLE1BQUFDO0FBcU1DLGtCQUFnQixTQUFTO0FBRXpCLE1BQUksc0JBQUs7QUFDUixvQkFBZ0IsSUFBSSxRQUFRO0FBQUEsTUFDM0IsT0FBTztBQUFBLElBQ1IsQ0FBQztBQUFBLEVBQ0Y7QUFJQSxNQUFJRztBQUFBO0FBQUEsSUFBK0IsY0FBZTtBQUFBO0FBQ2xELE1BQUksUUFBUSxDQUFDLG9CQUFvQkEsU0FBUSxtQkFBbUIsTUFBTUEsU0FBUSxnQkFBZ0I7QUFFMUYsTUFBSSxPQUFPO0FBRVYsUUFBSTtBQUFBO0FBQUEsTUFBMkM7QUFBQTtBQUMvQyxNQUFDSCxNQUFBLFFBQVEsTUFBUixPQUFBQSxNQUFBLFFBQVEsSUFBTSxDQUFDLEdBQUcsS0FBSyxFQUFFO0FBQUEsRUFDM0IsT0FBTztBQUVOLFdBQU8sbUJBQW1CLEVBQUU7QUFBQSxFQUM3QjtBQUNEO0FBS08sU0FBUyxtQkFBbUIsSUFBSTtBQUN0QyxTQUFPLGNBQWMsU0FBUyxhQUFhLElBQUksS0FBSztBQUNyRDtBQU9PLFNBQVMsZ0JBQWdCLElBQUk7QUFDbkMsa0JBQWdCLGFBQWE7QUFDN0IsTUFBSSxzQkFBSztBQUNSLG9CQUFnQixJQUFJLFFBQVE7QUFBQSxNQUMzQixPQUFPO0FBQUEsSUFDUixDQUFDO0FBQUEsRUFDRjtBQUNBLFNBQU8sY0FBYyxnQkFBZ0IsYUFBYSxJQUFJLElBQUk7QUFDM0Q7QUFZTyxTQUFTLFlBQVksSUFBSTtBQUMvQixRQUFNLE9BQU87QUFDYixRQUFNSSxVQUFTLGNBQWMsY0FBYyxrQkFBa0IsSUFBSSxJQUFJO0FBRXJFLFNBQU8sTUFBTTtBQUNaLG1CQUFlQSxPQUFNO0FBQUEsRUFDdEI7QUFDRDtBQU9PLFNBQVMsZUFBZSxJQUFJO0FBQ2xDLFFBQU0sT0FBTztBQUNiLFFBQU1BLFVBQVMsY0FBYyxjQUFjLGtCQUFrQixJQUFJLElBQUk7QUFFckUsU0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUFNO0FBQ3hCLFdBQU8sSUFBSSxRQUFRLENBQUMsV0FBVztBQUM5QixVQUFJLFFBQVEsT0FBTztBQUNsQixxQkFBYUEsU0FBUSxNQUFNO0FBQzFCLHlCQUFlQSxPQUFNO0FBQ3JCLGlCQUFPLE1BQVM7QUFBQSxRQUNqQixDQUFDO0FBQUEsTUFDRixPQUFPO0FBQ04sdUJBQWVBLE9BQU07QUFDckIsZUFBTyxNQUFTO0FBQUEsTUFDakI7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQ0Q7QUFNTyxTQUFTLE9BQU8sSUFBSTtBQUMxQixTQUFPLGNBQWMsUUFBUSxJQUFJLEtBQUs7QUFDdkM7QUFPTyxTQUFTLGtCQUFrQixNQUFNLElBQUk7QUFDM0MsTUFBSTtBQUFBO0FBQUEsSUFBaUQ7QUFBQTtBQUdyRCxNQUFJLFFBQVEsRUFBRSxRQUFRLE1BQU0sS0FBSyxPQUFPLEtBQUs7QUFFN0MsVUFBUSxFQUFFLEVBQUUsS0FBSyxLQUFLO0FBRXRCLFFBQU0sU0FBUyxjQUFjLE1BQU07QUFDbEMsU0FBSztBQUlMLFFBQUksTUFBTSxJQUFLO0FBRWYsVUFBTSxNQUFNO0FBQ1osWUFBUSxFQUFFO0FBQUEsRUFDWCxDQUFDO0FBQ0Y7QUFFTyxTQUFTLDBCQUEwQjtBQUN6QyxNQUFJO0FBQUE7QUFBQSxJQUFpRDtBQUFBO0FBRXJELGdCQUFjLE1BQU07QUFFbkIsYUFBUyxTQUFTLFFBQVEsRUFBRSxHQUFHO0FBQzlCLFlBQU0sS0FBSztBQUVYLFVBQUlBLFVBQVMsTUFBTTtBQUluQixXQUFLQSxRQUFPLElBQUksV0FBVyxLQUFLQSxRQUFPLFNBQVMsTUFBTTtBQUNyRCwwQkFBa0JBLFNBQVEsV0FBVztBQUFBLE1BQ3RDO0FBRUEsVUFBSSxTQUFTQSxPQUFNLEdBQUc7QUFDckIsc0JBQWNBLE9BQU07QUFBQSxNQUNyQjtBQUVBLFlBQU0sTUFBTTtBQUFBLElBQ2I7QUFBQSxFQUNELENBQUM7QUFDRjtBQU1PLFNBQVMsYUFBYSxJQUFJO0FBQ2hDLFNBQU8sY0FBYyxRQUFRLGtCQUFrQixJQUFJLElBQUk7QUFDeEQ7QUFNTyxTQUFTLGNBQWMsSUFBSUMsU0FBUSxHQUFHO0FBQzVDLFNBQU8sY0FBYyxnQkFBZ0JBLFFBQU8sSUFBSSxJQUFJO0FBQ3JEO0FBUU8sU0FBUyxnQkFBZ0IsSUFBSSxPQUFPLENBQUMsR0FBR0MsU0FBUSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUc7QUFDekUsVUFBUSxVQUFVLE1BQU1BLFFBQU8sQ0FBQyxXQUFXO0FBQzFDLGtCQUFjLGVBQWUsTUFBTSxHQUFHLEdBQUcsT0FBTyxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUk7QUFBQSxFQUNoRSxDQUFDO0FBQ0Y7QUF5Qk8sU0FBUyxNQUFNLElBQUlDLFNBQVEsR0FBRztBQUNwQyxNQUFJQyxVQUFTLGNBQWMsZUFBZUQsUUFBTyxJQUFJLElBQUk7QUFDekQsTUFBSSxzQkFBSztBQUNSLElBQUFDLFFBQU8sWUFBWTtBQUFBLEVBQ3BCO0FBQ0EsU0FBT0E7QUFDUjtBQWlCTyxTQUFTLE9BQU8sSUFBSTtBQUMxQixTQUFPLGNBQWMsZ0JBQWdCLGtCQUFrQixJQUFJLElBQUk7QUFDaEU7QUFLTyxTQUFTLHdCQUF3QkMsU0FBUTtBQUMvQyxNQUFJQyxZQUFXRCxRQUFPO0FBQ3RCLE1BQUlDLGNBQWEsTUFBTTtBQUN0QixVQUFNLCtCQUErQjtBQUNyQyxVQUFNLG9CQUFvQjtBQUMxQiw2QkFBeUIsSUFBSTtBQUM3Qix3QkFBb0IsSUFBSTtBQUN4QixRQUFJO0FBQ0gsTUFBQUEsVUFBUyxLQUFLLElBQUk7QUFBQSxJQUNuQixVQUFFO0FBQ0QsK0JBQXlCLDRCQUE0QjtBQUNyRCwwQkFBb0IsaUJBQWlCO0FBQUEsSUFDdEM7QUFBQSxFQUNEO0FBQ0Q7QUFPTyxTQUFTLHdCQUF3QixRQUFRLGFBQWEsT0FBTztBQUNuRSxNQUFJRCxVQUFTLE9BQU87QUFDcEIsU0FBTyxRQUFRLE9BQU8sT0FBTztBQUU3QixTQUFPQSxZQUFXLE1BQU07QUFDdkIsVUFBTSxhQUFhQSxRQUFPO0FBRTFCLFFBQUksZUFBZSxNQUFNO0FBQ3hCLCtCQUF5QixNQUFNO0FBQzlCLG1CQUFXLE1BQU0sY0FBYztBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGO0FBRUEsUUFBSUUsUUFBT0YsUUFBTztBQUVsQixTQUFLQSxRQUFPLElBQUksaUJBQWlCLEdBQUc7QUFFbkMsTUFBQUEsUUFBTyxTQUFTO0FBQUEsSUFDakIsT0FBTztBQUNOLHFCQUFlQSxTQUFRLFVBQVU7QUFBQSxJQUNsQztBQUVBLElBQUFBLFVBQVNFO0FBQUEsRUFDVjtBQUNEO0FBTU8sU0FBUyw4QkFBOEIsUUFBUTtBQUNyRCxNQUFJRixVQUFTLE9BQU87QUFFcEIsU0FBT0EsWUFBVyxNQUFNO0FBQ3ZCLFFBQUlFLFFBQU9GLFFBQU87QUFDbEIsU0FBS0EsUUFBTyxJQUFJLG1CQUFtQixHQUFHO0FBQ3JDLHFCQUFlQSxPQUFNO0FBQUEsSUFDdEI7QUFDQSxJQUFBQSxVQUFTRTtBQUFBLEVBQ1Y7QUFDRDtBQU9PLFNBQVMsZUFBZUYsU0FBUSxhQUFhLE1BQU07QUFDekQsTUFBSSxVQUFVO0FBRWQsT0FDRSxlQUFlQSxRQUFPLElBQUksaUJBQWlCLE1BQzVDQSxRQUFPLFVBQVUsUUFDakJBLFFBQU8sTUFBTSxRQUFRLE1BQ3BCO0FBQ0Q7QUFBQSxNQUFrQkEsUUFBTyxNQUFNO0FBQUE7QUFBQSxNQUFvQ0EsUUFBTyxNQUFNO0FBQUEsSUFBSTtBQUNwRixjQUFVO0FBQUEsRUFDWDtBQUVBLDBCQUF3QkEsU0FBUSxjQUFjLENBQUMsT0FBTztBQUN0RCxtQkFBaUJBLFNBQVEsQ0FBQztBQUMxQixvQkFBa0JBLFNBQVEsU0FBUztBQUVuQyxNQUFJLGNBQWNBLFFBQU8sU0FBU0EsUUFBTyxNQUFNO0FBRS9DLE1BQUksZ0JBQWdCLE1BQU07QUFDekIsZUFBV0csZUFBYyxhQUFhO0FBQ3JDLE1BQUFBLFlBQVcsS0FBSztBQUFBLElBQ2pCO0FBQUEsRUFDRDtBQUVBLDBCQUF3QkgsT0FBTTtBQUU5QixNQUFJLFNBQVNBLFFBQU87QUFHcEIsTUFBSSxXQUFXLFFBQVEsT0FBTyxVQUFVLE1BQU07QUFDN0Msa0JBQWNBLE9BQU07QUFBQSxFQUNyQjtBQUVBLE1BQUksc0JBQUs7QUFDUixJQUFBQSxRQUFPLHFCQUFxQjtBQUFBLEVBQzdCO0FBSUEsRUFBQUEsUUFBTyxPQUNOQSxRQUFPLE9BQ1BBLFFBQU8sV0FDUEEsUUFBTyxNQUNQQSxRQUFPLE9BQ1BBLFFBQU8sS0FDUEEsUUFBTyxRQUNQQSxRQUFPLEtBQ047QUFDSDtBQU9PLFNBQVMsa0JBQWtCLE1BQU0sS0FBSztBQUM1QyxTQUFPLFNBQVMsTUFBTTtBQUVyQixRQUFJRSxRQUFPLFNBQVMsTUFBTSxPQUFPLGlCQUFpQixJQUFJO0FBRXRELFNBQUssT0FBTztBQUNaLFdBQU9BO0FBQUEsRUFDUjtBQUNEO0FBT08sU0FBUyxjQUFjRixTQUFRO0FBQ3JDLE1BQUksU0FBU0EsUUFBTztBQUNwQixNQUFJLE9BQU9BLFFBQU87QUFDbEIsTUFBSUUsUUFBT0YsUUFBTztBQUVsQixNQUFJLFNBQVMsS0FBTSxNQUFLLE9BQU9FO0FBQy9CLE1BQUlBLFVBQVMsS0FBTSxDQUFBQSxNQUFLLE9BQU87QUFFL0IsTUFBSSxXQUFXLE1BQU07QUFDcEIsUUFBSSxPQUFPLFVBQVVGLFFBQVEsUUFBTyxRQUFRRTtBQUM1QyxRQUFJLE9BQU8sU0FBU0YsUUFBUSxRQUFPLE9BQU87QUFBQSxFQUMzQztBQUNEO0FBWU8sU0FBUyxhQUFhQSxTQUFRLFVBQVUsVUFBVSxNQUFNO0FBRTlELE1BQUksY0FBYyxDQUFDO0FBRW5CLGlCQUFlQSxTQUFRLGFBQWEsSUFBSTtBQUV4QyxNQUFJLEtBQUssTUFBTTtBQUNkLFFBQUksUUFBUyxnQkFBZUEsT0FBTTtBQUNsQyxRQUFJLFNBQVUsVUFBUztBQUFBLEVBQ3hCO0FBRUEsTUFBSSxZQUFZLFlBQVk7QUFDNUIsTUFBSSxZQUFZLEdBQUc7QUFDbEIsUUFBSSxRQUFRLE1BQU0sRUFBRSxhQUFhLEdBQUc7QUFDcEMsYUFBU0csZUFBYyxhQUFhO0FBQ25DLE1BQUFBLFlBQVcsSUFBSSxLQUFLO0FBQUEsSUFDckI7QUFBQSxFQUNELE9BQU87QUFDTixPQUFHO0FBQUEsRUFDSjtBQUNEO0FBT0EsU0FBUyxlQUFlSCxTQUFRLGFBQWEsT0FBTztBQUNuRCxPQUFLQSxRQUFPLElBQUksV0FBVyxFQUFHO0FBQzlCLEVBQUFBLFFBQU8sS0FBSztBQUVaLE1BQUksSUFBSUEsUUFBTyxTQUFTQSxRQUFPLE1BQU07QUFFckMsTUFBSSxNQUFNLE1BQU07QUFDZixlQUFXRyxlQUFjLEdBQUc7QUFDM0IsVUFBSUEsWUFBVyxhQUFhLE9BQU87QUFDbEMsb0JBQVksS0FBS0EsV0FBVTtBQUFBLE1BQzVCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFFQSxNQUFJQyxTQUFRSixRQUFPO0FBRW5CLFNBQU9JLFdBQVUsTUFBTTtBQUN0QixRQUFJQyxXQUFVRCxPQUFNO0FBQ3BCLFFBQUksZUFDRkEsT0FBTSxJQUFJLHdCQUF3QjtBQUFBO0FBQUE7QUFBQSxLQUlqQ0EsT0FBTSxJQUFJLG1CQUFtQixNQUFNSixRQUFPLElBQUksa0JBQWtCO0FBSW5FLG1CQUFlSSxRQUFPLGFBQWEsY0FBYyxRQUFRLEtBQUs7QUFDOUQsSUFBQUEsU0FBUUM7QUFBQSxFQUNUO0FBQ0Q7QUFPTyxTQUFTLGNBQWNMLFNBQVE7QUFDckMsa0JBQWdCQSxTQUFRLElBQUk7QUFDN0I7QUFNQSxTQUFTLGdCQUFnQkEsU0FBUSxPQUFPO0FBQ3ZDLE9BQUtBLFFBQU8sSUFBSSxXQUFXLEVBQUc7QUFDOUIsRUFBQUEsUUFBTyxLQUFLO0FBTVosT0FBS0EsUUFBTyxJQUFJLFdBQVcsR0FBRztBQUM3QixzQkFBa0JBLFNBQVEsS0FBSztBQUMvQixvQkFBZ0JBLE9BQU07QUFBQSxFQUN2QjtBQUVBLE1BQUlJLFNBQVFKLFFBQU87QUFFbkIsU0FBT0ksV0FBVSxNQUFNO0FBQ3RCLFFBQUlDLFdBQVVELE9BQU07QUFDcEIsUUFBSSxlQUFlQSxPQUFNLElBQUksd0JBQXdCLE1BQU1BLE9BQU0sSUFBSSxtQkFBbUI7QUFJeEYsb0JBQWdCQSxRQUFPLGNBQWMsUUFBUSxLQUFLO0FBQ2xELElBQUFBLFNBQVFDO0FBQUEsRUFDVDtBQUVBLE1BQUksSUFBSUwsUUFBTyxTQUFTQSxRQUFPLE1BQU07QUFFckMsTUFBSSxNQUFNLE1BQU07QUFDZixlQUFXRyxlQUFjLEdBQUc7QUFDM0IsVUFBSUEsWUFBVyxhQUFhLE9BQU87QUFDbEMsUUFBQUEsWUFBVyxHQUFHO0FBQUEsTUFDZjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFVTyxTQUFTLFlBQVlHLFNBQVEsVUFBVTtBQUM3QyxNQUFJLENBQUNBLFFBQU8sTUFBTztBQUduQixNQUFJLE9BQU9BLFFBQU8sTUFBTTtBQUN4QixNQUFJLE1BQU1BLFFBQU8sTUFBTTtBQUV2QixTQUFPLFNBQVMsTUFBTTtBQUVyQixRQUFJQyxRQUFPLFNBQVMsTUFBTSxPQUFPLGlCQUFpQixJQUFJO0FBRXRELGFBQVMsT0FBTyxJQUFJO0FBQ3BCLFdBQU9BO0FBQUEsRUFDUjtBQUNEOzs7QUNwc0JPLElBQUksbUJBQW1COzs7QUNrRHZCLElBQUkscUJBQXFCO0FBR3pCLFNBQVMsdUJBQXVCLE9BQU87QUFDN0MsdUJBQXFCO0FBQ3RCO0FBRU8sSUFBSSx1QkFBdUI7QUFHM0IsU0FBUyx5QkFBeUIsT0FBTztBQUMvQyx5QkFBdUI7QUFDeEI7QUFHTyxJQUFJLGtCQUFrQjtBQUV0QixJQUFJLGFBQWE7QUFHakIsU0FBUyxvQkFBb0IsVUFBVTtBQUM3QyxvQkFBa0I7QUFDbkI7QUFHTyxJQUFJLGdCQUFnQjtBQUdwQixTQUFTLGtCQUFrQkMsU0FBUTtBQUN6QyxrQkFBZ0JBO0FBQ2pCO0FBT08sSUFBSSxrQkFBa0I7QUFHdEIsU0FBUyxvQkFBb0IsT0FBTztBQUMxQyxNQUFJLG9CQUFvQixTQUFTLENBQUMsb0JBQW9CLGdCQUFnQixJQUFJLGFBQWEsSUFBSTtBQUMxRixRQUFJLG9CQUFvQixNQUFNO0FBQzdCLHdCQUFrQixDQUFDLEtBQUs7QUFBQSxJQUN6QixPQUFPO0FBQ04sc0JBQWdCLEtBQUssS0FBSztBQUFBLElBQzNCO0FBQUEsRUFDRDtBQUNEO0FBUUEsSUFBSSxXQUFXO0FBRWYsSUFBSSxlQUFlO0FBT1osSUFBSSxtQkFBbUI7QUFHdkIsU0FBUyxxQkFBcUIsT0FBTztBQUMzQyxxQkFBbUI7QUFDcEI7QUFNTyxJQUFJLGdCQUFnQjtBQUczQixJQUFJLGVBQWU7QUFFWixJQUFJLGlCQUFpQjtBQUdyQixTQUFTLG1CQUFtQixPQUFPO0FBQ3pDLG1CQUFpQjtBQUNsQjtBQUVPLFNBQVMsMEJBQTBCO0FBQ3pDLFNBQU8sRUFBRTtBQUNWO0FBUU8sU0FBUyxTQUFTLFVBQVU7QUFDbEMsTUFBSUMsU0FBUSxTQUFTO0FBRXJCLE9BQUtBLFNBQVEsV0FBVyxHQUFHO0FBQzFCLFdBQU87QUFBQSxFQUNSO0FBRUEsTUFBSUEsU0FBUSxTQUFTO0FBQ3BCLGFBQVMsS0FBSyxDQUFDO0FBQUEsRUFDaEI7QUFFQSxPQUFLQSxTQUFRLGlCQUFpQixHQUFHO0FBQ2hDLFFBQUk7QUFBQTtBQUFBLE1BQXVDLFNBQVM7QUFBQTtBQUNwRCxRQUFJLFNBQVMsYUFBYTtBQUUxQixhQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsS0FBSztBQUNoQyxVQUFJLGFBQWEsYUFBYSxDQUFDO0FBRS9CLFVBQUk7QUFBQTtBQUFBLFFBQWlDO0FBQUEsTUFBVyxHQUFHO0FBQ2xEO0FBQUE7QUFBQSxVQUF1QztBQUFBLFFBQVc7QUFBQSxNQUNuRDtBQUVBLFVBQUksV0FBVyxLQUFLLFNBQVMsSUFBSTtBQUNoQyxlQUFPO0FBQUEsTUFDUjtBQUFBLElBQ0Q7QUFFQSxTQUNFQSxTQUFRLGVBQWU7QUFBQTtBQUFBLElBR3hCLGlCQUFpQixNQUNoQjtBQUNELHdCQUFrQixVQUFVLEtBQUs7QUFBQSxJQUNsQztBQUFBLEVBQ0Q7QUFFQSxTQUFPO0FBQ1I7QUFPQSxTQUFTLDJDQUEyQyxRQUFRRCxTQUFRRSxRQUFPLE1BQU07QUFDaEYsTUFBSSxZQUFZLE9BQU87QUFDdkIsTUFBSSxjQUFjLEtBQU07QUFFeEIsTUFBSSxDQUFDLG9CQUFtQixtREFBaUIsU0FBUyxVQUFTO0FBQzFEO0FBQUEsRUFDRDtBQUVBLFdBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDMUMsUUFBSSxXQUFXLFVBQVUsQ0FBQztBQUUxQixTQUFLLFNBQVMsSUFBSSxhQUFhLEdBQUc7QUFDakM7QUFBQTtBQUFBLFFBQW1FO0FBQUEsUUFBV0Y7QUFBQSxRQUFRO0FBQUEsTUFBSztBQUFBLElBQzVGLFdBQVdBLFlBQVcsVUFBVTtBQUMvQixVQUFJRSxPQUFNO0FBQ1QsMEJBQWtCLFVBQVUsS0FBSztBQUFBLE1BQ2xDLFlBQVksU0FBUyxJQUFJLFdBQVcsR0FBRztBQUN0QywwQkFBa0IsVUFBVSxXQUFXO0FBQUEsTUFDeEM7QUFDQTtBQUFBO0FBQUEsUUFBdUM7QUFBQSxNQUFTO0FBQUEsSUFDakQ7QUFBQSxFQUNEO0FBQ0Q7QUFHTyxTQUFTLGdCQUFnQixVQUFVO0FBbE8xQyxNQUFBQyxLQUFBQztBQW1PQyxNQUFJLGdCQUFnQjtBQUNwQixNQUFJLHdCQUF3QjtBQUM1QixNQUFJLDRCQUE0QjtBQUNoQyxNQUFJLG9CQUFvQjtBQUN4QixNQUFJLG1CQUFtQjtBQUN2QixNQUFJLDZCQUE2QjtBQUNqQyxNQUFJLHNCQUFzQjtBQUMxQixNQUFJLDBCQUEwQjtBQUU5QixNQUFJSCxTQUFRLFNBQVM7QUFFckI7QUFBQSxFQUEwQztBQUMxQyxpQkFBZTtBQUNmLHFCQUFtQjtBQUNuQixxQkFBbUJBLFVBQVMsZ0JBQWdCLGtCQUFrQixJQUFJLFdBQVc7QUFFN0Usb0JBQWtCO0FBQ2xCLHdCQUFzQixTQUFTLEdBQUc7QUFDbEMsZUFBYTtBQUNiLG1CQUFpQixFQUFFO0FBRW5CLE1BQUksU0FBUyxPQUFPLE1BQU07QUFDekIsNkJBQXlCLE1BQU07QUFDQyxNQUFDLFNBQVMsR0FBSSxNQUFNLGNBQWM7QUFBQSxJQUNsRSxDQUFDO0FBRUQsYUFBUyxLQUFLO0FBQUEsRUFDZjtBQUVBLE1BQUk7QUFDSCxhQUFTLEtBQUs7QUFDZCxRQUFJO0FBQUE7QUFBQSxNQUE4QixTQUFTO0FBQUE7QUFDM0MsUUFBSSxTQUFTLEdBQUc7QUFDaEIsUUFBSSxPQUFPLFNBQVM7QUFFcEIsUUFBSSxhQUFhLE1BQU07QUFDdEIsVUFBSTtBQUVKLHVCQUFpQixVQUFVLFlBQVk7QUFFdkMsVUFBSSxTQUFTLFFBQVEsZUFBZSxHQUFHO0FBQ3RDLGFBQUssU0FBUyxlQUFlLFNBQVM7QUFDdEMsYUFBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLFFBQVEsS0FBSztBQUNyQyxlQUFLLGVBQWUsQ0FBQyxJQUFJLFNBQVMsQ0FBQztBQUFBLFFBQ3BDO0FBQUEsTUFDRCxPQUFPO0FBQ04saUJBQVMsT0FBTyxPQUFPO0FBQUEsTUFDeEI7QUFFQSxVQUFJLGdCQUFnQixNQUFNLFNBQVMsSUFBSSxlQUFlLEdBQUc7QUFDeEQsYUFBSyxJQUFJLGNBQWMsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUM1QyxZQUFDRyxPQUFBRCxNQUFBLEtBQUssQ0FBQyxHQUFFLGNBQVIsT0FBQUMsTUFBQUQsSUFBUSxZQUFjLENBQUMsR0FBRyxLQUFLLFFBQVE7QUFBQSxRQUN6QztBQUFBLE1BQ0Q7QUFBQSxJQUNELFdBQVcsU0FBUyxRQUFRLGVBQWUsS0FBSyxRQUFRO0FBQ3ZELHVCQUFpQixVQUFVLFlBQVk7QUFDdkMsV0FBSyxTQUFTO0FBQUEsSUFDZjtBQUtBLFFBQ0MsU0FBUyxLQUNULHFCQUFxQixRQUNyQixDQUFDLGNBQ0QsU0FBUyxTQUNSLFNBQVMsS0FBSyxVQUFVLGNBQWMsWUFBWSxHQUNsRDtBQUNELFdBQUssSUFBSSxHQUFHO0FBQUEsTUFBNkIsaUJBQWtCLFFBQVEsS0FBSztBQUN2RTtBQUFBLFVBQ0MsaUJBQWlCLENBQUM7QUFBQTtBQUFBLFVBQ0s7QUFBQSxRQUN4QjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBTUEsUUFBSSxzQkFBc0IsUUFBUSxzQkFBc0IsVUFBVTtBQUNqRTtBQUVBLFVBQUkscUJBQXFCLE1BQU07QUFDOUIsWUFBSSw4QkFBOEIsTUFBTTtBQUN2QyxzQ0FBNEI7QUFBQSxRQUM3QixPQUFPO0FBQ04sb0NBQTBCLEtBQUs7QUFBQSxVQUE0QixnQkFBaUI7QUFBQSxRQUM3RTtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsU0FBSyxTQUFTLElBQUksaUJBQWlCLEdBQUc7QUFDckMsZUFBUyxLQUFLO0FBQUEsSUFDZjtBQUVBLFdBQU87QUFBQSxFQUNSLFNBQVMsT0FBTztBQUNmLFdBQU8sYUFBYSxLQUFLO0FBQUEsRUFDMUIsVUFBRTtBQUNELGFBQVMsS0FBSztBQUNkLGVBQVc7QUFDWCxtQkFBZTtBQUNmLHVCQUFtQjtBQUNuQixzQkFBa0I7QUFDbEIsc0JBQWtCO0FBQ2xCLDBCQUFzQiwwQkFBMEI7QUFDaEQsaUJBQWE7QUFDYixxQkFBaUI7QUFBQSxFQUNsQjtBQUNEO0FBUUEsU0FBUyxnQkFBZ0IsUUFBUSxZQUFZO0FBQzVDLE1BQUksWUFBWSxXQUFXO0FBQzNCLE1BQUksY0FBYyxNQUFNO0FBQ3ZCLFFBQUlFLFNBQVEsU0FBUyxLQUFLLFdBQVcsTUFBTTtBQUMzQyxRQUFJQSxXQUFVLElBQUk7QUFDakIsVUFBSSxhQUFhLFVBQVUsU0FBUztBQUNwQyxVQUFJLGVBQWUsR0FBRztBQUNyQixvQkFBWSxXQUFXLFlBQVk7QUFBQSxNQUNwQyxPQUFPO0FBRU4sa0JBQVVBLE1BQUssSUFBSSxVQUFVLFVBQVU7QUFDdkMsa0JBQVUsSUFBSTtBQUFBLE1BQ2Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUlBLE1BQ0MsY0FBYyxTQUNiLFdBQVcsSUFBSSxhQUFhO0FBQUE7QUFBQTtBQUFBLEdBSTVCLGFBQWEsUUFBUSxDQUFDLFNBQVMsU0FBUyxVQUFVLElBQ2xEO0FBQ0QsUUFBSUM7QUFBQTtBQUFBLE1BQWtDO0FBQUE7QUFJdEMsU0FBS0EsU0FBUSxJQUFJLGVBQWUsR0FBRztBQUNsQyxNQUFBQSxTQUFRLEtBQUs7QUFDYixNQUFBQSxTQUFRLEtBQUssQ0FBQztBQUFBLElBQ2Y7QUFFQSwwQkFBc0JBLFFBQU87QUFHN0IsNEJBQXdCQSxRQUFPO0FBQy9CLHFCQUFpQkEsVUFBUyxDQUFDO0FBQUEsRUFDNUI7QUFDRDtBQU9PLFNBQVMsaUJBQWlCLFFBQVEsYUFBYTtBQUNyRCxNQUFJLGVBQWUsT0FBTztBQUMxQixNQUFJLGlCQUFpQixLQUFNO0FBRTNCLFdBQVMsSUFBSSxhQUFhLElBQUksYUFBYSxRQUFRLEtBQUs7QUFDdkQsb0JBQWdCLFFBQVEsYUFBYSxDQUFDLENBQUM7QUFBQSxFQUN4QztBQUNEO0FBTU8sU0FBUyxjQUFjTixTQUFRO0FBdlp0QyxNQUFBRztBQXdaQyxNQUFJRixTQUFRRCxRQUFPO0FBRW5CLE9BQUtDLFNBQVEsZUFBZSxHQUFHO0FBQzlCO0FBQUEsRUFDRDtBQUVBLG9CQUFrQkQsU0FBUSxLQUFLO0FBRS9CLE1BQUksa0JBQWtCO0FBQ3RCLE1BQUksc0JBQXNCO0FBRTFCLGtCQUFnQkE7QUFDaEIsdUJBQXFCO0FBRXJCLE1BQUksc0JBQUs7QUFDUixRQUFJLHdCQUF3QjtBQUM1Qix1Q0FBbUNBLFFBQU8sa0JBQWtCO0FBQzVELFFBQUk7QUFBQTtBQUFBLE1BQXFDO0FBQUE7QUFFekMsbUJBQWNHLE1BQUFILFFBQU8sY0FBUCxPQUFBRyxNQUFvQixTQUFTO0FBQUEsRUFDNUM7QUFFQSxNQUFJO0FBQ0gsU0FBS0YsVUFBUyxlQUFlLHFCQUFxQixHQUFHO0FBQ3BELG9DQUE4QkQsT0FBTTtBQUFBLElBQ3JDLE9BQU87QUFDTiw4QkFBd0JBLE9BQU07QUFBQSxJQUMvQjtBQUVBLDRCQUF3QkEsT0FBTTtBQUM5QixRQUFJTyxZQUFXLGdCQUFnQlAsT0FBTTtBQUNyQyxJQUFBQSxRQUFPLFdBQVcsT0FBT08sY0FBYSxhQUFhQSxZQUFXO0FBQzlELElBQUFQLFFBQU8sS0FBSztBQUlaLFFBQUksd0JBQU8sc0JBQXNCQSxRQUFPLElBQUksV0FBVyxLQUFLQSxRQUFPLFNBQVMsTUFBTTtBQUNqRixlQUFTLE9BQU9BLFFBQU8sTUFBTTtBQUM1QixZQUFJLElBQUksbUJBQW1CO0FBQzFCLGNBQUksS0FBSyx3QkFBd0I7QUFDakMsY0FBSSxvQkFBb0I7QUFBQSxRQUN6QjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRCxVQUFFO0FBQ0QseUJBQXFCO0FBQ3JCLG9CQUFnQjtBQUVoQixRQUFJLHNCQUFLO0FBQ1IseUNBQW1DLHFCQUFxQjtBQUN4RCxvQkFBYyxjQUFjO0FBQUEsSUFDN0I7QUFBQSxFQUNEO0FBQ0Q7QUFNQSxlQUFzQixPQUFPO0FBQzVCLE1BQUksaUJBQWlCO0FBQ3BCLFdBQU8sSUFBSSxRQUFRLENBQUMsTUFBTTtBQUl6Qiw0QkFBc0IsTUFBTSxFQUFFLENBQUM7QUFDL0IsaUJBQVcsTUFBTSxFQUFFLENBQUM7QUFBQSxJQUNyQixDQUFDO0FBQUEsRUFDRjtBQUVBLFFBQU0sUUFBUSxRQUFRO0FBSXRCLFlBQVU7QUFDWDtBQWlCTyxTQUFTLElBQUksUUFBUTtBQXBmNUIsTUFBQVEsS0FBQUMsS0FBQUM7QUFxZkMsTUFBSUMsU0FBUSxPQUFPO0FBQ25CLE1BQUksY0FBY0EsU0FBUSxhQUFhO0FBRXZDLEdBQUFILE1BQUEscUNBQUFBLElBQWtCLElBQUk7QUFHdEIsTUFBSSxvQkFBb0IsUUFBUSxDQUFDLFlBQVk7QUFJNUMsUUFBSSxZQUFZLGtCQUFrQixTQUFTLGNBQWMsSUFBSSxlQUFlO0FBRTVFLFFBQUksQ0FBQyxhQUFhLEVBQUMsbURBQWlCLFNBQVMsVUFBUztBQUNyRCxVQUFJLE9BQU8sZ0JBQWdCO0FBRTNCLFdBQUssZ0JBQWdCLElBQUksMEJBQTBCLEdBQUc7QUFFckQsWUFBSSxPQUFPLEtBQUssY0FBYztBQUM3QixpQkFBTyxLQUFLO0FBS1osY0FBSSxhQUFhLFFBQVEsU0FBUyxRQUFRLEtBQUssWUFBWSxNQUFNLFFBQVE7QUFDeEU7QUFBQSxVQUNELFdBQVcsYUFBYSxNQUFNO0FBQzdCLHVCQUFXLENBQUMsTUFBTTtBQUFBLFVBQ25CLFdBQVcsQ0FBQyxTQUFTLFNBQVMsTUFBTSxHQUFHO0FBQ3RDLHFCQUFTLEtBQUssTUFBTTtBQUFBLFVBQ3JCO0FBQUEsUUFDRDtBQUFBLE1BQ0QsT0FBTztBQUdOLFVBQUNDLE1BQUEsZ0JBQWdCLFNBQWhCLE9BQUFBLE1BQUEsZ0JBQWdCLE9BQVMsQ0FBQyxHQUFHLEtBQUssTUFBTTtBQUV6QyxZQUFJLFlBQVksT0FBTztBQUV2QixZQUFJLGNBQWMsTUFBTTtBQUN2QixpQkFBTyxZQUFZLENBQUMsZUFBZTtBQUFBLFFBQ3BDLFdBQVcsQ0FBQyxVQUFVLFNBQVMsZUFBZSxHQUFHO0FBQ2hELG9CQUFVLEtBQUssZUFBZTtBQUFBLFFBQy9CO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsTUFBSSxzQkFBSztBQWVSLDBCQUFzQixPQUFPLE1BQU07QUFFbkMsUUFDQyxxQkFDQSxDQUFDLGNBQ0Qsd0JBQXdCLFFBQ3hCLG9CQUFvQixRQUNwQixvQkFBb0IsYUFBYSxpQkFDaEM7QUFFRCxVQUFJLE9BQU8sT0FBTztBQUNqQixlQUFPLE1BQU07QUFBQSxNQUNkLE9BQU87QUFDTixZQUFJRyxTQUFRLFVBQVUsV0FBVztBQUVqQyxZQUFJQSxRQUFPO0FBQ1YsY0FBSSxRQUFRLG9CQUFvQixRQUFRLElBQUksTUFBTTtBQUVsRCxjQUFJLFVBQVUsUUFBVztBQUN4QixvQkFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0FBQ3JCLGdDQUFvQixRQUFRLElBQUksUUFBUSxLQUFLO0FBQUEsVUFDOUM7QUFFQSxjQUFJLE9BQU8sTUFBTSxPQUFPLE1BQU0sT0FBTyxTQUFTLENBQUM7QUFJL0MsY0FBSUEsT0FBTSxXQUFVLDZCQUFNLFFBQU87QUFDaEMsa0JBQU0sT0FBTyxLQUFLQSxNQUFLO0FBQUEsVUFDeEI7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsTUFBSSx3QkFBd0IsV0FBVyxJQUFJLE1BQU0sR0FBRztBQUNuRCxXQUFPLFdBQVcsSUFBSSxNQUFNO0FBQUEsRUFDN0I7QUFFQSxNQUFJLFlBQVk7QUFDZixRQUFJQztBQUFBO0FBQUEsTUFBa0M7QUFBQTtBQUV0QyxRQUFJLHNCQUFzQjtBQUN6QixVQUFJLFFBQVFBLFNBQVE7QUFJcEIsV0FDR0EsU0FBUSxJQUFJLFdBQVcsS0FBS0EsU0FBUSxjQUFjLFFBQ3BELHNCQUFzQkEsUUFBTyxHQUM1QjtBQUNELGdCQUFRLGdCQUFnQkEsUUFBTztBQUFBLE1BQ2hDO0FBRUEsaUJBQVcsSUFBSUEsVUFBUyxLQUFLO0FBRTdCLGFBQU87QUFBQSxJQUNSO0FBSUEsUUFBSSxrQkFDRkEsU0FBUSxJQUFJLGVBQWUsS0FDNUIsQ0FBQyxjQUNELG9CQUFvQixTQUNuQix1QkFBdUIsZ0JBQWdCLElBQUksZUFBZTtBQUU1RCxRQUFJLFNBQVNBLFNBQVEsU0FBUztBQUU5QixRQUFJLFNBQVNBLFFBQU8sR0FBRztBQUN0QixVQUFJLGdCQUFnQjtBQUduQixRQUFBQSxTQUFRLEtBQUs7QUFBQSxNQUNkO0FBRUEscUJBQWVBLFFBQU87QUFBQSxJQUN2QjtBQUVBLFFBQUksa0JBQWtCLENBQUMsUUFBUTtBQUM5QixnQkFBVUEsUUFBTztBQUFBLElBQ2xCO0FBQUEsRUFDRDtBQUVBLE9BQUlILE1BQUEsaUNBQUFBLElBQWMsSUFBSSxTQUFTO0FBQzlCLFdBQU8sYUFBYSxJQUFJLE1BQU07QUFBQSxFQUMvQjtBQUVBLE9BQUssT0FBTyxJQUFJLGlCQUFpQixHQUFHO0FBQ25DLFVBQU0sT0FBTztBQUFBLEVBQ2Q7QUFFQSxTQUFPLE9BQU87QUFDZjtBQU9BLFNBQVMsVUFBVUcsVUFBUztBQXZwQjVCLE1BQUFMO0FBd3BCQyxNQUFJSyxTQUFRLFNBQVMsS0FBTTtBQUUzQixFQUFBQSxTQUFRLEtBQUs7QUFFYixhQUFXLE9BQU9BLFNBQVEsTUFBTTtBQUMvQixNQUFDTCxNQUFBLElBQUksY0FBSixPQUFBQSxNQUFBLElBQUksWUFBYyxDQUFDLEdBQUcsS0FBS0ssUUFBTztBQUVuQyxTQUFLLElBQUksSUFBSSxhQUFhLE1BQU0sSUFBSSxJQUFJLGVBQWUsR0FBRztBQUN6RDtBQUFBO0FBQUEsUUFBa0M7QUFBQSxNQUFJO0FBQUEsSUFDdkM7QUFBQSxFQUNEO0FBQ0Q7QUFHQSxTQUFTLHNCQUFzQkEsVUFBUztBQUN2QyxNQUFJQSxTQUFRLE1BQU0sY0FBZSxRQUFPO0FBQ3hDLE1BQUlBLFNBQVEsU0FBUyxLQUFNLFFBQU87QUFFbEMsYUFBVyxPQUFPQSxTQUFRLE1BQU07QUFDL0IsUUFBSSxXQUFXLElBQUksR0FBRyxHQUFHO0FBQ3hCLGFBQU87QUFBQSxJQUNSO0FBRUEsU0FBSyxJQUFJLElBQUksYUFBYSxLQUFLO0FBQUE7QUFBQSxNQUE4QztBQUFBLElBQUksR0FBRztBQUNuRixhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFFQSxTQUFPO0FBQ1I7QUE0Qk8sU0FBUyxRQUFRLElBQUk7QUFDM0IsTUFBSSxzQkFBc0I7QUFDMUIsTUFBSTtBQUNILGlCQUFhO0FBQ2IsV0FBTyxHQUFHO0FBQUEsRUFDWCxVQUFFO0FBQ0QsaUJBQWE7QUFBQSxFQUNkO0FBQ0Q7QUFnQ08sU0FBUyxnQkFBZ0IsT0FBTztBQUN0QyxNQUFJLE9BQU8sVUFBVSxZQUFZLENBQUMsU0FBUyxpQkFBaUIsYUFBYTtBQUN4RTtBQUFBLEVBQ0Q7QUFFQSxNQUFJLGdCQUFnQixPQUFPO0FBQzFCLGNBQVUsS0FBSztBQUFBLEVBQ2hCLFdBQVcsQ0FBQyxNQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ2pDLGFBQVNDLFFBQU8sT0FBTztBQUN0QixZQUFNQyxRQUFPLE1BQU1ELElBQUc7QUFDdEIsVUFBSSxPQUFPQyxVQUFTLFlBQVlBLFNBQVEsZ0JBQWdCQSxPQUFNO0FBQzdELGtCQUFVQSxLQUFJO0FBQUEsTUFDZjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUFTTyxTQUFTLFVBQVUsT0FBTyxVQUFVLG9CQUFJLElBQUksR0FBRztBQUNyRCxNQUNDLE9BQU8sVUFBVSxZQUNqQixVQUFVO0FBQUEsRUFFVixFQUFFLGlCQUFpQixnQkFDbkIsQ0FBQyxRQUFRLElBQUksS0FBSyxHQUNqQjtBQUNELFlBQVEsSUFBSSxLQUFLO0FBR2pCLFFBQUksaUJBQWlCLE1BQU07QUFDMUIsWUFBTSxRQUFRO0FBQUEsSUFDZjtBQUNBLGFBQVNELFFBQU8sT0FBTztBQUN0QixVQUFJO0FBQ0gsa0JBQVUsTUFBTUEsSUFBRyxHQUFHLE9BQU87QUFBQSxNQUM5QixTQUFTLEdBQUc7QUFBQSxNQUVaO0FBQUEsSUFDRDtBQUNBLFVBQU0sUUFBUSxpQkFBaUIsS0FBSztBQUNwQyxRQUNDLFVBQVUsT0FBTyxhQUNqQixVQUFVLE1BQU0sYUFDaEIsVUFBVSxJQUFJLGFBQ2QsVUFBVSxJQUFJLGFBQ2QsVUFBVSxLQUFLLFdBQ2Q7QUFDRCxZQUFNLGNBQWMsZ0JBQWdCLEtBQUs7QUFDekMsZUFBU0EsUUFBTyxhQUFhO0FBQzVCLGNBQU1FLE9BQU0sWUFBWUYsSUFBRyxFQUFFO0FBQzdCLFlBQUlFLE1BQUs7QUFDUixjQUFJO0FBQ0gsWUFBQUEsS0FBSSxLQUFLLEtBQUs7QUFBQSxVQUNmLFNBQVMsR0FBRztBQUFBLFVBRVo7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7OztBQ3pxQkEsSUFBTSx5QkFBeUI7QUFBQSxFQUM5QjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNEO0FBd0NBLElBQU0saUJBQWlCO0FBQUEsRUFDdEIsR0FBRztBQUFBLEVBQ0g7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0Q7QUE2QkEsSUFBTSxpQkFBaUIsQ0FBQyxjQUFjLFdBQVc7QUFNMUMsU0FBUyxpQkFBaUIsTUFBTTtBQUN0QyxTQUFPLGVBQWUsU0FBUyxJQUFJO0FBQ3BDO0FBaUtBLElBQU07QUFBQTtBQUFBLEVBQTZDO0FBQUEsSUFDbEQ7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNEO0FBQUE7QUFFQSxJQUFNO0FBQUE7QUFBQSxFQUE4QjtBQUFBLElBQ25DLEdBQUc7QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0Q7QUFBQTs7O0FDbmNBLElBQUksYUFBYSxvQkFBSSxJQUFJO0FBTWxCLFNBQVMsZUFBZUMsT0FBTSxPQUFPO0FBQzNDLE1BQUksU0FBUyxXQUFXLElBQUlBLEtBQUk7QUFFaEMsTUFBSSxDQUFDLFFBQVE7QUFDWixhQUFTLG9CQUFJLElBQUk7QUFDakIsZUFBVyxJQUFJQSxPQUFNLE1BQU07QUFBQSxFQUM1QjtBQUVBLFNBQU8sSUFBSSxLQUFLO0FBQ2pCOzs7QUNETyxJQUFNLHdCQUF3QixvQkFBSSxJQUFJO0FBR3RDLElBQU0scUJBQXFCLG9CQUFJLElBQUk7QUErQm5DLFNBQVMsYUFBYSxZQUFZLEtBQUssU0FBUyxVQUFVLENBQUMsR0FBRztBQUlwRSxXQUFTLGVBQW9DQyxRQUFPO0FBQ25ELFFBQUksQ0FBQyxRQUFRLFNBQVM7QUFFckIsK0JBQXlCLEtBQUssS0FBS0EsTUFBSztBQUFBLElBQ3pDO0FBQ0EsUUFBSSxDQUFDQSxPQUFNLGNBQWM7QUFDeEIsYUFBTyx5QkFBeUIsTUFBTTtBQUNyQyxlQUFPLG1DQUFTLEtBQUssTUFBTUE7QUFBQSxNQUM1QixDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFNQSxNQUNDLFdBQVcsV0FBVyxTQUFTLEtBQy9CLFdBQVcsV0FBVyxPQUFPLEtBQzdCLGVBQWUsU0FDZDtBQUNELHFCQUFpQixNQUFNO0FBQ3RCLFVBQUksaUJBQWlCLFlBQVksZ0JBQWdCLE9BQU87QUFBQSxJQUN6RCxDQUFDO0FBQUEsRUFDRixPQUFPO0FBQ04sUUFBSSxpQkFBaUIsWUFBWSxnQkFBZ0IsT0FBTztBQUFBLEVBQ3pEO0FBRUEsU0FBTztBQUNSO0FBNEJPLFNBQVMsTUFBTSxZQUFZLEtBQUssU0FBU0MsVUFBU0MsVUFBUztBQUNqRSxNQUFJLFVBQVUsRUFBRSxTQUFBRCxVQUFTLFNBQUFDLFNBQVE7QUFDakMsTUFBSSxpQkFBaUIsYUFBYSxZQUFZLEtBQUssU0FBUyxPQUFPO0FBRW5FLE1BQ0MsUUFBUSxTQUFTO0FBQUEsRUFFakIsUUFBUTtBQUFBLEVBRVIsUUFBUTtBQUFBLEVBRVIsZUFBZSxrQkFDZDtBQUNELGFBQVMsTUFBTTtBQUNkLFVBQUksb0JBQW9CLFlBQVksZ0JBQWdCLE9BQU87QUFBQSxJQUM1RCxDQUFDO0FBQUEsRUFDRjtBQUNEO0FBTU8sU0FBUyxTQUFTLFFBQVE7QUFDaEMsV0FBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFFBQVEsS0FBSztBQUN2QywwQkFBc0IsSUFBSSxPQUFPLENBQUMsQ0FBQztBQUFBLEVBQ3BDO0FBRUEsV0FBUyxNQUFNLG9CQUFvQjtBQUNsQyxPQUFHLE1BQU07QUFBQSxFQUNWO0FBQ0Q7QUFPQSxJQUFJLHdCQUF3QjtBQU9yQixTQUFTLHlCQUF5QkMsUUFBTztBQTNKaEQsTUFBQUM7QUE0SkMsTUFBSSxrQkFBa0I7QUFDdEIsTUFBSTtBQUFBO0FBQUEsSUFBc0MsZ0JBQWlCO0FBQUE7QUFDM0QsTUFBSSxhQUFhRCxPQUFNO0FBQ3ZCLE1BQUksU0FBT0MsTUFBQUQsT0FBTSxpQkFBTixnQkFBQUMsSUFBQSxLQUFBRCxZQUEwQixDQUFDO0FBQ3RDLE1BQUk7QUFBQTtBQUFBLElBQWdELEtBQUssQ0FBQyxLQUFLQSxPQUFNO0FBQUE7QUFFckUsMEJBQXdCQTtBQU14QixNQUFJLFdBQVc7QUFNZixNQUFJLGFBQWEsMEJBQTBCQSxVQUFTQSxPQUFNO0FBRTFELE1BQUksWUFBWTtBQUNmLFFBQUksU0FBUyxLQUFLLFFBQVEsVUFBVTtBQUNwQyxRQUNDLFdBQVcsT0FDVixvQkFBb0IsWUFBWTtBQUFBLElBQXdDLFNBQ3hFO0FBS0QsTUFBQUEsT0FBTSxTQUFTO0FBQ2Y7QUFBQSxJQUNEO0FBT0EsUUFBSSxjQUFjLEtBQUssUUFBUSxlQUFlO0FBQzlDLFFBQUksZ0JBQWdCLElBQUk7QUFHdkI7QUFBQSxJQUNEO0FBRUEsUUFBSSxVQUFVLGFBQWE7QUFDMUIsaUJBQVc7QUFBQSxJQUNaO0FBQUEsRUFDRDtBQUVBO0FBQUEsRUFBeUMsS0FBSyxRQUFRLEtBQUtBLE9BQU07QUFJakUsTUFBSSxtQkFBbUIsZ0JBQWlCO0FBR3hDLGtCQUFnQkEsUUFBTyxpQkFBaUI7QUFBQSxJQUN2QyxjQUFjO0FBQUEsSUFDZCxNQUFNO0FBQ0wsYUFBTyxrQkFBa0I7QUFBQSxJQUMxQjtBQUFBLEVBQ0QsQ0FBQztBQU9ELE1BQUksb0JBQW9CO0FBQ3hCLE1BQUksa0JBQWtCO0FBQ3RCLHNCQUFvQixJQUFJO0FBQ3hCLG9CQUFrQixJQUFJO0FBRXRCLE1BQUk7QUFJSCxRQUFJO0FBSUosUUFBSSxlQUFlLENBQUM7QUFFcEIsV0FBTyxtQkFBbUIsTUFBTTtBQUUvQixVQUFJLGlCQUNILGVBQWUsZ0JBQ2YsZUFBZTtBQUFBLE1BQ0ssZUFBZ0IsUUFDcEM7QUFFRCxVQUFJO0FBRUgsWUFBSSxZQUFZLGVBQWUsT0FBTyxVQUFVO0FBRWhELFlBQ0MsYUFBYSxTQUNaO0FBQUEsUUFBc0IsZUFBZ0I7QUFBQTtBQUFBLFFBR3RDQSxPQUFNLFdBQVcsaUJBQ2pCO0FBQ0Qsb0JBQVUsS0FBSyxnQkFBZ0JBLE1BQUs7QUFBQSxRQUNyQztBQUFBLE1BQ0QsU0FBUyxPQUFPO0FBQ2YsWUFBSSxhQUFhO0FBQ2hCLHVCQUFhLEtBQUssS0FBSztBQUFBLFFBQ3hCLE9BQU87QUFDTix3QkFBYztBQUFBLFFBQ2Y7QUFBQSxNQUNEO0FBQ0EsVUFBSUEsT0FBTSxnQkFBZ0IsbUJBQW1CLG1CQUFtQixtQkFBbUIsTUFBTTtBQUN4RjtBQUFBLE1BQ0Q7QUFDQSx1QkFBaUI7QUFBQSxJQUNsQjtBQUVBLFFBQUksYUFBYTtBQUNoQixlQUFTLFNBQVMsY0FBYztBQUUvQix1QkFBZSxNQUFNO0FBQ3BCLGdCQUFNO0FBQUEsUUFDUCxDQUFDO0FBQUEsTUFDRjtBQUNBLFlBQU07QUFBQSxJQUNQO0FBQUEsRUFDRCxVQUFFO0FBRUQsSUFBQUEsT0FBTSxTQUFTO0FBRWYsV0FBT0EsT0FBTTtBQUNiLHdCQUFvQixpQkFBaUI7QUFDckMsc0JBQWtCLGVBQWU7QUFBQSxFQUNsQztBQUNEOzs7QUNuU08sU0FBUywwQkFBMEJFLE9BQU07QUFDL0MsTUFBSSxPQUFPLFNBQVMsY0FBYyxVQUFVO0FBQzVDLE9BQUssWUFBWUEsTUFBSyxXQUFXLE9BQU8sU0FBUztBQUNqRCxTQUFPLEtBQUs7QUFDYjs7O0FDdUJPLFNBQVMsYUFBYSxPQUFPLEtBQUs7QUFDeEMsTUFBSUM7QUFBQTtBQUFBLElBQWdDO0FBQUE7QUFDcEMsTUFBSUEsUUFBTyxVQUFVLE1BQU07QUFDMUIsSUFBQUEsUUFBTyxRQUFRLEVBQUUsT0FBTyxLQUFLLEdBQUcsTUFBTSxHQUFHLEtBQUs7QUFBQSxFQUMvQztBQUNEO0FBQUE7QUFRTyxTQUFTLFVBQVUsU0FBU0MsUUFBTztBQUN6QyxNQUFJLGVBQWVBLFNBQVEsdUJBQXVCO0FBQ2xELE1BQUksbUJBQW1CQSxTQUFRLDhCQUE4QjtBQUc3RCxNQUFJO0FBTUosTUFBSSxZQUFZLENBQUMsUUFBUSxXQUFXLEtBQUs7QUFFekMsU0FBTyxNQUFNO0FBQ1osUUFBSSxXQUFXO0FBQ2QsbUJBQWEsY0FBYyxJQUFJO0FBQy9CLGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxTQUFTLFFBQVc7QUFDdkIsYUFBTywwQkFBMEIsWUFBWSxVQUFVLFFBQVEsT0FBTztBQUN0RSxVQUFJLENBQUMsWUFBYTtBQUFBLE1BQW9DLGdCQUFnQixJQUFJO0FBQUEsSUFDM0U7QUFFQSxRQUFJO0FBQUE7QUFBQSxNQUNILG1CQUFtQixhQUFhLFNBQVMsV0FBVyxNQUFNLElBQUksSUFBSSxLQUFLLFVBQVUsSUFBSTtBQUFBO0FBR3RGLFFBQUksYUFBYTtBQUNoQixVQUFJO0FBQUE7QUFBQSxRQUFxQyxnQkFBZ0IsS0FBSztBQUFBO0FBQzlELFVBQUk7QUFBQTtBQUFBLFFBQW1DLE1BQU07QUFBQTtBQUU3QyxtQkFBYSxPQUFPLEdBQUc7QUFBQSxJQUN4QixPQUFPO0FBQ04sbUJBQWEsT0FBTyxLQUFLO0FBQUEsSUFDMUI7QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUNEO0FBaVBPLFNBQVMsVUFBVTtBQUV6QixNQUFJLFdBQVc7QUFDZCxpQkFBYSxjQUFjLElBQUk7QUFDL0IsV0FBTztBQUFBLEVBQ1I7QUFFQSxNQUFJLE9BQU8sU0FBUyx1QkFBdUI7QUFDM0MsTUFBSSxRQUFRLFNBQVMsY0FBYyxFQUFFO0FBQ3JDLE1BQUksU0FBUyxZQUFZO0FBQ3pCLE9BQUssT0FBTyxPQUFPLE1BQU07QUFFekIsZUFBYSxPQUFPLE1BQU07QUFFMUIsU0FBTztBQUNSO0FBUU8sU0FBUyxPQUFPLFFBQVEsS0FBSztBQUNuQyxNQUFJLFdBQVc7QUFDZCxRQUFJQztBQUFBO0FBQUEsTUFBeUQ7QUFBQTtBQUs3RCxTQUFLQSxRQUFPLElBQUksZ0JBQWdCLEtBQUtBLFFBQU8sTUFBTSxRQUFRLE1BQU07QUFDL0QsTUFBQUEsUUFBTyxNQUFNLE1BQU07QUFBQSxJQUNwQjtBQUVBLGlCQUFhO0FBQ2I7QUFBQSxFQUNEO0FBRUEsTUFBSSxXQUFXLE1BQU07QUFFcEI7QUFBQSxFQUNEO0FBRUEsU0FBTztBQUFBO0FBQUEsSUFBNEI7QUFBQSxFQUFJO0FBQ3hDOzs7QUM1VU8sSUFBSSxlQUFlO0FBWW5CLFNBQVMsU0FBU0MsT0FBTSxPQUFPO0FBN0N0QyxNQUFBQztBQStDQyxNQUFJLE1BQU0sU0FBUyxPQUFPLEtBQUssT0FBTyxVQUFVLFdBQVcsUUFBUSxLQUFLO0FBRXhFLE1BQUksVUFBU0EsTUFBQUQsTUFBSyxRQUFMLE9BQUFDLE1BQUFELE1BQUssTUFBUUEsTUFBSyxZQUFZO0FBRTFDLElBQUFBLE1BQUssTUFBTTtBQUNYLElBQUFBLE1BQUssWUFBWSxNQUFNO0FBQUEsRUFDeEI7QUFDRDtBQVlPLFNBQVMsTUFBTUUsWUFBVyxTQUFTO0FBQ3pDLFNBQU8sT0FBT0EsWUFBVyxPQUFPO0FBQ2pDO0FBeUJPLFNBQVMsUUFBUUEsWUFBVyxTQUFTO0FBN0Y1QyxNQUFBRDtBQThGQyxrQkFBZ0I7QUFDaEIsVUFBUSxTQUFRQSxNQUFBLFFBQVEsVUFBUixPQUFBQSxNQUFpQjtBQUNqQyxRQUFNLFNBQVMsUUFBUTtBQUN2QixRQUFNLGdCQUFnQjtBQUN0QixRQUFNLHdCQUF3QjtBQUU5QixNQUFJO0FBQ0gsUUFBSSxTQUFTLGdCQUFnQixNQUFNO0FBRW5DLFdBQ0MsV0FDQyxPQUFPLGFBQWE7QUFBQSxJQUF3QyxPQUFRLFNBQVMsa0JBQzdFO0FBQ0QsZUFBUyxpQkFBaUIsTUFBTTtBQUFBLElBQ2pDO0FBRUEsUUFBSSxDQUFDLFFBQVE7QUFDWixZQUFNO0FBQUEsSUFDUDtBQUVBLGtCQUFjLElBQUk7QUFDbEI7QUFBQTtBQUFBLE1BQXlDO0FBQUEsSUFBTztBQUVoRCxVQUFNLFdBQVcsT0FBT0MsWUFBVyxFQUFFLEdBQUcsU0FBUyxPQUFPLENBQUM7QUFFekQsa0JBQWMsS0FBSztBQUVuQjtBQUFBO0FBQUEsTUFBZ0M7QUFBQTtBQUFBLEVBQ2pDLFNBQVMsT0FBTztBQUVmLFFBQ0MsaUJBQWlCLFNBQ2pCLE1BQU0sUUFBUSxNQUFNLElBQUksRUFBRSxLQUFLLENBQUMsU0FBUyxLQUFLLFdBQVcsdUJBQXVCLENBQUMsR0FDaEY7QUFDRCxZQUFNO0FBQUEsSUFDUDtBQUNBLFFBQUksVUFBVSxpQkFBaUI7QUFFOUIsY0FBUSxLQUFLLHVCQUF1QixLQUFLO0FBQUEsSUFDMUM7QUFFQSxRQUFJLFFBQVEsWUFBWSxPQUFPO0FBQzlCLE1BQUUsaUJBQWlCO0FBQUEsSUFDcEI7QUFHQSxvQkFBZ0I7QUFDaEIsdUJBQW1CLE1BQU07QUFFekIsa0JBQWMsS0FBSztBQUNuQixXQUFPLE1BQU1BLFlBQVcsT0FBTztBQUFBLEVBQ2hDLFVBQUU7QUFDRCxrQkFBYyxhQUFhO0FBQzNCLHFCQUFpQixxQkFBcUI7QUFBQSxFQUN2QztBQUNEO0FBR0EsSUFBTSxxQkFBcUIsb0JBQUksSUFBSTtBQVFuQyxTQUFTLE9BQU8sV0FBVyxFQUFFLFFBQVEsUUFBUSxRQUFRLENBQUMsR0FBRyxRQUFRLFNBQVMsUUFBUSxLQUFLLEdBQUc7QUFDekYsa0JBQWdCO0FBR2hCLE1BQUksb0JBQW9CLG9CQUFJLElBQUk7QUFHaEMsTUFBSSxlQUFlLENBQUNDLFlBQVc7QUFDOUIsYUFBUyxJQUFJLEdBQUcsSUFBSUEsUUFBTyxRQUFRLEtBQUs7QUFDdkMsVUFBSSxhQUFhQSxRQUFPLENBQUM7QUFFekIsVUFBSSxrQkFBa0IsSUFBSSxVQUFVLEVBQUc7QUFDdkMsd0JBQWtCLElBQUksVUFBVTtBQUVoQyxVQUFJQyxXQUFVLGlCQUFpQixVQUFVO0FBS3pDLGFBQU8saUJBQWlCLFlBQVksMEJBQTBCLEVBQUUsU0FBQUEsU0FBUSxDQUFDO0FBRXpFLFVBQUksSUFBSSxtQkFBbUIsSUFBSSxVQUFVO0FBRXpDLFVBQUksTUFBTSxRQUFXO0FBR3BCLGlCQUFTLGlCQUFpQixZQUFZLDBCQUEwQixFQUFFLFNBQUFBLFNBQVEsQ0FBQztBQUMzRSwyQkFBbUIsSUFBSSxZQUFZLENBQUM7QUFBQSxNQUNyQyxPQUFPO0FBQ04sMkJBQW1CLElBQUksWUFBWSxJQUFJLENBQUM7QUFBQSxNQUN6QztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsZUFBYSxXQUFXLHFCQUFxQixDQUFDO0FBQzlDLHFCQUFtQixJQUFJLFlBQVk7QUFJbkMsTUFBSUYsYUFBWTtBQUVoQixNQUFJRyxXQUFVLGVBQWUsTUFBTTtBQUNsQyxRQUFJLGNBQWMsMEJBQVUsT0FBTyxZQUFZLFlBQVksQ0FBQztBQUU1RDtBQUFBO0FBQUEsTUFDOEI7QUFBQSxNQUM3QjtBQUFBLFFBQ0MsU0FBUyxNQUFNO0FBQUEsUUFBQztBQUFBLE1BQ2pCO0FBQUEsTUFDQSxDQUFDQyxpQkFBZ0I7QUFDaEIsWUFBSSxTQUFTO0FBQ1osZUFBSyxDQUFDLENBQUM7QUFDUCxjQUFJO0FBQUE7QUFBQSxZQUF1QztBQUFBO0FBQzNDLGNBQUksSUFBSTtBQUFBLFFBQ1Q7QUFFQSxZQUFJLFFBQVE7QUFFUSxVQUFDLE1BQU8sV0FBVztBQUFBLFFBQ3ZDO0FBRUEsWUFBSSxXQUFXO0FBQ2Q7QUFBQTtBQUFBLFlBQTBDQTtBQUFBLFlBQWM7QUFBQSxVQUFJO0FBQUEsUUFDN0Q7QUFFQSx1QkFBZTtBQUVmLFFBQUFKLGFBQVksVUFBVUksY0FBYSxLQUFLLEtBQUssQ0FBQztBQUM5Qyx1QkFBZTtBQUVmLFlBQUksV0FBVztBQUNpQyxVQUFDLGNBQWUsTUFBTSxNQUFNO0FBRTNFLGNBQ0MsaUJBQWlCLFFBQ2pCLGFBQWEsYUFBYTtBQUFBLFVBQ0YsYUFBYyxTQUFTLGVBQzlDO0FBQ0QsWUFBRSxtQkFBbUI7QUFDckIsa0JBQU07QUFBQSxVQUNQO0FBQUEsUUFDRDtBQUVBLFlBQUksU0FBUztBQUNaLGNBQUk7QUFBQSxRQUNMO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxXQUFPLE1BQU07QUF6UGYsVUFBQUw7QUEwUEcsZUFBUyxjQUFjLG1CQUFtQjtBQUN6QyxlQUFPLG9CQUFvQixZQUFZLHdCQUF3QjtBQUUvRCxZQUFJO0FBQUE7QUFBQSxVQUEyQixtQkFBbUIsSUFBSSxVQUFVO0FBQUE7QUFFaEUsWUFBSSxFQUFFLE1BQU0sR0FBRztBQUNkLG1CQUFTLG9CQUFvQixZQUFZLHdCQUF3QjtBQUNqRSw2QkFBbUIsT0FBTyxVQUFVO0FBQUEsUUFDckMsT0FBTztBQUNOLDZCQUFtQixJQUFJLFlBQVksQ0FBQztBQUFBLFFBQ3JDO0FBQUEsTUFDRDtBQUVBLHlCQUFtQixPQUFPLFlBQVk7QUFFdEMsVUFBSSxnQkFBZ0IsUUFBUTtBQUMzQixTQUFBQSxNQUFBLFlBQVksZUFBWixnQkFBQUEsSUFBd0IsWUFBWTtBQUFBLE1BQ3JDO0FBQUEsSUFDRDtBQUFBLEVBQ0QsQ0FBQztBQUVELHFCQUFtQixJQUFJQyxZQUFXRyxRQUFPO0FBQ3pDLFNBQU9IO0FBQ1I7QUFNQSxJQUFJLHFCQUFxQixvQkFBSSxRQUFRO0FBc0I5QixTQUFTLFFBQVFBLFlBQVcsU0FBUztBQUMzQyxRQUFNLEtBQUssbUJBQW1CLElBQUlBLFVBQVM7QUFFM0MsTUFBSSxJQUFJO0FBQ1AsdUJBQW1CLE9BQU9BLFVBQVM7QUFDbkMsV0FBTyxHQUFHLE9BQU87QUFBQSxFQUNsQjtBQUVBLE1BQUksc0JBQUs7QUFDUixRQUFJLGdCQUFnQkEsWUFBVztBQUM5QixNQUFFLG9CQUFvQjtBQUFBLElBQ3ZCLE9BQU87QUFDTixNQUFFLHlCQUF5QjtBQUFBLElBQzVCO0FBQUEsRUFDRDtBQUVBLFNBQU8sUUFBUSxRQUFRO0FBQ3hCOzs7QUM5VEE7QUFtQk8sSUFBTSxnQkFBTixNQUFvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUE4QzFCLFlBQVksUUFBUUssY0FBYSxNQUFNO0FBNUN2QztBQUFBO0FBR0E7QUFBQSxpQ0FBVyxvQkFBSSxJQUFJO0FBZ0JuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsa0NBQVksb0JBQUksSUFBSTtBQU9wQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUNBQWEsb0JBQUksSUFBSTtBQU1yQjtBQUFBO0FBQUE7QUFBQTtBQUFBLGtDQUFZLG9CQUFJLElBQUk7QUFNcEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQ0FBYztBQVdkLGdDQUFVLE1BQU07QUFDZixVQUFJO0FBQUE7QUFBQSxRQUE4QjtBQUFBO0FBR2xDLFVBQUksQ0FBQyxtQkFBSyxVQUFTLElBQUksS0FBSyxFQUFHO0FBRS9CLFVBQUlDO0FBQUE7QUFBQSxRQUEwQixtQkFBSyxVQUFTLElBQUksS0FBSztBQUFBO0FBRXJELFVBQUksV0FBVyxtQkFBSyxXQUFVLElBQUlBLElBQUc7QUFFckMsVUFBSSxVQUFVO0FBRWIsc0JBQWMsUUFBUTtBQUN0QiwyQkFBSyxXQUFVLE9BQU9BLElBQUc7QUFBQSxNQUMxQixPQUFPO0FBRU4sWUFBSSxZQUFZLG1CQUFLLFlBQVcsSUFBSUEsSUFBRztBQUV2QyxZQUFJLFdBQVc7QUFDZCw2QkFBSyxXQUFVLElBQUlBLE1BQUssVUFBVSxNQUFNO0FBQ3hDLDZCQUFLLFlBQVcsT0FBT0EsSUFBRztBQUdFLFVBQUMsVUFBVSxTQUFTLFVBQVcsT0FBTztBQUdsRSxlQUFLLE9BQU8sT0FBTyxVQUFVLFFBQVE7QUFDckMscUJBQVcsVUFBVTtBQUFBLFFBQ3RCO0FBQUEsTUFDRDtBQUVBLGlCQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssbUJBQUssV0FBVTtBQUNuQywyQkFBSyxVQUFTLE9BQU8sQ0FBQztBQUV0QixZQUFJLE1BQU0sT0FBTztBQUVoQjtBQUFBLFFBQ0Q7QUFFQSxjQUFNQyxhQUFZLG1CQUFLLFlBQVcsSUFBSSxDQUFDO0FBRXZDLFlBQUlBLFlBQVc7QUFHZCx5QkFBZUEsV0FBVSxNQUFNO0FBQy9CLDZCQUFLLFlBQVcsT0FBTyxDQUFDO0FBQUEsUUFDekI7QUFBQSxNQUNEO0FBR0EsaUJBQVcsQ0FBQyxHQUFHQyxPQUFNLEtBQUssbUJBQUssWUFBVztBQUd6QyxZQUFJLE1BQU1GLFFBQU8sbUJBQUssV0FBVSxJQUFJLENBQUMsRUFBRztBQUV4QyxjQUFNLGFBQWEsTUFBTTtBQUN4QixnQkFBTSxPQUFPLE1BQU0sS0FBSyxtQkFBSyxVQUFTLE9BQU8sQ0FBQztBQUU5QyxjQUFJLEtBQUssU0FBUyxDQUFDLEdBQUc7QUFFckIsZ0JBQUksV0FBVyxTQUFTLHVCQUF1QjtBQUMvQyx3QkFBWUUsU0FBUSxRQUFRO0FBRTVCLHFCQUFTLE9BQU8sWUFBWSxDQUFDO0FBRTdCLCtCQUFLLFlBQVcsSUFBSSxHQUFHLEVBQUUsUUFBQUEsU0FBUSxTQUFTLENBQUM7QUFBQSxVQUM1QyxPQUFPO0FBQ04sMkJBQWVBLE9BQU07QUFBQSxVQUN0QjtBQUVBLDZCQUFLLFdBQVUsT0FBTyxDQUFDO0FBQ3ZCLDZCQUFLLFdBQVUsT0FBTyxDQUFDO0FBQUEsUUFDeEI7QUFFQSxZQUFJLG1CQUFLLGdCQUFlLENBQUMsVUFBVTtBQUNsQyw2QkFBSyxXQUFVLElBQUksQ0FBQztBQUNwQix1QkFBYUEsU0FBUSxZQUFZLEtBQUs7QUFBQSxRQUN2QyxPQUFPO0FBQ04scUJBQVc7QUFBQSxRQUNaO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFLQTtBQUFBO0FBQUE7QUFBQSxpQ0FBVyxDQUFDLFVBQVU7QUFDckIseUJBQUssVUFBUyxPQUFPLEtBQUs7QUFFMUIsWUFBTSxPQUFPLE1BQU0sS0FBSyxtQkFBSyxVQUFTLE9BQU8sQ0FBQztBQUU5QyxpQkFBVyxDQUFDLEdBQUdDLE9BQU0sS0FBSyxtQkFBSyxhQUFZO0FBQzFDLFlBQUksQ0FBQyxLQUFLLFNBQVMsQ0FBQyxHQUFHO0FBQ3RCLHlCQUFlQSxRQUFPLE1BQU07QUFDNUIsNkJBQUssWUFBVyxPQUFPLENBQUM7QUFBQSxRQUN6QjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBckdDLFNBQUssU0FBUztBQUNkLHVCQUFLLGFBQWNKO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUEwR0EsT0FBT0MsTUFBSyxJQUFJO0FBQ2YsUUFBSTtBQUFBO0FBQUEsTUFBOEI7QUFBQTtBQUNsQyxRQUFJLFFBQVEsb0JBQW9CO0FBRWhDLFFBQUksTUFBTSxDQUFDLG1CQUFLLFdBQVUsSUFBSUEsSUFBRyxLQUFLLENBQUMsbUJBQUssWUFBVyxJQUFJQSxJQUFHLEdBQUc7QUFDaEUsVUFBSSxPQUFPO0FBQ1YsWUFBSSxXQUFXLFNBQVMsdUJBQXVCO0FBQy9DLFlBQUksU0FBUyxZQUFZO0FBRXpCLGlCQUFTLE9BQU8sTUFBTTtBQUV0QiwyQkFBSyxZQUFXLElBQUlBLE1BQUs7QUFBQSxVQUN4QixRQUFRLE9BQU8sTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUFBLFVBQy9CO0FBQUEsUUFDRCxDQUFDO0FBQUEsTUFDRixPQUFPO0FBQ04sMkJBQUssV0FBVTtBQUFBLFVBQ2RBO0FBQUEsVUFDQSxPQUFPLE1BQU0sR0FBRyxLQUFLLE1BQU0sQ0FBQztBQUFBLFFBQzdCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSx1QkFBSyxVQUFTLElBQUksT0FBT0EsSUFBRztBQUU1QixRQUFJLE9BQU87QUFDVixpQkFBVyxDQUFDLEdBQUdFLE9BQU0sS0FBSyxtQkFBSyxZQUFXO0FBQ3pDLFlBQUksTUFBTUYsTUFBSztBQUNkLGdCQUFNLGdCQUFnQixPQUFPRSxPQUFNO0FBQUEsUUFDcEMsT0FBTztBQUNOLGdCQUFNLGdCQUFnQixJQUFJQSxPQUFNO0FBQUEsUUFDakM7QUFBQSxNQUNEO0FBRUEsaUJBQVcsQ0FBQyxHQUFHQyxPQUFNLEtBQUssbUJBQUssYUFBWTtBQUMxQyxZQUFJLE1BQU1ILE1BQUs7QUFDZCxnQkFBTSxnQkFBZ0IsT0FBT0csUUFBTyxNQUFNO0FBQUEsUUFDM0MsT0FBTztBQUNOLGdCQUFNLGdCQUFnQixJQUFJQSxRQUFPLE1BQU07QUFBQSxRQUN4QztBQUFBLE1BQ0Q7QUFFQSxZQUFNLFNBQVMsbUJBQUssUUFBTztBQUMzQixZQUFNLFVBQVUsbUJBQUssU0FBUTtBQUFBLElBQzlCLE9BQU87QUFDTixVQUFJLFdBQVc7QUFDZCxhQUFLLFNBQVM7QUFBQSxNQUNmO0FBRUEseUJBQUssU0FBTDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7QUExTUM7QUFnQkE7QUFPQTtBQU1BO0FBTUE7QUFXQTtBQXNGQTs7O0FDdElNLFNBQVMsU0FBUyxNQUFNLElBQUksU0FBUyxPQUFPO0FBQ2xELE1BQUksV0FBVztBQUNkLGlCQUFhO0FBQUEsRUFDZDtBQUVBLE1BQUksV0FBVyxJQUFJLGNBQWMsSUFBSTtBQUNyQyxNQUFJQyxTQUFRLFNBQVMscUJBQXFCO0FBTTFDLFdBQVMsY0FBYyxXQUFXQyxLQUFJO0FBQ3JDLFFBQUksV0FBVztBQUNkLFlBQU0sVUFBVSwyQkFBMkIsSUFBSSxNQUFNO0FBRXJELFVBQUksY0FBYyxTQUFTO0FBRzFCLFlBQUksU0FBUyxXQUFXO0FBRXhCLHlCQUFpQixNQUFNO0FBQ3ZCLGlCQUFTLFNBQVM7QUFFbEIsc0JBQWMsS0FBSztBQUNuQixpQkFBUyxPQUFPLFdBQVdBLEdBQUU7QUFDN0Isc0JBQWMsSUFBSTtBQUVsQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsYUFBUyxPQUFPLFdBQVdBLEdBQUU7QUFBQSxFQUM5QjtBQUVBLFFBQU0sTUFBTTtBQUNYLFFBQUksYUFBYTtBQUVqQixPQUFHLENBQUNBLEtBQUksT0FBTyxTQUFTO0FBQ3ZCLG1CQUFhO0FBQ2Isb0JBQWMsTUFBTUEsR0FBRTtBQUFBLElBQ3ZCLENBQUM7QUFFRCxRQUFJLENBQUMsWUFBWTtBQUNoQixvQkFBYyxPQUFPLElBQUk7QUFBQSxJQUMxQjtBQUFBLEVBQ0QsR0FBR0QsTUFBSztBQUNUOzs7QUNsQk8sU0FBUyxNQUFNLEdBQUcsR0FBRztBQUMzQixTQUFPO0FBQ1I7QUFTQSxTQUFTLGNBQWNFLFFBQU8sWUFBWSxtQkFBbUI7QUE5RDdELE1BQUFDO0FBZ0VDLE1BQUksY0FBYyxDQUFDO0FBQ25CLE1BQUksU0FBUyxXQUFXO0FBR3hCLE1BQUk7QUFDSixNQUFJLFlBQVksV0FBVztBQUUzQixXQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsS0FBSztBQUNoQyxRQUFJQyxVQUFTLFdBQVcsQ0FBQztBQUV6QjtBQUFBLE1BQ0NBO0FBQUEsTUFDQSxNQUFNO0FBQ0wsWUFBSSxPQUFPO0FBQ1YsZ0JBQU0sUUFBUSxPQUFPQSxPQUFNO0FBQzNCLGdCQUFNLEtBQUssSUFBSUEsT0FBTTtBQUVyQixjQUFJLE1BQU0sUUFBUSxTQUFTLEdBQUc7QUFDN0IsZ0JBQUk7QUFBQTtBQUFBLGNBQTZDRixPQUFNO0FBQUE7QUFFdkQsNEJBQWdCLFdBQVcsTUFBTSxJQUFJLENBQUM7QUFDdEMsbUJBQU8sT0FBTyxLQUFLO0FBRW5CLGdCQUFJLE9BQU8sU0FBUyxHQUFHO0FBQ3RCLGNBQUFBLE9BQU0sY0FBYztBQUFBLFlBQ3JCO0FBQUEsVUFDRDtBQUFBLFFBQ0QsT0FBTztBQUNOLHVCQUFhO0FBQUEsUUFDZDtBQUFBLE1BQ0Q7QUFBQSxNQUNBO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFFQSxNQUFJLGNBQWMsR0FBRztBQUlwQixRQUFJLFlBQVksWUFBWSxXQUFXLEtBQUssc0JBQXNCO0FBRWxFLFFBQUksV0FBVztBQUNkLFVBQUk7QUFBQTtBQUFBLFFBQWlDO0FBQUE7QUFDckMsVUFBSTtBQUFBO0FBQUEsUUFBc0MsT0FBTztBQUFBO0FBRWpELHlCQUFtQixXQUFXO0FBQzlCLGtCQUFZLE9BQU8sTUFBTTtBQUV6QixNQUFBQSxPQUFNLE1BQU0sTUFBTTtBQUFBLElBQ25CO0FBRUEsb0JBQWdCLFlBQVksQ0FBQyxTQUFTO0FBQUEsRUFDdkMsT0FBTztBQUNOLFlBQVE7QUFBQSxNQUNQLFNBQVMsSUFBSSxJQUFJLFVBQVU7QUFBQSxNQUMzQixNQUFNLG9CQUFJLElBQUk7QUFBQSxJQUNmO0FBRUEsTUFBQ0MsTUFBQUQsT0FBTSxnQkFBTixPQUFBQyxNQUFBRCxPQUFNLGNBQWdCLG9CQUFJLElBQUksR0FBRyxJQUFJLEtBQUs7QUFBQSxFQUM1QztBQUNEO0FBTUEsU0FBUyxnQkFBZ0IsWUFBWSxhQUFhLE1BQU07QUFHdkQsV0FBUyxJQUFJLEdBQUcsSUFBSSxXQUFXLFFBQVEsS0FBSztBQUMzQyxtQkFBZSxXQUFXLENBQUMsR0FBRyxVQUFVO0FBQUEsRUFDekM7QUFDRDtBQUdBLElBQUk7QUFZRyxTQUFTLEtBQUssTUFBTUcsUUFBTyxnQkFBZ0IsU0FBUyxXQUFXLGNBQWMsTUFBTTtBQUN6RixNQUFJLFNBQVM7QUFHYixNQUFJLFFBQVEsb0JBQUksSUFBSTtBQUVwQixNQUFJLGlCQUFpQkEsU0FBUSx3QkFBd0I7QUFFckQsTUFBSSxlQUFlO0FBQ2xCLFFBQUk7QUFBQTtBQUFBLE1BQXNDO0FBQUE7QUFFMUMsYUFBUyxZQUNOLGlCQUFpQixnQkFBZ0IsV0FBVyxDQUFDLElBQzdDLFlBQVksWUFBWSxZQUFZLENBQUM7QUFBQSxFQUN6QztBQUVBLE1BQUksV0FBVztBQUNkLGlCQUFhO0FBQUEsRUFDZDtBQUdBLE1BQUlDLFlBQVc7QUFLZixNQUFJLGFBQWEsbUJBQW1CLE1BQU07QUFDekMsUUFBSSxhQUFhLGVBQWU7QUFFaEMsV0FBTyxTQUFTLFVBQVUsSUFBSSxhQUFhLGNBQWMsT0FBTyxDQUFDLElBQUksV0FBVyxVQUFVO0FBQUEsRUFDM0YsQ0FBQztBQUdELE1BQUk7QUFFSixNQUFJLFlBQVk7QUFFaEIsV0FBUyxTQUFTO0FBQ2pCLElBQUFKLE9BQU0sV0FBV0k7QUFDakIsY0FBVUosUUFBTyxPQUFPLFFBQVFHLFFBQU8sT0FBTztBQUU5QyxRQUFJQyxjQUFhLE1BQU07QUFDdEIsVUFBSSxNQUFNLFdBQVcsR0FBRztBQUN2QixhQUFLQSxVQUFTLElBQUksc0JBQXNCLEdBQUc7QUFDMUMsd0JBQWNBLFNBQVE7QUFBQSxRQUN2QixPQUFPO0FBQ04sVUFBQUEsVUFBUyxLQUFLO0FBQ2QsZUFBS0EsV0FBVSxNQUFNLE1BQU07QUFBQSxRQUM1QjtBQUFBLE1BQ0QsT0FBTztBQUNOLHFCQUFhQSxXQUFVLE1BQU07QUFJNUIsVUFBQUEsWUFBVztBQUFBLFFBQ1osQ0FBQztBQUFBLE1BQ0Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUVBLE1BQUlGLFVBQVMsTUFBTSxNQUFNO0FBQ3hCO0FBQUEsSUFBNEIsSUFBSSxVQUFVO0FBQzFDLFFBQUksU0FBUyxNQUFNO0FBR25CLFFBQUksV0FBVztBQUVmLFFBQUksV0FBVztBQUNkLFVBQUksVUFBVSwyQkFBMkIsTUFBTSxNQUFNO0FBRXJELFVBQUksYUFBYSxXQUFXLElBQUk7QUFFL0IsaUJBQVMsV0FBVztBQUVwQix5QkFBaUIsTUFBTTtBQUN2QixzQkFBYyxLQUFLO0FBQ25CLG1CQUFXO0FBQUEsTUFDWjtBQUFBLElBQ0Q7QUFFQSxRQUFJLE9BQU8sb0JBQUksSUFBSTtBQUNuQixRQUFJO0FBQUE7QUFBQSxNQUE4QjtBQUFBO0FBQ2xDLFFBQUksUUFBUSxvQkFBb0I7QUFFaEMsYUFBU0csU0FBUSxHQUFHQSxTQUFRLFFBQVFBLFVBQVMsR0FBRztBQUMvQyxVQUNDLGFBQ0EsYUFBYSxhQUFhO0FBQUEsTUFDRixhQUFjLFNBQVMsZUFDOUM7QUFHRDtBQUFBLFFBQWlDO0FBQ2pDLG1CQUFXO0FBQ1gsc0JBQWMsS0FBSztBQUFBLE1BQ3BCO0FBRUEsVUFBSSxRQUFRLE1BQU1BLE1BQUs7QUFDdkIsVUFBSUMsT0FBTSxRQUFRLE9BQU9ELE1BQUs7QUFFOUIsVUFBSSxPQUFPLFlBQVksT0FBTyxNQUFNLElBQUlDLElBQUc7QUFFM0MsVUFBSSxNQUFNO0FBRVQsWUFBSSxLQUFLLEVBQUcsY0FBYSxLQUFLLEdBQUcsS0FBSztBQUN0QyxZQUFJLEtBQUssRUFBRyxjQUFhLEtBQUssR0FBR0QsTUFBSztBQUV0QyxZQUFJLE9BQU87QUFDVixnQkFBTSxnQkFBZ0IsT0FBTyxLQUFLLENBQUM7QUFBQSxRQUNwQztBQUFBLE1BQ0QsT0FBTztBQUNOLGVBQU87QUFBQSxVQUNOO0FBQUEsVUFDQSxZQUFZLFNBQVUsaUVBQXFCLFlBQVk7QUFBQSxVQUN2RDtBQUFBLFVBQ0FDO0FBQUEsVUFDQUQ7QUFBQSxVQUNBO0FBQUEsVUFDQUY7QUFBQSxVQUNBO0FBQUEsUUFDRDtBQUVBLFlBQUksQ0FBQyxXQUFXO0FBQ2YsZUFBSyxFQUFFLEtBQUs7QUFBQSxRQUNiO0FBRUEsY0FBTSxJQUFJRyxNQUFLLElBQUk7QUFBQSxNQUNwQjtBQUVBLFdBQUssSUFBSUEsSUFBRztBQUFBLElBQ2I7QUFFQSxRQUFJLFdBQVcsS0FBSyxlQUFlLENBQUNGLFdBQVU7QUFDN0MsVUFBSSxXQUFXO0FBQ2QsUUFBQUEsWUFBVyxPQUFPLE1BQU0sWUFBWSxNQUFNLENBQUM7QUFBQSxNQUM1QyxPQUFPO0FBQ04sUUFBQUEsWUFBVyxPQUFPLE1BQU0sWUFBYSxpRUFBcUIsWUFBWSxDQUFFLENBQUM7QUFDekUsUUFBQUEsVUFBUyxLQUFLO0FBQUEsTUFDZjtBQUFBLElBQ0Q7QUFHQSxRQUFJLGFBQWEsU0FBUyxHQUFHO0FBQzVCLHVCQUFpQixXQUFXLENBQUM7QUFBQSxJQUM5QjtBQUVBLFFBQUksQ0FBQyxXQUFXO0FBQ2YsVUFBSSxPQUFPO0FBQ1YsbUJBQVcsQ0FBQ0UsTUFBS0MsS0FBSSxLQUFLLE9BQU87QUFDaEMsY0FBSSxDQUFDLEtBQUssSUFBSUQsSUFBRyxHQUFHO0FBQ25CLGtCQUFNLGdCQUFnQixJQUFJQyxNQUFLLENBQUM7QUFBQSxVQUNqQztBQUFBLFFBQ0Q7QUFFQSxjQUFNLFNBQVMsTUFBTTtBQUNyQixjQUFNLFVBQVUsTUFBTTtBQUFBLFFBRXRCLENBQUM7QUFBQSxNQUNGLE9BQU87QUFDTixlQUFPO0FBQUEsTUFDUjtBQUFBLElBQ0Q7QUFFQSxRQUFJLFVBQVU7QUFFYixvQkFBYyxJQUFJO0FBQUEsSUFDbkI7QUFRQSxRQUFJLFVBQVU7QUFBQSxFQUNmLENBQUM7QUFHRCxNQUFJUCxTQUFRLEVBQUUsUUFBQUUsU0FBUSxPQUFBQyxRQUFPLE9BQU8sYUFBYSxNQUFNLFVBQUFDLFVBQVM7QUFFaEUsY0FBWTtBQUVaLE1BQUksV0FBVztBQUNkLGFBQVM7QUFBQSxFQUNWO0FBQ0Q7QUFZQSxTQUFTLFVBQVVKLFFBQU8sT0FBTyxRQUFRRyxRQUFPLFNBQVM7QUE1VnpELE1BQUFGLEtBQUFPLEtBQUFDLEtBQUE7QUE2VkMsTUFBSSxlQUFlTixTQUFRLHNCQUFzQjtBQUVqRCxNQUFJLFNBQVMsTUFBTTtBQUNuQixNQUFJLFFBQVFILE9BQU07QUFDbEIsTUFBSSxVQUFVQSxPQUFNLE9BQU87QUFHM0IsTUFBSTtBQUdKLE1BQUksT0FBTztBQUdYLE1BQUk7QUFHSixNQUFJLFVBQVUsQ0FBQztBQUdmLE1BQUksVUFBVSxDQUFDO0FBR2YsTUFBSTtBQUdKLE1BQUlNO0FBR0osTUFBSUo7QUFHSixNQUFJO0FBRUosTUFBSSxhQUFhO0FBQ2hCLFNBQUssSUFBSSxHQUFHLElBQUksUUFBUSxLQUFLLEdBQUc7QUFDL0IsY0FBUSxNQUFNLENBQUM7QUFDZixNQUFBSSxPQUFNLFFBQVEsT0FBTyxDQUFDO0FBQ3RCLE1BQUFKO0FBQUEsTUFBa0MsTUFBTSxJQUFJSSxJQUFHLEVBQUc7QUFJbEQsV0FBS0osUUFBTyxJQUFJLHNCQUFzQixHQUFHO0FBQ3hDLFNBQUFNLE9BQUFQLE1BQUFDLFFBQU8sVUFBUCxnQkFBQUQsSUFBYyxNQUFkLGdCQUFBTyxJQUFpQjtBQUNqQixTQUFDLCtDQUFlLG9CQUFJLElBQUksR0FBRyxJQUFJTixPQUFNO0FBQUEsTUFDdEM7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUVBLE9BQUssSUFBSSxHQUFHLElBQUksUUFBUSxLQUFLLEdBQUc7QUFDL0IsWUFBUSxNQUFNLENBQUM7QUFDZixJQUFBSSxPQUFNLFFBQVEsT0FBTyxDQUFDO0FBRXRCLElBQUFKO0FBQUEsSUFBa0MsTUFBTSxJQUFJSSxJQUFHLEVBQUc7QUFFbEQsUUFBSU4sT0FBTSxnQkFBZ0IsTUFBTTtBQUMvQixpQkFBVyxTQUFTQSxPQUFNLGFBQWE7QUFDdEMsY0FBTSxRQUFRLE9BQU9FLE9BQU07QUFDM0IsY0FBTSxLQUFLLE9BQU9BLE9BQU07QUFBQSxNQUN6QjtBQUFBLElBQ0Q7QUFFQSxTQUFLQSxRQUFPLElBQUksc0JBQXNCLEdBQUc7QUFDeEMsTUFBQUEsUUFBTyxLQUFLO0FBRVosVUFBSUEsWUFBVyxTQUFTO0FBQ3ZCLGFBQUtBLFNBQVEsTUFBTSxNQUFNO0FBQUEsTUFDMUIsT0FBTztBQUNOLFlBQUlRLFFBQU8sT0FBTyxLQUFLLE9BQU87QUFFOUIsWUFBSVIsWUFBV0YsT0FBTSxPQUFPLE1BQU07QUFDakMsVUFBQUEsT0FBTSxPQUFPLE9BQU9FLFFBQU87QUFBQSxRQUM1QjtBQUVBLFlBQUlBLFFBQU8sS0FBTSxDQUFBQSxRQUFPLEtBQUssT0FBT0EsUUFBTztBQUMzQyxZQUFJQSxRQUFPLEtBQU0sQ0FBQUEsUUFBTyxLQUFLLE9BQU9BLFFBQU87QUFDM0MsYUFBS0YsUUFBTyxNQUFNRSxPQUFNO0FBQ3hCLGFBQUtGLFFBQU9FLFNBQVFRLEtBQUk7QUFFeEIsYUFBS1IsU0FBUVEsT0FBTSxNQUFNO0FBQ3pCLGVBQU9SO0FBRVAsa0JBQVUsQ0FBQztBQUNYLGtCQUFVLENBQUM7QUFFWCxrQkFBVSxLQUFLO0FBQ2Y7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFNBQUtBLFFBQU8sSUFBSSxXQUFXLEdBQUc7QUFDN0Isb0JBQWNBLE9BQU07QUFDcEIsVUFBSSxhQUFhO0FBQ2hCLGVBQUFPLE1BQUFQLFFBQU8sVUFBUCxnQkFBQU8sSUFBYyxNQUFkLG1CQUFpQjtBQUNqQixTQUFDLCtDQUFlLG9CQUFJLElBQUksR0FBRyxPQUFPUCxPQUFNO0FBQUEsTUFDekM7QUFBQSxJQUNEO0FBRUEsUUFBSUEsWUFBVyxTQUFTO0FBQ3ZCLFVBQUksU0FBUyxVQUFhLEtBQUssSUFBSUEsT0FBTSxHQUFHO0FBQzNDLFlBQUksUUFBUSxTQUFTLFFBQVEsUUFBUTtBQUVwQyxjQUFJLFFBQVEsUUFBUSxDQUFDO0FBQ3JCLGNBQUk7QUFFSixpQkFBTyxNQUFNO0FBRWIsY0FBSSxJQUFJLFFBQVEsQ0FBQztBQUNqQixjQUFJLElBQUksUUFBUSxRQUFRLFNBQVMsQ0FBQztBQUVsQyxlQUFLLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUSxLQUFLLEdBQUc7QUFDdkMsaUJBQUssUUFBUSxDQUFDLEdBQUcsT0FBTyxNQUFNO0FBQUEsVUFDL0I7QUFFQSxlQUFLLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUSxLQUFLLEdBQUc7QUFDdkMsaUJBQUssT0FBTyxRQUFRLENBQUMsQ0FBQztBQUFBLFVBQ3ZCO0FBRUEsZUFBS0YsUUFBTyxFQUFFLE1BQU0sRUFBRSxJQUFJO0FBQzFCLGVBQUtBLFFBQU8sTUFBTSxDQUFDO0FBQ25CLGVBQUtBLFFBQU8sR0FBRyxLQUFLO0FBRXBCLG9CQUFVO0FBQ1YsaUJBQU87QUFDUCxlQUFLO0FBRUwsb0JBQVUsQ0FBQztBQUNYLG9CQUFVLENBQUM7QUFBQSxRQUNaLE9BQU87QUFFTixlQUFLLE9BQU9FLE9BQU07QUFDbEIsZUFBS0EsU0FBUSxTQUFTLE1BQU07QUFFNUIsZUFBS0YsUUFBT0UsUUFBTyxNQUFNQSxRQUFPLElBQUk7QUFDcEMsZUFBS0YsUUFBT0UsU0FBUSxTQUFTLE9BQU9GLE9BQU0sT0FBTyxRQUFRLEtBQUssSUFBSTtBQUNsRSxlQUFLQSxRQUFPLE1BQU1FLE9BQU07QUFFeEIsaUJBQU9BO0FBQUEsUUFDUjtBQUVBO0FBQUEsTUFDRDtBQUVBLGdCQUFVLENBQUM7QUFDWCxnQkFBVSxDQUFDO0FBRVgsYUFBTyxZQUFZLFFBQVEsWUFBWUEsU0FBUTtBQUM5QyxTQUFDLDZCQUFTLG9CQUFJLElBQUksR0FBRyxJQUFJLE9BQU87QUFDaEMsZ0JBQVEsS0FBSyxPQUFPO0FBQ3BCLGtCQUFVLFFBQVE7QUFBQSxNQUNuQjtBQUVBLFVBQUksWUFBWSxNQUFNO0FBQ3JCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxTQUFLQSxRQUFPLElBQUksc0JBQXNCLEdBQUc7QUFDeEMsY0FBUSxLQUFLQSxPQUFNO0FBQUEsSUFDcEI7QUFFQSxXQUFPQTtBQUNQLGNBQVVBLFFBQU87QUFBQSxFQUNsQjtBQUVBLE1BQUlGLE9BQU0sZ0JBQWdCLE1BQU07QUFDL0IsZUFBVyxTQUFTQSxPQUFNLGFBQWE7QUFDdEMsVUFBSSxNQUFNLFFBQVEsU0FBUyxHQUFHO0FBQzdCLHdCQUFnQixXQUFXLE1BQU0sSUFBSSxDQUFDO0FBQ3RDLGNBQUFBLE9BQU0sZ0JBQU4sbUJBQW1CLE9BQU87QUFBQSxNQUMzQjtBQUFBLElBQ0Q7QUFFQSxRQUFJQSxPQUFNLFlBQVksU0FBUyxHQUFHO0FBQ2pDLE1BQUFBLE9BQU0sY0FBYztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUVBLE1BQUksWUFBWSxRQUFRLFNBQVMsUUFBVztBQUUzQyxRQUFJLGFBQWEsQ0FBQztBQUVsQixRQUFJLFNBQVMsUUFBVztBQUN2QixXQUFLRSxXQUFVLE1BQU07QUFDcEIsYUFBS0EsUUFBTyxJQUFJLFdBQVcsR0FBRztBQUM3QixxQkFBVyxLQUFLQSxPQUFNO0FBQUEsUUFDdkI7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFdBQU8sWUFBWSxNQUFNO0FBRXhCLFdBQUssUUFBUSxJQUFJLFdBQVcsS0FBSyxZQUFZRixPQUFNLFVBQVU7QUFDNUQsbUJBQVcsS0FBSyxPQUFPO0FBQUEsTUFDeEI7QUFFQSxnQkFBVSxRQUFRO0FBQUEsSUFDbkI7QUFFQSxRQUFJLGlCQUFpQixXQUFXO0FBRWhDLFFBQUksaUJBQWlCLEdBQUc7QUFDdkIsVUFBSSxxQkFBcUJHLFNBQVEsd0JBQXdCLEtBQUssV0FBVyxJQUFJLFNBQVM7QUFFdEYsVUFBSSxhQUFhO0FBQ2hCLGFBQUssSUFBSSxHQUFHLElBQUksZ0JBQWdCLEtBQUssR0FBRztBQUN2QyxpQ0FBVyxDQUFDLEVBQUUsVUFBZCxtQkFBcUIsTUFBckIsbUJBQXdCO0FBQUEsUUFDekI7QUFFQSxhQUFLLElBQUksR0FBRyxJQUFJLGdCQUFnQixLQUFLLEdBQUc7QUFDdkMsaUNBQVcsQ0FBQyxFQUFFLFVBQWQsbUJBQXFCLE1BQXJCLG1CQUF3QjtBQUFBLFFBQ3pCO0FBQUEsTUFDRDtBQUVBLG9CQUFjSCxRQUFPLFlBQVksaUJBQWlCO0FBQUEsSUFDbkQ7QUFBQSxFQUNEO0FBRUEsTUFBSSxhQUFhO0FBQ2hCLHFCQUFpQixNQUFNO0FBdmpCekIsVUFBQUMsS0FBQU87QUF3akJHLFVBQUksZUFBZSxPQUFXO0FBQzlCLFdBQUtOLFdBQVUsWUFBWTtBQUMxQixTQUFBTSxPQUFBUCxNQUFBQyxRQUFPLFVBQVAsZ0JBQUFELElBQWMsTUFBZCxnQkFBQU8sSUFBaUI7QUFBQSxNQUNsQjtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFDRDtBQWNBLFNBQVMsWUFBWSxPQUFPLFFBQVEsT0FBT0YsTUFBS0QsUUFBTyxXQUFXRixRQUFPLGdCQUFnQjtBQUN4RixNQUFJLEtBQ0ZBLFNBQVEsd0JBQXdCLEtBQzdCQSxTQUFRLHlCQUF5QixJQUNqQyxlQUFlLE9BQU8sT0FBTyxLQUFLLElBQ2xDLE9BQU8sS0FBSyxJQUNiO0FBRUosTUFBSSxLQUFLQSxTQUFRLHlCQUF5QixJQUFJLE9BQU9FLE1BQUssSUFBSTtBQUU5RCxNQUFJLHdCQUFPLEdBQUc7QUFHYixNQUFFLFFBQVEsTUFBTTtBQXpsQmxCLFVBQUFKO0FBMmxCRyxxQkFBZSxHQUFFQSxNQUFBLHVCQUFHLE1BQUgsT0FBQUEsTUFBUUksTUFBSztBQUFBLElBQy9CO0FBQUEsRUFDRDtBQUVBLFNBQU87QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBRyxPQUFPLE1BQU07QUFDZixnQkFBVSxRQUFRLGdCQUFLLE9BQU8sZ0JBQUtBLFFBQU8sY0FBYztBQUV4RCxhQUFPLE1BQU07QUFDWixjQUFNLE9BQU9DLElBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFDRDtBQU9BLFNBQVMsS0FBS0osU0FBUVEsT0FBTSxRQUFRO0FBQ25DLE1BQUksQ0FBQ1IsUUFBTyxNQUFPO0FBRW5CLE1BQUksT0FBT0EsUUFBTyxNQUFNO0FBQ3hCLE1BQUksTUFBTUEsUUFBTyxNQUFNO0FBRXZCLE1BQUksT0FDSFEsVUFBU0EsTUFBSyxJQUFJLHNCQUFzQjtBQUFBO0FBQUEsSUFDVEEsTUFBSyxNQUFPO0FBQUEsTUFDeEM7QUFFSixTQUFPLFNBQVMsTUFBTTtBQUNyQixRQUFJO0FBQUE7QUFBQSxNQUF5QyxpQkFBaUIsSUFBSTtBQUFBO0FBQ2xFLFNBQUssT0FBTyxJQUFJO0FBRWhCLFFBQUksU0FBUyxLQUFLO0FBQ2pCO0FBQUEsSUFDRDtBQUVBLFdBQU87QUFBQSxFQUNSO0FBQ0Q7QUFPQSxTQUFTLEtBQUtWLFFBQU8sTUFBTVUsT0FBTTtBQUNoQyxNQUFJLFNBQVMsTUFBTTtBQUNsQixJQUFBVixPQUFNLE9BQU8sUUFBUVU7QUFBQSxFQUN0QixPQUFPO0FBQ04sU0FBSyxPQUFPQTtBQUFBLEVBQ2I7QUFFQSxNQUFJQSxVQUFTLE1BQU07QUFDbEIsSUFBQVYsT0FBTSxPQUFPLE9BQU87QUFBQSxFQUNyQixPQUFPO0FBQ04sSUFBQVUsTUFBSyxPQUFPO0FBQUEsRUFDYjtBQUNEOzs7QUNqcEJPLFNBQVMsY0FBYyxRQUFRLEtBQUs7QUFFMUMsU0FBTyxNQUFNO0FBVmQsUUFBQUM7QUFXRSxRQUFJQyxRQUFPLE9BQU8sWUFBWTtBQUU5QixRQUFJO0FBQUE7QUFBQSxNQUFvQ0EsTUFBTTtBQUFBO0FBQUEsUUFDaEJBO0FBQUE7QUFBQTtBQUFBLFNBQ0ZELE1BQUFDLE1BQU0sU0FBTixPQUFBRDtBQUFBO0FBQUEsVUFBdUNDLE1BQUssY0FBZTtBQUFBO0FBQUE7QUFBQTtBQUl2RixRQUFJLENBQUMsT0FBTyxjQUFjLE1BQU0sSUFBSSxJQUFJLEdBQUc7QUFDMUMsWUFBTSxRQUFRLFNBQVMsY0FBYyxPQUFPO0FBQzVDLFlBQU0sS0FBSyxJQUFJO0FBQ2YsWUFBTSxjQUFjLElBQUk7QUFFeEIsYUFBTyxZQUFZLEtBQUs7QUFFeEIsVUFBSSxzQkFBSztBQUNSLHVCQUFlLElBQUksTUFBTSxLQUFLO0FBQUEsTUFDL0I7QUFBQSxJQUNEO0FBQUEsRUFDRCxDQUFDO0FBQ0Y7OztBQ25CTyxTQUFTLE9BQU8sS0FBS0MsU0FBUSxXQUFXO0FBQzlDLFNBQU8sTUFBTTtBQUNaLFFBQUksVUFBVSxRQUFRLE1BQU1BLFFBQU8sS0FBSyx3Q0FBYSxLQUFLLENBQUMsQ0FBQztBQUU1RCxRQUFJLGNBQWEsbUNBQVMsU0FBUTtBQUNqQyxVQUFJLFNBQVM7QUFFYixVQUFJO0FBQUE7QUFBQSxRQUEyQixDQUFDO0FBQUE7QUFFaEMsb0JBQWMsTUFBTTtBQUNuQixZQUFJLFFBQVEsVUFBVTtBQUt0Qix3QkFBZ0IsS0FBSztBQUVyQixZQUFJLFVBQVUsZUFBZSxNQUFNLEtBQUssR0FBRztBQUMxQyxpQkFBTztBQUNpQixVQUFDLFFBQVEsT0FBUSxLQUFLO0FBQUEsUUFDL0M7QUFBQSxNQUNELENBQUM7QUFFRCxlQUFTO0FBQUEsSUFDVjtBQUVBLFFBQUksbUNBQVMsU0FBUztBQUNyQixhQUFPO0FBQUE7QUFBQSxRQUErQixRQUFRLFFBQVM7QUFBQTtBQUFBLElBQ3hEO0FBQUEsRUFDRCxDQUFDO0FBQ0Y7OztBQ0tBLElBQU0sYUFBYSxDQUFDLEdBQUcsc0JBQTZCO0FBUTdDLFNBQVMsU0FBUyxPQUFPQyxPQUFNLFlBQVk7QUFDakQsTUFBSSxZQUFZLFNBQVMsT0FBTyxLQUFLLEtBQUs7QUFFMUMsTUFBSUEsT0FBTTtBQUNULGdCQUFZLFlBQVksWUFBWSxNQUFNQSxRQUFPQTtBQUFBLEVBQ2xEO0FBRUEsTUFBSSxZQUFZO0FBQ2YsYUFBU0MsUUFBTyxZQUFZO0FBQzNCLFVBQUksV0FBV0EsSUFBRyxHQUFHO0FBQ3BCLG9CQUFZLFlBQVksWUFBWSxNQUFNQSxPQUFNQTtBQUFBLE1BQ2pELFdBQVcsVUFBVSxRQUFRO0FBQzVCLFlBQUksTUFBTUEsS0FBSTtBQUNkLFlBQUksSUFBSTtBQUVSLGdCQUFRLElBQUksVUFBVSxRQUFRQSxNQUFLLENBQUMsTUFBTSxHQUFHO0FBQzVDLGNBQUksSUFBSSxJQUFJO0FBRVosZUFDRSxNQUFNLEtBQUssV0FBVyxTQUFTLFVBQVUsSUFBSSxDQUFDLENBQUMsT0FDL0MsTUFBTSxVQUFVLFVBQVUsV0FBVyxTQUFTLFVBQVUsQ0FBQyxDQUFDLElBQzFEO0FBQ0QseUJBQWEsTUFBTSxJQUFJLEtBQUssVUFBVSxVQUFVLEdBQUcsQ0FBQyxLQUFLLFVBQVUsVUFBVSxJQUFJLENBQUM7QUFBQSxVQUNuRixPQUFPO0FBQ04sZ0JBQUk7QUFBQSxVQUNMO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUVBLFNBQU8sY0FBYyxLQUFLLE9BQU87QUFDbEM7QUFPQSxTQUFTQyxlQUFjLFFBQVEsWUFBWSxPQUFPO0FBQ2pELE1BQUksWUFBWSxZQUFZLGlCQUFpQjtBQUM3QyxNQUFJLE1BQU07QUFFVixXQUFTRCxRQUFPLFFBQVE7QUFDdkIsUUFBSSxRQUFRLE9BQU9BLElBQUc7QUFDdEIsUUFBSSxTQUFTLFFBQVEsVUFBVSxJQUFJO0FBQ2xDLGFBQU8sTUFBTUEsT0FBTSxPQUFPLFFBQVE7QUFBQSxJQUNuQztBQUFBLEVBQ0Q7QUFFQSxTQUFPO0FBQ1I7QUFNQSxTQUFTLFlBQVksTUFBTTtBQUMxQixNQUFJLEtBQUssQ0FBQyxNQUFNLE9BQU8sS0FBSyxDQUFDLE1BQU0sS0FBSztBQUN2QyxXQUFPLEtBQUssWUFBWTtBQUFBLEVBQ3pCO0FBQ0EsU0FBTztBQUNSO0FBT08sU0FBUyxTQUFTLE9BQU8sUUFBUTtBQUN2QyxNQUFJLFFBQVE7QUFDWCxRQUFJLFlBQVk7QUFHaEIsUUFBSTtBQUdKLFFBQUk7QUFFSixRQUFJLE1BQU0sUUFBUSxNQUFNLEdBQUc7QUFDMUIsc0JBQWdCLE9BQU8sQ0FBQztBQUN4Qix5QkFBbUIsT0FBTyxDQUFDO0FBQUEsSUFDNUIsT0FBTztBQUNOLHNCQUFnQjtBQUFBLElBQ2pCO0FBRUEsUUFBSSxPQUFPO0FBQ1YsY0FBUSxPQUFPLEtBQUssRUFDbEIsV0FBVyxzQkFBc0IsRUFBRSxFQUNuQyxLQUFLO0FBR1AsVUFBSSxTQUFTO0FBQ2IsVUFBSSxTQUFTO0FBQ2IsVUFBSSxhQUFhO0FBRWpCLFVBQUksaUJBQWlCLENBQUM7QUFFdEIsVUFBSSxlQUFlO0FBQ2xCLHVCQUFlLEtBQUssR0FBRyxPQUFPLEtBQUssYUFBYSxFQUFFLElBQUksV0FBVyxDQUFDO0FBQUEsTUFDbkU7QUFDQSxVQUFJLGtCQUFrQjtBQUNyQix1QkFBZSxLQUFLLEdBQUcsT0FBTyxLQUFLLGdCQUFnQixFQUFFLElBQUksV0FBVyxDQUFDO0FBQUEsTUFDdEU7QUFFQSxVQUFJLGNBQWM7QUFDbEIsVUFBSSxhQUFhO0FBRWpCLFlBQU0sTUFBTSxNQUFNO0FBQ2xCLGVBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxLQUFLO0FBQzdCLFlBQUksSUFBSSxNQUFNLENBQUM7QUFFZixZQUFJLFlBQVk7QUFDZixjQUFJLE1BQU0sT0FBTyxNQUFNLElBQUksQ0FBQyxNQUFNLEtBQUs7QUFDdEMseUJBQWE7QUFBQSxVQUNkO0FBQUEsUUFDRCxXQUFXLFFBQVE7QUFDbEIsY0FBSSxXQUFXLEdBQUc7QUFDakIscUJBQVM7QUFBQSxVQUNWO0FBQUEsUUFDRCxXQUFXLE1BQU0sT0FBTyxNQUFNLElBQUksQ0FBQyxNQUFNLEtBQUs7QUFDN0MsdUJBQWE7QUFBQSxRQUNkLFdBQVcsTUFBTSxPQUFPLE1BQU0sS0FBSztBQUNsQyxtQkFBUztBQUFBLFFBQ1YsV0FBVyxNQUFNLEtBQUs7QUFDckI7QUFBQSxRQUNELFdBQVcsTUFBTSxLQUFLO0FBQ3JCO0FBQUEsUUFDRDtBQUVBLFlBQUksQ0FBQyxjQUFjLFdBQVcsU0FBUyxXQUFXLEdBQUc7QUFDcEQsY0FBSSxNQUFNLE9BQU8sZUFBZSxJQUFJO0FBQ25DLHlCQUFhO0FBQUEsVUFDZCxXQUFXLE1BQU0sT0FBTyxNQUFNLE1BQU0sR0FBRztBQUN0QyxnQkFBSSxlQUFlLElBQUk7QUFDdEIsa0JBQUksT0FBTyxZQUFZLE1BQU0sVUFBVSxhQUFhLFVBQVUsRUFBRSxLQUFLLENBQUM7QUFFdEUsa0JBQUksQ0FBQyxlQUFlLFNBQVMsSUFBSSxHQUFHO0FBQ25DLG9CQUFJLE1BQU0sS0FBSztBQUNkO0FBQUEsZ0JBQ0Q7QUFFQSxvQkFBSSxXQUFXLE1BQU0sVUFBVSxhQUFhLENBQUMsRUFBRSxLQUFLO0FBQ3BELDZCQUFhLE1BQU0sV0FBVztBQUFBLGNBQy9CO0FBQUEsWUFDRDtBQUVBLDBCQUFjLElBQUk7QUFDbEIseUJBQWE7QUFBQSxVQUNkO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsUUFBSSxlQUFlO0FBQ2xCLG1CQUFhQyxlQUFjLGFBQWE7QUFBQSxJQUN6QztBQUVBLFFBQUksa0JBQWtCO0FBQ3JCLG1CQUFhQSxlQUFjLGtCQUFrQixJQUFJO0FBQUEsSUFDbEQ7QUFFQSxnQkFBWSxVQUFVLEtBQUs7QUFDM0IsV0FBTyxjQUFjLEtBQUssT0FBTztBQUFBLEVBQ2xDO0FBRUEsU0FBTyxTQUFTLE9BQU8sT0FBTyxPQUFPLEtBQUs7QUFDM0M7OztBQ2xOTyxTQUFTLFVBQVUsS0FBSyxTQUFTLE9BQU9DLE9BQU0sY0FBYyxjQUFjO0FBRWhGLE1BQUksT0FBTyxJQUFJO0FBRWYsTUFDQyxhQUNBLFNBQVMsU0FDVCxTQUFTLFFBQ1I7QUFDRCxRQUFJLGtCQUFrQixTQUFTLE9BQU9BLE9BQU0sWUFBWTtBQUV4RCxRQUFJLENBQUMsYUFBYSxvQkFBb0IsSUFBSSxhQUFhLE9BQU8sR0FBRztBQUtoRSxVQUFJLG1CQUFtQixNQUFNO0FBQzVCLFlBQUksZ0JBQWdCLE9BQU87QUFBQSxNQUM1QixXQUFXLFNBQVM7QUFDbkIsWUFBSSxZQUFZO0FBQUEsTUFDakIsT0FBTztBQUNOLFlBQUksYUFBYSxTQUFTLGVBQWU7QUFBQSxNQUMxQztBQUFBLElBQ0Q7QUFHQSxRQUFJLGNBQWM7QUFBQSxFQUNuQixXQUFXLGdCQUFnQixpQkFBaUIsY0FBYztBQUN6RCxhQUFTQyxRQUFPLGNBQWM7QUFDN0IsVUFBSSxhQUFhLENBQUMsQ0FBQyxhQUFhQSxJQUFHO0FBRW5DLFVBQUksZ0JBQWdCLFFBQVEsZUFBZSxDQUFDLENBQUMsYUFBYUEsSUFBRyxHQUFHO0FBQy9ELFlBQUksVUFBVSxPQUFPQSxNQUFLLFVBQVU7QUFBQSxNQUNyQztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsU0FBTztBQUNSOzs7QUN6Q0EsU0FBUyxjQUFjLEtBQUssT0FBTyxDQUFDLEdBQUdDLE9BQU0sVUFBVTtBQUN0RCxXQUFTQyxRQUFPRCxPQUFNO0FBQ3JCLFFBQUksUUFBUUEsTUFBS0MsSUFBRztBQUVwQixRQUFJLEtBQUtBLElBQUcsTUFBTSxPQUFPO0FBQ3hCLFVBQUlELE1BQUtDLElBQUcsS0FBSyxNQUFNO0FBQ3RCLFlBQUksTUFBTSxlQUFlQSxJQUFHO0FBQUEsTUFDN0IsT0FBTztBQUNOLFlBQUksTUFBTSxZQUFZQSxNQUFLLE9BQU8sUUFBUTtBQUFBLE1BQzNDO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDtBQVFPLFNBQVMsVUFBVSxLQUFLLE9BQU8sYUFBYSxhQUFhO0FBRS9ELE1BQUksT0FBTyxJQUFJO0FBRWYsTUFBSSxhQUFhLFNBQVMsT0FBTztBQUNoQyxRQUFJLGtCQUFrQixTQUFTLE9BQU8sV0FBVztBQUVqRCxRQUFJLENBQUMsYUFBYSxvQkFBb0IsSUFBSSxhQUFhLE9BQU8sR0FBRztBQUNoRSxVQUFJLG1CQUFtQixNQUFNO0FBQzVCLFlBQUksZ0JBQWdCLE9BQU87QUFBQSxNQUM1QixPQUFPO0FBQ04sWUFBSSxNQUFNLFVBQVU7QUFBQSxNQUNyQjtBQUFBLElBQ0Q7QUFHQSxRQUFJLFVBQVU7QUFBQSxFQUNmLFdBQVcsYUFBYTtBQUN2QixRQUFJLE1BQU0sUUFBUSxXQUFXLEdBQUc7QUFDL0Isb0JBQWMsS0FBSywyQ0FBYyxJQUFJLFlBQVksQ0FBQyxDQUFDO0FBQ25ELG9CQUFjLEtBQUssMkNBQWMsSUFBSSxZQUFZLENBQUMsR0FBRyxXQUFXO0FBQUEsSUFDakUsT0FBTztBQUNOLG9CQUFjLEtBQUssYUFBYSxXQUFXO0FBQUEsSUFDNUM7QUFBQSxFQUNEO0FBRUEsU0FBTztBQUNSOzs7QUM5Qk8sSUFBTSxRQUFRLE9BQU8sT0FBTztBQUM1QixJQUFNLFFBQVEsT0FBTyxPQUFPO0FBRW5DLElBQU0sb0JBQW9CLE9BQU8sbUJBQW1CO0FBQ3BELElBQU0sVUFBVSxPQUFPLFNBQVM7QUFRekIsU0FBUyxzQkFBc0IsT0FBTztBQUM1QyxNQUFJLENBQUMsVUFBVztBQUVoQixNQUFJLGtCQUFrQjtBQU10QixNQUFJLGtCQUFrQixNQUFNO0FBQzNCLFFBQUksZ0JBQWlCO0FBQ3JCLHNCQUFrQjtBQUdsQixRQUFJLE1BQU0sYUFBYSxPQUFPLEdBQUc7QUFDaEMsVUFBSSxRQUFRLE1BQU07QUFDbEIsTUFBQUMsZUFBYyxPQUFPLFNBQVMsSUFBSTtBQUNsQyxZQUFNLFFBQVE7QUFBQSxJQUNmO0FBRUEsUUFBSSxNQUFNLGFBQWEsU0FBUyxHQUFHO0FBQ2xDLFVBQUksVUFBVSxNQUFNO0FBQ3BCLE1BQUFBLGVBQWMsT0FBTyxXQUFXLElBQUk7QUFDcEMsWUFBTSxVQUFVO0FBQUEsSUFDakI7QUFBQSxFQUNEO0FBR0EsUUFBTSxTQUFTO0FBQ2YsbUJBQWlCLGVBQWU7QUFDaEMsMEJBQXdCO0FBQ3pCO0FBTU8sU0FBUyxVQUFVQyxVQUFTLE9BQU87QUFDekMsTUFBSSxhQUFhLGVBQWVBLFFBQU87QUFFdkMsTUFDQyxXQUFXLFdBQ1QsV0FBVztBQUFBLEVBRVgsd0JBQVM7QUFBQTtBQUFBLEVBR1ZBLFNBQVEsVUFBVSxVQUFVLFVBQVUsS0FBS0EsU0FBUSxhQUFhLGFBQ2hFO0FBQ0Q7QUFBQSxFQUNEO0FBR0EsRUFBQUEsU0FBUSxRQUFRLHdCQUFTO0FBQzFCO0FBcUVPLFNBQVNDLGVBQWNDLFVBQVMsV0FBVyxPQUFPLGNBQWM7QUFDdEUsTUFBSSxhQUFhLGVBQWVBLFFBQU87QUFFdkMsTUFBSSxXQUFXO0FBQ2QsZUFBVyxTQUFTLElBQUlBLFNBQVEsYUFBYSxTQUFTO0FBRXRELFFBQ0MsY0FBYyxTQUNkLGNBQWMsWUFDYixjQUFjLFVBQVVBLFNBQVEsYUFBYSxRQUM3QztBQUNELFVBQUksQ0FBQyxjQUFjO0FBQ2xCLG1DQUEyQkEsVUFBUyxXQUFXLHdCQUFTLEVBQUU7QUFBQSxNQUMzRDtBQU1BO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFFQSxNQUFJLFdBQVcsU0FBUyxPQUFPLFdBQVcsU0FBUyxJQUFJLE9BQVE7QUFFL0QsTUFBSSxjQUFjLFdBQVc7QUFFNUIsSUFBQUEsU0FBUSxtQkFBbUIsSUFBSTtBQUFBLEVBQ2hDO0FBRUEsTUFBSSxTQUFTLE1BQU07QUFDbEIsSUFBQUEsU0FBUSxnQkFBZ0IsU0FBUztBQUFBLEVBQ2xDLFdBQVcsT0FBTyxVQUFVLFlBQVksWUFBWUEsUUFBTyxFQUFFLFNBQVMsU0FBUyxHQUFHO0FBRWpGLElBQUFBLFNBQVEsU0FBUyxJQUFJO0FBQUEsRUFDdEIsT0FBTztBQUNOLElBQUFBLFNBQVEsYUFBYSxXQUFXLEtBQUs7QUFBQSxFQUN0QztBQUNEO0FBMFdBLFNBQVMsZUFBZUMsVUFBUztBQWpqQmpDLE1BQUFDO0FBa2pCQztBQUFBO0FBQUE7QUFBQSxLQUVDQSxNQUFBRCxTQUFRLGlCQUFSLE9BQUFDLE1BQUFELFNBQVEsZUFBaUI7QUFBQSxNQUN4QixDQUFDLGlCQUFpQixHQUFHQSxTQUFRLFNBQVMsU0FBUyxHQUFHO0FBQUEsTUFDbEQsQ0FBQyxPQUFPLEdBQUdBLFNBQVEsaUJBQWlCO0FBQUEsSUFDckM7QUFBQTtBQUVGO0FBR0EsSUFBSSxnQkFBZ0Isb0JBQUksSUFBSTtBQUc1QixTQUFTLFlBQVlBLFVBQVM7QUFDN0IsTUFBSSxZQUFZQSxTQUFRLGFBQWEsSUFBSSxLQUFLQSxTQUFRO0FBQ3RELE1BQUksVUFBVSxjQUFjLElBQUksU0FBUztBQUN6QyxNQUFJLFFBQVMsUUFBTztBQUNwQixnQkFBYyxJQUFJLFdBQVksVUFBVSxDQUFDLENBQUU7QUFFM0MsTUFBSTtBQUNKLE1BQUksUUFBUUE7QUFDWixNQUFJLGdCQUFnQixRQUFRO0FBSTVCLFNBQU8sa0JBQWtCLE9BQU87QUFDL0Isa0JBQWMsZ0JBQWdCLEtBQUs7QUFFbkMsYUFBU0UsUUFBTyxhQUFhO0FBQzVCLFVBQUksWUFBWUEsSUFBRyxFQUFFLEtBQUs7QUFDekIsZ0JBQVEsS0FBS0EsSUFBRztBQUFBLE1BQ2pCO0FBQUEsSUFDRDtBQUVBLFlBQVEsaUJBQWlCLEtBQUs7QUFBQSxFQUMvQjtBQUVBLFNBQU87QUFDUjtBQU9BLFNBQVMsMkJBQTJCRixVQUFTLFdBQVcsT0FBTztBQS9sQi9ELE1BQUFDO0FBZ21CQyxNQUFJLENBQUMscUJBQUs7QUFDVixNQUFJLGNBQWMsWUFBWSxpQkFBaUJELFVBQVMsS0FBSyxFQUFHO0FBQ2hFLE1BQUksZUFBY0MsTUFBQUQsU0FBUSxhQUFhLFNBQVMsTUFBOUIsT0FBQUMsTUFBbUMsSUFBSSxLQUFLLEVBQUc7QUFFakUsRUFBRTtBQUFBLElBQ0Q7QUFBQSxJQUNBRCxTQUFRLFVBQVUsUUFBUUEsU0FBUSxXQUFXQSxTQUFRLGFBQWEsS0FBSztBQUFBLElBQ3ZFLE9BQU8sS0FBSztBQUFBLEVBQ2I7QUFDRDtBQU9BLFNBQVMsY0FBYyxhQUFhLEtBQUs7QUFDeEMsTUFBSSxnQkFBZ0IsSUFBSyxRQUFPO0FBQ2hDLFNBQU8sSUFBSSxJQUFJLGFBQWEsU0FBUyxPQUFPLEVBQUUsU0FBUyxJQUFJLElBQUksS0FBSyxTQUFTLE9BQU8sRUFBRTtBQUN2RjtBQUdBLFNBQVMsYUFBYSxRQUFRO0FBQzdCLFNBQU8sT0FBTyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsUUFBUSxJQUFJLEtBQUssRUFBRSxNQUFNLEdBQUcsRUFBRSxPQUFPLE9BQU8sQ0FBQztBQUM1RTtBQU9BLFNBQVMsaUJBQWlCQSxVQUFTLFFBQVE7QUFDMUMsTUFBSSxlQUFlLGFBQWFBLFNBQVEsTUFBTTtBQUM5QyxNQUFJLE9BQU8sYUFBYSxNQUFNO0FBRTlCLFNBQ0MsS0FBSyxXQUFXLGFBQWEsVUFDN0IsS0FBSztBQUFBLElBQ0osQ0FBQyxDQUFDLEtBQUssS0FBSyxHQUFHLE1BQ2QsVUFBVSxhQUFhLENBQUMsRUFBRSxDQUFDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQU0xQixjQUFjLGFBQWEsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEtBQUssY0FBYyxLQUFLLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUFBLEVBQ2xGO0FBRUY7OztBQzluQk8sU0FBUyxXQUFXLE9BQU9HLE1BQUtDLE9BQU1ELE1BQUs7QUFDakQsTUFBSUUsV0FBVSxvQkFBSSxRQUFRO0FBRTFCLGtDQUFnQyxPQUFPLFNBQVMsT0FBTyxhQUFhO0FBQ25FLFFBQUksd0JBQU8sTUFBTSxTQUFTLFlBQVk7QUFFckMsTUFBRSw0QkFBNEI7QUFBQSxJQUMvQjtBQUdBLFFBQUksUUFBUSxXQUFXLE1BQU0sZUFBZSxNQUFNO0FBQ2xELFlBQVEsb0JBQW9CLEtBQUssSUFBSSxVQUFVLEtBQUssSUFBSTtBQUN4RCxJQUFBRCxLQUFJLEtBQUs7QUFFVCxRQUFJLGtCQUFrQixNQUFNO0FBQzNCLE1BQUFDLFNBQVEsSUFBSSxhQUFhO0FBQUEsSUFDMUI7QUFLQSxVQUFNLEtBQUs7QUFHWCxRQUFJLFdBQVcsUUFBUUYsS0FBSSxJQUFJO0FBQzlCLFVBQUksUUFBUSxNQUFNO0FBQ2xCLFVBQUksTUFBTSxNQUFNO0FBQ2hCLFVBQUksU0FBUyxNQUFNLE1BQU07QUFHekIsWUFBTSxRQUFRLHdCQUFTO0FBR3ZCLFVBQUksUUFBUSxNQUFNO0FBQ2pCLFlBQUksYUFBYSxNQUFNLE1BQU07QUFFN0IsWUFBSSxVQUFVLE9BQU8sUUFBUSxVQUFVLGFBQWEsUUFBUTtBQUMzRCxnQkFBTSxpQkFBaUI7QUFDdkIsZ0JBQU0sZUFBZTtBQUFBLFFBQ3RCLE9BQU87QUFDTixnQkFBTSxpQkFBaUI7QUFDdkIsZ0JBQU0sZUFBZSxLQUFLLElBQUksS0FBSyxVQUFVO0FBQUEsUUFDOUM7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0QsQ0FBQztBQUVEO0FBQUE7QUFBQTtBQUFBLElBR0UsYUFBYSxNQUFNLGlCQUFpQixNQUFNO0FBQUE7QUFBQSxJQUcxQyxRQUFRQSxJQUFHLEtBQUssUUFBUSxNQUFNO0FBQUEsSUFDOUI7QUFDRCxJQUFBQyxLQUFJLG9CQUFvQixLQUFLLElBQUksVUFBVSxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUs7QUFFckUsUUFBSSxrQkFBa0IsTUFBTTtBQUMzQixNQUFBQyxTQUFRLElBQUksYUFBYTtBQUFBLElBQzFCO0FBQUEsRUFDRDtBQUVBLGdCQUFjLE1BQU07QUFoRnJCLFFBQUFDO0FBaUZFLFFBQUksd0JBQU8sTUFBTSxTQUFTLFlBQVk7QUFFckMsTUFBRSw0QkFBNEI7QUFBQSxJQUMvQjtBQUVBLFFBQUksUUFBUUgsS0FBSTtBQUVoQixRQUFJLFVBQVUsU0FBUyxlQUFlO0FBRXJDLFVBQUk7QUFBQTtBQUFBLFNBQThCRyxNQUFBLDBCQUFBQSxNQUFrQjtBQUFBO0FBT3BELFVBQUlELFNBQVEsSUFBSSxLQUFLLEdBQUc7QUFDdkI7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUVBLFFBQUksb0JBQW9CLEtBQUssS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLEdBQUc7QUFFbkU7QUFBQSxJQUNEO0FBRUEsUUFBSSxNQUFNLFNBQVMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLE9BQU87QUFHcEQ7QUFBQSxJQUNEO0FBSUEsUUFBSSxVQUFVLE1BQU0sT0FBTztBQUUxQixZQUFNLFFBQVEsd0JBQVM7QUFBQSxJQUN4QjtBQUFBLEVBQ0QsQ0FBQztBQUNGO0FBNkpBLFNBQVMsb0JBQW9CLE9BQU87QUFDbkMsTUFBSSxPQUFPLE1BQU07QUFDakIsU0FBTyxTQUFTLFlBQVksU0FBUztBQUN0QztBQUtBLFNBQVMsVUFBVSxPQUFPO0FBQ3pCLFNBQU8sVUFBVSxLQUFLLE9BQU8sQ0FBQztBQUMvQjs7O0FDcFJPLFNBQVMsS0FBSyxZQUFZLE9BQU87QUFDdkMsUUFBTTtBQUFBO0FBQUEsSUFBaUQ7QUFBQTtBQUV2RCxRQUFNLFlBQVksUUFBUSxFQUFFO0FBQzVCLE1BQUksQ0FBQyxVQUFXO0FBRWhCLE1BQUksUUFBUSxNQUFNLGdCQUFnQixRQUFRLENBQUM7QUFFM0MsTUFBSSxXQUFXO0FBQ2QsUUFBSSxVQUFVO0FBQ2QsUUFBSTtBQUFBO0FBQUEsTUFBMkMsQ0FBQztBQUFBO0FBR2hELFVBQU0sSUFBSSxRQUFRLE1BQU07QUFDdkIsVUFBSSxVQUFVO0FBQ2QsWUFBTUUsU0FBUSxRQUFRO0FBQ3RCLGlCQUFXQyxRQUFPRCxRQUFPO0FBQ3hCLFlBQUlBLE9BQU1DLElBQUcsTUFBTSxLQUFLQSxJQUFHLEdBQUc7QUFDN0IsZUFBS0EsSUFBRyxJQUFJRCxPQUFNQyxJQUFHO0FBQ3JCLG9CQUFVO0FBQUEsUUFDWDtBQUFBLE1BQ0Q7QUFDQSxVQUFJLFFBQVM7QUFDYixhQUFPO0FBQUEsSUFDUixDQUFDO0FBRUQsWUFBUSxNQUFNLElBQUksQ0FBQztBQUFBLEVBQ3BCO0FBR0EsTUFBSSxVQUFVLEVBQUUsUUFBUTtBQUN2QixvQkFBZ0IsTUFBTTtBQUNyQixrQkFBWSxTQUFTLEtBQUs7QUFDMUIsY0FBUSxVQUFVLENBQUM7QUFBQSxJQUNwQixDQUFDO0FBQUEsRUFDRjtBQUdBLGNBQVksTUFBTTtBQUNqQixVQUFNLE1BQU0sUUFBUSxNQUFNLFVBQVUsRUFBRSxJQUFJLEdBQUcsQ0FBQztBQUM5QyxXQUFPLE1BQU07QUFDWixpQkFBVyxNQUFNLEtBQUs7QUFDckIsWUFBSSxPQUFPLE9BQU8sWUFBWTtBQUM3QixhQUFHO0FBQUEsUUFDSjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRCxDQUFDO0FBR0QsTUFBSSxVQUFVLEVBQUUsUUFBUTtBQUN2QixnQkFBWSxNQUFNO0FBQ2pCLGtCQUFZLFNBQVMsS0FBSztBQUMxQixjQUFRLFVBQVUsQ0FBQztBQUFBLElBQ3BCLENBQUM7QUFBQSxFQUNGO0FBQ0Q7QUFRQSxTQUFTLFlBQVksU0FBUyxPQUFPO0FBQ3BDLE1BQUksUUFBUSxFQUFFLEdBQUc7QUFDaEIsZUFBVyxVQUFVLFFBQVEsRUFBRSxFQUFHLEtBQUksTUFBTTtBQUFBLEVBQzdDO0FBRUEsUUFBTTtBQUNQOzs7QUN0RU8sU0FBUyxtQkFBbUIsT0FBT0MsTUFBSyxZQUFZO0FBQzFELE1BQUksU0FBUyxNQUFNO0FBRWxCLElBQUFBLEtBQUksTUFBUztBQUdiLFFBQUksV0FBWSxZQUFXLE1BQVM7QUFFcEMsV0FBTztBQUFBLEVBQ1I7QUFJQSxRQUFNLFFBQVE7QUFBQSxJQUFRLE1BQ3JCLE1BQU07QUFBQSxNQUNMQTtBQUFBO0FBQUEsTUFFQTtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBSUEsU0FBTyxNQUFNLGNBQWMsTUFBTSxNQUFNLFlBQVksSUFBSTtBQUN4RDs7O0FDMUJBLElBQU0sbUJBQW1CLENBQUM7QUFVbkIsU0FBUyxTQUFTLE9BQU8sT0FBTztBQUN0QyxTQUFPO0FBQUEsSUFDTixXQUFXLFNBQVMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNuQztBQUNEO0FBVU8sU0FBUyxTQUFTLE9BQU8sUUFBUSxNQUFNO0FBRTdDLE1BQUksT0FBTztBQUdYLFFBQU0sY0FBYyxvQkFBSSxJQUFJO0FBTTVCLFdBQVNDLEtBQUksV0FBVztBQUN2QixRQUFJLGVBQWUsT0FBTyxTQUFTLEdBQUc7QUFDckMsY0FBUTtBQUNSLFVBQUksTUFBTTtBQUVULGNBQU0sWUFBWSxDQUFDLGlCQUFpQjtBQUNwQyxtQkFBVyxjQUFjLGFBQWE7QUFDckMscUJBQVcsQ0FBQyxFQUFFO0FBQ2QsMkJBQWlCLEtBQUssWUFBWSxLQUFLO0FBQUEsUUFDeEM7QUFDQSxZQUFJLFdBQVc7QUFDZCxtQkFBUyxJQUFJLEdBQUcsSUFBSSxpQkFBaUIsUUFBUSxLQUFLLEdBQUc7QUFDcEQsNkJBQWlCLENBQUMsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLElBQUksQ0FBQyxDQUFDO0FBQUEsVUFDL0M7QUFDQSwyQkFBaUIsU0FBUztBQUFBLFFBQzNCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBTUEsV0FBU0MsUUFBTyxJQUFJO0FBQ25CLElBQUFELEtBQUk7QUFBQTtBQUFBLE1BQXFCO0FBQUEsSUFBTSxDQUFDO0FBQUEsRUFDakM7QUFPQSxXQUFTLFVBQVVFLE1BQUssYUFBYSxNQUFNO0FBRTFDLFVBQU0sYUFBYSxDQUFDQSxNQUFLLFVBQVU7QUFDbkMsZ0JBQVksSUFBSSxVQUFVO0FBQzFCLFFBQUksWUFBWSxTQUFTLEdBQUc7QUFDM0IsYUFBTyxNQUFNRixNQUFLQyxPQUFNLEtBQUs7QUFBQSxJQUM5QjtBQUNBLElBQUFDO0FBQUE7QUFBQSxNQUFzQjtBQUFBLElBQU07QUFDNUIsV0FBTyxNQUFNO0FBQ1osa0JBQVksT0FBTyxVQUFVO0FBQzdCLFVBQUksWUFBWSxTQUFTLEtBQUssTUFBTTtBQUNuQyxhQUFLO0FBQ0wsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUNBLFNBQU8sRUFBRSxLQUFBRixNQUFLLFFBQUFDLFNBQVEsVUFBVTtBQUNqQztBQWtDTyxTQUFTRSxTQUFRLFFBQVEsSUFBSSxlQUFlO0FBQ2xELFFBQU0sU0FBUyxDQUFDLE1BQU0sUUFBUSxNQUFNO0FBRXBDLFFBQU0sZUFBZSxTQUFTLENBQUMsTUFBTSxJQUFJO0FBQ3pDLE1BQUksQ0FBQyxhQUFhLE1BQU0sT0FBTyxHQUFHO0FBQ2pDLFVBQU0sSUFBSSxNQUFNLHNEQUFzRDtBQUFBLEVBQ3ZFO0FBQ0EsUUFBTSxPQUFPLEdBQUcsU0FBUztBQUN6QixTQUFPLFNBQVMsZUFBZSxDQUFDSCxNQUFLQyxZQUFXO0FBQy9DLFFBQUksVUFBVTtBQUVkLFVBQU0sU0FBUyxDQUFDO0FBQ2hCLFFBQUlHLFdBQVU7QUFDZCxRQUFJLFVBQVU7QUFDZCxVQUFNLE9BQU8sTUFBTTtBQUNsQixVQUFJQSxVQUFTO0FBQ1o7QUFBQSxNQUNEO0FBQ0EsY0FBUTtBQUNSLFlBQU0sU0FBUyxHQUFHLFNBQVMsT0FBTyxDQUFDLElBQUksUUFBUUosTUFBS0MsT0FBTTtBQUMxRCxVQUFJLE1BQU07QUFDVCxRQUFBRCxLQUFJLE1BQU07QUFBQSxNQUNYLE9BQU87QUFDTixrQkFBVSxPQUFPLFdBQVcsYUFBYSxTQUFTO0FBQUEsTUFDbkQ7QUFBQSxJQUNEO0FBQ0EsVUFBTSxnQkFBZ0IsYUFBYTtBQUFBLE1BQUksQ0FBQyxPQUFPLE1BQzlDO0FBQUEsUUFDQztBQUFBLFFBQ0EsQ0FBQyxVQUFVO0FBQ1YsaUJBQU8sQ0FBQyxJQUFJO0FBQ1osVUFBQUksWUFBVyxFQUFFLEtBQUs7QUFDbEIsY0FBSSxTQUFTO0FBQ1osaUJBQUs7QUFBQSxVQUNOO0FBQUEsUUFDRDtBQUFBLFFBQ0EsTUFBTTtBQUNMLFVBQUFBLFlBQVcsS0FBSztBQUFBLFFBQ2pCO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFDQSxjQUFVO0FBQ1YsU0FBSztBQUNMLFdBQU8sU0FBUyxPQUFPO0FBQ3RCLGNBQVEsYUFBYTtBQUNyQixjQUFRO0FBSVIsZ0JBQVU7QUFBQSxJQUNYO0FBQUEsRUFDRCxDQUFDO0FBQ0Y7QUF1Qk8sU0FBU0MsS0FBSSxPQUFPO0FBQzFCLE1BQUk7QUFDSixxQkFBbUIsT0FBTyxDQUFDLE1BQU8sUUFBUSxDQUFFLEVBQUU7QUFFOUMsU0FBTztBQUNSOzs7QUMvTEEsSUFBSSxlQUFlLE9BQU87QUFZbkIsU0FBUyxVQUFVLE9BQU8sWUFBWSxRQUFRO0FBN0JyRCxNQUFBQztBQThCQyxRQUFNLFNBQVNBLE1BQUEsOEJBQUFBLE1BQUEscUJBQXVCO0FBQUEsSUFDckMsT0FBTztBQUFBLElBQ1AsUUFBUSxlQUFlLE1BQVM7QUFBQSxJQUNoQyxhQUFhO0FBQUEsRUFDZDtBQUVBLE1BQUksc0JBQUs7QUFDUixVQUFNLE9BQU8sUUFBUTtBQUFBLEVBQ3RCO0FBR0EsTUFBSSxNQUFNLFVBQVUsU0FBUyxFQUFFLGdCQUFnQixTQUFTO0FBQ3ZELFVBQU0sWUFBWTtBQUNsQixVQUFNLFFBQVEsd0JBQVM7QUFFdkIsUUFBSSxTQUFTLE1BQU07QUFDbEIsWUFBTSxPQUFPLElBQUk7QUFDakIsWUFBTSxjQUFjO0FBQUEsSUFDckIsT0FBTztBQUNOLFVBQUksMEJBQTBCO0FBRTlCLFlBQU0sY0FBYyxtQkFBbUIsT0FBTyxDQUFDLE1BQU07QUFDcEQsWUFBSSx5QkFBeUI7QUFHNUIsZ0JBQU0sT0FBTyxJQUFJO0FBQUEsUUFDbEIsT0FBTztBQUNOLGNBQUksTUFBTSxRQUFRLENBQUM7QUFBQSxRQUNwQjtBQUFBLE1BQ0QsQ0FBQztBQUVELGdDQUEwQjtBQUFBLElBQzNCO0FBQUEsRUFDRDtBQUtBLE1BQUksU0FBUyxnQkFBZ0IsUUFBUTtBQUNwQyxXQUFPQyxLQUFVLEtBQUs7QUFBQSxFQUN2QjtBQUVBLFNBQU8sSUFBSSxNQUFNLE1BQU07QUFDeEI7QUE4Qk8sU0FBUyxVQUFVLE9BQU8sT0FBTztBQUN2QyxRQUFNLElBQUksS0FBSztBQUNmLFNBQU87QUFDUjtBQWlCTyxTQUFTLGVBQWU7QUFFOUIsUUFBTSxTQUFTLENBQUM7QUFFaEIsV0FBUyxVQUFVO0FBQ2xCLGFBQVMsTUFBTTtBQUNkLGVBQVMsY0FBYyxRQUFRO0FBQzlCLGNBQU0sTUFBTSxPQUFPLFVBQVU7QUFDN0IsWUFBSSxZQUFZO0FBQUEsTUFDakI7QUFDQSxzQkFBZ0IsUUFBUSxjQUFjO0FBQUEsUUFDckMsWUFBWTtBQUFBLFFBQ1osT0FBTztBQUFBLE1BQ1IsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0Y7QUFFQSxTQUFPLENBQUMsUUFBUSxPQUFPO0FBQ3hCOzs7QUM5R08sU0FBUyxxQkFBcUIsU0FBUztBQUU3QyxTQUFPLElBQUksaUJBQWlCLE9BQU87QUFDcEM7QUFsQ0E7QUFtRUEsSUFBTSxtQkFBTixNQUF1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVl0QixZQUFZLFNBQVM7QUFWckI7QUFBQTtBQUdBO0FBQUE7QUF4RUQsUUFBQUMsS0FBQUM7QUFnRkUsUUFBSSxVQUFVLG9CQUFJLElBQUk7QUFNdEIsUUFBSSxhQUFhLENBQUNDLE1BQUssVUFBVTtBQUNoQyxVQUFJLElBQUksZUFBZSxPQUFPLE9BQU8sS0FBSztBQUMxQyxjQUFRLElBQUlBLE1BQUssQ0FBQztBQUNsQixhQUFPO0FBQUEsSUFDUjtBQUtBLFVBQU0sUUFBUSxJQUFJO0FBQUEsTUFDakIsRUFBRSxHQUFJLFFBQVEsU0FBUyxDQUFDLEdBQUksVUFBVSxDQUFDLEVBQUU7QUFBQSxNQUN6QztBQUFBLFFBQ0MsSUFBSSxRQUFRQyxPQUFNO0FBbEd0QixjQUFBSDtBQW1HSyxpQkFBTyxLQUFJQSxNQUFBLFFBQVEsSUFBSUcsS0FBSSxNQUFoQixPQUFBSCxNQUFxQixXQUFXRyxPQUFNLFFBQVEsSUFBSSxRQUFRQSxLQUFJLENBQUMsQ0FBQztBQUFBLFFBQzVFO0FBQUEsUUFDQSxJQUFJLFFBQVFBLE9BQU07QUFyR3RCLGNBQUFIO0FBdUdLLGNBQUlHLFVBQVMsYUFBYyxRQUFPO0FBRWxDLGVBQUlILE1BQUEsUUFBUSxJQUFJRyxLQUFJLE1BQWhCLE9BQUFILE1BQXFCLFdBQVdHLE9BQU0sUUFBUSxJQUFJLFFBQVFBLEtBQUksQ0FBQyxDQUFDO0FBQ3BFLGlCQUFPLFFBQVEsSUFBSSxRQUFRQSxLQUFJO0FBQUEsUUFDaEM7QUFBQSxRQUNBLElBQUksUUFBUUEsT0FBTSxPQUFPO0FBNUc3QixjQUFBSDtBQTZHSyxlQUFJQSxNQUFBLFFBQVEsSUFBSUcsS0FBSSxNQUFoQixPQUFBSCxNQUFxQixXQUFXRyxPQUFNLEtBQUssR0FBRyxLQUFLO0FBQ3ZELGlCQUFPLFFBQVEsSUFBSSxRQUFRQSxPQUFNLEtBQUs7QUFBQSxRQUN2QztBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsdUJBQUssWUFBYSxRQUFRLFVBQVUsVUFBVSxPQUFPLFFBQVEsV0FBVztBQUFBLE1BQ3ZFLFFBQVEsUUFBUTtBQUFBLE1BQ2hCLFFBQVEsUUFBUTtBQUFBLE1BQ2hCO0FBQUEsTUFDQSxTQUFTLFFBQVE7QUFBQSxNQUNqQixRQUFPSCxNQUFBLFFBQVEsVUFBUixPQUFBQSxNQUFpQjtBQUFBLE1BQ3hCLFNBQVMsUUFBUTtBQUFBLElBQ2xCLENBQUM7QUFJRCxRQUFJLENBQUMsb0JBQW9CLEdBQUNDLE1BQUEsbUNBQVMsVUFBVCxnQkFBQUEsSUFBZ0IsV0FBVSxRQUFRLFNBQVMsUUFBUTtBQUM1RSxnQkFBVTtBQUFBLElBQ1g7QUFFQSx1QkFBSyxTQUFVLE1BQU07QUFFckIsZUFBV0MsUUFBTyxPQUFPLEtBQUssbUJBQUssVUFBUyxHQUFHO0FBQzlDLFVBQUlBLFNBQVEsVUFBVUEsU0FBUSxjQUFjQSxTQUFRLE1BQU87QUFDM0Qsc0JBQWdCLE1BQU1BLE1BQUs7QUFBQSxRQUMxQixNQUFNO0FBQ0wsaUJBQU8sbUJBQUssV0FBVUEsSUFBRztBQUFBLFFBQzFCO0FBQUE7QUFBQSxRQUVBLElBQUksT0FBTztBQUNWLDZCQUFLLFdBQVVBLElBQUcsSUFBSTtBQUFBLFFBQ3ZCO0FBQUEsUUFDQSxZQUFZO0FBQUEsTUFDYixDQUFDO0FBQUEsSUFDRjtBQUVBLHVCQUFLLFdBQVU7QUFBQSxJQUFnRCxDQUFDRSxVQUFTO0FBQ3hFLGFBQU8sT0FBTyxPQUFPQSxLQUFJO0FBQUEsSUFDMUI7QUFFQSx1QkFBSyxXQUFVLFdBQVcsTUFBTTtBQUMvQixjQUFRLG1CQUFLLFVBQVM7QUFBQSxJQUN2QjtBQUFBLEVBQ0Q7QUFBQTtBQUFBLEVBR0EsS0FBSyxPQUFPO0FBQ1gsdUJBQUssV0FBVSxLQUFLLEtBQUs7QUFBQSxFQUMxQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUlDLFFBQU8sVUFBVTtBQUNwQix1QkFBSyxTQUFRQSxNQUFLLElBQUksbUJBQUssU0FBUUEsTUFBSyxLQUFLLENBQUM7QUFHOUMsVUFBTSxLQUFLLElBQUksU0FBUyxTQUFTLEtBQUssTUFBTSxHQUFHLElBQUk7QUFDbkQsdUJBQUssU0FBUUEsTUFBSyxFQUFFLEtBQUssRUFBRTtBQUMzQixXQUFPLE1BQU07QUFDWix5QkFBSyxTQUFRQSxNQUFLLElBQUksbUJBQUssU0FBUUEsTUFBSyxFQUFFO0FBQUE7QUFBQSxRQUE4QixDQUFDLE9BQU8sT0FBTztBQUFBLE1BQUU7QUFBQSxJQUMxRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFdBQVc7QUFDVix1QkFBSyxXQUFVLFNBQVM7QUFBQSxFQUN6QjtBQUNEO0FBOUdDO0FBR0E7OztBQzNERCxJQUFJO0FBRUosSUFBSSxPQUFPLGdCQUFnQixZQUFZO0FBQ3RDLGtCQUFnQixjQUFjLFlBQVk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUEyQnpDLFlBQVksaUJBQWlCLFNBQVMsZ0JBQWdCO0FBQ3JELFlBQU07QUExQlA7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQSxrQ0FBTztBQUVQO0FBQUEsaUNBQU0sQ0FBQztBQUVQO0FBQUEsaUNBQU07QUFFTjtBQUFBLG1DQUFRLENBQUM7QUFFVDtBQUFBLGlDQUFNLENBQUM7QUFFUDtBQUFBLG1DQUFRLG9CQUFJLElBQUk7QUFFaEI7QUFBQTtBQVNDLFdBQUssU0FBUztBQUNkLFdBQUssTUFBTTtBQUNYLFVBQUksZ0JBQWdCO0FBQ25CLGFBQUssYUFBYSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQUEsTUFDbkM7QUFBQSxJQUNEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBT0EsaUJBQWlCLE1BQU0sVUFBVSxTQUFTO0FBSXpDLFdBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksS0FBSyxDQUFDO0FBQ3BDLFdBQUssSUFBSSxJQUFJLEVBQUUsS0FBSyxRQUFRO0FBQzVCLFVBQUksS0FBSyxLQUFLO0FBQ2IsY0FBTSxRQUFRLEtBQUssSUFBSSxJQUFJLE1BQU0sUUFBUTtBQUN6QyxhQUFLLE1BQU0sSUFBSSxVQUFVLEtBQUs7QUFBQSxNQUMvQjtBQUNBLFlBQU0saUJBQWlCLE1BQU0sVUFBVSxPQUFPO0FBQUEsSUFDL0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFPQSxvQkFBb0IsTUFBTSxVQUFVLFNBQVM7QUFDNUMsWUFBTSxvQkFBb0IsTUFBTSxVQUFVLE9BQU87QUFDakQsVUFBSSxLQUFLLEtBQUs7QUFDYixjQUFNLFFBQVEsS0FBSyxNQUFNLElBQUksUUFBUTtBQUNyQyxZQUFJLE9BQU87QUFDVixnQkFBTTtBQUNOLGVBQUssTUFBTSxPQUFPLFFBQVE7QUFBQSxRQUMzQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsSUFFQSxNQUFNLG9CQUFvQjtBQUN6QixXQUFLLE9BQU87QUFDWixVQUFJLENBQUMsS0FBSyxLQUFLO0FBT2QsWUFBUyxjQUFULFNBQXFCLE1BQU07QUFJMUIsaUJBQU8sQ0FBQyxXQUFXO0FBQ2xCLGtCQUFNQyxRQUFPLFNBQVMsY0FBYyxNQUFNO0FBQzFDLGdCQUFJLFNBQVMsVUFBVyxDQUFBQSxNQUFLLE9BQU87QUFFcEMsbUJBQU8sUUFBUUEsS0FBSTtBQUFBLFVBQ3BCO0FBQUEsUUFDRDtBQWZBLGNBQU0sUUFBUSxRQUFRO0FBQ3RCLFlBQUksQ0FBQyxLQUFLLFFBQVEsS0FBSyxLQUFLO0FBQzNCO0FBQUEsUUFDRDtBQWNBLGNBQU0sVUFBVSxDQUFDO0FBQ2pCLGNBQU0saUJBQWlCLDBCQUEwQixJQUFJO0FBQ3JELG1CQUFXLFFBQVEsS0FBSyxLQUFLO0FBQzVCLGNBQUksUUFBUSxnQkFBZ0I7QUFDM0IsZ0JBQUksU0FBUyxhQUFhLENBQUMsS0FBSyxJQUFJLFVBQVU7QUFDN0MsbUJBQUssSUFBSSxXQUFXLFlBQVksSUFBSTtBQUNwQyxzQkFBUSxVQUFVO0FBQUEsWUFDbkIsT0FBTztBQUNOLHNCQUFRLElBQUksSUFBSSxZQUFZLElBQUk7QUFBQSxZQUNqQztBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBQ0EsbUJBQVcsYUFBYSxLQUFLLFlBQVk7QUFFeEMsZ0JBQU0sT0FBTyxLQUFLLE1BQU0sVUFBVSxJQUFJO0FBQ3RDLGNBQUksRUFBRSxRQUFRLEtBQUssTUFBTTtBQUN4QixpQkFBSyxJQUFJLElBQUksSUFBSSx5QkFBeUIsTUFBTSxVQUFVLE9BQU8sS0FBSyxPQUFPLFFBQVE7QUFBQSxVQUN0RjtBQUFBLFFBQ0Q7QUFFQSxtQkFBV0MsUUFBTyxLQUFLLE9BQU87QUFFN0IsY0FBSSxFQUFFQSxRQUFPLEtBQUssUUFBUSxLQUFLQSxJQUFHLE1BQU0sUUFBVztBQUVsRCxpQkFBSyxJQUFJQSxJQUFHLElBQUksS0FBS0EsSUFBRztBQUV4QixtQkFBTyxLQUFLQSxJQUFHO0FBQUEsVUFDaEI7QUFBQSxRQUNEO0FBQ0EsYUFBSyxNQUFNLHFCQUFxQjtBQUFBLFVBQy9CLFdBQVcsS0FBSztBQUFBLFVBQ2hCLFFBQVEsS0FBSyxjQUFjO0FBQUEsVUFDM0IsT0FBTztBQUFBLFlBQ04sR0FBRyxLQUFLO0FBQUEsWUFDUjtBQUFBLFlBQ0EsUUFBUTtBQUFBLFVBQ1Q7QUFBQSxRQUNELENBQUM7QUFHRCxhQUFLLE9BQU8sWUFBWSxNQUFNO0FBQzdCLHdCQUFjLE1BQU07QUFwSnpCLGdCQUFBQztBQXFKTSxpQkFBSyxNQUFNO0FBQ1gsdUJBQVdELFFBQU8sWUFBWSxLQUFLLEdBQUcsR0FBRztBQUN4QyxrQkFBSSxHQUFDQyxNQUFBLEtBQUssTUFBTUQsSUFBRyxNQUFkLGdCQUFBQyxJQUFpQixTQUFTO0FBQy9CLG1CQUFLLElBQUlELElBQUcsSUFBSSxLQUFLLElBQUlBLElBQUc7QUFDNUIsb0JBQU0sa0JBQWtCO0FBQUEsZ0JBQ3ZCQTtBQUFBLGdCQUNBLEtBQUssSUFBSUEsSUFBRztBQUFBLGdCQUNaLEtBQUs7QUFBQSxnQkFDTDtBQUFBLGNBQ0Q7QUFDQSxrQkFBSSxtQkFBbUIsTUFBTTtBQUM1QixxQkFBSyxnQkFBZ0IsS0FBSyxNQUFNQSxJQUFHLEVBQUUsYUFBYUEsSUFBRztBQUFBLGNBQ3RELE9BQU87QUFDTixxQkFBSyxhQUFhLEtBQUssTUFBTUEsSUFBRyxFQUFFLGFBQWFBLE1BQUssZUFBZTtBQUFBLGNBQ3BFO0FBQUEsWUFDRDtBQUNBLGlCQUFLLE1BQU07QUFBQSxVQUNaLENBQUM7QUFBQSxRQUNGLENBQUM7QUFFRCxtQkFBVyxRQUFRLEtBQUssS0FBSztBQUM1QixxQkFBVyxZQUFZLEtBQUssSUFBSSxJQUFJLEdBQUc7QUFDdEMsa0JBQU0sUUFBUSxLQUFLLElBQUksSUFBSSxNQUFNLFFBQVE7QUFDekMsaUJBQUssTUFBTSxJQUFJLFVBQVUsS0FBSztBQUFBLFVBQy9CO0FBQUEsUUFDRDtBQUNBLGFBQUssTUFBTSxDQUFDO0FBQUEsTUFDYjtBQUFBLElBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBVUEseUJBQXlCRSxPQUFNLFdBQVcsVUFBVTtBQTNMdEQsVUFBQUQ7QUE0TEcsVUFBSSxLQUFLLElBQUs7QUFDZCxNQUFBQyxRQUFPLEtBQUssTUFBTUEsS0FBSTtBQUN0QixXQUFLLElBQUlBLEtBQUksSUFBSSx5QkFBeUJBLE9BQU0sVUFBVSxLQUFLLE9BQU8sUUFBUTtBQUM5RSxPQUFBRCxNQUFBLEtBQUssUUFBTCxnQkFBQUEsSUFBVSxLQUFLLEVBQUUsQ0FBQ0MsS0FBSSxHQUFHLEtBQUssSUFBSUEsS0FBSSxFQUFFO0FBQUEsSUFDekM7QUFBQSxJQUVBLHVCQUF1QjtBQUN0QixXQUFLLE9BQU87QUFFWixjQUFRLFFBQVEsRUFBRSxLQUFLLE1BQU07QUFDNUIsWUFBSSxDQUFDLEtBQUssUUFBUSxLQUFLLEtBQUs7QUFDM0IsZUFBSyxJQUFJLFNBQVM7QUFDbEIsZUFBSyxLQUFLO0FBQ1YsZUFBSyxNQUFNO0FBQUEsUUFDWjtBQUFBLE1BQ0QsQ0FBQztBQUFBLElBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtBLE1BQU0sZ0JBQWdCO0FBQ3JCLGFBQ0MsWUFBWSxLQUFLLEtBQUssRUFBRTtBQUFBLFFBQ3ZCLENBQUNGLFNBQ0EsS0FBSyxNQUFNQSxJQUFHLEVBQUUsY0FBYyxrQkFDN0IsQ0FBQyxLQUFLLE1BQU1BLElBQUcsRUFBRSxhQUFhQSxLQUFJLFlBQVksTUFBTTtBQUFBLE1BQ3ZELEtBQUs7QUFBQSxJQUVQO0FBQUEsRUFDRDtBQUNEO0FBUUEsU0FBUyx5QkFBeUJHLE9BQU0sT0FBTyxrQkFBa0IsV0FBVztBQW5PNUUsTUFBQUY7QUFvT0MsUUFBTSxRQUFPQSxNQUFBLGlCQUFpQkUsS0FBSSxNQUFyQixnQkFBQUYsSUFBd0I7QUFDckMsVUFBUSxTQUFTLGFBQWEsT0FBTyxVQUFVLFlBQVksU0FBUyxPQUFPO0FBQzNFLE1BQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCRSxLQUFJLEdBQUc7QUFDMUMsV0FBTztBQUFBLEVBQ1IsV0FBVyxjQUFjLGVBQWU7QUFDdkMsWUFBUSxNQUFNO0FBQUEsTUFDYixLQUFLO0FBQUEsTUFDTCxLQUFLO0FBQ0osZUFBTyxTQUFTLE9BQU8sT0FBTyxLQUFLLFVBQVUsS0FBSztBQUFBLE1BQ25ELEtBQUs7QUFDSixlQUFPLFFBQVEsS0FBSztBQUFBLE1BQ3JCLEtBQUs7QUFDSixlQUFPLFNBQVMsT0FBTyxPQUFPO0FBQUEsTUFDL0I7QUFDQyxlQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0QsT0FBTztBQUNOLFlBQVEsTUFBTTtBQUFBLE1BQ2IsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUNKLGVBQU8sU0FBUyxLQUFLLE1BQU0sS0FBSztBQUFBLE1BQ2pDLEtBQUs7QUFDSixlQUFPO0FBQUE7QUFBQSxNQUNSLEtBQUs7QUFDSixlQUFPLFNBQVMsT0FBTyxDQUFDLFFBQVE7QUFBQSxNQUNqQztBQUNDLGVBQU87QUFBQSxJQUNUO0FBQUEsRUFDRDtBQUNEO0FBS0EsU0FBUywwQkFBMEJDLFVBQVM7QUFFM0MsUUFBTSxTQUFTLENBQUM7QUFDaEIsRUFBQUEsU0FBUSxXQUFXLFFBQVEsQ0FBQyxTQUFTO0FBQ3BDO0FBQUE7QUFBQSxNQUFvQyxLQUFNLFFBQVE7QUFBQSxJQUFTLElBQUk7QUFBQSxFQUNoRSxDQUFDO0FBQ0QsU0FBTztBQUNSOzs7QUNsUUEsSUFBSSxzQkFBSztBQUlSLE1BQVMsbUJBQVQsU0FBMEIsTUFBTTtBQUMvQixRQUFJLEVBQUUsUUFBUSxhQUFhO0FBRzFCLFVBQUk7QUFDSixhQUFPLGVBQWUsWUFBWSxNQUFNO0FBQUEsUUFDdkMsY0FBYztBQUFBO0FBQUEsUUFFZCxLQUFLLE1BQU07QUFDVixjQUFJLFVBQVUsUUFBVztBQUN4QixtQkFBTztBQUFBLFVBQ1I7QUFFQSxVQUFFLG9CQUFvQixJQUFJO0FBQUEsUUFDM0I7QUFBQSxRQUNBLEtBQUssQ0FBQyxNQUFNO0FBQ1gsa0JBQVE7QUFBQSxRQUNUO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFFQSxtQkFBaUIsUUFBUTtBQUN6QixtQkFBaUIsU0FBUztBQUMxQixtQkFBaUIsVUFBVTtBQUMzQixtQkFBaUIsVUFBVTtBQUMzQixtQkFBaUIsUUFBUTtBQUN6QixtQkFBaUIsV0FBVztBQUM3QjtBQStDTyxTQUFTLFFBQVEsSUFBSTtBQUMzQixNQUFJLHNCQUFzQixNQUFNO0FBQy9CLElBQUUsNEJBQTRCLFNBQVM7QUFBQSxFQUN4QztBQUVBLE1BQUksb0JBQW9CLGtCQUFrQixNQUFNLE1BQU07QUFDckQsMEJBQXNCLGlCQUFpQixFQUFFLEVBQUUsS0FBSyxFQUFFO0FBQUEsRUFDbkQsT0FBTztBQUNOLGdCQUFZLE1BQU07QUFDakIsWUFBTSxVQUFVLFFBQVEsRUFBRTtBQUMxQixVQUFJLE9BQU8sWUFBWSxXQUFZO0FBQUE7QUFBQSxRQUFrQztBQUFBO0FBQUEsSUFDdEUsQ0FBQztBQUFBLEVBQ0Y7QUFDRDtBQXVJQSxTQUFTLHNCQUFzQixTQUFTO0FBOU94QyxNQUFBQztBQStPQyxNQUFJO0FBQUE7QUFBQSxJQUEyQyxRQUFTO0FBQUE7QUFDeEQsVUFBUUEsTUFBQSxFQUFFLE1BQUYsT0FBQUEsTUFBQSxFQUFFLElBQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRTtBQUN2Qzs7O0FDMU9PLElBQU0saUJBQWlCOzs7QUNQOUIsSUFBQUMsS0FBQUMsS0FBQTtBQUVBLElBQUksT0FBTyxXQUFXLGFBQWE7QUFFbEMsSUFBRSxNQUFBQSxPQUFBRCxNQUFBLE9BQU8sYUFBUCxPQUFBQSxNQUFBLE9BQU8sV0FBYSxDQUFDLEdBQUcsTUFBeEIsWUFBQUMsSUFBd0IsSUFBTSxvQkFBSSxJQUFJLEdBQUcsSUFBSSxjQUFjO0FBQzlEOzs7QUNIQSx3QkFBd0I7OztBQ0dqQixJQUFNLFNBQVMsU0FBOEI7QUFFN0MsSUFBTSxZQUFZLFNBQVMsZUFBZTtBQUMxQyxJQUFNLGVBQWUsU0FBUyxFQUFFO0FBQ2hDLElBQU0sZUFBZSxTQUFTLENBQUM7QUFFL0IsSUFBTSxVQUFVLFNBQThCLE1BQU0sQ0FBQ0MsU0FBUTtBQUNuRSxNQUFJO0FBRUosUUFBTSxvQkFBb0IsT0FBTyxVQUFVLENBQUMsTUFBTTtBQUNqRCxRQUFJLEdBQUc7QUFDTix1QkFBaUIsRUFBRTtBQUduQixNQUFBQSxLQUFJLGVBQWUsaUJBQWlCLENBQUM7QUFHckMscUJBQWUsU0FBUyxNQUFNO0FBQzdCLFFBQUFBLEtBQUksZUFBZSxpQkFBaUIsQ0FBQztBQUFBLE1BQ3RDLENBQUM7QUFBQSxJQUNGO0FBQUEsRUFDRCxDQUFDO0FBRUQsU0FBTyxNQUFNO0FBQ1osc0JBQWtCO0FBQUEsRUFLbkI7QUFDRCxDQUFDO0FBRU0sSUFBTSxnQkFBZ0JDO0FBQUEsRUFDNUI7QUFBQSxFQUNBLENBQUMsVUFBVUQsU0FBUTtBQUNsQixRQUFJLENBQUMsWUFBWSxTQUFTLFdBQVcsYUFBYTtBQUNqRCxNQUFBQSxLQUFJLENBQUM7QUFDTDtBQUFBLElBQ0Q7QUFFQSxVQUFNRSxVQUFTLE1BQU07QUFDcEIsVUFBSSxTQUFTLFdBQVcsV0FBVztBQUNsQyxjQUFNLFlBQVk7QUFBQSxVQUNqQixTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsUUFDVjtBQUNBLFFBQUFGLEtBQUksU0FBUztBQUFBLE1BQ2QsV0FBVyxTQUFTLFdBQVcsVUFBVTtBQUN4QyxjQUFNLFlBQVk7QUFBQSxVQUNqQixTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsVUFDVCxTQUFTO0FBQUEsUUFDVjtBQUNBLFFBQUFBLEtBQUksU0FBUztBQUFBLE1BQ2Q7QUFBQSxJQUNEO0FBRUEsSUFBQUUsUUFBTztBQUVQLFVBQU0sV0FBVyxZQUFZQSxTQUFRLEdBQUk7QUFFekMsV0FBTyxNQUFNO0FBQ1osb0JBQWMsUUFBUTtBQUFBLElBQ3ZCO0FBQUEsRUFDRDtBQUFBLEVBQ0E7QUFBQTtBQUNEOzs7Ozs7Ozs7OzBDQzFFQTs7Ozs7O01BSUMsTUFBRyxLQUFBO21CQUFILEdBQUc7Ozs7VUFFRCxLQUFFLFlBQUEsUUFBQTt3QkFBRixJQUFFLElBQUE7WUFBRixFQUFFO1VBQ0YsT0FBSSxRQURKLElBQUUsQ0FBQTt5QkFDRixNQUFJLElBQUE7WUFBSixJQUFJOzs7d0JBREEsU0FBUSxFQUFDLElBQUk7a0JBQ2pCLE1BQUksR0FBQSxlQUFvQkMsTUFBQSxTQUFRLEVBQUMsV0FBVCxPQUFBQSxNQUFlLEVBQUEsSUFBQSxnQkFBQTt5QkFBSSxTQUFRLEVBQUMsTUFBTTs7Ozs7VUFFMUQsT0FBRSxPQUFBO3dCQUFGLElBQUU7OztVQUpDLFNBQVEsRUFBQSxVQUFBLFVBQUE7VUFBQSxVQUFBLFdBQUEsS0FBQTs7O1FBRGIsR0FBRzttQkFBSCxHQUFHOzs7QUFGSTs7Ozs7Ozs7Ozs7O3lDQ0ZSOzs7Ozs7Ozs7TUFJSyxnQkFBYSxlQUFHLEtBQUs7V0FFaEIsa0JBQWU7UUFDdkIsZUFBYSxDQUFBLElBQUksYUFBYSxDQUFBO0VBQy9CO1dBRVMsY0FBYyxLQUFXO1dBQzFCLElBQUksU0FBUSxFQUFHLFNBQVMsR0FBRyxHQUFHO0VBQ3RDO1dBRVMsbUJBQW1CLEdBQThDO1VBQ25FLFFBQVEsRUFBRSxjQUFjLE1BQU0sUUFBUSxXQUFXLEVBQUU7UUFDckQsTUFBTSxTQUFTLE9BQU8sRUFBRTtRQUN4QixNQUFNLEdBQUcsRUFBRyxPQUFNO1FBQ2xCLE1BQU0sR0FBSSxPQUFNOzRCQUNKLEdBQUc7QUFFbkIsTUFBRSxjQUFjLFFBQVEsY0FBYyxHQUFHO0VBQzFDO1dBRVMsbUJBQW1CLEdBQThDO1VBQ25FLFFBQVEsRUFBRSxjQUFjLE1BQU0sUUFBUSxXQUFXLEVBQUU7UUFDckQsTUFBTSxTQUFTLE9BQU8sRUFBRTtRQUN4QixNQUFNLEdBQUcsRUFBRyxPQUFNO1FBQ2xCLE1BQU0sR0FBSSxPQUFNOzRCQUNKLEdBQUc7QUFDbkIsTUFBRSxjQUFjLFFBQVEsY0FBYyxHQUFHO0VBQzFDOztNQUdBLE1BQUdDLE1BQUE7bUJBQUgsR0FBRzs7OztVQUVELFFBQUcsWUFBQSxRQUFBOzt3QkFBSCxPQUFHLElBQUE7WUFBSCxLQUFHO1VBR0gsUUFBRyxRQUhILE9BQUcsQ0FBQTtVQUlGLFFBQUEsTUFERCxLQUFHO1lBQUgsS0FBRzs7OzhCQUhILE9BQUcsR0FBQSwrQkFBQSxNQUFBLFNBQUEsRUFBQSxlQUF5QyxlQUFjLElBQUcsRUFBQyxDQUFBOztvQkFJN0QsT0FBQSxVQUFBLGtCQUFBLEVBQUEsR0FBQTs7O2dCQUhBLGVBQWUsZUFBYyxDQUFBO2dCQUtkLEtBQUssSUFBSSxLQUFNLFNBQVEsRUFBQyxVQUFVLFNBQVEsRUFBQyxXQUFZLEdBQUc7Ozs7OztVQUkxRSxRQUFHQyxRQUFBO3lCQUFILEtBQUc7OztjQUVELFVBQUEsT0FBQTtnQ0FBQSxPQUFBO3FCQUFBLFNBR1ksWUFBVSxDQUFBLFlBQUEsVUFBQSxXQUFBLE9BQUEsQ0FBQTt3QkFIdEIsU0FBQSxNQUFBLElBS2dCLGVBQWdCLEtBQUssQ0FBQTs0QkFMckMsT0FBQTs7O2NBUUEsUUFBQSxPQUFBOzZCQUFBLE9BQUEsSUFBQTtnQkFBQSxLQUFBO2lEQU9DLFdBQVUsQ0FBQSxDQUFBO3lCQVBYLE9BRVUsZUFBZTs0QkFGekIsT0FBQSxDQUtjLE1BQU0sRUFBRSxRQUFRLFdBQVcsZ0JBQWUsQ0FBQTs0QkFMeEQsS0FBQTs7O2tCQVRHLGFBQWEsRUFBQSxVQUFBLFlBQUE7Y0FBQSxVQUFBLFdBQUEsS0FBQTs7O1VBb0JqQixRQUFHLFFBQUEsUUFBQSxDQUFBO1VBQ0YsVUFBQSxNQURELEtBQUc7NEJBQ0YsT0FBQTtVQVFBLFVBQUEsUUFSQSxTQUFBLENBQUE7NEJBUUEsT0FBQTtZQVRELEtBQUc7WUFyQkosS0FBRzs7O29CQXNCRCxTQUFBLEVBQUE7b0JBUUEsU0FBQSxFQUFBOzs7Z0JBTE8sY0FBYyxjQUFhLENBQUE7Z0JBUTNCLGNBQWMsY0FBYSxDQUFBOzs7cUJBWGxDLFNBSVUsa0JBQWtCO3FCQUk1QixTQUlVLGtCQUFrQjtxQkFKNUIsU0FBQSxDQUtXLE1BQU0sRUFBRSxjQUFjLE9BQU0sQ0FBQTt3QkFuQ3pDLEtBQUc7OztVQVhBLFNBQVEsRUFBQSxVQUFBLFVBQUE7VUFBQSxVQUFBLGFBQUEsS0FBQTs7O1FBRGIsR0FBRzttQkFBSCxHQUFHOzs7QUFGSTs7O0FDaENSLElBQUFDLG1CQUEyQjtBQUdwQixJQUFNLGtCQUFOLGNBQThCLHVCQUFNO0FBQUEsRUFHMUMsWUFBWSxLQUFVLGdCQUFnQztBQUNyRCxVQUFNLEdBQUc7QUFDVCxTQUFLLGlCQUFpQjtBQUFBLEVBQ3ZCO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLFNBQVMsc0JBQXNCO0FBRXpDLGNBQVUsU0FBUyxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUU3RCxVQUFNLFdBQVcsVUFBVSxVQUFVLEVBQUUsS0FBSyxvQkFBb0IsQ0FBQztBQUdqRSxVQUFNLGdCQUFnQixTQUFTLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixDQUFDO0FBQ3hFLGtCQUFjLFVBQVUsRUFBRSxLQUFLLFlBQVksTUFBTSxrQkFBa0IsQ0FBQztBQUVwRSxVQUFNLFNBQVMsY0FBYyxVQUFVLEVBQUUsS0FBSyxrQkFBa0IsQ0FBQztBQUVqRSxVQUFNLFFBQVE7QUFBQSxNQUNiLEVBQUUsT0FBTyxRQUFRLEtBQUssSUFBSTtBQUFBLE1BQzFCLEVBQUUsT0FBTyxPQUFPLEtBQUssRUFBRTtBQUFBLE1BQ3ZCLEVBQUUsT0FBTyxPQUFPLEtBQUssRUFBRTtBQUFBLElBQ3hCO0FBRUEsVUFBTSxRQUFRLENBQUMsTUFBTTtBQUNwQixZQUFNLE1BQU0sT0FBTyxTQUFTLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixNQUFNLEVBQUUsTUFBTSxDQUFDO0FBQ25GLFVBQUksVUFBVSxNQUFNO0FBQ25CLGFBQUssZUFBZSxRQUFRLEVBQUUsR0FBRztBQUNqQyxhQUFLLE1BQU07QUFBQSxNQUNaO0FBQUEsSUFDRCxDQUFDO0FBR0QsYUFBUyxVQUFVLEVBQUUsS0FBSyxZQUFZLENBQUM7QUFHdkMsVUFBTSxZQUFZLFNBQVMsU0FBUyxVQUFVLEVBQUUsS0FBSyx5QkFBeUIsTUFBTSxpQkFBaUIsQ0FBQztBQUN0RyxjQUFVLFVBQVUsWUFBWTtBQUMvQixZQUFNLEtBQUssZUFBZSxZQUFZLE9BQU87QUFDN0MsV0FBSyxNQUFNO0FBQUEsSUFDWjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQU1oQixVQUFNQyxXQUFVLEtBQUssZUFBZSxpQkFBaUI7QUFDckQsUUFBSUEsWUFBV0EsU0FBUSxXQUFXLGFBQWE7QUFDOUMsV0FBSyxLQUFLLGVBQWUsWUFBWSxPQUFPO0FBQUEsSUFDN0M7QUFBQSxFQUNEO0FBQ0Q7Ozt1QkM1RHlCOzs7Ozs7Ozs7Ozs7NENBSHpCOzs7Ozs7Ozs7V0FLVSxLQUFLLE1BQW1CLFVBQWdCO0FBQ2hELGtDQUFRLE1BQU0sUUFBUTs7TUFFckIsT0FBTyxhQUFtQjtBQUN6QixhQUFLLE1BQUs7QUFDVixzQ0FBUSxNQUFNLFdBQVc7TUFDMUI7O0VBRUY7V0FFUyxhQUFhLE1BQVk7QUFDakMsWUFBTyxNQUFBLFFBQVAsUUFBTyxNQUFBLFNBQUEsU0FBUCxRQUFPLEVBQUUsZUFBZSxhQUFhLElBQUk7RUFDMUM7V0FFUyxxQkFBa0I7VUFDcEIsV0FBVyxjQUFhLElBQUcsS0FBSyxjQUFhO0FBQ25ELFlBQU8sTUFBQSxRQUFQLFFBQU8sTUFBQSxrQkFBUCxRQUFPLEVBQUUsZUFBZSxhQUFhLFdBQVUsR0FBRSxRQUFRO0VBQzFEO1dBRVMsY0FBVztBQUduQixZQUFPLE1BQUEsUUFBUCxRQUFPLE1BQUEsU0FBQSxTQUFQLFFBQU8sRUFBRSxlQUFlLGFBQVk7UUFDaEMsZ0JBQWdCLFFBQVEsRUFBQyxLQUFLLFFBQVEsRUFBQyxjQUFjLEVBQUUsS0FBSTtFQUNoRTtXQUVTLGVBQVk7QUFDcEIsWUFBTyxNQUFBLFFBQVAsUUFBTyxNQUFBLFNBQUEsU0FBUCxRQUFPLEVBQUUsZUFBZSxhQUFZO0VBQ3JDO1dBRVMsZ0JBQWE7QUFDckIsWUFBTyxNQUFBLFFBQVAsUUFBTyxNQUFBLFNBQUEsU0FBUCxRQUFPLEVBQUUsZUFBZSxjQUFhO0VBQ3RDO1dBRVMsUUFBUSxTQUFlO0FBQy9CLFlBQU8sTUFBQSxRQUFQLFFBQU8sTUFBQSxTQUFBLFNBQVAsUUFBTyxFQUFFLGVBQWUsUUFBUSxPQUFPO0VBQ3hDOztNQUdBLE1BQUdDLE1BQUE7TUFDRixRQUFHLE1BREosR0FBRztxQkFDRixLQUFHOzs7Ozs7OztjQUlBLFNBQU0sUUFBQSxZQUFBLFVBQUEsR0FBQSxDQUFBO2NBQ0wsUUFBRyxNQURKLE1BQU07aUJBQ0wsT0FBRyxDQUFBLFFBQUEsaUJBQUEsNkJBQUEsUUFBQSxlQUFBLE1BQVcsT0FBTztnQkFEdEIsTUFBTTt5QkFBTixRQUF1RSxXQUFXOzs7OztjQUlsRixXQUFNLFlBQUEsVUFBQTtjQUNMLFFBQUcsTUFESixRQUFNO2lCQUNMLE9BQUcsQ0FBQSxRQUFBLGlCQUFBLDZCQUFBLFFBQUEsZUFBQSxNQUFXLFFBQVE7Z0JBRHZCLFFBQU07K0JBQU4sVUFBTSxDQUFBOzs7a0JBS0wsV0FBTUMsUUFBQTtrQkFDTCxRQUFHLE1BREosUUFBTTtxQkFDTCxPQUFHLENBQUEsUUFBQSxpQkFBQSw2QkFBQSxRQUFBLGVBQUEsTUFBVyxPQUFPO29CQUR0QixRQUFNOzZCQUFOLFVBQXNFLFlBQVk7Z0NBQWxGLFFBQU07OztrQkFJTixXQUFNLE9BQUE7a0JBQ0wsUUFBRyxNQURKLFFBQU07cUJBQ0wsT0FBRyxDQUFBLFFBQUEsaUJBQUEsNkJBQUEsUUFBQSxlQUFBLE1BQVcsTUFBTTtvQkFEckIsUUFBTTs2QkFBTixVQUF1RSxhQUFhO2dDQUFwRixRQUFNOzs7a0JBTEgsU0FBUSxFQUFDLFdBQVcsVUFBUyxVQUFBLFlBQUE7a0JBQUEsVUFBQSxXQUFBLEtBQUE7Ozt5QkFKakMsVUFBK0UsV0FBVzs7OztjQU52RixTQUFRLEVBQUMsV0FBVyxZQUFXLFVBQUEsVUFBQTtjQUFBLFVBQUEsYUFBQSxLQUFBOzs7Ozs7O1VBc0JuQyxXQUFBLFlBQUEsVUFBQTtVQUtDLFFBQUcsTUFMSixRQUFBO2FBS0MsT0FBRyxDQUFBLFFBQUEsaUJBQUEsNkJBQUEsUUFBQSxlQUFBLE1BQVcsUUFBUTtZQUx2QixRQUFBO1VBUUEsV0FBTSxRQVJOLFVBQUEsQ0FBQTtVQVNDLFFBQUcsTUFESixRQUFNO2FBQ0wsT0FBRyxDQUFBLFFBQUEsaUJBQUEsNkJBQUEsUUFBQSxlQUFBLE1BQVcsTUFBTTtZQURyQixRQUFNO1VBSU4sV0FBQSxRQUpBLFVBQU0sQ0FBQTtVQVNMLFFBQUcsTUFMSixRQUFBO2FBS0MsT0FBRyxDQUFBLFFBQUEsaUJBQUEsNkJBQUEsUUFBQSxlQUFBLE1BQVcsVUFBVTtZQUx6QixRQUFBO3FCQVpBLFVBQUEsTUFHZ0IsYUFBYSxhQUFhLENBQUE7cUJBSzFDLFVBQXVGLGtCQUFrQjtxQkFJekcsVUFBQSxNQUdnQixhQUFhLFlBQVksQ0FBQTs7OztVQXRDdEMsU0FBUSxFQUFBLFVBQUEsWUFBQTtVQUFBLFVBQUEsYUFBQSxLQUFBOzs7UUFEYixLQUFHO3VCQUFILE9BQUcsQ0FBQTs7O1VBZ0RGLFFBQUcsT0FBQTtVQUNGLFdBQU0sTUFEUCxLQUFHO1VBRUYsV0FBTSxRQUROLFVBQU0sQ0FBQTtVQUVOLFdBQU0sUUFETixVQUFNLENBQUE7WUFGUCxLQUFHO3FCQUNGLFVBQU0sTUFBNkMsUUFBUSxHQUFHLENBQUE7cUJBQzlELFVBQU0sTUFBNkMsUUFBUSxDQUFDLENBQUE7cUJBQzVELFVBQU0sTUFBNkMsUUFBUSxDQUFDLENBQUE7d0JBSDdELEtBQUc7OztVQURBLFNBQVEsTUFBSyxTQUFRLEVBQUMsV0FBVyxhQUFhLFNBQVEsRUFBQyxXQUFXLFVBQVEsVUFBQSxZQUFBOzs7UUFoRC9FLEdBQUc7bUJBQUgsR0FBRzs7O0FBRkk7Ozs7Ozs7OzBDQzFDUjs7Ozs7O01BSUMsTUFBR0MsTUFBQTtNQUNGLFFBQUssTUFETixHQUFHO29CQUNGLEtBQUs7UUFBTCxLQUFLO1FBRE4sR0FBRzs7O2dDQUNNQyxPQUFBQyxNQUFBLFFBQU8sTUFBUCxnQkFBQUEsSUFBUyxTQUFTLFlBQWxCLE9BQUFELE1BQXlCLEVBQUEsRUFBQTtHQUFBO21CQURsQyxHQUFHOzs7QUFGSTs7O0FDbUVELFNBQVMsVUFBVSxTQUFTLFlBQVksR0FBRyxXQUFXO0FBQ3pELFdBQVMsTUFBTSxPQUFPO0FBQUUsV0FBTyxpQkFBaUIsSUFBSSxRQUFRLElBQUksRUFBRSxTQUFVLFNBQVM7QUFBRSxjQUFRLEtBQUs7QUFBQSxJQUFHLENBQUM7QUFBQSxFQUFHO0FBQzNHLFNBQU8sS0FBSyxNQUFNLElBQUksVUFBVSxTQUFVLFNBQVMsUUFBUTtBQUN2RCxhQUFTLFVBQVUsT0FBTztBQUFFLFVBQUk7QUFBRSxhQUFLLFVBQVUsS0FBSyxLQUFLLENBQUM7QUFBQSxNQUFHLFNBQVMsR0FBRztBQUFFLGVBQU8sQ0FBQztBQUFBLE1BQUc7QUFBQSxJQUFFO0FBQzFGLGFBQVMsU0FBUyxPQUFPO0FBQUUsVUFBSTtBQUFFLGFBQUssVUFBVSxPQUFPLEVBQUUsS0FBSyxDQUFDO0FBQUEsTUFBRyxTQUFTLEdBQUc7QUFBRSxlQUFPLENBQUM7QUFBQSxNQUFHO0FBQUEsSUFBRTtBQUM3RixhQUFTLEtBQUssUUFBUTtBQUFFLGFBQU8sT0FBTyxRQUFRLE9BQU8sS0FBSyxJQUFJLE1BQU0sT0FBTyxLQUFLLEVBQUUsS0FBSyxXQUFXLFFBQVE7QUFBQSxJQUFHO0FBQzdHLFVBQU0sWUFBWSxVQUFVLE1BQU0sU0FBUyxjQUFjLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUFBLEVBQ3hFLENBQUM7QUFDTDs7O0FDN0VBLElBQUFFLG1CQUEyQjtBQUVwQixJQUFNLHNCQUFOLGNBQWtDLHVCQUFNO0FBQUEsRUFHOUMsWUFBWSxLQUFVLGFBQWtCO0FBQ3ZDLFVBQU0sR0FBRztBQUNULFNBQUssY0FBYztBQUFBLEVBQ3BCO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLFNBQVMsdUJBQXVCO0FBQzFDLGNBQVUsU0FBUyxNQUFNLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVwRCxVQUFNLE1BQU0sVUFBVSxTQUFTLEtBQUs7QUFDcEMsUUFBSSxTQUFTLFFBQVE7QUFBQSxNQUNwQixNQUFNLEtBQUssVUFBVSxLQUFLLGFBQWEsTUFBTSxDQUFDO0FBQUEsSUFDL0MsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVBLFVBQVU7QUFDVCxVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUFBLEVBQ2pCO0FBQ0Q7Ozt1QkN0QnlCOzs7Ozs7OzsyQ0FIekI7Ozs7OztNQWlDSyxVQUFPLGVBQUEsQ0FBQSxDQUFBO1dBT0ksY0FBVzs7Y0FDckIsY0FBYyxHQUFFO1lBQ25CLFNBQU8sTUFBQSxJQUFTLGNBQWMsRUFBQyxrQkFBaUIsQ0FBQTtNQUNqRDtJQUNELENBQUM7O1dBWVEsWUFBWUMsVUFBWTtRQUM1QixvQkFBb0IsUUFBUSxFQUFDLEtBQUtBLFFBQU8sRUFBRSxLQUFJO0VBQ3BEO1dBRVMsV0FBVyxJQUFVO2VBQ2xCLEtBQUssRUFBRSxFQUFFLG1CQUFrQixDQUFBLEdBQUEsRUFBTyxNQUFNLFdBQVcsUUFBUSxVQUFTLENBQUE7RUFDaEY7V0FFU0MsZ0JBQWVELFVBQVk7O1FBQy9CQSxTQUFRLE9BQU9BLFNBQVEsT0FBTztZQUMzQixTQUFTQSxTQUFRLE1BQU1BLFNBQVE7WUFDL0IsVUFBVSxLQUFLLE1BQU0sU0FBUyxNQUFPLEVBQUU7Z0JBQ25DLE9BQU87SUFDbEI7Z0JBQ1VFLE1BQUFGLFNBQVEsWUFBTSxRQUFBRSxRQUFBLFNBQUEsU0FBQUEsSUFBRSxvQkFBbUIsR0FBRztFQUNqRDs7UUFqQ0csZ0JBQWlCLFFBQU8sTUFBQSxRQUFQLFFBQU8sTUFBQSxTQUFBLFNBQVAsUUFBTyxFQUFFLGNBQWM7OztZQVNwQyxjQUFjLEdBQUU7QUFDdEIsa0JBQVc7VUFHWCxjQUFjLEVBQUMsa0JBQWlCLE1BQU07QUFDckMsbUJBQVcsYUFBYSxHQUFHO01BQzVCLENBQUM7SUFDRjs7OztNQW9CQSxNQUFHQyxNQUFBO01BR0YsUUFBRyxRQUFBLE1BSEosR0FBRyxHQUFBLENBQUE7O0lBR0Y7O2NBQ08sT0FBTzs7Z0JBQUlILGFBQU87VUFDdkIsUUFBQUksUUFBQTtVQU9DLFFBQUcsTUFQSixLQUFBO1VBUUUsUUFBQSxNQURELEtBQUc7WUFBSCxLQUFHO1VBTUgsUUFBRyxRQU5ILE9BQUcsQ0FBQTtVQU9GLFFBQUcsTUFESixLQUFHO3dCQUNGLE9BQUcsSUFBQTtZQUFILEtBQUc7VUFDSCxRQUFHLFFBREgsT0FBRyxDQUFBO3lCQUNILEtBQUc7WUFBSCxLQUFHO1lBRkosS0FBRztZQWJKLEtBQUE7Ozs7b0JBUUUsT0FBQSxpQ0FUY0osUUFBTyxxQkFXS0EsUUFBTyxFQUFDLE1BQU0sc0JBQXNCLDJCQUEyQjsrQkFYM0VBLFFBQU87OytCQWVRQSxRQUFPLEVBQUMsK0JBQVEsU0FBUTtXQUFrQjs7OztxQkFmekRBLFFBQU8saUJBaUJwQixXQUFVLElBQUNBLFFBQU8sRUFBQyxLQUFLLENBQUE7cUJBakJYQSxRQUFPLGlCQWlCVUMsZ0JBQWMsSUFBQ0QsUUFBTyxDQUFBLENBQUE7OztxQkFoQnZELE9BQUEsTUFJZ0IsWUFBVyxJQUFDQSxRQUFPLENBQUEsQ0FBQTt1QkFKbkMsT0FBQSxDQUthLE9BQU8sRUFBRSxRQUFRLFdBQVcsRUFBRSxRQUFRLFFBQVEsWUFBVyxJQUFDQSxRQUFPLENBQUEsQ0FBQTt3QkFMOUUsS0FBQTs7O1VBcUJBLFFBQUdLLFFBQUE7d0JBQUgsS0FBRzs7O1FBdkJMLEtBQUc7UUFISixHQUFHO21CQUFILEdBQUc7OztBQUZJOzs7Ozs7OztvQ0N4RVI7O01BUUMsTUFBR0MsTUFBQTttQkFBSCxHQUFHO0FBQ0YsZ0JBQWEsTUFBQSxDQUFBLENBQUE7O0FBQ2IsZUFBWSxRQUFBLENBQUEsQ0FBQTs7QUFDWixrQkFBZSxRQUFBLENBQUEsQ0FBQTs7QUFDZixpQkFBYyxRQUFBLENBQUEsQ0FBQTs7QUFDZCxnQkFBYSxRQUFBLENBQUEsQ0FBQTtRQUxkLEdBQUc7bUJBQUgsR0FBRztBQUZJOzs7QW5FREQsSUFBTSwwQkFBMEI7QUFFaEMsSUFBTUMsb0JBQU4sY0FBK0IsMEJBQVM7QUFBQSxFQUs5QyxZQUFZLE1BQXFCLGdCQUFnQyxlQUF1QjtBQUN2RixVQUFNLElBQUk7QUFIWCxxQkFBNkM7QUFJNUMsU0FBSyxpQkFBaUI7QUFDdEIsU0FBSyxnQkFBZ0I7QUFBQSxFQUN0QjtBQUFBLEVBRUEsY0FBYztBQUNiLFdBQU87QUFBQSxFQUNSO0FBQUEsRUFFQSxpQkFBaUI7QUFDaEIsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQU0sU0FBUztBQUNkLFVBQU0sWUFBWSxLQUFLO0FBQ3ZCLGNBQVUsTUFBTTtBQUNoQixjQUFVLFNBQVMsb0JBQW9CO0FBR3ZDLFNBQUssWUFBWSxNQUFNLGtCQUFrQztBQUFBLE1BQ3hELFFBQVE7QUFBQSxJQUNULENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFNLFVBQVU7QUFDZixRQUFJLEtBQUssV0FBVztBQUNuQixXQUFLLFFBQVEsS0FBSyxTQUFTO0FBQUEsSUFDNUI7QUFBQSxFQUNEO0FBQ0Q7OztBb0UxQ0EsSUFBQUMsbUJBQTJCOzs7Ozs7Ozs7O3lDQ0EzQjs7Ozs7OztXQU1VLE9BQUk7QUFDWixZQUFPLE1BQUEsUUFBUCxRQUFPLE1BQUEsU0FBQSxTQUFQLFFBQU8sRUFBRSxlQUFlLFlBQVc7O0VBRXBDO01BR0EsTUFBR0MsTUFBQTttQkFBSCxHQUFHOzs7O1VBRUQsS0FBRSxZQUFBLFFBQUE7d0JBQUYsSUFBRSxJQUFBO1lBQUYsRUFBRTtVQUNGLFFBQUcsUUFESCxJQUFFLENBQUE7VUFFRCxJQUFDLE1BREYsS0FBRzt5QkFDRixDQUFDO1lBQUQsQ0FBQztVQUNELE1BQUMsUUFERCxHQUFDLENBQUE7eUJBQ0QsR0FBQztZQUFELEdBQUM7WUFGRixLQUFHO1VBSUgsU0FBTSxRQUpOLE9BQUcsQ0FBQTtBQUlILGFBQTJCLFVBQVM7OzswQkFMaEMsU0FBUSxFQUFDLElBQUk7Ozs7O2dCQUVILGVBQWUsU0FBUSxFQUFDLFFBQVE7Z0JBQzFCLGVBQWUsZUFBYyxDQUFBOzs7Ozs7Ozs7OztVQUo5QyxTQUFRLEVBQUEsVUFBQSxVQUFBO1VBQUEsVUFBQSxXQUFBLEtBQUE7OztRQURiLEdBQUc7bUJBQUgsR0FBRzs7O0FBRkk7Ozs7QURORCxJQUFNQyxnQkFBTixjQUEyQix1QkFBTTtBQUFBLEVBR3ZDLFlBQVksS0FBVTtBQUNyQixVQUFNLEdBQUc7QUFIVixxQkFBNkM7QUFBQSxFQUk3QztBQUFBLEVBRUEsU0FBUztBQUVSLFNBQUssWUFBWSxNQUFNLGNBQThCO0FBQUEsTUFDcEQsUUFBUSxLQUFLO0FBQUEsTUFDYixPQUFPO0FBQUEsUUFDTixPQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsTUFDekI7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFQSxVQUFVO0FBQ1QsUUFBSSxLQUFLLFdBQVc7QUFDbkIsV0FBSyxRQUFRLEtBQUssU0FBUztBQUFBLElBQzVCO0FBQ0EsU0FBSyxVQUFVLE1BQU07QUFBQSxFQUN0QjtBQUNEOzs7QUUzQkEsSUFBQUMsbUJBQTJCOzs7dUJDRUU7Ozs7Ozs7Ozs7Ozs7Ozs0Q0FGN0I7O01BTUssUUFBUSxNQUFPLENBQUM7TUFDaEIsVUFBVTtXQUVMQyxhQUFTO1FBQ2pCLE9BQUssSUFBTCxLQUFLLElBQUksQ0FBQztRQUNOLHdCQUFNLGdCQUFBLElBQWlCLEtBQUssQ0FBQSxFQUFBO0VBQ2pDO0FBRUEsVUFBTyxNQUFNO0FBQ1osWUFBUSxJQUFJLHNDQUFvQyxRQUFBLEdBQUE7RUFDakQsQ0FBQztNQUdELE1BQUdDLE1BQUE7TUFDRixLQUFFLE1BREgsR0FBRztBQUNGLEtBQUUsY0FBQTtNQUdGLFFBQUcsUUFISCxJQUFFLENBQUE7TUFJRCxJQUFDLE1BREYsS0FBRztNQUNRLFNBQU0sUUFBQSxNQUFoQixDQUFDLENBQUE7b0JBQVMsUUFBTSxJQUFBO1FBQU4sTUFBTTtRQUFoQixDQUFDO01BQ0QsU0FBTSxRQUROLEdBQUMsQ0FBQTtBQUNELFNBQU8sVUFBU0Q7UUFGakIsS0FBRzs7UUFKSixHQUFHOzRDQUtpQixLQUFLLENBQUEsQ0FBQTttQkFMekIsR0FBRzs7QUFGSTs7OztBRGJELElBQU0sY0FBTixjQUEwQix1QkFBTTtBQUFBLEVBR3RDLFlBQVksS0FBVTtBQUNyQixVQUFNLEdBQUc7QUFIVixxQkFBNkM7QUFBQSxFQUk3QztBQUFBLEVBRUEsU0FBUztBQUNSLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBR2hCLFNBQUssWUFBWSxNQUFNLGlCQUF3QjtBQUFBLE1BQzlDLFFBQVE7QUFBQSxNQUNSLE9BQU87QUFBQSxRQUNOLEtBQUssS0FBSztBQUFBLE1BQ1g7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQUEsRUFFQSxVQUFVO0FBQ1QsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixRQUFJLEtBQUssV0FBVztBQUNuQixXQUFLLFFBQVEsS0FBSyxTQUFTO0FBQUEsSUFDNUI7QUFDQSxjQUFVLE1BQU07QUFBQSxFQUNqQjtBQUNEOzs7QUV4Qk8sSUFBTSxtQkFBeUM7QUFBQSxFQUNyRCxlQUFlO0FBQUEsRUFDZixvQkFBb0I7QUFBQSxFQUNwQixtQkFBbUI7QUFBQSxFQUNuQixhQUFhO0FBQ2Q7OztBQ1pBLElBQUFFLG9CQUErQztBQUd4QyxJQUFNLHlCQUFOLGNBQXFDLG1DQUFpQjtBQUFBLEVBRzVELFlBQVksS0FBVUMsU0FBNkI7QUFDbEQsVUFBTSxLQUFLQSxPQUFNO0FBQ2pCLFNBQUssU0FBU0E7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBRSxZQUFZLElBQUk7QUFFeEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLDBCQUFRLFdBQVcsRUFDckIsUUFBUSwwQkFBMEIsRUFDbEMsUUFBUSxnQ0FBZ0MsRUFDeEM7QUFBQSxNQUFVLENBQUMsV0FDWCxPQUNFLFVBQVUsR0FBRyxLQUFLLENBQUMsRUFDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEVBQzNDLGtCQUFrQixFQUNsQixTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDckMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBRUQsUUFBSSwwQkFBUSxXQUFXLEVBQ3JCLFFBQVEsZ0NBQWdDLEVBQ3hDLFFBQVEsOEJBQThCLEVBQ3RDO0FBQUEsTUFBVSxDQUFDLFdBQ1gsT0FDRSxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQ2xCLFNBQVMsS0FBSyxPQUFPLFNBQVMsa0JBQWtCLEVBQ2hELGtCQUFrQixFQUNsQixTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxxQkFBcUI7QUFDMUMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBRUQsUUFBSSwwQkFBUSxXQUFXLEVBQ3JCLFFBQVEsK0JBQStCLEVBQ3ZDLFFBQVEsNkJBQTZCLEVBQ3JDO0FBQUEsTUFBVSxDQUFDLFdBQ1gsT0FDRSxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQ2xCLFNBQVMsS0FBSyxPQUFPLFNBQVMsaUJBQWlCLEVBQy9DLGtCQUFrQixFQUNsQixTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxvQkFBb0I7QUFDekMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRjtBQUNEOzs7QUMxREEsSUFBQUMsb0JBQW9CO0FBbUJiLElBQU0sYUFBTixNQUFpQjtBQUFBLEVBR3ZCLFlBQVksS0FBVTtBQUNyQixTQUFLLE1BQU07QUFBQSxFQUNaO0FBQUEsRUFFUSxTQUF3QjtBQTFCakMsUUFBQUM7QUE0QkUsWUFBT0EsTUFBQSxLQUFLLElBQUksUUFBUSxVQUFVLHFCQUFxQixNQUFoRCxnQkFBQUEsSUFBbUQ7QUFBQSxFQUMzRDtBQUFBLEVBRU8sY0FBdUI7QUFDN0IsV0FBTyxDQUFDLENBQUMsS0FBSyxPQUFPO0FBQUEsRUFDdEI7QUFBQSxFQUVBLE1BQWEsYUFBYSxNQUFjLGlCQUF5QixpQkFBa0Q7QUFDbEgsVUFBTSxNQUFNLEtBQUssT0FBTztBQUN4QixRQUFJLENBQUMsSUFBSyxRQUFPO0FBQ2pCLFdBQU8sTUFBTSxJQUFJLFNBQVMsYUFBYTtBQUFBLE1BQ3RDO0FBQUEsTUFDQSxpQkFBaUIsNENBQW1CLGtCQUFrQjtBQUFBLE1BQ3REO0FBQUEsTUFDQSxVQUFVLEVBQUUsUUFBUSwwQkFBMEI7QUFBQSxJQUMvQyxDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYSxhQUE0QjtBQUN4QyxVQUFNLE1BQU0sS0FBSyxPQUFPO0FBQ3hCLFFBQUksQ0FBQyxJQUFLO0FBQ1YsVUFBTSxJQUFJLFNBQVMsV0FBVztBQUFBLEVBQy9CO0FBQUEsRUFFQSxNQUFhLG1CQUFzRztBQUNsSCxVQUFNLE1BQU0sS0FBSyxPQUFPO0FBQ3hCLFFBQUksQ0FBQyxJQUFLLFFBQU87QUFJakIsV0FBTztBQUFBLEVBQ1I7QUFBQTtBQUFBLEVBR0EsTUFBYSw0QkFLSDtBQW5FWCxRQUFBQSxLQUFBQztBQW9FRSxVQUFNLE1BQU0sS0FBSyxPQUFPO0FBQ3hCLFFBQUksQ0FBQyxJQUFLLFFBQU87QUFFakIsVUFBTSxZQUFhLEtBQUssSUFBWSxRQUFRLFVBQVUscUJBQXFCO0FBQzNFLFFBQUksZUFBYUQsTUFBQSxVQUFVLGFBQVYsZ0JBQUFBLElBQW9CLGdCQUFlO0FBQ25ELFlBQU0sSUFBSSxVQUFVLFNBQVM7QUFDN0IsWUFBTSxtQkFBa0JDLE1BQUEsRUFBRSxPQUFPLG9CQUFULE9BQUFBLE1BQTRCLEVBQUUsT0FBTyxrQkFBa0I7QUFDL0UsYUFBTztBQUFBLFFBQ04sSUFBSSxFQUFFO0FBQUEsUUFDTixXQUFXLEVBQUU7QUFBQSxRQUNiLFVBQVUsa0JBQWtCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFFBYzVCLE1BQU0sRUFBRSxPQUFPO0FBQUEsTUFDaEI7QUFBQSxJQUNEO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLE1BQWEsa0JBQWtCLFFBQWdCLElBQW9CO0FBQ2xFLFVBQU0sTUFBTSxLQUFLLE9BQU87QUFDeEIsUUFBSSxDQUFDLElBQUssUUFBTyxDQUFDO0FBQ2xCLFVBQU0sV0FBVyxNQUFNLElBQUksU0FBUyxrQkFBa0IsQ0FBQztBQUt2RCxXQUFPLFNBQVMsTUFBTSxHQUFHLEtBQUs7QUFBQSxFQUMvQjtBQUFBLEVBRUEsTUFBYSxrQkFBa0IsV0FBaUM7QUFDL0QsVUFBTSxNQUFNLEtBQUssT0FBTztBQUN4QixRQUFJLENBQUMsSUFBSyxRQUFPO0FBQ2pCLFdBQU8sTUFBTSxJQUFJLFNBQVMsa0JBQWtCLFNBQVM7QUFBQSxFQUN0RDtBQUNEOzs7QTlFcEdBLElBQXFCQyx1QkFBckIsY0FBaUQseUJBQU87QUFBQSxFQU92RCxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUN4QixXQUFPLElBQUksSUFBSTtBQUVmLFNBQUssYUFBYSxJQUFJLFdBQVcsS0FBSyxHQUFHO0FBQ3pDLFNBQUssZUFBZSxJQUFJLGFBQWEsS0FBSyxTQUFTLFdBQVc7QUFDOUQsU0FBSyxpQkFBaUIsSUFBSSxlQUFlLEtBQUssS0FBSyxLQUFLLFVBQVUsS0FBSyxjQUFjLEtBQUssVUFBVTtBQUdwRyxTQUFLO0FBQUEsTUFDSjtBQUFBLE1BQ0EsQ0FBQyxTQUFTLElBQUlDLGtCQUFpQixNQUFNLEtBQUssZ0JBQWdCLEtBQUssU0FBUyxPQUFPO0FBQUEsSUFDaEY7QUFHQSxTQUFLLGNBQWMsU0FBUyx1QkFBdUIsTUFBTTtBQUN4RCxXQUFLLEtBQUssYUFBYTtBQUFBLElBQ3hCLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLFlBQUksWUFBWSxLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQUEsTUFDaEM7QUFBQSxJQUNELENBQUM7QUFHRCxTQUFLLGtCQUFrQixLQUFLLGlCQUFpQjtBQUM3QyxTQUFLLGdCQUFnQjtBQUdyQixTQUFLLGVBQWUsU0FBUyxNQUFNO0FBQ2xDLFdBQUssZ0JBQWdCO0FBQUEsSUFDdEIsQ0FBQztBQUdELFNBQUssZUFBZSxrQkFBa0IsQ0FBQ0MsVUFBU0MsWUFBVztBQUMxRCxVQUFJQSxZQUFXLFNBQVM7QUFDdkIsWUFBSSxnQkFBZ0IsS0FBSyxLQUFLLEtBQUssY0FBYyxFQUFFLEtBQUs7QUFBQSxNQUN6RDtBQUFBLElBQ0QsQ0FBQztBQUdELFNBQUs7QUFBQSxNQUNKLE9BQU8sWUFBWSxNQUFNO0FBQ3hCLGFBQUssZUFBZSxLQUFLO0FBQ3pCLGFBQUssZ0JBQWdCO0FBQUEsTUFDdEIsR0FBRyxHQUFJO0FBQUEsSUFDUjtBQUdBLFNBQUssZ0JBQWdCLFNBQVMsZUFBZTtBQUM3QyxTQUFLLGdCQUFnQixhQUFhLE1BQU07QUFDdkMsVUFBSUMsY0FBYSxLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQUEsSUFDakMsQ0FBQztBQUVELFNBQUssY0FBYyxJQUFJLHVCQUF1QixLQUFLLEtBQUssSUFBSSxDQUFDO0FBQUEsRUFDOUQ7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFBQSxFQUVBLFdBQVc7QUFBQSxFQUVYO0FBQUEsRUFFQSxrQkFBa0I7QUFDakIsVUFBTUYsV0FBVSxLQUFLLGVBQWUsaUJBQWlCO0FBQ3JELFFBQUlBLFVBQVM7QUFDWixZQUFNLGVBQWU7QUFBQSxRQUNwQkEsU0FBUTtBQUFBLFFBQ1JBLFNBQVE7QUFBQSxRQUNSQSxTQUFRO0FBQUEsUUFDUkEsU0FBUTtBQUFBLE1BQ1Q7QUFDQSxZQUFNLGFBQWEsZUFBZSxZQUFZO0FBRTlDLFdBQUssZ0JBQWdCLFFBQVEsR0FBR0EsU0FBUSxJQUFJLEtBQUssVUFBVSxHQUFHO0FBQUEsSUFDL0QsT0FBTztBQUNOLFdBQUssZ0JBQWdCLFFBQVEsRUFBRTtBQUFBLElBQ2hDO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sRUFBRSxVQUFVLElBQUksS0FBSztBQUUzQixRQUFJLE9BQTZCO0FBQ2pDLFVBQU0sU0FBUyxVQUFVLGdCQUFnQix1QkFBdUI7QUFFaEUsUUFBSSxPQUFPLFNBQVMsR0FBRztBQUV0QixhQUFPLE9BQU8sQ0FBQztBQUFBLElBQ2hCLE9BQU87QUFHTixZQUFNLFlBQVksVUFBVSxhQUFhLEtBQUs7QUFDOUMsVUFBSSxXQUFXO0FBQ2QsZUFBTztBQUNQLGNBQU0sS0FBSyxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsUUFBUSxLQUFLLENBQUM7QUFBQSxNQUN4RTtBQUFBLElBQ0Q7QUFHQSxRQUFJLE1BQU07QUFDVCxXQUFLLFVBQVUsV0FBVyxJQUFJO0FBQUEsSUFDL0I7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbIkZvY3VzU2Vzc2lvbnNQbHVnaW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImxvb3AiLCAic291cmNlIiwgInNlc3Npb24iLCAiaW1wb3J0X29ic2lkaWFuIiwgImh0bWwiLCAibmV4dCIsICJzb3VyY2UiLCAiX2EiLCAic3RhY2siLCAic3RhY2siLCAiY29tcG9uZW50IiwgIl9hIiwgImVmZmVjdCIsICJfYSIsICJfYiIsICJfYyIsICJkZXJpdmVkIiwgImVmZmVjdCIsICJfYSIsICJyb290IiwgInNvdXJjZSIsICJlZmZlY3QiLCAiZmxhZ3MiLCAiY2hpbGQiLCAic3RhY2siLCAidXBkYXRlIiwgImUiLCAiZWZmZWN0IiwgImZsYWdzIiwgIl9kaXJ0eV9lZmZlY3RzIiwgIl9tYXliZV9kaXJ0eV9lZmZlY3RzIiwgImNvbW1lbnQiLCAiX2EiLCAiZWZmZWN0IiwgInJlc2V0IiwgImVycm9yIiwgInBlbmRpbmciLCAiYXN5bmMiLCAicnVuIiwgInByZXZpb3VzX2JhdGNoIiwgImZsYWdzIiwgImJvdW5kYXJ5IiwgIl9hIiwgImQiLCAibmV4dCIsICJkZXJpdmVkIiwgIl9hIiwgIl9iIiwgInN0YWNrIiwgIl9hIiwgIl9iIiwgInNvdXJjZSIsICJfYSIsICJfYiIsICJfYyIsICJkZXJpdmVkIiwgImVmZmVjdCIsICJzb3VyY2UiLCAiX2EiLCAiZmxhZ3MiLCAiZGVyaXZlZCIsICJzdGFjayIsICJ2ZXJzaW9uIiwgInByb3AiLCAic291cmNlIiwgInMiLCAiX2EiLCAidmFsdWUiLCAia2V5IiwgInByb3AiLCAiYXJyYXlfcHJvdG90eXBlIiwgImluZGV4IiwgImNoaWxkIiwgInRleHQiLCAiX2EiLCAiX2IiLCAiZmxhZ3MiLCAiX2EiLCAiZWxlbWVudCIsICJldmVudCIsICJlZmZlY3QiLCAiX2EiLCAiZSIsICJkZXJpdmVkIiwgImZsYWdzIiwgImVmZmVjdCIsICJmbGFncyIsICJhc3luYyIsICJmbGFncyIsICJlZmZlY3QiLCAiZWZmZWN0IiwgInRlYXJkb3duIiwgIm5leHQiLCAidHJhbnNpdGlvbiIsICJjaGlsZCIsICJzaWJsaW5nIiwgImVmZmVjdCIsICJuZXh0IiwgImVmZmVjdCIsICJmbGFncyIsICJyb290IiwgIl9hIiwgIl9iIiwgImluZGV4IiwgImRlcml2ZWQiLCAidGVhcmRvd24iLCAiX2EiLCAiX2IiLCAiX2MiLCAiZmxhZ3MiLCAidHJhY2UiLCAiZGVyaXZlZCIsICJrZXkiLCAicHJvcCIsICJnZXQiLCAiaGFzaCIsICJldmVudCIsICJjYXB0dXJlIiwgInBhc3NpdmUiLCAiZXZlbnQiLCAiX2EiLCAiaHRtbCIsICJlZmZlY3QiLCAiZmxhZ3MiLCAiZWZmZWN0IiwgInRleHQiLCAiX2EiLCAiY29tcG9uZW50IiwgImV2ZW50cyIsICJwYXNzaXZlIiwgInVubW91bnQiLCAiYW5jaG9yX25vZGUiLCAidHJhbnNpdGlvbiIsICJrZXkiLCAib2Zmc2NyZWVuIiwgImVmZmVjdCIsICJicmFuY2giLCAiZmxhZ3MiLCAiZm4iLCAic3RhdGUiLCAiX2EiLCAiZWZmZWN0IiwgImZsYWdzIiwgImZhbGxiYWNrIiwgImluZGV4IiwgImtleSIsICJpdGVtIiwgIl9iIiwgIl9jIiwgIm5leHQiLCAiX2EiLCAicm9vdCIsICJhY3Rpb24iLCAiaGFzaCIsICJrZXkiLCAiYXBwZW5kX3N0eWxlcyIsICJoYXNoIiwgImtleSIsICJuZXh0IiwgImtleSIsICJzZXRfYXR0cmlidXRlIiwgImVsZW1lbnQiLCAic2V0X2F0dHJpYnV0ZSIsICJlbGVtZW50IiwgImVsZW1lbnQiLCAiX2EiLCAia2V5IiwgImdldCIsICJzZXQiLCAiYmF0Y2hlcyIsICJfYSIsICJwcm9wcyIsICJrZXkiLCAicnVuIiwgInNldCIsICJ1cGRhdGUiLCAicnVuIiwgImRlcml2ZWQiLCAicGVuZGluZyIsICJnZXQiLCAiX2EiLCAiZ2V0IiwgIl9hIiwgIl9iIiwgImtleSIsICJwcm9wIiwgIm5leHQiLCAiZXZlbnQiLCAic2xvdCIsICJrZXkiLCAiX2EiLCAiYXR0ciIsICJwcm9wIiwgImVsZW1lbnQiLCAiX2EiLCAiX2EiLCAiX2IiLCAic2V0IiwgImRlcml2ZWQiLCAidXBkYXRlIiwgIl9hIiwgInJvb3QiLCAicm9vdF8yIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXNzaW9uIiwgInJvb3QiLCAicm9vdF80IiwgInJvb3QiLCAiX2IiLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgInNlc3Npb24iLCAiZm9ybWF0RHVyYXRpb24iLCAiX2EiLCAicm9vdCIsICJyb290XzEiLCAicm9vdF8yIiwgInJvb3QiLCAiRm9jdXNTZXNzaW9uVmlldyIsICJpbXBvcnRfb2JzaWRpYW4iLCAicm9vdCIsICJTZXNzaW9uTW9kYWwiLCAiaW1wb3J0X29ic2lkaWFuIiwgImluY3JlbWVudCIsICJyb290IiwgImltcG9ydF9vYnNpZGlhbiIsICJwbHVnaW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgIl9iIiwgIkZvY3VzU2Vzc2lvbnNQbHVnaW4iLCAiRm9jdXNTZXNzaW9uVmlldyIsICJzZXNzaW9uIiwgInNvdXJjZSIsICJTZXNzaW9uTW9kYWwiXQp9Cg==
