/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Vn=Object.defineProperty;var Da=Object.getOwnPropertyDescriptor;var Ma=Object.getOwnPropertyNames;var Ia=Object.prototype.hasOwnProperty;var Gi=e=>{throw TypeError(e)};var La=(e,t,r)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pa=(e,t)=>{for(var r in t)Vn(e,r,{get:t[r],enumerable:!0})},Fa=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ma(t))!Ia.call(e,o)&&o!==r&&Vn(e,o,{get:()=>t[o],enumerable:!(n=Da(t,o))||n.enumerable});return e};var Ba=e=>Fa(Vn({},"__esModule",{value:!0}),e);var V=(e,t,r)=>La(e,typeof t!="symbol"?t+"":t,r),Vo=(e,t,r)=>t.has(e)||Gi("Cannot "+r);var u=(e,t,r)=>(Vo(e,t,"read from private field"),r?r.call(e):t.get(e)),N=(e,t,r)=>t.has(e)?Gi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),A=(e,t,r,n)=>(Vo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),te=(e,t,r)=>(Vo(e,t,"access private method"),r);var Al={};Pa(Al,{default:()=>Po});module.exports=Ba(Al);var Oa=require("obsidian");var Yn=class{constructor(t=!0){this.audioContext=null;this.enabled=!0;this.activeOscillators=[];this.loopInterval=null;this.enabled=t}setEnabled(t){this.enabled=t}getContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}playTone(t,r,n,o=0){if(!this.enabled)return;let i=this.getContext(),s=i.createOscillator(),a=i.createGain();s.type=r,s.frequency.setValueAtTime(t,i.currentTime+o),a.gain.setValueAtTime(.1,i.currentTime+o),a.gain.exponentialRampToValueAtTime(1e-5,i.currentTime+o+n),s.connect(a),a.connect(i.destination),s.start(i.currentTime+o),s.stop(i.currentTime+o+n),this.activeOscillators.push(s),s.onended=()=>{this.activeOscillators=this.activeOscillators.filter(f=>f!==s)}}playStart(){this.stopAlarm(),this.playTone(880,"sine",.5)}playPause(){this.stopAlarm(),this.playTone(440,"sine",.1),this.playTone(330,"sine",.3,.1)}playResume(){this.stopAlarm(),this.playTone(330,"sine",.1),this.playTone(440,"sine",.3,.1)}playComplete(t=!1){this.stopAlarm();let r=()=>{this.playTone(523.25,"sine",.2,0),this.playTone(659.25,"sine",.2,0+.2),this.playTone(783.99,"sine",.2,0+.4),this.playTone(1046.5,"sine",.6,0+.6)};r(),t&&(this.loopInterval=window.setInterval(r,2e3))}stopAlarm(){this.loopInterval&&(window.clearInterval(this.loopInterval),this.loopInterval=null),this.activeOscillators.forEach(t=>{try{t.stop()}catch(r){}}),this.activeOscillators=[]}};var _r=e=>{let t=e<0?"+":"",r=Math.abs(e),n=Math.floor(r/60),o=r%60;return`${t}${n}:${o.toString().padStart(2,"0")}`};var sr=(e,t,r,n)=>{if(r==="completed")return 0;let o=e,i=t;if(r==="running"){let s=Date.now(),a=Math.floor((s-n)/1e3);i+=a}return o-i};var Ml=require("obsidian"),Hn=class{constructor(t,r,n,o){this.activeSession=null;this.listeners=[];this.completionListeners=[];this.app=t,this.settings=r,this.audioService=n,this.hubService=o,this.audioService.setEnabled(r.enableSound!==!1),this.customDuration=r.focusDuration,this.app.workspace.onLayoutReady(()=>{this.restoreSession()})}async restoreSession(){for(let t=0;t<20;t++){if(this.hubService.isAvailable()){let r=await this.hubService.asyncRecoverActiveSession();r&&(this.activeSession={name:r.name||"Focus Session",duration:r.duration*60,startTime:r.startTime,status:"running",elapsed:0,lastResumed:r.startTime},sr(this.activeSession.duration,0,"running",this.activeSession.startTime)<=0&&(this.activeSession.isOvertime=!0),this.notifyListeners());return}await new Promise(r=>setTimeout(r,500))}}setCustomDuration(t){this.customDuration=Math.max(1,t),this.notifyListeners()}getCustomDuration(){return this.customDuration}async startSession(t,r){let n=Date.now(),o=r;o===void 0&&(t==="Short Break"?o=this.settings.shortBreakDuration*60:t==="Long Break"?o=this.settings.longBreakDuration*60:o=this.customDuration*60),this.activeSession={name:t,duration:o,startTime:n,status:"running",elapsed:0,lastResumed:n},this.hubService.isAvailable()&&await this.hubService.startSession(t,Math.ceil(o/60),o),this.audioService.playStart(),this.notifyListeners()}pauseSession(){if(this.activeSession&&this.activeSession.status==="running"){let t=Date.now(),r=Math.floor((t-this.activeSession.lastResumed)/1e3);this.activeSession.elapsed+=r,this.activeSession.status="paused",this.audioService.playPause(),this.notifyListeners()}}resumeSession(){this.activeSession&&this.activeSession.status==="paused"&&(this.activeSession.status="running",this.activeSession.lastResumed=Date.now(),this.audioService.playResume(),this.notifyListeners())}async stopSession(t){this.audioService.stopAlarm(),this.activeSession&&(this.activeSession.status="completed",this.hubService.isAvailable()&&await this.hubService.endSession(),this.notifyCompletion(this.activeSession,t),this.activeSession=null,this.notifyListeners())}resetSession(){if(this.activeSession){this.audioService.stopAlarm();let t=Date.now();this.activeSession.elapsed=0,this.activeSession.lastResumed=t,this.activeSession.startTime=t,this.activeSession.status="running",this.notifyListeners()}}addTime(t){this.activeSession&&(this.activeSession.duration+=t*60,(this.activeSession.status==="completed"||this.activeSession.status==="paused")&&(this.audioService.stopAlarm(),this.activeSession.status="running",this.activeSession.lastResumed=Date.now()),this.notifyListeners())}tick(){this.activeSession&&this.activeSession.status==="running"&&sr(this.activeSession.duration,this.activeSession.elapsed,this.activeSession.status,this.activeSession.lastResumed)<=0&&!this.activeSession.isOvertime&&(this.activeSession.isOvertime=!0,this.audioService.playComplete(!0),this.notifyListeners())}getActiveSession(){return this.activeSession}async getSessionHistory(t=10){return this.hubService.isAvailable()?this.hubService.getRecentSessions(t):[]}onChange(t){this.listeners.push(t)}onSessionComplete(t){this.completionListeners.push(t)}removeListener(t){this.listeners=this.listeners.filter(r=>r!==t)}notifyListeners(){this.listeners.forEach(t=>t())}notifyCompletion(t,r){this.completionListeners.forEach(n=>n(t,r))}};var Aa=require("obsidian");var Ki,Xi,Wi=(Xi=(Ki=globalThis.process)==null?void 0:Ki.env)==null?void 0:Xi.NODE_ENV,_=Wi&&!Wi.toLowerCase().startsWith("prod");var St=Array.isArray,Zi=Array.prototype.indexOf,Lr=Array.from,Yo=Object.keys,le=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Un=Object.getOwnPropertyDescriptors,Ho=Object.prototype,Ji=Array.prototype,mr=Object.getPrototypeOf,Uo=Object.isExtensible;var xe=()=>{};function Qi(e){return e()}function vr(e){for(var t=0;t<e.length;t++)e[t]()}function jn(){var e,t,r=new Promise((n,o)=>{e=n,t=o});return{promise:r,resolve:e,reject:t}}var ye=Symbol("$state"),zn=Symbol("legacy props"),es=Symbol(""),Gn=Symbol("proxy path"),Tt=new class extends Error{constructor(){super(...arguments);V(this,"name","StaleReactionError");V(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var un=3,Me=8;function Wn(e){if(_){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ts(){if(_){let e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function jo(){if(_){let e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function rs(){if(_){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function ns(e){if(_){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function os(){if(_){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function is(e){if(_){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function ss(){if(_){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function as(){if(_){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function fs(e){if(_){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function ls(){if(_){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function cs(){if(_){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function us(){if(_){let e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ps(){if(_){let e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}var pn="[",At="[!",hr="]",qt={};var H=Symbol(),at=Symbol("filename"),ds=Symbol("hmr"),_s="http://www.w3.org/1999/xhtml";var gr="font-weight: bold",br="font-weight: normal";function ms(e,t){_?console.warn(`%c[svelte] await_waterfall
%cAn async derived, \`${e}\` (${t}) was not read immediately after it resolved. This often indicates an unnecessary waterfall, which can slow down your app
https://svelte.dev/e/await_waterfall`,gr,br):console.warn("https://svelte.dev/e/await_waterfall")}function vs(e,t,r){_?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,gr,br):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function xr(e){_?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,gr,br):console.warn("https://svelte.dev/e/hydration_mismatch")}function hs(){_?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,gr,br):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Kn(e){_?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,gr,br):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function gs(){_?console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,gr,br):console.warn("https://svelte.dev/e/state_proxy_unmount")}function bs(){_?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",gr,br):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}var y=!1;function ce(e){y=e}var k;function B(e){if(e===null)throw xr(),qt;return k=e}function Ee(){return B(me(k))}function S(e){if(y){if(me(k)!==null)throw xr(),qt;k=e}}function yr(e=1){if(y){for(var t=e,r=k;t--;)r=me(r);k=r}}function Vt(e=!0){for(var t=0,r=k;;){if(r.nodeType===Me){var n=r.data;if(n===hr){if(t===0)return r;t-=1}else(n===pn||n===At)&&(t+=1)}var o=me(r);e&&r.remove(),r=o}}function Xn(e){if(!e||e.nodeType!==Me)throw xr(),qt;return e.data}function Zn(e){return e===this.v}function dn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Jn(e){return!dn(e,this.v)}var Te=!1,Yt=!1,_t=!1;function xs(){Yt=!0}var _n=null;function Ie(e,t){return e.label=t,Qn(e.v,t),e}function Qn(e,t){var r;return(r=e==null?void 0:e[Gn])==null||r.call(e,t),e}function kt(e){let t=new Error,r=Ya();return r.length===0?null:(r.unshift(`
`),le(t,"stack",{value:r.join(`
`)}),le(t,"name",{value:e}),t)}function Ya(){let e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;let t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];let r=t.split(`
`),n=[];for(let o=0;o<r.length;o++){let i=r[o],s=i.replaceAll("\\","/");if(i.trim()!=="Error"){if(i.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||n.push(i)}}return n}var C=null;function Ut(e){C=e}var Nt=null;function Pr(e){Nt=e}var mt=null;function eo(e){mt=e}function ve(e,t=!1,r){C={p:C,i:!1,c:null,e:null,s:e,x:null,l:Yt&&!t?{s:null,u:null,$:[]}:null},_&&(C.function=r,mt=r)}function he(e){var o;var t=C,r=t.e;if(r!==null){t.e=null;for(var n of r)Go(n)}return e!==void 0&&(t.x=e),t.i=!0,C=t.p,_&&(mt=(o=C==null?void 0:C.function)!=null?o:null),e!=null?e:{}}function Ct(){return!Yt||C!==null&&C.l===null}var wr=[];function ws(){var e=wr;wr=[],vr(e)}function ge(e){if(wr.length===0&&!Er){var t=wr;queueMicrotask(()=>{t===wr&&ws()})}wr.push(e)}function Es(){for(;wr.length>0;)ws()}var Wo=new WeakMap;function to(e){var t=w;if(t===null)return E.f|=8388608,e;if(_&&e instanceof Error&&!Wo.has(e)&&Wo.set(e,Ha(e,t)),(t.f&32768)===0){if((t.f&128)===0)throw _&&!t.parent&&e instanceof Error&&$s(e),e;t.b.error(e)}else Rt(e,t)}function Rt(e,t){for(;t!==null;){if((t.f&128)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw _&&e instanceof Error&&$s(e),e}function Ha(e,t){var s,a,f;let r=He(e,"message");if(!(r&&!r.configurable)){for(var n=mn?"  ":"	",o=`
${n}in ${((s=t.fn)==null?void 0:s.name)||"<unknown>"}`,i=t.ctx;i!==null;)o+=`
${n}in ${(a=i.function)==null?void 0:a[at].split("/").pop()}`,i=i.p;return{message:e.message+`
${o}
`,stack:(f=e.stack)==null?void 0:f.split(`
`).filter(l=>!l.includes("svelte/src/internal")).join(`
`)}}}function $s(e){let t=Wo.get(e);t&&(le(e,"message",{value:t.message}),le(e,"stack",{value:t.stack}))}var Ua=-7169;function q(e,t){e.f=e.f&Ua|t}function Br(e){(e.f&512)!==0||e.deps===null?q(e,1024):q(e,4096)}function Ss(e){if(e!==null)for(let t of e)(t.f&2)===0||(t.f&32768)===0||(t.f^=32768,Ss(t.deps))}function ro(e,t,r){(e.f&2048)!==0?t.add(e):(e.f&4096)!==0&&r.add(e),Ss(e.deps),q(e,1024)}var qr=new Set,R=null,Vr=null,oe=null,ft=[],io=null,Ko=!1,Er=!1,Yr,Hr,$r,Sr,gn,Ur,jr,lt,Xo,Zo,As,ks,no=class no{constructor(){N(this,lt);V(this,"committed",!1);V(this,"current",new Map);V(this,"previous",new Map);N(this,Yr,new Set);N(this,Hr,new Set);N(this,$r,0);N(this,Sr,0);N(this,gn,null);N(this,Ur,new Set);N(this,jr,new Set);V(this,"skipped_effects",new Set);V(this,"is_fork",!1)}is_deferred(){return this.is_fork||u(this,Sr)>0}process(t){var o;ft=[],Vr=null,this.apply();var r=[],n=[];for(let i of t)te(this,lt,Xo).call(this,i,r,n);this.is_fork||te(this,lt,As).call(this),this.is_deferred()?(te(this,lt,Zo).call(this,n),te(this,lt,Zo).call(this,r)):(Vr=this,R=null,Ts(n),Ts(r),Vr=null,(o=u(this,gn))==null||o.resolve()),oe=null}capture(t,r){r!==H&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&8388608)===0&&(this.current.set(t,t.v),oe==null||oe.set(t,t.v))}activate(){R=this,this.apply()}deactivate(){R===this&&(R=null,oe=null)}flush(){if(this.activate(),ft.length>0){if(Jo(),R!==null&&R!==this)return}else u(this,$r)===0&&this.process([]);this.deactivate()}discard(){for(let t of u(this,Hr))t(this);u(this,Hr).clear()}increment(t){A(this,$r,u(this,$r)+1),t&&A(this,Sr,u(this,Sr)+1)}decrement(t){A(this,$r,u(this,$r)-1),t&&A(this,Sr,u(this,Sr)-1),this.revive()}revive(){for(let t of u(this,Ur))u(this,jr).delete(t),q(t,2048),ze(t);for(let t of u(this,jr))q(t,4096),ze(t);this.flush()}oncommit(t){u(this,Yr).add(t)}ondiscard(t){u(this,Hr).add(t)}settled(){var t;return((t=u(this,gn))!=null?t:A(this,gn,jn())).promise}static ensure(){if(R===null){let t=R=new no;qr.add(R),Er||no.enqueue(()=>{R===t&&t.flush()})}return R}static enqueue(t){ge(t)}apply(){if(!(!Te||!this.is_fork&&qr.size===1)){oe=new Map(this.current);for(let t of qr)if(t!==this)for(let[r,n]of t.previous)oe.has(r)||oe.set(r,n)}}};Yr=new WeakMap,Hr=new WeakMap,$r=new WeakMap,Sr=new WeakMap,gn=new WeakMap,Ur=new WeakMap,jr=new WeakMap,lt=new WeakSet,Xo=function(t,r,n){var c;t.f^=1024;for(var o=t.first,i=null;o!==null;){var s=o.f,a=(s&96)!==0,f=a&&(s&1024)!==0,l=f||(s&8192)!==0||this.skipped_effects.has(o);if(Te&&i===null&&(s&128)!==0&&((c=o.b)!=null&&c.is_pending)&&(i=o),!l&&o.fn!==null){a?o.f^=1024:i!==null&&(s&16777228)!==0?i.b.defer_effect(o):(s&4)!==0?r.push(o):Te&&(s&16777224)!==0?n.push(o):Wt(o)&&((s&16)!==0&&u(this,Ur).add(o),zt(o));var d=o.first;if(d!==null){o=d;continue}}var m=o.parent;for(o=o.next;o===null&&m!==null;)m===i&&(i=null),o=m.next,m=m.parent}},Zo=function(t){for(var r=0;r<t.length;r+=1)ro(t[r],u(this,Ur),u(this,jr))},As=function(){if(u(this,Sr)===0){for(let t of u(this,Yr))t();u(this,Yr).clear()}u(this,$r)===0&&te(this,lt,ks).call(this)},ks=function(){var o;if(qr.size>1){this.previous.clear();var t=oe,r=!0;for(let i of qr){if(i===this){r=!1;continue}let s=[];for(let[f,l]of this.current){if(i.current.has(f))if(r&&l!==i.current.get(f))i.current.set(f,l);else continue;s.push(f)}if(s.length===0)continue;let a=[...i.current.keys()].filter(f=>!this.current.has(f));if(a.length>0){var n=ft;ft=[];let f=new Set,l=new Map;for(let d of s)Ns(d,a,f,l);if(ft.length>0){R=i,i.apply();for(let d of ft)te(o=i,lt,Xo).call(o,d,[],[]);i.deactivate()}ft=n}}R=null,oe=t}this.committed=!0,qr.delete(this)};var Ne=no;function Ar(e){var t=Er;Er=!0;try{var r;for(e&&(R!==null&&Jo(),r=e());;){if(Es(),ft.length===0&&(R==null||R.flush(),ft.length===0))return io=null,r;Jo()}}finally{Er=t}}function Jo(){var s;var e=Gt;Ko=!0;var t=_?new Set:null;try{var r=0;for(zr(!0);ft.length>0;){var n=Ne.ensure();if(r++>1e3){if(_){var o=new Map;for(let a of n.current.keys())for(let[f,l]of(s=a.updated)!=null?s:[]){var i=o.get(f);i||(i={error:l.error,count:0},o.set(f,i)),i.count+=l.count}for(let a of o.values())a.error&&console.error(a.error)}za()}if(n.process(ft),Ot.clear(),_)for(let a of n.current.keys())t.add(a)}}finally{if(Ko=!1,zr(e),io=null,_)for(let a of t)a.updated=null}}function za(){try{ss()}catch(e){_&&le(e,"stack",{value:""}),Rt(e,io)}}var Le=null;function Ts(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&24576)===0&&Wt(n)&&(Le=new Set,zt(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Qo(n):n.fn=null),(Le==null?void 0:Le.size)>0)){Ot.clear();for(let o of Le){if((o.f&24576)!==0)continue;let i=[o],s=o.parent;for(;s!==null;)Le.has(s)&&(Le.delete(s),i.push(s)),s=s.parent;for(let a=i.length-1;a>=0;a--){let f=i[a];(f.f&24576)===0&&zt(f)}}Le.clear()}}Le=null}}function Ns(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(let o of e.reactions){let i=o.f;(i&2)!==0?Ns(o,t,r,n):(i&4194320)!==0&&(i&2048)===0&&Cs(o,t,n)&&(q(o,2048),ze(o))}}function Cs(e,t,r){let n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(let o of e.deps){if(t.includes(o))return!0;if((o.f&2)!==0&&Cs(o,t,r))return r.set(o,!0),!0}return r.set(e,!1),!1}function ze(e){for(var t=io=e;t.parent!==null;){t=t.parent;var r=t.f;if(Ko&&t===w&&(r&16)!==0&&(r&262144)===0)return;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}ft.push(t)}function ei(e){let t=0,r=$e(0),n;return _&&Ie(r,"createSubscriber version"),()=>{Ht()&&($(r),re(()=>(t===0&&(n=I(()=>e(()=>kr(r)))),t+=1,()=>{ge(()=>{t-=1,t===0&&(n==null||n(),n=void 0,kr(r))})})))}}var Wa=589952;function oi(e,t,r){new ti(e,t,r)}var We,bn,Dt,Nr,Mt,ct,Pe,It,Kt,fr,Cr,Xt,Rr,Kr,Xr,Zt,co,ne,Os,Ds,ri,fo,lo,ni,ti=class{constructor(t,r,n){N(this,ne);V(this,"parent");V(this,"is_pending",!1);N(this,We);N(this,bn,y?k:null);N(this,Dt);N(this,Nr);N(this,Mt);N(this,ct,null);N(this,Pe,null);N(this,It,null);N(this,Kt,null);N(this,fr,null);N(this,Cr,0);N(this,Xt,0);N(this,Rr,!1);N(this,Kr,new Set);N(this,Xr,new Set);N(this,Zt,null);N(this,co,ei(()=>(A(this,Zt,$e(u(this,Cr))),_&&Ie(u(this,Zt),"$effect.pending()"),()=>{A(this,Zt,null)})));A(this,We,t),A(this,Dt,r),A(this,Nr,n),this.parent=w.b,this.is_pending=!!u(this,Dt).pending,A(this,Mt,Xe(()=>{if(w.b=this,y){let i=u(this,bn);Ee(),i.nodeType===Me&&i.data===At?te(this,ne,Ds).call(this):(te(this,ne,Os).call(this),u(this,Xt)===0&&(this.is_pending=!1))}else{var o=te(this,ne,ri).call(this);try{A(this,ct,pe(()=>n(o)))}catch(i){this.error(i)}u(this,Xt)>0?te(this,ne,lo).call(this):this.is_pending=!1}return()=>{var i;(i=u(this,fr))==null||i.remove()}},Wa)),y&&A(this,We,k)}defer_effect(t){ro(t,u(this,Kr),u(this,Xr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!u(this,Dt).pending}update_pending_count(t){te(this,ne,ni).call(this,t),A(this,Cr,u(this,Cr)+t),u(this,Zt)&&bt(u(this,Zt),u(this,Cr))}get_effect_pending(){return u(this,co).call(this),$(u(this,Zt))}error(t){var r=u(this,Dt).onerror;let n=u(this,Dt).failed;if(u(this,Rr)||!r&&!n)throw t;u(this,ct)&&(ee(u(this,ct)),A(this,ct,null)),u(this,Pe)&&(ee(u(this,Pe)),A(this,Pe,null)),u(this,It)&&(ee(u(this,It)),A(this,It,null)),y&&(B(u(this,bn)),yr(),B(Vt()));var o=!1,i=!1;let s=()=>{if(o){bs();return}o=!0,i&&ps(),Ne.ensure(),A(this,Cr,0),u(this,It)!==null&&Lt(u(this,It),()=>{A(this,It,null)}),this.is_pending=this.has_pending_snippet(),A(this,ct,te(this,ne,fo).call(this,()=>(A(this,Rr,!1),pe(()=>u(this,Nr).call(this,u(this,We)))))),u(this,Xt)>0?te(this,ne,lo).call(this):this.is_pending=!1};var a=E;try{Q(null),i=!0,r==null||r(t,s),i=!1}catch(f){Rt(f,u(this,Mt)&&u(this,Mt).parent)}finally{Q(a)}n&&ge(()=>{A(this,It,te(this,ne,fo).call(this,()=>{Ne.ensure(),A(this,Rr,!0);try{return pe(()=>{n(u(this,We),()=>t,()=>s)})}catch(f){return Rt(f,u(this,Mt).parent),null}finally{A(this,Rr,!1)}}))})}};We=new WeakMap,bn=new WeakMap,Dt=new WeakMap,Nr=new WeakMap,Mt=new WeakMap,ct=new WeakMap,Pe=new WeakMap,It=new WeakMap,Kt=new WeakMap,fr=new WeakMap,Cr=new WeakMap,Xt=new WeakMap,Rr=new WeakMap,Kr=new WeakMap,Xr=new WeakMap,Zt=new WeakMap,co=new WeakMap,ne=new WeakSet,Os=function(){try{A(this,ct,pe(()=>u(this,Nr).call(this,u(this,We))))}catch(t){this.error(t)}},Ds=function(){let t=u(this,Dt).pending;t&&(A(this,Pe,pe(()=>t(u(this,We)))),Ne.enqueue(()=>{var r=te(this,ne,ri).call(this);A(this,ct,te(this,ne,fo).call(this,()=>(Ne.ensure(),pe(()=>u(this,Nr).call(this,r))))),u(this,Xt)>0?te(this,ne,lo).call(this):(Lt(u(this,Pe),()=>{A(this,Pe,null)}),this.is_pending=!1)}))},ri=function(){var t=u(this,We);return this.is_pending&&(A(this,fr,se()),u(this,We).before(u(this,fr)),t=u(this,fr)),t},fo=function(t){var r=w,n=E,o=C;ie(u(this,Mt)),Q(u(this,Mt)),Ut(u(this,Mt).ctx);try{return t()}catch(i){return to(i),null}finally{ie(r),Q(n),Ut(o)}},lo=function(){let t=u(this,Dt).pending;u(this,ct)!==null&&(A(this,Kt,document.createDocumentFragment()),u(this,Kt).append(u(this,fr)),uo(u(this,ct),u(this,Kt))),u(this,Pe)===null&&A(this,Pe,pe(()=>t(u(this,We))))},ni=function(t){var r;if(!this.has_pending_snippet()){this.parent&&te(r=this.parent,ne,ni).call(r,t);return}if(A(this,Xt,u(this,Xt)+t),u(this,Xt)===0){this.is_pending=!1;for(let n of u(this,Kr))q(n,2048),ze(n);for(let n of u(this,Xr))q(n,4096),ze(n);u(this,Kr).clear(),u(this,Xr).clear(),u(this,Pe)&&Lt(u(this,Pe),()=>{A(this,Pe,null)}),u(this,Kt)&&(u(this,We).before(u(this,Kt)),A(this,Kt,null))}};function po(e,t,r,n){let o=Ct()?Jr:Qr;if(r.length===0&&e.length===0){n(t.map(o));return}var i=R,s=w,a=Ms();function f(){Promise.all(r.map(l=>si(l))).then(l=>{a();try{n([...t.map(o),...l])}catch(d){(s.f&16384)===0&&Rt(d,s)}i==null||i.deactivate(),Zr()}).catch(l=>{Rt(l,s)})}e.length>0?Promise.all(e).then(()=>{a();try{return f()}finally{i==null||i.deactivate(),Zr()}}):f()}function Ms(){var e=w,t=E,r=C,n=R;if(_)var o=Nt;return function(s=!0){ie(e),Q(t),Ut(r),s&&(n==null||n.activate()),_&&(ii(null),Pr(o))}}function Zr(){ie(null),Q(null),Ut(null),_&&(ii(null),Pr(null))}var xn=null;function ii(e){xn=e}var yn=new Set;function Jr(e){var t=2050,r=E!==null&&(E.f&2)!==0?E:null;w!==null&&(w.f|=524288);let n={ctx:C,deps:null,effects:null,equals:Zn,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:r!=null?r:w,ac:null};return _&&_t&&(n.created=kt("created at")),n}function si(e,t,r){let n=w;n===null&&ts();var o=n.b,i=void 0,s=$e(H);_&&(s.label=t);var a=!E,f=new Map;return Is(()=>{var p;_&&(xn=w);var l=jn();i=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{d===R&&d.committed&&d.deactivate(),Zr()})}catch(h){l.reject(h),Zr()}_&&(xn=null);var d=R;if(a){var m=o.is_rendered();o.update_pending_count(1),d.increment(m),(p=f.get(d))==null||p.reject(Tt),f.delete(d),f.set(d,l)}let c=(h,g=void 0)=>{if(xn=null,d.activate(),g)g!==Tt&&(s.f|=8388608,bt(s,g));else{(s.f&8388608)!==0&&(s.f^=8388608),bt(s,h);for(let[v,b]of f){if(f.delete(v),v===d)break;b.reject(Tt)}_&&r!==void 0&&(yn.add(s),setTimeout(()=>{yn.has(s)&&(ms(s.label,r),yn.delete(s))}))}a&&(o.update_pending_count(-1),d.decrement(m))};l.promise.then(c,h=>c(null,h||"unknown"))}),be(()=>{for(let l of f.values())l.reject(Tt)}),_&&(s.f|=4194304),new Promise(l=>{function d(m){function c(){m===i?l(s):d(i)}m.then(c,c)}d(i)})}function Qr(e){let t=Jr(e);return t.equals=Jn,t}function _o(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ee(t[r])}}var ai=[];function Za(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return(t.f&16384)===0?t:null;t=t.parent}return null}function wn(e){var t,r=w;if(ie(Za(e)),_){let n=Or;so(new Set);try{ai.includes(e)&&rs(),ai.push(e),e.f&=-32769,_o(e),t=mo(e)}finally{ie(r),so(n),ai.pop()}}else try{e.f&=-32769,_o(e),t=mo(e)}finally{ie(r)}return t}function fi(e){var r,n;var t=wn(e);if(!e.equals(t)&&(e.wv=Wr(),(!((r=R)!=null&&r.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){q(e,1024);return}xt||(oe!==null?(Ht()||(n=R)!=null&&n.is_fork)&&oe.set(e,t):Br(e))}var Or=new Set,Ot=new Map;function so(e){Or=e}var ci=!1;function Ls(){ci=!0}function $e(e,t){var r={f:0,v:e,reactions:null,equals:Zn,rv:0,wv:0};return _&&_t&&(r.created=t!=null?t:kt("created at"),r.updated=null,r.set_during_effect=!1,r.trace=null),r}function ut(e,t){let r=$e(e,t);return li(r),r}function Je(e,t=!1,r=!0){var o,i;let n=$e(e);return t||(n.equals=Jn),Yt&&r&&C!==null&&C.l!==null&&((i=(o=C.l).s)!=null?i:o.s=[]).push(n),n}function K(e,t,r=!1){var o;E!==null&&(!Fe||(E.f&131072)!==0)&&Ct()&&(E.f&4325394)!==0&&!((o=Be)!=null&&o.includes(e))&&us();let n=r?lr(t):t;return _&&Qn(n,e.label),bt(e,n)}function bt(e,t){var o,i,s;if(!e.equals(t)){var r=e.v;xt?Ot.set(e,t):Ot.set(e,r),e.v=t;var n=Ne.ensure();if(n.capture(e,r),_){if(_t||w!==null){(o=e.updated)!=null||(e.updated=new Map);let a=((s=(i=e.updated.get(""))==null?void 0:i.count)!=null?s:0)+1;if(e.updated.set("",{error:null,count:a}),_t||a>5){let f=kt("updated at");if(f!==null){let l=e.updated.get(f.stack);l||(l={error:f,count:0},e.updated.set(f.stack,l)),l.count++}}}w!==null&&(e.set_during_effect=!0)}if((e.f&2)!==0){let a=e;(e.f&2048)!==0&&wn(a),Br(a)}e.wv=Wr(),Ps(e,2048),Ct()&&w!==null&&(w.f&1024)!==0&&(w.f&96)===0&&(Ze===null?Fs([e]):Ze.push(e)),!n.is_fork&&Or.size>0&&!ci&&ao()}return t}function ao(){ci=!1;var e=Gt;zr(!0);let t=Array.from(Or);try{for(let r of t)(r.f&1024)!==0&&q(r,4096),Wt(r)&&zt(r)}finally{zr(e)}Or.clear()}function kr(e){K(e,e.v+1)}function Ps(e,t){var d;var r=e.reactions;if(r!==null)for(var n=Ct(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if(!(!n&&s===w)){if(_&&(a&131072)!==0){Or.add(s);continue}var f=(a&2048)===0;if(f&&q(s,t),(a&2)!==0){var l=s;(d=oe)==null||d.delete(l),(a&32768)===0&&(a&512&&(s.f|=32768),Ps(l,4096))}else f&&((a&16)!==0&&Le!==null&&Le.add(s),ze(s))}}}var Ja=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function lr(e){if(typeof e!="object"||e===null||ye in e)return e;let t=mr(e);if(t!==Ho&&t!==Ji)return e;var r=new Map,n=St(e),o=ut(0),i=_&&_t?kt("created at"):null,s=cr,a=m=>{if(cr===s)return m();var c=E,p=cr;Q(null),ui(s);var h=m();return Q(c),ui(p),h};n&&(r.set("length",ut(e.length,i)),_&&(e=ef(e)));var f="";let l=!1;function d(m){if(!l){l=!0,f=m,Ie(o,`${f} version`);for(let[c,p]of r)Ie(p,Dr(f,c));l=!1}}return new Proxy(e,{defineProperty(m,c,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&ls();var h=r.get(c);return h===void 0?h=a(()=>{var g=ut(p.value,i);return r.set(c,g),_&&typeof c=="string"&&Ie(g,Dr(f,c)),g}):K(h,p.value,!0),!0},deleteProperty(m,c){var p=r.get(c);if(p===void 0){if(c in m){let h=a(()=>ut(H,i));r.set(c,h),kr(o),_&&Ie(h,Dr(f,c))}}else K(p,H),kr(o);return!0},get(m,c,p){var b;if(c===ye)return e;if(_&&c===Gn)return d;var h=r.get(c),g=c in m;if(h===void 0&&(!g||(b=He(m,c))!=null&&b.writable)&&(h=a(()=>{var P=lr(g?m[c]:H),U=ut(P,i);return _&&Ie(U,Dr(f,c)),U}),r.set(c,h)),h!==void 0){var v=$(h);return v===H?void 0:v}return Reflect.get(m,c,p)},getOwnPropertyDescriptor(m,c){var p=Reflect.getOwnPropertyDescriptor(m,c);if(p&&"value"in p){var h=r.get(c);h&&(p.value=$(h))}else if(p===void 0){var g=r.get(c),v=g==null?void 0:g.v;if(g!==void 0&&v!==H)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return p},has(m,c){var v;if(c===ye)return!0;var p=r.get(c),h=p!==void 0&&p.v!==H||Reflect.has(m,c);if(p!==void 0||w!==null&&(!h||(v=He(m,c))!=null&&v.writable)){p===void 0&&(p=a(()=>{var b=h?lr(m[c]):H,P=ut(b,i);return _&&Ie(P,Dr(f,c)),P}),r.set(c,p));var g=$(p);if(g===H)return!1}return h},set(m,c,p,h){var x;var g=r.get(c),v=c in m;if(n&&c==="length")for(var b=p;b<g.v;b+=1){var P=r.get(b+"");P!==void 0?K(P,H):b in m&&(P=a(()=>ut(H,i)),r.set(b+"",P),_&&Ie(P,Dr(f,b)))}if(g===void 0)(!v||(x=He(m,c))!=null&&x.writable)&&(g=a(()=>ut(void 0,i)),_&&Ie(g,Dr(f,c)),K(g,lr(p)),r.set(c,g));else{v=g.v!==H;var U=a(()=>lr(p));K(g,U)}var F=Reflect.getOwnPropertyDescriptor(m,c);if(F!=null&&F.set&&F.set.call(h,p),!v){if(n&&typeof c=="string"){var X=r.get("length"),Z=Number(c);Number.isInteger(Z)&&Z>=X.v&&K(X,Z+1)}kr(o)}return!0},ownKeys(m){$(o);var c=Reflect.ownKeys(m).filter(g=>{var v=r.get(g);return v===void 0||v.v!==H});for(var[p,h]of r)h.v!==H&&!(p in m)&&c.push(p);return c},setPrototypeOf(){cs()}})}function Dr(e,t){var r;return typeof t=="symbol"?`${e}[Symbol(${(r=t.description)!=null?r:""})]`:Ja.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function vo(e){try{if(e!==null&&typeof e=="object"&&ye in e)return e[ye]}catch(t){}return e}var Qa=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function ef(e){return new Proxy(e,{get(t,r,n){var o=Reflect.get(t,r,n);return Qa.has(r)?function(...i){Ls();var s=o.apply(this,i);return ao(),s}:o}})}function Bs(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let f=s!=null?s:0;f<this.length;f+=1)if(vo(this[f])===i){Kn("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s!=null?s:this.length-1);if(a===-1){for(let f=0;f<=(s!=null?s:this.length-1);f+=1)if(vo(this[f])===i){Kn("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let f=0;f<this.length;f+=1)if(vo(this[f])===i){Kn("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var pi,qs,mn,Vs,Ys;function ho(){if(pi===void 0){pi=window,qs=document,mn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Vs=He(t,"firstChild").get,Ys=He(t,"nextSibling").get,Uo(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Uo(r)&&(r.__t=void 0),_&&(e.__svelte_meta=null,Bs())}}function se(e=""){return document.createTextNode(e)}function Se(e){return Vs.call(e)}function me(e){return Ys.call(e)}function T(e,t){if(!y)return Se(e);var r=Se(k);if(r===null)r=k.appendChild(se());else if(t&&r.nodeType!==un){var n=se();return r==null||r.before(n),B(n),n}return B(r),r}function pt(e,t=!1){var o,i;if(!y){var r=Se(e);return r instanceof Comment&&r.data===""?me(r):r}if(t&&((o=k)==null?void 0:o.nodeType)!==un){var n=se();return(i=k)==null||i.before(n),B(n),n}return k}function L(e,t=1,r=!1){let n=y?k:e;for(var o;t--;)o=n,n=me(n);if(!y)return n;if(r&&(n==null?void 0:n.nodeType)!==un){var i=se();return n===null?o==null||o.after(i):n.before(i),B(i),i}return B(n),n}function En(e){e.textContent=""}function go(){if(!Te||Le!==null)return!1;var e=w.f;return(e&32768)!==0}var Hs=!1;function bo(){Hs||(Hs=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Qt(e){var t=E,r=w;Q(null),ie(null);try{return e()}finally{Q(t),ie(r)}}function di(e,t,r,n=r){e.addEventListener(t,()=>Qt(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),bo()}function mi(e){w===null&&(E===null&&is(e),os()),xt&&ns(e)}function tf(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function yt(e,t,r){var a;var n=w;if(_)for(;n!==null&&(n.f&131072)!==0;)n=n.parent;n!==null&&(n.f&8192)!==0&&(e|=8192);var o={ctx:C,deps:null,nodes:null,f:e|2048|512,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(_&&(o.component_function=mt),r)try{zt(o),o.f|=32768}catch(f){throw ee(o),f}else t!==null&&ze(o);var i=o;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&524288)===0&&(i=i.first,(e&16)!==0&&(e&65536)!==0&&i!==null&&(i.f|=65536)),i!==null&&(i.parent=n,n!==null&&tf(i,n),E!==null&&(E.f&2)!==0&&(e&64)===0)){var s=E;((a=s.effects)!=null?a:s.effects=[]).push(i)}return o}function Ht(){return E!==null&&!Fe}function be(e){let t=yt(8,null,!1);return q(t,1024),t.teardown=e,t}function en(e){var o;mi("$effect"),_&&le(e,"name",{value:"$effect"});var t=w.f,r=!E&&(t&32)!==0&&(t&32768)===0;if(r){var n=C;((o=n.e)!=null?o:n.e=[]).push(e)}else return Go(e)}function Go(e){return yt(1048580,e,!1)}function $n(e){return mi("$effect.pre"),_&&le(e,"name",{value:"$effect.pre"}),yt(1048584,e,!0)}function xo(e){Ne.ensure();let t=yt(524352,e,!0);return()=>{ee(t)}}function js(e){Ne.ensure();let t=yt(524352,e,!0);return(r={})=>new Promise(n=>{r.outro?Lt(t,()=>{ee(t),n(void 0)}):(ee(t),n(void 0))})}function Qe(e){return yt(4,e,!1)}function yo(e,t){var r=C,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=re(()=>{e(),!n.ran&&(n.ran=!0,I(t))})}function vi(){var e=C;re(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&1024)!==0&&r.deps!==null&&q(r,4096),Wt(r)&&zt(r),t.ran=!1}})}function Is(e){return yt(4718592,e,!0)}function re(e,t=0){return yt(8|t,e,!0)}function Ce(e,t=[],r=[],n=[]){po(n,t,r,o=>{yt(8,()=>e(...o.map($)),!0)})}function Xe(e,t=0){var r=yt(16|t,e,!0);return _&&(r.dev_stack=Nt),r}function pe(e){return yt(524320,e,!0)}function hi(e){var t=e.teardown;if(t!==null){let r=xt,n=E;_i(!0),Q(null);try{t.call(null)}finally{_i(r),Q(n)}}}function gi(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){let o=r.ac;o!==null&&Qt(()=>{o.abort(Tt)});var n=r.next;(r.f&64)!==0?r.parent=null:ee(r,t),r=n}}function zs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&ee(t),t=r}}function ee(e,t=!0){var r=!1;(t||(e.f&262144)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Gs(e.nodes.start,e.nodes.end),r=!0),gi(e,t&&!r),Tn(e,0),q(e,16384);var n=e.nodes&&e.nodes.t;if(n!==null)for(let i of n)i.stop();hi(e);var o=e.parent;o!==null&&o.first!==null&&Qo(e),_&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Gs(e,t){for(;e!==null;){var r=e===t?null:me(e);e.remove(),e=r}}function Qo(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Lt(e,t,r=!0){var n=[];Ws(e,n,!0);var o=()=>{r&&ee(e),t&&t()},i=n.length;if(i>0){var s=()=>--i||o();for(var a of n)a.out(s)}else o()}function Ws(e,t,r){if((e.f&8192)===0){e.f^=8192;var n=e.nodes&&e.nodes.t;if(n!==null)for(let a of n)(a.is_global||r)&&t.push(a);for(var o=e.first;o!==null;){var i=o.next,s=(o.f&65536)!==0||(o.f&32)!==0&&(e.f&16)!==0;Ws(o,t,s?r:!1),o=i}}}function Sn(e){Ks(e,!0)}function Ks(e,t){if((e.f&8192)!==0){e.f^=8192,(e.f&1024)===0&&(q(e,2048),ze(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Ks(r,o?t:!1),r=n}var i=e.nodes&&e.nodes.t;if(i!==null)for(let s of i)(s.is_global||t)&&s.in()}}function uo(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var o=r===n?null:me(r);t.append(r),r=o}}var Xs=null;var Gt=!1;function zr(e){Gt=e}var xt=!1;function _i(e){xt=e}var E=null,Fe=!1;function Q(e){E=e}var w=null;function ie(e){w=e}var Be=null;function li(e){E!==null&&(!Te||(E.f&2)!==0)&&(Be===null?Be=[e]:Be.push(e))}var Re=null,et=0,Ze=null;function Fs(e){Ze=e}var Zs=1,An=0,cr=An;function ui(e){cr=e}function Wr(){return++Zs}function Wt(e){var t=e.f;if((t&2048)!==0)return!0;if(t&2&&(e.f&=-32769),(t&4096)!==0){for(var r=e.deps,n=r.length,o=0;o<n;o++){var i=r[o];if(Wt(i)&&fi(i),i.wv>e.wv)return!0}(t&512)!==0&&oe===null&&q(e,1024)}return!1}function Js(e,t,r=!0){var n=e.reactions;if(n!==null&&!(!Te&&(Be!=null&&Be.includes(e))))for(var o=0;o<n.length;o++){var i=n[o];(i.f&2)!==0?Js(i,t,!1):t===i&&(r?q(i,2048):(i.f&1024)!==0&&q(i,4096),ze(i))}}function mo(e){var h,g;var t=Re,r=et,n=Ze,o=E,i=Be,s=C,a=Fe,f=cr,l=e.f;Re=null,et=0,Ze=null,E=(l&96)===0?e:null,Be=null,Ut(e.ctx),Fe=!1,cr=++An,e.ac!==null&&(Qt(()=>{e.ac.abort(Tt)}),e.ac=null);try{e.f|=2097152;var d=e.fn,m=d(),c=e.deps;if(Re!==null){var p;if(Tn(e,et),c!==null&&et>0)for(c.length=et+Re.length,p=0;p<Re.length;p++)c[et+p]=Re[p];else e.deps=c=Re;if(Ht()&&(e.f&512)!==0)for(p=et;p<c.length;p++)((g=(h=c[p]).reactions)!=null?g:h.reactions=[]).push(e)}else c!==null&&et<c.length&&(Tn(e,et),c.length=et);if(Ct()&&Ze!==null&&!Fe&&c!==null&&(e.f&6146)===0)for(p=0;p<Ze.length;p++)Js(Ze[p],e);return o!==null&&o!==e&&(An++,Ze!==null&&(n===null?n=Ze:n.push(...Ze))),(e.f&8388608)!==0&&(e.f^=8388608),m}catch(v){return to(v)}finally{e.f^=2097152,Re=t,et=r,Ze=n,E=o,Be=i,Ut(s),Fe=a,cr=f}}function rf(e,t){let r=t.reactions;if(r!==null){var n=Zi.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}if(r===null&&(t.f&2)!==0&&(Re===null||!Re.includes(t))){var i=t;(i.f&512)!==0&&(i.f^=512,i.f&=-32769),Br(i),_o(i),Tn(i,0)}}function Tn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)rf(e,r[n])}function zt(e){var f;var t=e.f;if((t&16384)===0){q(e,1024);var r=w,n=Gt;if(w=e,Gt=!0,_){var o=mt;eo(e.component_function);var i=Nt;Pr((f=e.dev_stack)!=null?f:Nt)}try{(t&16777232)!==0?zs(e):gi(e),hi(e);var s=mo(e);if(e.teardown=typeof s=="function"?s:null,e.wv=Zs,_&&_t&&(e.f&2048)!==0&&e.deps!==null)for(var a of e.deps)a.set_during_effect&&(a.wv=Wr(),a.set_during_effect=!1)}finally{Gt=n,w=r,_&&(eo(o),Pr(i))}}}async function Eo(){if(Te)return new Promise(e=>{requestAnimationFrame(()=>e()),setTimeout(()=>e())});await Promise.resolve(),Ar()}function $(e){var p,h,g;var t=e.f,r=(t&2)!==0;if((p=Xs)==null||p.add(e),E!==null&&!Fe){var n=w!==null&&(w.f&16384)!==0;if(!n&&!(Be!=null&&Be.includes(e))){var o=E.deps;if((E.f&2097152)!==0)e.rv<An&&(e.rv=An,Re===null&&o!==null&&o[et]===e?et++:Re===null?Re=[e]:Re.includes(e)||Re.push(e));else{((h=E.deps)!=null?h:E.deps=[]).push(e);var i=e.reactions;i===null?e.reactions=[E]:i.includes(E)||i.push(E)}}}if(_&&(yn.delete(e),_t&&!Fe&&_n!==null&&E!==null&&_n.reaction===E))if(e.trace)e.trace();else{var s=kt("traced at");if(s){var a=_n.entries.get(e);a===void 0&&(a={traces:[]},_n.entries.set(e,a));var f=a.traces[a.traces.length-1];s.stack!==(f==null?void 0:f.stack)&&a.traces.push(s)}}if(xt&&Ot.has(e))return Ot.get(e);if(r){var l=e;if(xt){var d=l.v;return((l.f&1024)===0&&l.reactions!==null||ea(l))&&(d=wn(l)),Ot.set(l,d),d}var m=(l.f&512)===0&&!Fe&&E!==null&&(Gt||(E.f&512)!==0),c=l.deps===null;Wt(l)&&(m&&(l.f|=512),fi(l)),m&&!c&&Qs(l)}if((g=oe)!=null&&g.has(e))return oe.get(e);if((e.f&8388608)!==0)throw e.v;return e.v}function Qs(e){var t;if(e.deps!==null){e.f|=512;for(let r of e.deps)((t=r.reactions)!=null?t:r.reactions=[]).push(e),(r.f&2)!==0&&(r.f&512)===0&&Qs(r)}}function ea(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(let t of e.deps)if(Ot.has(t)||(t.f&2)!==0&&ea(t))return!0;return!1}function I(e){var t=Fe;try{return Fe=!0,e()}finally{Fe=t}}function kn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ye in e)wo(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&ye in r&&wo(r)}}}function wo(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{wo(e[n],t)}catch(o){}let r=mr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Un(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch(s){}}}}}var of=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var Od=[...of,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var sf=["touchstart","touchmove"];function ta(e){return sf.includes(e)}var af=["$state","$state.raw","$derived","$derived.by"],Dd=[...af,"$state.eager","$state.snapshot","$props","$props.id","$bindable","$effect","$effect.pre","$effect.tracking","$effect.root","$effect.pending","$inspect","$inspect().with","$inspect.trace","$host"];var na=new Map;function oa(e,t){var r=na.get(e);r||(r=new Set,na.set(e,r)),r.add(t)}var xi=new Set,$o=new Set;function aa(e,t,r,n={}){function o(i){if(n.capture||rn.call(t,i),!i.cancelBubble)return Qt(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ge(()=>{t.addEventListener(e,o,n)}):t.addEventListener(e,o,n),o}function ae(e,t,r,n,o){var i={capture:n,passive:o},s=aa(e,t,r,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&be(()=>{t.removeEventListener(e,s,i)})}function tn(e){for(var t=0;t<e.length;t++)xi.add(e[t]);for(var r of $o)r(e)}var sa=null;function rn(e){var v;var t=this,r=t.ownerDocument,n=e.type,o=((v=e.composedPath)==null?void 0:v.call(e))||[],i=o[0]||e.target;sa=e;var s=0,a=sa===e&&e.__root;if(a){var f=o.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var l=o.indexOf(t);if(l===-1)return;f<=l&&(s=f)}if(i=o[s]||e.target,i!==t){le(e,"currentTarget",{configurable:!0,get(){return i||r}});var d=E,m=w;Q(null),ie(null);try{for(var c,p=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+n];g!=null&&(!i.disabled||e.target===i)&&g.call(i,e)}catch(b){c?p.push(b):c=b}if(e.cancelBubble||h===t||h===null)break;i=h}if(c){for(let b of p)queueMicrotask(()=>{throw b});throw c}}finally{e.__root=t,delete e.currentTarget,Q(d),ie(m)}}}function So(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Pt(e,t){var r=w;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function M(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(y)return Pt(k,null),k;o===void 0&&(o=So(i?e:"<!>"+e),r||(o=Se(o)));var s=n||mn?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=Se(s),f=s.lastChild;Pt(a,f)}else Pt(s,s);return s}}function yi(){if(y)return Pt(k,null),k;var e=document.createDocumentFragment(),t=document.createComment(""),r=se();return e.append(t,r),Pt(t,r),e}function O(e,t){if(y){var r=w;((r.f&32768)===0||r.nodes.end===null)&&(r.nodes.end=k),Ee();return}e!==null&&e.before(t)}var wi=!0;function de(e,t){var n;var r=t==null?"":typeof t=="object"?t+"":t;r!==((n=e.__t)!=null?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Ft(e,t){return la(e,t)}function $i(e,t){var s;ho(),t.intro=(s=t.intro)!=null?s:!1;let r=t.target,n=y,o=k;try{for(var i=Se(r);i&&(i.nodeType!==Me||i.data!==pn);)i=me(i);if(!i)throw qt;ce(!0),B(i);let a=la(e,{...t,anchor:i});return ce(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(f=>f.startsWith("https://svelte.dev/e/")))throw a;return a!==qt&&console.warn("Failed to hydrate: ",a),t.recover===!1&&as(),ho(),En(r),ce(!1),Ft(e,t)}finally{ce(n),B(o)}}var nn=new Map;function la(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){ho();var a=new Set,f=m=>{for(var c=0;c<m.length;c++){var p=m[c];if(!a.has(p)){a.add(p);var h=ta(p);t.addEventListener(p,rn,{passive:h});var g=nn.get(p);g===void 0?(document.addEventListener(p,rn,{passive:h}),nn.set(p,1)):nn.set(p,g+1)}}};f(Lr(xi)),$o.add(f);var l=void 0,d=js(()=>{var m=r!=null?r:t.appendChild(se());return oi(m,{pending:()=>{}},c=>{if(i){ve({});var p=C;p.c=i}if(o&&(n.$$events=o),y&&Pt(c,null),wi=s,l=e(c,n)||{},wi=!0,y&&(w.nodes.end=k,k===null||k.nodeType!==Me||k.data!==hr))throw xr(),qt;i&&he()}),()=>{var h;for(var c of a){t.removeEventListener(c,rn);var p=nn.get(c);--p===0?(document.removeEventListener(c,rn),nn.delete(c)):nn.set(c,p)}$o.delete(f),m!==r&&((h=m.parentNode)==null||h.removeChild(m))}});return Ei.set(l,d),l}var Ei=new WeakMap;function er(e,t){let r=Ei.get(e);return r?(Ei.delete(e),r(t)):(_&&(ye in e?gs():hs()),Promise.resolve())}var wt,Bt,tt,Mr,Nn,Cn,To,tr=class{constructor(t,r=!0){V(this,"anchor");N(this,wt,new Map);N(this,Bt,new Map);N(this,tt,new Map);N(this,Mr,new Set);N(this,Nn,!0);N(this,Cn,()=>{var t=R;if(u(this,wt).has(t)){var r=u(this,wt).get(t),n=u(this,Bt).get(r);if(n)Sn(n),u(this,Mr).delete(r);else{var o=u(this,tt).get(r);o&&(u(this,Bt).set(r,o.effect),u(this,tt).delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),n=o.effect)}for(let[i,s]of u(this,wt)){if(u(this,wt).delete(i),i===t)break;let a=u(this,tt).get(s);a&&(ee(a.effect),u(this,tt).delete(s))}for(let[i,s]of u(this,Bt)){if(i===r||u(this,Mr).has(i))continue;let a=()=>{if(Array.from(u(this,wt).values()).includes(i)){var l=document.createDocumentFragment();uo(s,l),l.append(se()),u(this,tt).set(i,{effect:s,fragment:l})}else ee(s);u(this,Mr).delete(i),u(this,Bt).delete(i)};u(this,Nn)||!n?(u(this,Mr).add(i),Lt(s,a,!1)):a()}}});N(this,To,t=>{u(this,wt).delete(t);let r=Array.from(u(this,wt).values());for(let[n,o]of u(this,tt))r.includes(n)||(ee(o.effect),u(this,tt).delete(n))});this.anchor=t,A(this,Nn,r)}ensure(t,r){var n=R,o=go();if(r&&!u(this,Bt).has(t)&&!u(this,tt).has(t))if(o){var i=document.createDocumentFragment(),s=se();i.append(s),u(this,tt).set(t,{effect:pe(()=>r(s)),fragment:i})}else u(this,Bt).set(t,pe(()=>r(this.anchor)));if(u(this,wt).set(n,t),o){for(let[a,f]of u(this,Bt))a===t?n.skipped_effects.delete(f):n.skipped_effects.add(f);for(let[a,f]of u(this,tt))a===t?n.skipped_effects.delete(f.effect):n.skipped_effects.add(f.effect);n.oncommit(u(this,Cn)),n.ondiscard(u(this,To))}else y&&(this.anchor=k),u(this,Cn).call(this)}};wt=new WeakMap,Bt=new WeakMap,tt=new WeakMap,Mr=new WeakMap,Nn=new WeakMap,Cn=new WeakMap,To=new WeakMap;function rt(e,t,r=!1){y&&Ee();var n=new tr(e),o=r?65536:0;function i(s,a){if(y){let l=Xn(e)===At;if(s===l){var f=Vt();B(f),n.anchor=f,ce(!1),n.ensure(s,a),ce(!0);return}}n.ensure(s,a)}Xe(()=>{var s=!1;t((a,f=!0)=>{s=!0,i(f,a)}),s||i(!1,null)},o)}function Ti(e,t){return t}function hf(e,t,r){var m;for(var n=[],o=t.length,i,s=t.length,a=0;a<o;a++){let c=t[a];Lt(c,()=>{if(i){if(i.pending.delete(c),i.done.add(c),i.pending.size===0){var p=e.outrogroups;Si(Lr(i.done)),p.delete(i),p.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=n.length===0&&r!==null;if(f){var l=r,d=l.parentNode;En(d),d.append(l),e.items.clear()}Si(t,!f)}else i={pending:new Set(t),done:new Set},((m=e.outrogroups)!=null?m:e.outrogroups=new Set).add(i)}function Si(e,t=!0){for(var r=0;r<e.length;r++)ee(e[r],t)}var on;function Ai(e,t,r,n,o,i=null){var s=e,a=new Map,f=(t&4)!==0;if(f){var l=e;s=y?B(Se(l)):l.appendChild(se())}y&&Ee();var d=null,m=Qr(()=>{var b=r();return St(b)?b:b==null?[]:Lr(b)}),c,p=!0;function h(){v.fallback=d,gf(v,c,s,t,n),d!==null&&(c.length===0?(d.f&33554432)===0?Sn(d):(d.f^=33554432,Rn(d,null,s)):Lt(d,()=>{d=null}))}var g=Xe(()=>{c=$(m);var b=c.length;let P=!1;if(y){var U=Xn(s)===At;U!==(b===0)&&(s=Vt(),B(s),ce(!1),P=!0)}for(var F=new Set,X=R,Z=go(),x=0;x<b;x+=1){y&&k.nodeType===Me&&k.data===hr&&(s=k,P=!0,ce(!1));var D=c[x],Y=n(D,x),j=p?null:a.get(Y);j?(j.v&&bt(j.v,D),j.i&&bt(j.i,x),Z&&X.skipped_effects.delete(j.e)):(j=bf(a,p?s:on!=null?on:on=se(),D,Y,x,o,t,r),p||(j.e.f|=33554432),a.set(Y,j)),F.add(Y)}if(b===0&&i&&!d&&(p?d=pe(()=>i(s)):(d=pe(()=>i(on!=null?on:on=se())),d.f|=33554432)),y&&b>0&&B(Vt()),!p)if(Z){for(let[qe,Ve]of a)F.has(qe)||X.skipped_effects.add(Ve.e);X.oncommit(h),X.ondiscard(()=>{})}else h();P&&ce(!0),$(m)}),v={effect:g,flags:t,items:a,outrogroups:null,fallback:d};p=!1,y&&(s=k)}function gf(e,t,r,n,o){var j,qe,Ve,ot,Ye,it,st,Ir,qn;var i=(n&8)!==0,s=t.length,a=e.items,f=e.effect.first,l,d=null,m,c=[],p=[],h,g,v,b;if(i)for(b=0;b<s;b+=1)h=t[b],g=o(h,b),v=a.get(g).e,(v.f&33554432)===0&&((qe=(j=v.nodes)==null?void 0:j.a)==null||qe.measure(),(m!=null?m:m=new Set).add(v));for(b=0;b<s;b+=1){if(h=t[b],g=o(h,b),v=a.get(g).e,e.outrogroups!==null)for(let fe of e.outrogroups)fe.pending.delete(v),fe.done.delete(v);if((v.f&33554432)!==0)if(v.f^=33554432,v===f)Rn(v,null,r);else{var P=d?d.next:f;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),ur(e,d,v),ur(e,v,P),Rn(v,P,r),d=v,c=[],p=[],f=d.next;continue}if((v.f&8192)!==0&&(Sn(v),i&&((ot=(Ve=v.nodes)==null?void 0:Ve.a)==null||ot.unfix(),(m!=null?m:m=new Set).delete(v))),v!==f){if(l!==void 0&&l.has(v)){if(c.length<p.length){var U=p[0],F;d=U.prev;var X=c[0],Z=c[c.length-1];for(F=0;F<c.length;F+=1)Rn(c[F],U,r);for(F=0;F<p.length;F+=1)l.delete(p[F]);ur(e,X.prev,Z.next),ur(e,d,X),ur(e,Z,U),f=U,d=Z,b-=1,c=[],p=[]}else l.delete(v),Rn(v,f,r),ur(e,v.prev,v.next),ur(e,v,d===null?e.effect.first:d.next),ur(e,d,v),d=v;continue}for(c=[],p=[];f!==null&&f!==v;)(l!=null?l:l=new Set).add(f),p.push(f),f=f.next;if(f===null)continue}(v.f&33554432)===0&&c.push(v),d=v,f=v.next}if(e.outrogroups!==null){for(let fe of e.outrogroups)fe.pending.size===0&&(Si(Lr(fe.done)),(Ye=e.outrogroups)==null||Ye.delete(fe));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||l!==void 0){var x=[];if(l!==void 0)for(v of l)(v.f&8192)===0&&x.push(v);for(;f!==null;)(f.f&8192)===0&&f!==e.fallback&&x.push(f),f=f.next;var D=x.length;if(D>0){var Y=(n&4)!==0&&s===0?r:null;if(i){for(b=0;b<D;b+=1)(st=(it=x[b].nodes)==null?void 0:it.a)==null||st.measure();for(b=0;b<D;b+=1)(qn=(Ir=x[b].nodes)==null?void 0:Ir.a)==null||qn.fix()}hf(e,x,Y)}}i&&ge(()=>{var fe,De;if(m!==void 0)for(v of m)(De=(fe=v.nodes)==null?void 0:fe.a)==null||De.apply()})}function bf(e,t,r,n,o,i,s,a){var f=(s&1)!==0?(s&16)===0?Je(r,!1,!1):$e(r):null,l=(s&2)!==0?$e(o):null;return _&&f&&(f.trace=()=>{var d;a()[(d=l==null?void 0:l.v)!=null?d:o]}),{v:f,i:l,e:pe(()=>(i(t,f!=null?f:r,l!=null?l:o,a),()=>{e.delete(n)}))}}function Rn(e,t,r){if(e.nodes)for(var n=e.nodes.start,o=e.nodes.end,i=t&&(t.f&33554432)===0?t.nodes.start:r;n!==null;){var s=me(n);if(i.before(n),n===o)return;n=s}}function ur(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Oe(e,t){Qe(()=>{var o;var r=e.getRootNode(),n=r.host?r:(o=r.head)!=null?o:r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let i=document.createElement("style");i.id=t.hash,i.textContent=t.code,n.appendChild(i),_&&oa(t.hash,i)}})}function nr(e,t,r){Qe(()=>{var n=I(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var o=!1,i={};re(()=>{var s=r();kn(s),o&&dn(i,s)&&(i=s,n.update(s))}),o=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}var ua=[...` 	
\r\f\xA0\v\uFEFF`];function da(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var a=s+i;(s===0||ua.includes(n[s-1]))&&(a===n.length||ua.includes(n[a]))?n=(s===0?"":n.substring(0,s))+n.substring(a+1):s=a}}return n===""?null:n}function pa(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function ki(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function _a(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,a=!1,f=[];n&&f.push(...Object.keys(n).map(ki)),o&&f.push(...Object.keys(o).map(ki));var l=0,d=-1;let g=e.length;for(var m=0;m<g;m++){var c=e[m];if(a?c==="/"&&e[m-1]==="*"&&(a=!1):i?i===c&&(i=!1):c==="/"&&e[m+1]==="*"?a=!0:c==='"'||c==="'"?i=c:c==="("?s++:c===")"&&s--,!a&&i===!1&&s===0){if(c===":"&&d===-1)d=m;else if(c===";"||m===g-1){if(d!==-1){var p=ki(e.substring(l,d).trim());if(!f.includes(p)){c!==";"&&m++;var h=e.substring(l,m).trim();r+=" "+h+";"}}l=m+1,d=-1}}}}return n&&(r+=pa(n)),o&&(r+=pa(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function sn(e,t,r,n,o,i){var s=e.__className;if(y||s!==r||s===void 0){var a=da(r,n,i);(!y||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=r}else if(i&&o!==i)for(var f in i){var l=!!i[f];(o==null||l!==!!o[f])&&e.classList.toggle(f,l)}return i}function Ni(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function an(e,t,r,n){var o=e.__style;if(y||o!==t){var i=_a(t,n);(!y||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(Ni(e,r==null?void 0:r[0],n[0]),Ni(e,r==null?void 0:r[1],n[1],"important")):Ni(e,r,n));return n}var Rf=Symbol("class"),Of=Symbol("style"),Df=Symbol("is custom element"),Mf=Symbol("is html");function On(e){if(y){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Ci(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Ci(e,"checked",null),e.checked=o}}};e.__on_r=r,ge(r),bo()}}function Ci(e,t,r,n){var o=If(e);if(y&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Pf(e,t,r!=null?r:"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[es]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Lf(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function If(e){var t;return(t=e.__attributes)!=null?t:e.__attributes={[Df]:e.nodeName.includes("-"),[Mf]:e.namespaceURI===_s}}var ma=new Map;function Lf(e){var t=e.getAttribute("is")||e.nodeName,r=ma.get(t);if(r)return r;ma.set(t,r=[]);for(var n,o=e,i=Element.prototype;i!==o;){n=Un(o);for(var s in n)n[s].set&&r.push(s);o=mr(o)}return r}function Pf(e,t,r){var n;_&&(t==="srcset"&&Ff(e,r)||Ri((n=e.getAttribute(t))!=null?n:"",r)||vs(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Ri(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function va(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function Ff(e,t){var r=va(e.srcset),n=va(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Ri(r[s][0],o)||Ri(o,r[s][0])))}function Dn(e,t,r=t){var n=new WeakSet;di(e,"input",async o=>{_&&e.type==="checkbox"&&jo();var i=o?e.defaultValue:e.value;if(i=Oi(e)?Di(i):i,r(i),R!==null&&n.add(R),await Eo(),i!==(i=t())){var s=e.selectionStart,a=e.selectionEnd,f=e.value.length;if(e.value=i!=null?i:"",a!==null){var l=e.value.length;s===a&&a===f&&l>f?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=s,e.selectionEnd=Math.min(a,l))}}}),(y&&e.defaultValue!==e.value||I(t)==null&&e.value)&&(r(Oi(e)?Di(e.value):e.value),R!==null&&n.add(R)),re(()=>{var s;_&&e.type==="checkbox"&&jo();var o=t();if(e===document.activeElement){var i=(s=Vr)!=null?s:R;if(n.has(i))return}Oi(e)&&o===Di(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o!=null?o:"")})}function Oi(e){var t=e.type;return t==="number"||t==="range"}function Di(e){return e===""?null:+e}function Et(e=!1){let t=C,r=t.l.u;if(!r)return;let n=()=>kn(t.s);if(e){let o=0,i={},s=Jr(()=>{let a=!1,f=t.s;for(let l in f)f[l]!==i[l]&&(i[l]=f[l],a=!0);return a&&o++,o});n=()=>$(s)}r.b.length&&$n(()=>{ha(t,n),vr(r.b)}),en(()=>{let o=I(()=>r.m.map(Qi));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&en(()=>{ha(t,n),vr(r.a)})}function ha(e,t){if(e.l.s)for(let r of e.l.s)$(r);t()}function Mn(e,t,r){if(e==null)return t(void 0),r&&r(void 0),xe;let n=I(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var fn=[];function ko(e,t){return{subscribe:pr(e,t).subscribe}}function pr(e,t=xe){let r=null,n=new Set;function o(a){if(dn(e,a)&&(e=a,r)){let f=!fn.length;for(let l of n)l[1](),fn.push(l,e);if(f){for(let l=0;l<fn.length;l+=2)fn[l][0](fn[l+1]);fn.length=0}}}function i(a){o(a(e))}function s(a,f=xe){let l=[a,f];return n.add(l),n.size===1&&(r=t(o,i)||xe),a(e),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function Mi(e,t,r){let n=!Array.isArray(e),o=n?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");let i=t.length<2;return ko(r,(s,a)=>{let f=!1,l=[],d=0,m=xe,c=()=>{if(d)return;m();let h=t(n?l[0]:l,s,a);i?s(h):m=typeof h=="function"?h:xe},p=o.map((h,g)=>Mn(h,v=>{l[g]=v,d&=~(1<<g),f&&c()},()=>{d|=1<<g}));return f=!0,c(),function(){vr(p),m(),f=!1}})}function No(e){let t;return Mn(e,r=>t=r)(),t}var Ii=Symbol();function J(e,t,r){var i;let n=(i=r[t])!=null?i:r[t]={store:null,source:Je(void 0),unsubscribe:xe};if(_&&(n.source.label=t),n.store!==e&&!(Ii in r))if(n.unsubscribe(),n.store=e!=null?e:null,e==null)n.source.v=void 0,n.unsubscribe=xe;else{var o=!0;n.unsubscribe=Mn(e,s=>{o?n.source.v=s:K(n.source,s)}),o=!1}return e&&Ii in r?No(e):$(n.source)}function In(e,t){return e.set(t),t}function nt(){let e={};function t(){be(()=>{for(var r in e)e[r].unsubscribe();le(e,Ii,{enumerable:!1,value:!0})})}return[e,t]}function ga(e){return new Li(e)}var or,dt,Li=class{constructor(t){N(this,or);N(this,dt);var i,s;var r=new Map,n=(a,f)=>{var l=Je(f,!1,!1);return r.set(a,l),l};let o=new Proxy({...t.props||{},$$events:{}},{get(a,f){var l;return $((l=r.get(f))!=null?l:n(f,Reflect.get(a,f)))},has(a,f){var l;return f===zn?!0:($((l=r.get(f))!=null?l:n(f,Reflect.get(a,f))),Reflect.has(a,f))},set(a,f,l){var d;return K((d=r.get(f))!=null?d:n(f,l),l),Reflect.set(a,f,l)}});A(this,dt,(t.hydrate?$i:Ft)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:(i=t.intro)!=null?i:!1,recover:t.recover})),!Te&&(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&Ar(),A(this,or,o.$$events);for(let a of Object.keys(u(this,dt)))a==="$set"||a==="$destroy"||a==="$on"||le(this,a,{get(){return u(this,dt)[a]},set(f){u(this,dt)[a]=f},enumerable:!0});u(this,dt).$set=a=>{Object.assign(o,a)},u(this,dt).$destroy=()=>{er(u(this,dt))}}$set(t){u(this,dt).$set(t)}$on(t,r){u(this,or)[t]=u(this,or)[t]||[];let n=(...o)=>r.call(this,...o);return u(this,or)[t].push(n),()=>{u(this,or)[t]=u(this,or)[t].filter(o=>o!==n)}}$destroy(){u(this,dt).$destroy()}};or=new WeakMap,dt=new WeakMap;var Gf;typeof HTMLElement=="function"&&(Gf=class extends HTMLElement{constructor(t,r,n){super();V(this,"$$ctor");V(this,"$$s");V(this,"$$c");V(this,"$$cn",!1);V(this,"$$d",{});V(this,"$$r",!1);V(this,"$$p_d",{});V(this,"$$l",{});V(this,"$$l_u",new Map);V(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),O(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Wf(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=Pi(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=ga({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=xo(()=>{re(()=>{var o;this.$$r=!0;for(let i of Yo(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];let s=Pi(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Pi(t,n,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Yo(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function Pi(e,t,r,n){var i;let o=(i=r[e])==null?void 0:i.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Wf(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(_){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;fs(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function ba(e){C===null&&Wn("onMount"),Yt&&C.l!==null?Kf(C).m.push(e):en(()=>{let t=I(e);if(typeof t=="function")return t})}function Kf(e){var r;var t=e.l;return(r=t.u)!=null?r:t.u={a:[],b:[],m:[]}}var xa="5";var ya,wa,Ea;typeof window!="undefined"&&((Ea=(wa=(ya=window.__svelte)!=null?ya:window.__svelte={}).v)!=null?Ea:wa.v=new Set).add(xa);xs();var $t=pr(),Ln=pr("Focus Session"),Pn=pr(25),Fn=pr(0),ir=ko(null,e=>{let t,r=$t.subscribe(n=>{n&&(t=n.sessionManager,e(t.getActiveSession()),t.onChange(()=>{e(t.getActiveSession())}))});return()=>{r()}}),Co=Mi(ir,(e,t)=>{if(!e||e.status==="completed"){t(0);return}let r=()=>{if(e.status==="running"){let o=sr(e.duration,e.elapsed,e.status,e.lastResumed);t(o)}else if(e.status==="paused"){let o=sr(e.duration,e.elapsed,e.status,e.lastResumed);t(o)}};r();let n=setInterval(r,1e3);return()=>{clearInterval(n)}},0);var Xf=M('<h3 class="svelte-1mauid4"> </h3> <span> </span>',1),Zf=M('<h3 class="svelte-1mauid4">No active session</h3>'),Jf=M('<div class="session-header svelte-1mauid4"><!></div>'),Qf={hash:"svelte-1mauid4",code:".session-header.svelte-1mauid4 {display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--background-modifier-border);}h3.svelte-1mauid4 {margin:0;}.status-tag.svelte-1mauid4 {padding:4px 8px;border-radius:4px;font-size:0.8em;text-transform:uppercase;font-weight:bold;}.status-tag.running.svelte-1mauid4 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.status-tag.paused.svelte-1mauid4 {background-color:var(--background-modifier-warning);color:var(--text-normal);}.status-tag.completed.svelte-1mauid4 {background-color:var(--background-modifier-success);color:var(--text-on-accent);}"};function Fi(e,t){ve(t,!1),Oe(e,Qf);let r=()=>J(ir,"$session",n),[n,o]=nt();Et();var i=Jf(),s=T(i);{var a=l=>{var d=Xf(),m=pt(d),c=T(m,!0);S(m);var p=L(m,2),h=T(p,!0);S(p),Ce(()=>{var g;de(c,r().name),sn(p,1,`status-tag ${(g=r().status)!=null?g:""}`,"svelte-1mauid4"),de(h,r().status)}),O(l,d)},f=l=>{var d=Zf();O(l,d)};rt(s,l=>{r()?l(a):l(f,!1)})}S(i),O(e,i),he(),o()}var el=M('<div> </div> <div class="progress-bar-container svelte-1a9y1bm"><div class="progress-bar svelte-1a9y1bm"></div></div>',1),tl=M('<input type="text" class="fs-timer-name-input svelte-1a9y1bm" placeholder="Session Name"/>'),rl=M('<div class="fs-timer-name-display svelte-1a9y1bm" role="button" tabindex="0"> </div>'),nl=M('<div class="custom-timer-container svelte-1a9y1bm"><!> <div class="fs-timer-inputs svelte-1a9y1bm"><input type="number" min="0" class="fs-timer-input svelte-1a9y1bm"/> <span class="fs-timer-separator svelte-1a9y1bm">:</span> <input type="number" min="0" max="59" class="fs-timer-input svelte-1a9y1bm"/></div></div>'),ol=M('<div class="session-timer svelte-1a9y1bm"><!></div>'),il={hash:"svelte-1a9y1bm",code:`.session-timer.svelte-1a9y1bm {text-align:center;margin:2rem 0;}.time-display.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);}.progress-bar-container.svelte-1a9y1bm {height:4px;background-color:var(--background-modifier-border);border-radius:2px;margin-top:1rem;overflow:hidden;}.progress-bar.svelte-1a9y1bm {height:100%;background-color:var(--interactive-accent);transition:width 1s linear;}

	/* Custom Timer Styles */.custom-timer-container.svelte-1a9y1bm {display:flex;flex-direction:column;align-items:center;gap:0.5rem;}.fs-timer-name-display.svelte-1a9y1bm {font-size:1.2em;color:var(--text-muted);cursor:pointer;border-bottom:1px dashed transparent;transition:border-color 0.2s,
			color 0.2s;}.fs-timer-name-display.svelte-1a9y1bm:hover {border-bottom-color:var(--text-muted);color:var(--text-normal);}.fs-timer-name-input.svelte-1a9y1bm {font-size:1.2em;text-align:center;background:transparent;border:none;border-bottom:1px solid var(--interactive-accent);color:var(--text-normal);width:200px;}.fs-timer-inputs.svelte-1a9y1bm {display:flex;align-items:center;justify-content:center;gap:0.25rem;}.fs-timer-input.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);background:transparent;border:none;width:5rem; /* Approx width for 2 digits */height:4rem;text-align:center;padding:0;-moz-appearance:textfield;appearance:textfield;}.fs-timer-input.svelte-1a9y1bm:hover {color:var(--interactive-accent);}.fs-timer-input.svelte-1a9y1bm::-webkit-outer-spin-button,
	.fs-timer-input.svelte-1a9y1bm::-webkit-inner-spin-button {-webkit-appearance:none;margin:0;}.fs-timer-input.svelte-1a9y1bm:focus {outline:none;box-shadow:none;color:var(--interactive-accent);}.fs-timer-separator.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);margin-bottom:0.5rem; /* Optical alignment */}`};function Bi(e,t){ve(t,!1),Oe(e,il);let r=()=>J(ir,"$session",a),n=()=>J(Co,"$timeRemaining",a),o=()=>J(Ln,"$draftName",a),i=()=>J(Pn,"$draftMinutes",a),s=()=>J(Fn,"$draftSeconds",a),[a,f]=nt(),l=Je(!1);function d(){K(l,!$(l))}Et();var m=ol(),c=T(m);{var p=g=>{var v=el(),b=pt(v);let P;var U=T(b,!0);S(b);var F=L(b,2),X=T(F);S(F),Ce((Z,x)=>{P=sn(b,1,"time-display svelte-1a9y1bm",null,P,{"is-overtime":n()<0}),de(U,Z),an(X,`width: ${x!=null?x:""}%`)},[()=>_r(n()),()=>Math.min(100,r().elapsed/r().duration*100)]),O(g,v)},h=g=>{var v=nl(),b=T(v);{var P=x=>{var D=tl();On(D),Dn(D,o,Y=>In(Ln,Y)),ae("blur",D,()=>K(l,!1)),O(x,D)},U=x=>{var D=rl(),Y=T(D,!0);S(D),Ce(()=>de(Y,o())),ae("click",D,d),ae("keypress",D,j=>j.key==="Enter"&&d()),O(x,D)};rt(b,x=>{$(l)?x(P):x(U,!1)})}var F=L(b,2),X=T(F);On(X);var Z=L(X,4);On(Z),S(F),S(v),Dn(X,i,x=>In(Pn,x)),Dn(Z,s,x=>In(Fn,x)),O(g,v)};rt(c,g=>{r()?g(p):g(h,!1)})}S(m),O(e,m),he(),f()}var $a=require("obsidian");var ln=class extends $a.Modal{constructor(t,r){super(t),this.sessionManager=r}onOpen(){let{contentEl:t}=this;t.addClass("fs-session-end-modal"),t.createEl("h2",{text:"Focus session completed!"});let r=t.createDiv({cls:"fs-modal-controls"}),n=r.createDiv({cls:"fs-extension-options"});n.createDiv({cls:"fs-label",text:"Need more time?"});let o=n.createDiv({cls:"fs-controls-row"});[{label:"+30s",val:.5},{label:"+1m",val:1},{label:"+5m",val:5}].forEach(a=>{let f=o.createEl("button",{cls:"fs-control-text-btn",text:a.label});f.onclick=()=>{this.sessionManager.addTime(a.val),this.close()}}),r.createDiv({cls:"fs-spacer"});let s=r.createEl("button",{cls:"mod-cta fs-finish-btn",text:"Finish session"});s.onclick=async()=>{await this.sessionManager.stopSession("modal"),this.close()}}onClose(){let{contentEl:t}=this;t.empty();let r=this.sessionManager.getActiveSession();r&&r.status==="completed"&&this.sessionManager.stopSession("modal")}};var qi=require("obsidian"),sl=M('<div class="fs-status-msg svelte-xg6qn1">Session Completed</div> <button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Finish"><div></div></button>',1),al=M('<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Pause"><div></div></button>'),fl=M('<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Resume"><div></div></button>'),ll=M('<button class="fs-control-btn fs-secondary svelte-xg6qn1" aria-label="Stop Session"><div></div></button> <!>',1),cl=M('<button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Short Break"><div></div></button> <button class="fs-control-btn fs-primary fs-large svelte-xg6qn1" aria-label="Start Session"><div></div></button> <button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Long Break"><div></div></button>',1),ul=M('<div class="fs-controls-row fs-mt-2 svelte-xg6qn1"><button class="fs-control-text-btn svelte-xg6qn1">+30s</button> <button class="fs-control-text-btn svelte-xg6qn1">+1m</button> <button class="fs-control-text-btn svelte-xg6qn1">+5m</button></div>'),pl=M('<div class="fs-controls svelte-xg6qn1"><div class="fs-controls-row svelte-xg6qn1"><!></div> <!></div>'),dl={hash:"svelte-xg6qn1",code:".fs-controls.svelte-xg6qn1 {display:flex;flex-direction:column;align-items:center;gap:1rem;}.fs-controls-row.svelte-xg6qn1 {display:flex;gap:1rem;align-items:center;justify-content:center;}.fs-mt-2.svelte-xg6qn1 {margin-top:0.5rem;}.fs-control-btn.svelte-xg6qn1 {display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:none;cursor:pointer;background-color:var(--interactive-normal);color:var(--text-normal);transition:background-color 0.2s;padding:0;}.fs-control-btn.fs-large.svelte-xg6qn1 {width:56px;height:56px;}.fs-control-btn.fs-small.svelte-xg6qn1 {width:32px;height:32px;opacity:0.8;}.fs-control-btn.svelte-xg6qn1:hover {background-color:var(--interactive-hover);opacity:1;}.fs-control-btn.fs-primary.svelte-xg6qn1 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.fs-control-btn.fs-primary.svelte-xg6qn1:hover {background-color:var(--interactive-accent-hover);}.fs-control-text-btn.svelte-xg6qn1 {background:none;border:1px solid var(--background-modifier-border);padding:4px 8px;border-radius:4px;cursor:pointer;font-size:0.8em;color:var(--text-muted);}.fs-control-text-btn.svelte-xg6qn1:hover {background-color:var(--background-modifier-hover);color:var(--text-normal);}.fs-status-msg.svelte-xg6qn1 {font-weight:bold;color:var(--text-success);margin-right:1rem;}"};function Vi(e,t){ve(t,!1),Oe(e,dl);let r=()=>J($t,"$plugin",a),n=()=>J(Pn,"$draftMinutes",a),o=()=>J(Fn,"$draftSeconds",a),i=()=>J(Ln,"$draftName",a),s=()=>J(ir,"$session",a),[a,f]=nt();function l(x,D){return(0,qi.setIcon)(x,D),{update(Y){x.empty(),(0,qi.setIcon)(x,Y)}}}function d(x){r()===null||r()===void 0||r().sessionManager.startSession(x)}function m(){let x=n()*60+o();r()===null||r()===void 0||r().sessionManager.startSession(i(),x)}function c(){r()===null||r()===void 0||r().sessionManager.pauseSession(),new ln(r().app,r().sessionManager).open()}function p(){r()===null||r()===void 0||r().sessionManager.pauseSession()}function h(){r()===null||r()===void 0||r().sessionManager.resumeSession()}function g(x){r()===null||r()===void 0||r().sessionManager.addTime(x)}Et();var v=pl(),b=T(v),P=T(b);{var U=x=>{var D=yi(),Y=pt(D);{var j=Ve=>{var ot=sl(),Ye=L(pt(ot),2),it=T(Ye);nr(it,(st,Ir)=>l==null?void 0:l(st,Ir),()=>"check"),S(Ye),ae("click",Ye,c),O(Ve,ot)},qe=Ve=>{var ot=ll(),Ye=pt(ot),it=T(Ye);nr(it,(fe,De)=>l==null?void 0:l(fe,De),()=>"square"),S(Ye);var st=L(Ye,2);{var Ir=fe=>{var De=al(),Fo=T(De);nr(Fo,(Bo,qo)=>l==null?void 0:l(Bo,qo),()=>"pause"),S(De),ae("click",De,p),O(fe,De)},qn=fe=>{var De=fl(),Fo=T(De);nr(Fo,(Bo,qo)=>l==null?void 0:l(Bo,qo),()=>"play"),S(De),ae("click",De,h),O(fe,De)};rt(st,fe=>{s().status==="running"?fe(Ir):fe(qn,!1)})}ae("click",Ye,c),O(Ve,ot)};rt(Y,Ve=>{s().status==="completed"?Ve(j):Ve(qe,!1)})}O(x,D)},F=x=>{var D=cl(),Y=pt(D),j=T(Y);nr(j,(it,st)=>l==null?void 0:l(it,st),()=>"coffee"),S(Y);var qe=L(Y,2),Ve=T(qe);nr(Ve,(it,st)=>l==null?void 0:l(it,st),()=>"play"),S(qe);var ot=L(qe,2),Ye=T(ot);nr(Ye,(it,st)=>l==null?void 0:l(it,st),()=>"armchair"),S(ot),ae("click",Y,()=>d("Short Break")),ae("click",qe,m),ae("click",ot,()=>d("Long Break")),O(x,D)};rt(P,x=>{s()?x(U):x(F,!1)})}S(b);var X=L(b,2);{var Z=x=>{var D=ul(),Y=T(D),j=L(Y,2),qe=L(j,2);S(D),ae("click",Y,()=>g(.5)),ae("click",j,()=>g(1)),ae("click",qe,()=>g(5)),O(x,D)};rt(X,x=>{s()&&(s().status==="running"||s().status==="paused")&&x(Z)})}S(v),O(e,v),he(),f()}var _l=M('<div class="session-footer svelte-vabpp2"><small> </small></div>'),ml={hash:"svelte-vabpp2",code:".session-footer.svelte-vabpp2 {margin-top:auto;padding-top:1rem;text-align:center;color:var(--text-faint);border-top:1px solid var(--background-modifier-border);}"};function Yi(e,t){ve(t,!1),Oe(e,ml);let r=()=>J($t,"$plugin",n),[n,o]=nt();Et();var i=_l(),s=T(i),a=T(s);S(s),S(i),Ce(()=>{var f,l;return de(a,`v${(l=(f=r())==null?void 0:f.manifest.version)!=null?l:""}`)}),O(e,i),he(),o()}function Sa(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(d){try{l(n.next(d))}catch(m){s(m)}}function f(d){try{l(n.throw(d))}catch(m){s(m)}}function l(d){d.done?i(d.value):o(d.value).then(a,f)}l((n=n.apply(e,t||[])).next())})}var Ta=require("obsidian"),Ro=class extends Ta.Modal{constructor(t,r){super(t),this.sessionData=r}onOpen(){let{contentEl:t}=this;t.addClass("session-details-modal"),t.createEl("h2",{text:"Session details"}),t.createEl("pre").createEl("code",{text:JSON.stringify(this.sessionData,null,2)})}onClose(){let{contentEl:t}=this;t.empty()}};var PS=require("obsidian");var vl=M('<div class="fs-history-item svelte-1ox4dpz" role="button" tabindex="0"><div class="fs-history-icon svelte-1ox4dpz"><div class="fs-status-dot-sm"></div></div> <div class="fs-history-info svelte-1ox4dpz"><div class="fs-history-name svelte-1ox4dpz"> </div> <div class="fs-history-meta svelte-1ox4dpz"> </div></div></div>'),hl=M('<div class="fs-history-empty svelte-1ox4dpz">No recent sessions found</div>'),gl=M('<div class="fs-history svelte-1ox4dpz"><div class="fs-history-header svelte-1ox4dpz">Recent Sessions</div> <div class="fs-history-list svelte-1ox4dpz"></div></div>'),bl={hash:"svelte-1ox4dpz",code:".fs-history.svelte-1ox4dpz {margin-top:24px;width:100%;border-top:1px solid var(--background-modifier-border);padding-top:16px;}.fs-history-header.svelte-1ox4dpz {font-size:12px;font-weight:600;color:var(--text-muted);letter-spacing:0.5px;margin-bottom:12px;text-transform:uppercase;}.fs-history-list.svelte-1ox4dpz {display:flex;flex-direction:column;gap:8px;}.fs-history-item.svelte-1ox4dpz {display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:8px;background-color:var(--background-primary);border:1px solid var(--background-modifier-border);cursor:pointer;transition:all 0.2s;}.fs-history-item.svelte-1ox4dpz:hover {background-color:var(--background-modifier-hover);border-color:var(--interactive-accent);}.fs-history-icon.svelte-1ox4dpz {display:flex;align-items:center;justify-content:center;}.fs-history-info.svelte-1ox4dpz {flex:1;display:flex;flex-direction:column;gap:2px;}.fs-history-name.svelte-1ox4dpz {font-size:13px;font-weight:500;color:var(--text-normal);}.fs-history-meta.svelte-1ox4dpz {font-size:11px;color:var(--text-muted);}.fs-history-empty.svelte-1ox4dpz {text-align:center;color:var(--text-muted);font-size:13px;padding:16px;}"};function Hi(e,t){ve(t,!1),Oe(e,bl);let r=()=>J($t,"$plugin",n),[n,o]=nt(),i=Je(),s=Je([]);function a(){return Sa(this,void 0,void 0,function*(){$(i)&&K(s,yield $(i).getSessionHistory())})}function f(p){new Ro(r().app,p).open()}function l(p){return new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function d(p){var h;if(p.end&&p.start){let g=p.end-p.start;return`${Math.round(g/1e3/60)}m`}return`${((h=p.config)===null||h===void 0?void 0:h.durationMinutes)||"?"}m`}yo(()=>r(),()=>{K(i,r()===null||r()===void 0?void 0:r().sessionManager)}),yo(()=>$(i),()=>{$(i)&&(a(),$(i).onSessionComplete(()=>{setTimeout(a,500)}))}),vi(),Et();var m=gl(),c=L(T(m),2);Ai(c,5,()=>$(s),Ti,(p,h)=>{var g=vl(),v=T(g),b=T(v);S(v);var P=L(v,2),U=T(P),F=T(U,!0);S(U);var X=L(U,2),Z=T(X);S(X),S(P),S(g),Ce((x,D)=>{var Y;an(b,`background-color: ${(Y=($(h),I(()=>$(h).end?"var(--text-muted)":"var(--interactive-accent)")))!=null?Y:""}`),de(F,($(h),I(()=>{var j;return((j=$(h).config)==null?void 0:j.name)||"Untitled Session"}))),de(Z,`${x!=null?x:""} \u2022 ${D!=null?D:""}`)},[()=>($(h),I(()=>l($(h).start))),()=>($(h),I(()=>d($(h))))]),ae("click",g,()=>f($(h))),ae("keydown",g,x=>(x.key==="Enter"||x.key===" ")&&f($(h))),O(p,g)},p=>{var h=hl();O(p,h)}),S(c),S(m),O(e,m),he(),o()}var xl=M('<div class="focus-session-container svelte-76swht"><!> <!> <!> <!> <!></div>'),yl={hash:"svelte-76swht",code:".focus-session-container.svelte-76swht {display:flex;flex-direction:column;height:100%;padding:1rem;}"};function Ui(e){Oe(e,yl);var t=xl(),r=T(t);Fi(r,{});var n=L(r,2);Bi(n,{});var o=L(n,2);Vi(o,{});var i=L(o,2);Hi(i,{});var s=L(i,2);Yi(s,{}),S(t),O(e,t)}var Bn="focus-session-view",Oo=class extends Aa.ItemView{constructor(r,n,o){super(r);this.component=null;this.sessionManager=n,this.pluginVersion=o}getViewType(){return Bn}getDisplayText(){return"Focus sessions"}async onOpen(){let r=this.contentEl;r.empty(),r.addClass("focus-session-view"),this.component=Ft(Ui,{target:r})}async onClose(){this.component&&er(this.component)}};var ka=require("obsidian");var wl=M('<h2> </h2> <div class="stats svelte-1fktv0t"><p> </p> <p> </p></div> <button class="mod-warning svelte-1fktv0t">Stop session</button>',1),El=M("<h2>No active session</h2> <p>Go to the side panel to start a new session.</p>",1),$l=M('<div class="session-modal-content svelte-1fktv0t"><!></div>'),Sl={hash:"svelte-1fktv0t",code:".session-modal-content.svelte-1fktv0t {text-align:center;padding:1rem;}.stats.svelte-1fktv0t {margin:1.5rem 0;font-size:1.1em;}button.svelte-1fktv0t {cursor:pointer;}"};function ji(e,t){ve(t,!0),Oe(e,Sl);let r=()=>J($t,"$plugin",i),n=()=>J(ir,"$session",i),o=()=>J(Co,"$timeRemaining",i),[i,s]=nt();function a(){r()===null||r()===void 0||r().sessionManager.stopSession(),t.close()}var f=$l(),l=T(f);{var d=c=>{var p=wl(),h=pt(p),g=T(h,!0);S(h);var v=L(h,2),b=T(v),P=T(b);S(b);var U=L(b,2),F=T(U);S(U),S(v);var X=L(v,2);X.__click=a,Ce((Z,x)=>{de(g,n().name),de(P,`Duration: ${Z!=null?Z:""}`),de(F,`Time remaining: ${x!=null?x:""}`)},[()=>_r(n().duration),()=>_r(o())]),O(c,p)},m=c=>{var p=El();yr(2),O(c,p)};rt(l,c=>{n()?c(d):c(m,!1)})}S(f),O(e,f),he(),s()}tn(["click"]);var Do=class extends ka.Modal{constructor(r){super(r);this.component=null}onOpen(){this.component=Ft(ji,{target:this.contentEl,props:{close:()=>this.close()}})}onClose(){this.component&&er(this.component),this.contentEl.empty()}};var Ca=require("obsidian");var Na=require("obsidian"),Tl=M(`<div class="svelte-modal-content"><h2></h2> <p>This is a reactive Svelte 5 component using Runes.</p> <div class="counter-section"><p>Count: <strong> </strong></p> <button>Increment</button></div> <style>.svelte-modal-content {
			padding: 1rem;
			text-align: center;
		}
		.counter-section {
			margin-top: 2rem;
			padding: 1rem;
			background-color: var(--background-secondary);
			border-radius: 8px;
		}
		button {
			margin-top: 1rem;
			cursor: pointer;
		}</style></div>`);function zi(e,t){ve(t,!0);let r=ut(0),n="Hello Svelte 5!";function o(){K(r,$(r)+1),new Na.Notice(`Count is now ${$(r)}`)}ba(()=>{console.log("Svelte 5 component mounted in app:",t.app)});var i=Tl(),s=T(i);s.textContent="Hello Svelte 5!";var a=L(s,4),f=T(a),l=L(T(f)),d=T(l,!0);S(l),S(f);var m=L(f,2);m.__click=o,S(a),yr(2),S(i),Ce(()=>de(d,$(r))),O(e,i),he()}tn(["click"]);var Mo=class extends Ca.Modal{constructor(r){super(r);this.component=null}onOpen(){let{contentEl:r}=this;r.empty(),this.component=Ft(zi,{target:r,props:{app:this.app}})}onClose(){let{contentEl:r}=this;this.component&&er(this.component),r.empty()}};var Ra={focusDuration:25,shortBreakDuration:5,longBreakDuration:15,enableSound:!0};var cn=require("obsidian");var Io=class extends cn.PluginSettingTab{constructor(t,r){super(t,r),this.plugin=r}display(){let{containerEl:t}=this;t.empty(),new cn.Setting(t).setName("Focus duration (minutes)").setDesc("The length of a focus session.").addSlider(r=>r.setLimits(1,120,1).setValue(this.plugin.settings.focusDuration).setDynamicTooltip().onChange(async n=>{this.plugin.settings.focusDuration=n,await this.plugin.saveSettings()})),new cn.Setting(t).setName("Short break duration (minutes)").setDesc("The length of a short break.").addSlider(r=>r.setLimits(1,30,1).setValue(this.plugin.settings.shortBreakDuration).setDynamicTooltip().onChange(async n=>{this.plugin.settings.shortBreakDuration=n,await this.plugin.saveSettings()})),new cn.Setting(t).setName("Long break duration (minutes)").setDesc("The length of a long break.").addSlider(r=>r.setLimits(1,60,1).setValue(this.plugin.settings.longBreakDuration).setDynamicTooltip().onChange(async n=>{this.plugin.settings.longBreakDuration=n,await this.plugin.saveSettings()}))}};var E0=require("obsidian"),Lo=class{constructor(t){this.app=t}getApi(){var t;return(t=this.app.plugins.getPlugin("obsidian-hub-plugin"))==null?void 0:t.api}isAvailable(){return!!this.getApi()}async startSession(t,r,n){let o=this.getApi();return o?await o.sessions.startSession({durationMinutes:r,durationSeconds:n!=null?n:r*60,name:t,metadata:{source:"obsidian-focus-sessions"}}):null}async endSession(){let t=this.getApi();t&&await t.sessions.endSession()}async getActiveSession(){return this.getApi(),null}async asyncRecoverActiveSession(){var n,o;if(!this.getApi())return null;let r=this.app.plugins.getPlugin("obsidian-hub-plugin");if(r&&((n=r.settings)!=null&&n.activeSession)){let i=r.settings.activeSession,s=(o=i.config.durationSeconds)!=null?o:i.config.durationMinutes*60;return{id:i.id,startTime:i.startTime,duration:s/60,name:i.config.name}}return null}async getRecentSessions(t=10){let r=this.getApi();return r?(await r.sessions.getSessionHistory(7)).slice(0,t):[]}async getSessionContext(t){let r=this.getApi();return r?await r.sessions.getSessionContext(t):null}};var Po=class extends Oa.Plugin{async onload(){await this.loadSettings(),$t.set(this),this.hubService=new Lo(this.app),this.audioService=new Yn(this.settings.enableSound),this.sessionManager=new Hn(this.app,this.settings,this.audioService,this.hubService),this.registerView(Bn,t=>new Oo(t,this.sessionManager,this.manifest.version)),this.addRibbonIcon("clock","Open focus sessions",()=>{this.activateView()}),this.addCommand({id:"open-test-svelte-modal",name:"Open test svelte modal",callback:()=>{new Mo(this.app).open()}}),this.statusBarItemEl=this.addStatusBarItem(),this.updateStatusBar(),this.sessionManager.onChange(()=>{this.updateStatusBar()}),this.sessionManager.onSessionComplete((t,r)=>{r!=="modal"&&new ln(this.app,this.sessionManager).open()}),this.registerInterval(window.setInterval(()=>{this.sessionManager.tick(),this.updateStatusBar()},1e3)),this.statusBarItemEl.addClass("mod-clickable"),this.statusBarItemEl.onClickEvent(()=>{new Do(this.app).open()}),this.addSettingTab(new Io(this.app,this))}async loadSettings(){this.settings=Object.assign({},Ra,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}onunload(){}updateStatusBar(){let t=this.sessionManager.getActiveSession();if(t){let r=sr(t.duration,t.elapsed,t.status,t.lastResumed),n=_r(r);this.statusBarItemEl.setText(`${t.name} (${n})`)}else this.statusBarItemEl.setText("")}async activateView(){let{workspace:t}=this.app,r=null,n=t.getLeavesOfType(Bn);if(n.length>0)r=n[0];else{let o=t.getRightLeaf(!1);o&&(r=o,await r.setViewState({type:Bn,active:!0}))}r&&t.revealLeaf(r)}};
