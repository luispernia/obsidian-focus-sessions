/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __defNormalProp = (obj, key2, value) => key2 in obj ? __defProp(obj, key2, { enumerable: true, configurable: true, writable: true, value }) : obj[key2] = value;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key2 of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key2) && key2 !== except)
        __defProp(to, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key2, value) => __defNormalProp(obj, typeof key2 !== "symbol" ? key2 + "" : key2, value);
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FocusSessionsPlugin2
});
module.exports = __toCommonJS(main_exports);
var import_obsidian11 = require("obsidian");

// src/services/audio-service.ts
var AudioService = class {
  constructor(enabled = true) {
    this.audioContext = null;
    this.enabled = true;
    this.activeOscillators = [];
    this.loopInterval = null;
    this.enabled = enabled;
  }
  setEnabled(enabled) {
    this.enabled = enabled;
  }
  getContext() {
    if (!this.audioContext) {
      this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
    }
    return this.audioContext;
  }
  playTone(freq, type, duration, startTime = 0) {
    if (!this.enabled) return;
    const ctx = this.getContext();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.type = type;
    osc.frequency.setValueAtTime(freq, ctx.currentTime + startTime);
    gain.gain.setValueAtTime(0.1, ctx.currentTime + startTime);
    gain.gain.exponentialRampToValueAtTime(1e-5, ctx.currentTime + startTime + duration);
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.start(ctx.currentTime + startTime);
    osc.stop(ctx.currentTime + startTime + duration);
    this.activeOscillators.push(osc);
    osc.onended = () => {
      this.activeOscillators = this.activeOscillators.filter((o) => o !== osc);
    };
  }
  playStart() {
    this.stopAlarm();
    this.playTone(880, "sine", 0.5);
  }
  playPause() {
    this.stopAlarm();
    this.playTone(440, "sine", 0.1);
    this.playTone(330, "sine", 0.3, 0.1);
  }
  playResume() {
    this.stopAlarm();
    this.playTone(330, "sine", 0.1);
    this.playTone(440, "sine", 0.3, 0.1);
  }
  playComplete(loop2 = false) {
    this.stopAlarm();
    const playMelody = () => {
      const now = 0;
      this.playTone(523.25, "sine", 0.2, now);
      this.playTone(659.25, "sine", 0.2, now + 0.2);
      this.playTone(783.99, "sine", 0.2, now + 0.4);
      this.playTone(1046.5, "sine", 0.6, now + 0.6);
    };
    playMelody();
    if (loop2) {
      this.loopInterval = window.setInterval(playMelody, 2e3);
    }
  }
  stopAlarm() {
    if (this.loopInterval) {
      window.clearInterval(this.loopInterval);
      this.loopInterval = null;
    }
    this.activeOscillators.forEach((osc) => {
      try {
        osc.stop();
      } catch (e) {
      }
    });
    this.activeOscillators = [];
  }
};

// src/utils/time-utils.ts
var formatDuration = (seconds) => {
  const m = Math.floor(seconds / 60);
  const s = seconds % 60;
  return `${m}:${s.toString().padStart(2, "0")}`;
};
var getRemainingTime = (durationSeconds, elapsed, status, lastResumed) => {
  if (status === "completed") return 0;
  const totalSec = durationSeconds;
  let currentElapsed = elapsed;
  if (status === "running") {
    const now = Date.now();
    const additional = Math.floor((now - lastResumed) / 1e3);
    currentElapsed += additional;
  }
  return Math.max(0, totalSec - currentElapsed);
};

// src/services/session-manager.ts
var SessionManager = class {
  constructor(settings, audioService, hubService) {
    this.activeSession = null;
    this.listeners = [];
    this.completionListeners = [];
    this.settings = settings;
    this.audioService = audioService;
    this.hubService = hubService;
    this.audioService.setEnabled(settings.enableSound !== false);
    this.customDuration = settings.focusDuration;
    this.restoreSession();
  }
  async restoreSession() {
    for (let i = 0; i < 10; i++) {
      if (this.hubService.isAvailable()) {
        const hubSession = await this.hubService.asyncRecoverActiveSession();
        if (hubSession) {
          this.activeSession = {
            name: hubSession.name || "Focus Session",
            duration: hubSession.duration * 60,
            startTime: hubSession.startTime,
            status: "running",
            elapsed: 0,
            lastResumed: hubSession.startTime
          };
          console.log("[FocusSessions] Restored session from Hub:", this.activeSession);
          this.notifyListeners();
        }
        return;
      }
      await new Promise((resolve) => setTimeout(resolve, 500));
    }
  }
  setCustomDuration(minutes) {
    this.customDuration = Math.max(1, minutes);
    this.notifyListeners();
  }
  getCustomDuration() {
    return this.customDuration;
  }
  async startSession(name, durationSeconds) {
    const now = Date.now();
    let duration = durationSeconds;
    if (duration === void 0) {
      if (name === "Short Break") {
        duration = this.settings.shortBreakDuration * 60;
      } else if (name === "Long Break") {
        duration = this.settings.longBreakDuration * 60;
      } else {
        duration = this.customDuration * 60;
      }
    }
    this.activeSession = {
      name,
      duration,
      startTime: now,
      status: "running",
      elapsed: 0,
      lastResumed: now
    };
    if (this.hubService.isAvailable()) {
      await this.hubService.startSession(name, Math.ceil(duration / 60));
    }
    this.audioService.playStart();
    this.notifyListeners();
  }
  pauseSession() {
    if (this.activeSession && this.activeSession.status === "running") {
      const now = Date.now();
      const elapsedSinceLastResume = Math.floor((now - this.activeSession.lastResumed) / 1e3);
      this.activeSession.elapsed += elapsedSinceLastResume;
      this.activeSession.status = "paused";
      this.audioService.playPause();
      this.notifyListeners();
    }
  }
  resumeSession() {
    if (this.activeSession && this.activeSession.status === "paused") {
      this.activeSession.status = "running";
      this.activeSession.lastResumed = Date.now();
      this.audioService.playResume();
      this.notifyListeners();
    }
  }
  async stopSession() {
    this.audioService.stopAlarm();
    this.activeSession = null;
    if (this.hubService.isAvailable()) {
      await this.hubService.endSession();
    }
    this.notifyListeners();
  }
  resetSession() {
    if (this.activeSession) {
      this.audioService.stopAlarm();
      const now = Date.now();
      this.activeSession.elapsed = 0;
      this.activeSession.lastResumed = now;
      this.activeSession.startTime = now;
      this.activeSession.status = "running";
      this.notifyListeners();
    }
  }
  addTime(minutes) {
    if (this.activeSession) {
      this.activeSession.duration += minutes * 60;
      if (this.activeSession.status === "completed") {
        this.audioService.stopAlarm();
        this.activeSession.status = "running";
        this.activeSession.lastResumed = Date.now();
      }
      this.notifyListeners();
    }
  }
  tick() {
    if (this.activeSession && this.activeSession.status === "running") {
      const remaining = getRemainingTime(
        this.activeSession.duration,
        this.activeSession.elapsed,
        this.activeSession.status,
        this.activeSession.lastResumed
      );
      if (remaining <= 0) {
        this.completeSession();
      }
    }
  }
  async completeSession() {
    if (this.activeSession) {
      const session2 = this.activeSession;
      session2.status = "completed";
      this.audioService.playComplete(true);
      this.notifyListeners();
      this.notifyCompletion(session2);
      if (this.hubService.isAvailable()) {
        await this.hubService.endSession();
      }
    }
  }
  getActiveSession() {
    return this.activeSession;
  }
  async getSessionHistory(limit = 10) {
    if (!this.hubService.isAvailable()) return [];
    return this.hubService.getRecentSessions(limit);
  }
  onChange(callback) {
    this.listeners.push(callback);
  }
  onSessionComplete(callback) {
    this.completionListeners.push(callback);
  }
  removeListener(callback) {
    this.listeners = this.listeners.filter((l) => l !== callback);
  }
  notifyListeners() {
    this.listeners.forEach((callback) => callback());
  }
  notifyCompletion(session2) {
    this.completionListeners.forEach((callback) => callback(session2));
  }
};

// src/ui/focus-session-view.ts
var import_obsidian4 = require("obsidian");

// node_modules/esm-env/dev-fallback.js
var _a, _b;
var node_env = (_b = (_a = globalThis.process) == null ? void 0 : _a.env) == null ? void 0 : _b.NODE_ENV;
var dev_fallback_default = node_env && !node_env.toLowerCase().startsWith("prod");

// node_modules/svelte/src/internal/shared/utils.js
var is_array = Array.isArray;
var index_of = Array.prototype.indexOf;
var array_from = Array.from;
var object_keys = Object.keys;
var define_property = Object.defineProperty;
var get_descriptor = Object.getOwnPropertyDescriptor;
var get_descriptors = Object.getOwnPropertyDescriptors;
var object_prototype = Object.prototype;
var array_prototype = Array.prototype;
var get_prototype_of = Object.getPrototypeOf;
var is_extensible = Object.isExtensible;
var noop = () => {
};
function run(fn) {
  return fn();
}
function run_all(arr) {
  for (var i = 0; i < arr.length; i++) {
    arr[i]();
  }
}
function deferred() {
  var resolve;
  var reject;
  var promise = new Promise((res, rej) => {
    resolve = res;
    reject = rej;
  });
  return { promise, resolve, reject };
}

// node_modules/svelte/src/internal/client/constants.js
var DERIVED = 1 << 1;
var EFFECT = 1 << 2;
var RENDER_EFFECT = 1 << 3;
var MANAGED_EFFECT = 1 << 24;
var BLOCK_EFFECT = 1 << 4;
var BRANCH_EFFECT = 1 << 5;
var ROOT_EFFECT = 1 << 6;
var BOUNDARY_EFFECT = 1 << 7;
var CONNECTED = 1 << 9;
var CLEAN = 1 << 10;
var DIRTY = 1 << 11;
var MAYBE_DIRTY = 1 << 12;
var INERT = 1 << 13;
var DESTROYED = 1 << 14;
var EFFECT_RAN = 1 << 15;
var EFFECT_TRANSPARENT = 1 << 16;
var EAGER_EFFECT = 1 << 17;
var HEAD_EFFECT = 1 << 18;
var EFFECT_PRESERVED = 1 << 19;
var USER_EFFECT = 1 << 20;
var EFFECT_OFFSCREEN = 1 << 25;
var WAS_MARKED = 1 << 15;
var REACTION_IS_UPDATING = 1 << 21;
var ASYNC = 1 << 22;
var ERROR_VALUE = 1 << 23;
var STATE_SYMBOL = Symbol("$state");
var LEGACY_PROPS = Symbol("legacy props");
var LOADING_ATTR_SYMBOL = Symbol("");
var PROXY_PATH_SYMBOL = Symbol("proxy path");
var STALE_REACTION = new class StaleReactionError extends Error {
  constructor() {
    super(...arguments);
    __publicField(this, "name", "StaleReactionError");
    __publicField(this, "message", "The reaction that called `getAbortSignal()` was re-run or destroyed");
  }
}();
var TEXT_NODE = 3;
var COMMENT_NODE = 8;

// node_modules/svelte/src/internal/shared/errors.js
function lifecycle_outside_component(name) {
  if (dev_fallback_default) {
    const error = new Error(`lifecycle_outside_component
\`${name}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/lifecycle_outside_component`);
  }
}

// node_modules/svelte/src/internal/client/errors.js
function async_derived_orphan() {
  if (dev_fallback_default) {
    const error = new Error(`async_derived_orphan
Cannot create a \`$derived(...)\` with an \`await\` expression outside of an effect tree
https://svelte.dev/e/async_derived_orphan`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/async_derived_orphan`);
  }
}
function bind_invalid_checkbox_value() {
  if (dev_fallback_default) {
    const error = new Error(`bind_invalid_checkbox_value
Using \`bind:value\` together with a checkbox input is not allowed. Use \`bind:checked\` instead
https://svelte.dev/e/bind_invalid_checkbox_value`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/bind_invalid_checkbox_value`);
  }
}
function derived_references_self() {
  if (dev_fallback_default) {
    const error = new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/derived_references_self`);
  }
}
function effect_in_teardown(rune) {
  if (dev_fallback_default) {
    const error = new Error(`effect_in_teardown
\`${rune}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_in_teardown`);
  }
}
function effect_in_unowned_derived() {
  if (dev_fallback_default) {
    const error = new Error(`effect_in_unowned_derived
Effect cannot be created inside a \`$derived\` value that was not itself created inside an effect
https://svelte.dev/e/effect_in_unowned_derived`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_in_unowned_derived`);
  }
}
function effect_orphan(rune) {
  if (dev_fallback_default) {
    const error = new Error(`effect_orphan
\`${rune}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_orphan`);
  }
}
function effect_update_depth_exceeded() {
  if (dev_fallback_default) {
    const error = new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/effect_update_depth_exceeded`);
  }
}
function hydration_failed() {
  if (dev_fallback_default) {
    const error = new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/hydration_failed`);
  }
}
function rune_outside_svelte(rune) {
  if (dev_fallback_default) {
    const error = new Error(`rune_outside_svelte
The \`${rune}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/rune_outside_svelte`);
  }
}
function state_descriptors_fixed() {
  if (dev_fallback_default) {
    const error = new Error(`state_descriptors_fixed
Property descriptors defined on \`$state\` objects must contain \`value\` and always be \`enumerable\`, \`configurable\` and \`writable\`.
https://svelte.dev/e/state_descriptors_fixed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_descriptors_fixed`);
  }
}
function state_prototype_fixed() {
  if (dev_fallback_default) {
    const error = new Error(`state_prototype_fixed
Cannot set prototype of \`$state\` object
https://svelte.dev/e/state_prototype_fixed`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_prototype_fixed`);
  }
}
function state_unsafe_mutation() {
  if (dev_fallback_default) {
    const error = new Error(`state_unsafe_mutation
Updating state inside \`$derived(...)\`, \`$inspect(...)\` or a template expression is forbidden. If the value should not be reactive, declare it without \`$state\`
https://svelte.dev/e/state_unsafe_mutation`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/state_unsafe_mutation`);
  }
}
function svelte_boundary_reset_onerror() {
  if (dev_fallback_default) {
    const error = new Error(`svelte_boundary_reset_onerror
A \`<svelte:boundary>\` \`reset\` function cannot be called while an error is still being handled
https://svelte.dev/e/svelte_boundary_reset_onerror`);
    error.name = "Svelte error";
    throw error;
  } else {
    throw new Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`);
  }
}

// node_modules/svelte/src/constants.js
var EACH_ITEM_REACTIVE = 1;
var EACH_INDEX_REACTIVE = 1 << 1;
var EACH_IS_CONTROLLED = 1 << 2;
var EACH_IS_ANIMATED = 1 << 3;
var EACH_ITEM_IMMUTABLE = 1 << 4;
var PROPS_IS_RUNES = 1 << 1;
var PROPS_IS_UPDATED = 1 << 2;
var PROPS_IS_BINDABLE = 1 << 3;
var PROPS_IS_LAZY_INITIAL = 1 << 4;
var TRANSITION_OUT = 1 << 1;
var TRANSITION_GLOBAL = 1 << 2;
var TEMPLATE_FRAGMENT = 1;
var TEMPLATE_USE_IMPORT_NODE = 1 << 1;
var TEMPLATE_USE_SVG = 1 << 2;
var TEMPLATE_USE_MATHML = 1 << 3;
var HYDRATION_START = "[";
var HYDRATION_START_ELSE = "[!";
var HYDRATION_END = "]";
var HYDRATION_ERROR = {};
var ELEMENT_PRESERVE_ATTRIBUTE_CASE = 1 << 1;
var ELEMENT_IS_INPUT = 1 << 2;
var UNINITIALIZED = Symbol();
var FILENAME = Symbol("filename");
var HMR = Symbol("hmr");
var NAMESPACE_HTML = "http://www.w3.org/1999/xhtml";

// node_modules/svelte/src/internal/client/warnings.js
var bold = "font-weight: bold";
var normal = "font-weight: normal";
function await_waterfall(name, location) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] await_waterfall
%cAn async derived, \`${name}\` (${location}) was not read immediately after it resolved. This often indicates an unnecessary waterfall, which can slow down your app
https://svelte.dev/e/await_waterfall`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/await_waterfall`);
  }
}
function hydration_attribute_changed(attribute, html2, value) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${attribute}\` attribute on \`${html2}\` changed its value between server and client renders. The client value, \`${value}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/hydration_attribute_changed`);
  }
}
function hydration_mismatch(location) {
  if (dev_fallback_default) {
    console.warn(
      `%c[svelte] hydration_mismatch
%c${location ? `Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${location}` : "Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,
      bold,
      normal
    );
  } else {
    console.warn(`https://svelte.dev/e/hydration_mismatch`);
  }
}
function lifecycle_double_unmount() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/lifecycle_double_unmount`);
  }
}
function state_proxy_equality_mismatch(operator) {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${operator}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/state_proxy_equality_mismatch`);
  }
}
function state_proxy_unmount() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/state_proxy_unmount`);
  }
}
function svelte_boundary_reset_noop() {
  if (dev_fallback_default) {
    console.warn(`%c[svelte] svelte_boundary_reset_noop
%cA \`<svelte:boundary>\` \`reset\` function only resets the boundary the first time it is called
https://svelte.dev/e/svelte_boundary_reset_noop`, bold, normal);
  } else {
    console.warn(`https://svelte.dev/e/svelte_boundary_reset_noop`);
  }
}

// node_modules/svelte/src/internal/client/dom/hydration.js
var hydrating = false;
function set_hydrating(value) {
  hydrating = value;
}
var hydrate_node;
function set_hydrate_node(node) {
  if (node === null) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  return hydrate_node = node;
}
function hydrate_next() {
  return set_hydrate_node(get_next_sibling(hydrate_node));
}
function reset(node) {
  if (!hydrating) return;
  if (get_next_sibling(hydrate_node) !== null) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  hydrate_node = node;
}
function next(count = 1) {
  if (hydrating) {
    var i = count;
    var node = hydrate_node;
    while (i--) {
      node = /** @type {TemplateNode} */
      get_next_sibling(node);
    }
    hydrate_node = node;
  }
}
function skip_nodes(remove = true) {
  var depth = 0;
  var node = hydrate_node;
  while (true) {
    if (node.nodeType === COMMENT_NODE) {
      var data = (
        /** @type {Comment} */
        node.data
      );
      if (data === HYDRATION_END) {
        if (depth === 0) return node;
        depth -= 1;
      } else if (data === HYDRATION_START || data === HYDRATION_START_ELSE) {
        depth += 1;
      }
    }
    var next2 = (
      /** @type {TemplateNode} */
      get_next_sibling(node)
    );
    if (remove) node.remove();
    node = next2;
  }
}
function read_hydration_instruction(node) {
  if (!node || node.nodeType !== COMMENT_NODE) {
    hydration_mismatch();
    throw HYDRATION_ERROR;
  }
  return (
    /** @type {Comment} */
    node.data
  );
}

// node_modules/svelte/src/internal/client/reactivity/equality.js
function equals(value) {
  return value === this.v;
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || a !== null && typeof a === "object" || typeof a === "function";
}
function safe_equals(value) {
  return !safe_not_equal(value, this.v);
}

// node_modules/svelte/src/internal/flags/index.js
var async_mode_flag = false;
var legacy_mode_flag = false;
var tracing_mode_flag = false;
function enable_legacy_mode_flag() {
  legacy_mode_flag = true;
}

// node_modules/svelte/src/internal/client/dev/tracing.js
var tracing_expressions = null;
function tag(source2, label) {
  source2.label = label;
  tag_proxy(source2.v, label);
  return source2;
}
function tag_proxy(value, label) {
  var _a3;
  (_a3 = value == null ? void 0 : value[PROXY_PATH_SYMBOL]) == null ? void 0 : _a3.call(value, label);
  return value;
}

// node_modules/svelte/src/internal/shared/dev.js
function get_error(label) {
  const error = new Error();
  const stack2 = get_stack();
  if (stack2.length === 0) {
    return null;
  }
  stack2.unshift("\n");
  define_property(error, "stack", {
    value: stack2.join("\n")
  });
  define_property(error, "name", {
    value: label
  });
  return (
    /** @type {Error & { stack: string }} */
    error
  );
}
function get_stack() {
  const limit = Error.stackTraceLimit;
  Error.stackTraceLimit = Infinity;
  const stack2 = new Error().stack;
  Error.stackTraceLimit = limit;
  if (!stack2) return [];
  const lines = stack2.split("\n");
  const new_lines = [];
  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    const posixified = line.replaceAll("\\", "/");
    if (line.trim() === "Error") {
      continue;
    }
    if (line.includes("validate_each_keys")) {
      return [];
    }
    if (posixified.includes("svelte/src/internal") || posixified.includes("node_modules/.vite")) {
      continue;
    }
    new_lines.push(line);
  }
  return new_lines;
}

// node_modules/svelte/src/internal/client/context.js
var component_context = null;
function set_component_context(context) {
  component_context = context;
}
var dev_stack = null;
function set_dev_stack(stack2) {
  dev_stack = stack2;
}
var dev_current_component_function = null;
function set_dev_current_component_function(fn) {
  dev_current_component_function = fn;
}
function push(props, runes = false, fn) {
  component_context = {
    p: component_context,
    i: false,
    c: null,
    e: null,
    s: props,
    x: null,
    l: legacy_mode_flag && !runes ? { s: null, u: null, $: [] } : null
  };
  if (dev_fallback_default) {
    component_context.function = fn;
    dev_current_component_function = fn;
  }
}
function pop(component2) {
  var _a3;
  var context = (
    /** @type {ComponentContext} */
    component_context
  );
  var effects = context.e;
  if (effects !== null) {
    context.e = null;
    for (var fn of effects) {
      create_user_effect(fn);
    }
  }
  if (component2 !== void 0) {
    context.x = component2;
  }
  context.i = true;
  component_context = context.p;
  if (dev_fallback_default) {
    dev_current_component_function = (_a3 = component_context == null ? void 0 : component_context.function) != null ? _a3 : null;
  }
  return component2 != null ? component2 : (
    /** @type {T} */
    {}
  );
}
function is_runes() {
  return !legacy_mode_flag || component_context !== null && component_context.l === null;
}

// node_modules/svelte/src/internal/client/dom/task.js
var micro_tasks = [];
function run_micro_tasks() {
  var tasks = micro_tasks;
  micro_tasks = [];
  run_all(tasks);
}
function queue_micro_task(fn) {
  if (micro_tasks.length === 0 && !is_flushing_sync) {
    var tasks = micro_tasks;
    queueMicrotask(() => {
      if (tasks === micro_tasks) run_micro_tasks();
    });
  }
  micro_tasks.push(fn);
}
function flush_tasks() {
  while (micro_tasks.length > 0) {
    run_micro_tasks();
  }
}

// node_modules/svelte/src/internal/client/error-handling.js
var adjustments = /* @__PURE__ */ new WeakMap();
function handle_error(error) {
  var effect2 = active_effect;
  if (effect2 === null) {
    active_reaction.f |= ERROR_VALUE;
    return error;
  }
  if (dev_fallback_default && error instanceof Error && !adjustments.has(error)) {
    adjustments.set(error, get_adjustments(error, effect2));
  }
  if ((effect2.f & EFFECT_RAN) === 0) {
    if ((effect2.f & BOUNDARY_EFFECT) === 0) {
      if (dev_fallback_default && !effect2.parent && error instanceof Error) {
        apply_adjustments(error);
      }
      throw error;
    }
    effect2.b.error(error);
  } else {
    invoke_error_boundary(error, effect2);
  }
}
function invoke_error_boundary(error, effect2) {
  while (effect2 !== null) {
    if ((effect2.f & BOUNDARY_EFFECT) !== 0) {
      try {
        effect2.b.error(error);
        return;
      } catch (e) {
        error = e;
      }
    }
    effect2 = effect2.parent;
  }
  if (dev_fallback_default && error instanceof Error) {
    apply_adjustments(error);
  }
  throw error;
}
function get_adjustments(error, effect2) {
  var _a3, _b3, _c2;
  const message_descriptor = get_descriptor(error, "message");
  if (message_descriptor && !message_descriptor.configurable) return;
  var indent = is_firefox ? "  " : "	";
  var component_stack = `
${indent}in ${((_a3 = effect2.fn) == null ? void 0 : _a3.name) || "<unknown>"}`;
  var context = effect2.ctx;
  while (context !== null) {
    component_stack += `
${indent}in ${(_b3 = context.function) == null ? void 0 : _b3[FILENAME].split("/").pop()}`;
    context = context.p;
  }
  return {
    message: error.message + `
${component_stack}
`,
    stack: (_c2 = error.stack) == null ? void 0 : _c2.split("\n").filter((line) => !line.includes("svelte/src/internal")).join("\n")
  };
}
function apply_adjustments(error) {
  const adjusted = adjustments.get(error);
  if (adjusted) {
    define_property(error, "message", {
      value: adjusted.message
    });
    define_property(error, "stack", {
      value: adjusted.stack
    });
  }
}

// node_modules/svelte/src/internal/client/reactivity/status.js
var STATUS_MASK = ~(DIRTY | MAYBE_DIRTY | CLEAN);
function set_signal_status(signal, status) {
  signal.f = signal.f & STATUS_MASK | status;
}
function update_derived_status(derived3) {
  if ((derived3.f & CONNECTED) !== 0 || derived3.deps === null) {
    set_signal_status(derived3, CLEAN);
  } else {
    set_signal_status(derived3, MAYBE_DIRTY);
  }
}

// node_modules/svelte/src/internal/client/reactivity/utils.js
function clear_marked(deps) {
  if (deps === null) return;
  for (const dep of deps) {
    if ((dep.f & DERIVED) === 0 || (dep.f & WAS_MARKED) === 0) {
      continue;
    }
    dep.f ^= WAS_MARKED;
    clear_marked(
      /** @type {Derived} */
      dep.deps
    );
  }
}
function defer_effect(effect2, dirty_effects, maybe_dirty_effects) {
  if ((effect2.f & DIRTY) !== 0) {
    dirty_effects.add(effect2);
  } else if ((effect2.f & MAYBE_DIRTY) !== 0) {
    maybe_dirty_effects.add(effect2);
  }
  clear_marked(effect2.deps);
  set_signal_status(effect2, CLEAN);
}

// node_modules/svelte/src/internal/client/reactivity/batch.js
var batches = /* @__PURE__ */ new Set();
var current_batch = null;
var previous_batch = null;
var batch_values = null;
var queued_root_effects = [];
var last_scheduled_effect = null;
var is_flushing = false;
var is_flushing_sync = false;
var _commit_callbacks, _discard_callbacks, _pending, _blocking_pending, _deferred, _dirty_effects, _maybe_dirty_effects, _Batch_instances, traverse_effect_tree_fn, defer_effects_fn, resolve_fn, commit_fn;
var _Batch = class _Batch {
  constructor() {
    __privateAdd(this, _Batch_instances);
    __publicField(this, "committed", false);
    /**
     * The current values of any sources that are updated in this batch
     * They keys of this map are identical to `this.#previous`
     * @type {Map<Source, any>}
     */
    __publicField(this, "current", /* @__PURE__ */ new Map());
    /**
     * The values of any sources that are updated in this batch _before_ those updates took place.
     * They keys of this map are identical to `this.#current`
     * @type {Map<Source, any>}
     */
    __publicField(this, "previous", /* @__PURE__ */ new Map());
    /**
     * When the batch is committed (and the DOM is updated), we need to remove old branches
     * and append new ones by calling the functions added inside (if/each/key/etc) blocks
     * @type {Set<() => void>}
     */
    __privateAdd(this, _commit_callbacks, /* @__PURE__ */ new Set());
    /**
     * If a fork is discarded, we need to destroy any effects that are no longer needed
     * @type {Set<(batch: Batch) => void>}
     */
    __privateAdd(this, _discard_callbacks, /* @__PURE__ */ new Set());
    /**
     * The number of async effects that are currently in flight
     */
    __privateAdd(this, _pending, 0);
    /**
     * The number of async effects that are currently in flight, _not_ inside a pending boundary
     */
    __privateAdd(this, _blocking_pending, 0);
    /**
     * A deferred that resolves when the batch is committed, used with `settled()`
     * TODO replace with Promise.withResolvers once supported widely enough
     * @type {{ promise: Promise<void>, resolve: (value?: any) => void, reject: (reason: unknown) => void } | null}
     */
    __privateAdd(this, _deferred, null);
    /**
     * Deferred effects (which run after async work has completed) that are DIRTY
     * @type {Set<Effect>}
     */
    __privateAdd(this, _dirty_effects, /* @__PURE__ */ new Set());
    /**
     * Deferred effects that are MAYBE_DIRTY
     * @type {Set<Effect>}
     */
    __privateAdd(this, _maybe_dirty_effects, /* @__PURE__ */ new Set());
    /**
     * A set of branches that still exist, but will be destroyed when this batch
     * is committed â€” we skip over these during `process`
     * @type {Set<Effect>}
     */
    __publicField(this, "skipped_effects", /* @__PURE__ */ new Set());
    __publicField(this, "is_fork", false);
  }
  is_deferred() {
    return this.is_fork || __privateGet(this, _blocking_pending) > 0;
  }
  /**
   *
   * @param {Effect[]} root_effects
   */
  process(root_effects) {
    var _a3;
    queued_root_effects = [];
    previous_batch = null;
    this.apply();
    var effects = [];
    var render_effects = [];
    for (const root9 of root_effects) {
      __privateMethod(this, _Batch_instances, traverse_effect_tree_fn).call(this, root9, effects, render_effects);
    }
    if (!this.is_fork) {
      __privateMethod(this, _Batch_instances, resolve_fn).call(this);
    }
    if (this.is_deferred()) {
      __privateMethod(this, _Batch_instances, defer_effects_fn).call(this, render_effects);
      __privateMethod(this, _Batch_instances, defer_effects_fn).call(this, effects);
    } else {
      previous_batch = this;
      current_batch = null;
      flush_queued_effects(render_effects);
      flush_queued_effects(effects);
      previous_batch = null;
      (_a3 = __privateGet(this, _deferred)) == null ? void 0 : _a3.resolve();
    }
    batch_values = null;
  }
  /**
   * Associate a change to a given source with the current
   * batch, noting its previous and current values
   * @param {Source} source
   * @param {any} value
   */
  capture(source2, value) {
    if (value !== UNINITIALIZED && !this.previous.has(source2)) {
      this.previous.set(source2, value);
    }
    if ((source2.f & ERROR_VALUE) === 0) {
      this.current.set(source2, source2.v);
      batch_values == null ? void 0 : batch_values.set(source2, source2.v);
    }
  }
  activate() {
    current_batch = this;
    this.apply();
  }
  deactivate() {
    if (current_batch !== this) return;
    current_batch = null;
    batch_values = null;
  }
  flush() {
    this.activate();
    if (queued_root_effects.length > 0) {
      flush_effects();
      if (current_batch !== null && current_batch !== this) {
        return;
      }
    } else if (__privateGet(this, _pending) === 0) {
      this.process([]);
    }
    this.deactivate();
  }
  discard() {
    for (const fn of __privateGet(this, _discard_callbacks)) fn(this);
    __privateGet(this, _discard_callbacks).clear();
  }
  /**
   *
   * @param {boolean} blocking
   */
  increment(blocking) {
    __privateSet(this, _pending, __privateGet(this, _pending) + 1);
    if (blocking) __privateSet(this, _blocking_pending, __privateGet(this, _blocking_pending) + 1);
  }
  /**
   *
   * @param {boolean} blocking
   */
  decrement(blocking) {
    __privateSet(this, _pending, __privateGet(this, _pending) - 1);
    if (blocking) __privateSet(this, _blocking_pending, __privateGet(this, _blocking_pending) - 1);
    this.revive();
  }
  revive() {
    for (const e of __privateGet(this, _dirty_effects)) {
      __privateGet(this, _maybe_dirty_effects).delete(e);
      set_signal_status(e, DIRTY);
      schedule_effect(e);
    }
    for (const e of __privateGet(this, _maybe_dirty_effects)) {
      set_signal_status(e, MAYBE_DIRTY);
      schedule_effect(e);
    }
    this.flush();
  }
  /** @param {() => void} fn */
  oncommit(fn) {
    __privateGet(this, _commit_callbacks).add(fn);
  }
  /** @param {(batch: Batch) => void} fn */
  ondiscard(fn) {
    __privateGet(this, _discard_callbacks).add(fn);
  }
  settled() {
    var _a3;
    return ((_a3 = __privateGet(this, _deferred)) != null ? _a3 : __privateSet(this, _deferred, deferred())).promise;
  }
  static ensure() {
    if (current_batch === null) {
      const batch = current_batch = new _Batch();
      batches.add(current_batch);
      if (!is_flushing_sync) {
        _Batch.enqueue(() => {
          if (current_batch !== batch) {
            return;
          }
          batch.flush();
        });
      }
    }
    return current_batch;
  }
  /** @param {() => void} task */
  static enqueue(task) {
    queue_micro_task(task);
  }
  apply() {
    if (!async_mode_flag || !this.is_fork && batches.size === 1) return;
    batch_values = new Map(this.current);
    for (const batch of batches) {
      if (batch === this) continue;
      for (const [source2, previous] of batch.previous) {
        if (!batch_values.has(source2)) {
          batch_values.set(source2, previous);
        }
      }
    }
  }
};
_commit_callbacks = new WeakMap();
_discard_callbacks = new WeakMap();
_pending = new WeakMap();
_blocking_pending = new WeakMap();
_deferred = new WeakMap();
_dirty_effects = new WeakMap();
_maybe_dirty_effects = new WeakMap();
_Batch_instances = new WeakSet();
/**
 * Traverse the effect tree, executing effects or stashing
 * them for later execution as appropriate
 * @param {Effect} root
 * @param {Effect[]} effects
 * @param {Effect[]} render_effects
 */
traverse_effect_tree_fn = function(root9, effects, render_effects) {
  var _a3;
  root9.f ^= CLEAN;
  var effect2 = root9.first;
  var pending_boundary = null;
  while (effect2 !== null) {
    var flags2 = effect2.f;
    var is_branch = (flags2 & (BRANCH_EFFECT | ROOT_EFFECT)) !== 0;
    var is_skippable_branch = is_branch && (flags2 & CLEAN) !== 0;
    var skip = is_skippable_branch || (flags2 & INERT) !== 0 || this.skipped_effects.has(effect2);
    if (async_mode_flag && pending_boundary === null && (flags2 & BOUNDARY_EFFECT) !== 0 && ((_a3 = effect2.b) == null ? void 0 : _a3.is_pending)) {
      pending_boundary = effect2;
    }
    if (!skip && effect2.fn !== null) {
      if (is_branch) {
        effect2.f ^= CLEAN;
      } else if (pending_boundary !== null && (flags2 & (EFFECT | RENDER_EFFECT | MANAGED_EFFECT)) !== 0) {
        pending_boundary.b.defer_effect(effect2);
      } else if ((flags2 & EFFECT) !== 0) {
        effects.push(effect2);
      } else if (async_mode_flag && (flags2 & (RENDER_EFFECT | MANAGED_EFFECT)) !== 0) {
        render_effects.push(effect2);
      } else if (is_dirty(effect2)) {
        if ((flags2 & BLOCK_EFFECT) !== 0) __privateGet(this, _dirty_effects).add(effect2);
        update_effect(effect2);
      }
      var child2 = effect2.first;
      if (child2 !== null) {
        effect2 = child2;
        continue;
      }
    }
    var parent = effect2.parent;
    effect2 = effect2.next;
    while (effect2 === null && parent !== null) {
      if (parent === pending_boundary) {
        pending_boundary = null;
      }
      effect2 = parent.next;
      parent = parent.parent;
    }
  }
};
/**
 * @param {Effect[]} effects
 */
defer_effects_fn = function(effects) {
  for (var i = 0; i < effects.length; i += 1) {
    defer_effect(effects[i], __privateGet(this, _dirty_effects), __privateGet(this, _maybe_dirty_effects));
  }
};
resolve_fn = function() {
  if (__privateGet(this, _blocking_pending) === 0) {
    for (const fn of __privateGet(this, _commit_callbacks)) fn();
    __privateGet(this, _commit_callbacks).clear();
  }
  if (__privateGet(this, _pending) === 0) {
    __privateMethod(this, _Batch_instances, commit_fn).call(this);
  }
};
commit_fn = function() {
  var _a3;
  if (batches.size > 1) {
    this.previous.clear();
    var previous_batch_values = batch_values;
    var is_earlier = true;
    for (const batch of batches) {
      if (batch === this) {
        is_earlier = false;
        continue;
      }
      const sources = [];
      for (const [source2, value] of this.current) {
        if (batch.current.has(source2)) {
          if (is_earlier && value !== batch.current.get(source2)) {
            batch.current.set(source2, value);
          } else {
            continue;
          }
        }
        sources.push(source2);
      }
      if (sources.length === 0) {
        continue;
      }
      const others = [...batch.current.keys()].filter((s) => !this.current.has(s));
      if (others.length > 0) {
        var prev_queued_root_effects = queued_root_effects;
        queued_root_effects = [];
        const marked = /* @__PURE__ */ new Set();
        const checked = /* @__PURE__ */ new Map();
        for (const source2 of sources) {
          mark_effects(source2, others, marked, checked);
        }
        if (queued_root_effects.length > 0) {
          current_batch = batch;
          batch.apply();
          for (const root9 of queued_root_effects) {
            __privateMethod(_a3 = batch, _Batch_instances, traverse_effect_tree_fn).call(_a3, root9, [], []);
          }
          batch.deactivate();
        }
        queued_root_effects = prev_queued_root_effects;
      }
    }
    current_batch = null;
    batch_values = previous_batch_values;
  }
  this.committed = true;
  batches.delete(this);
};
var Batch = _Batch;
function flushSync(fn) {
  var was_flushing_sync = is_flushing_sync;
  is_flushing_sync = true;
  try {
    var result;
    if (fn) {
      if (current_batch !== null) {
        flush_effects();
      }
      result = fn();
    }
    while (true) {
      flush_tasks();
      if (queued_root_effects.length === 0) {
        current_batch == null ? void 0 : current_batch.flush();
        if (queued_root_effects.length === 0) {
          last_scheduled_effect = null;
          return (
            /** @type {T} */
            result
          );
        }
      }
      flush_effects();
    }
  } finally {
    is_flushing_sync = was_flushing_sync;
  }
}
function flush_effects() {
  var _a3;
  var was_updating_effect = is_updating_effect;
  is_flushing = true;
  var source_stacks = dev_fallback_default ? /* @__PURE__ */ new Set() : null;
  try {
    var flush_count = 0;
    set_is_updating_effect(true);
    while (queued_root_effects.length > 0) {
      var batch = Batch.ensure();
      if (flush_count++ > 1e3) {
        if (dev_fallback_default) {
          var updates = /* @__PURE__ */ new Map();
          for (const source2 of batch.current.keys()) {
            for (const [stack2, update2] of (_a3 = source2.updated) != null ? _a3 : []) {
              var entry = updates.get(stack2);
              if (!entry) {
                entry = { error: update2.error, count: 0 };
                updates.set(stack2, entry);
              }
              entry.count += update2.count;
            }
          }
          for (const update2 of updates.values()) {
            if (update2.error) {
              console.error(update2.error);
            }
          }
        }
        infinite_loop_guard();
      }
      batch.process(queued_root_effects);
      old_values.clear();
      if (dev_fallback_default) {
        for (const source2 of batch.current.keys()) {
          source_stacks.add(source2);
        }
      }
    }
  } finally {
    is_flushing = false;
    set_is_updating_effect(was_updating_effect);
    last_scheduled_effect = null;
    if (dev_fallback_default) {
      for (
        const source2 of
        /** @type {Set<Source>} */
        source_stacks
      ) {
        source2.updated = null;
      }
    }
  }
}
function infinite_loop_guard() {
  try {
    effect_update_depth_exceeded();
  } catch (error) {
    if (dev_fallback_default) {
      define_property(error, "stack", { value: "" });
    }
    invoke_error_boundary(error, last_scheduled_effect);
  }
}
var eager_block_effects = null;
function flush_queued_effects(effects) {
  var length = effects.length;
  if (length === 0) return;
  var i = 0;
  while (i < length) {
    var effect2 = effects[i++];
    if ((effect2.f & (DESTROYED | INERT)) === 0 && is_dirty(effect2)) {
      eager_block_effects = /* @__PURE__ */ new Set();
      update_effect(effect2);
      if (effect2.deps === null && effect2.first === null && effect2.nodes === null) {
        if (effect2.teardown === null && effect2.ac === null) {
          unlink_effect(effect2);
        } else {
          effect2.fn = null;
        }
      }
      if ((eager_block_effects == null ? void 0 : eager_block_effects.size) > 0) {
        old_values.clear();
        for (const e of eager_block_effects) {
          if ((e.f & (DESTROYED | INERT)) !== 0) continue;
          const ordered_effects = [e];
          let ancestor = e.parent;
          while (ancestor !== null) {
            if (eager_block_effects.has(ancestor)) {
              eager_block_effects.delete(ancestor);
              ordered_effects.push(ancestor);
            }
            ancestor = ancestor.parent;
          }
          for (let j = ordered_effects.length - 1; j >= 0; j--) {
            const e2 = ordered_effects[j];
            if ((e2.f & (DESTROYED | INERT)) !== 0) continue;
            update_effect(e2);
          }
        }
        eager_block_effects.clear();
      }
    }
  }
  eager_block_effects = null;
}
function mark_effects(value, sources, marked, checked) {
  if (marked.has(value)) return;
  marked.add(value);
  if (value.reactions !== null) {
    for (const reaction of value.reactions) {
      const flags2 = reaction.f;
      if ((flags2 & DERIVED) !== 0) {
        mark_effects(
          /** @type {Derived} */
          reaction,
          sources,
          marked,
          checked
        );
      } else if ((flags2 & (ASYNC | BLOCK_EFFECT)) !== 0 && (flags2 & DIRTY) === 0 && depends_on(reaction, sources, checked)) {
        set_signal_status(reaction, DIRTY);
        schedule_effect(
          /** @type {Effect} */
          reaction
        );
      }
    }
  }
}
function depends_on(reaction, sources, checked) {
  const depends = checked.get(reaction);
  if (depends !== void 0) return depends;
  if (reaction.deps !== null) {
    for (const dep of reaction.deps) {
      if (sources.includes(dep)) {
        return true;
      }
      if ((dep.f & DERIVED) !== 0 && depends_on(
        /** @type {Derived} */
        dep,
        sources,
        checked
      )) {
        checked.set(
          /** @type {Derived} */
          dep,
          true
        );
        return true;
      }
    }
  }
  checked.set(reaction, false);
  return false;
}
function schedule_effect(signal) {
  var effect2 = last_scheduled_effect = signal;
  while (effect2.parent !== null) {
    effect2 = effect2.parent;
    var flags2 = effect2.f;
    if (is_flushing && effect2 === active_effect && (flags2 & BLOCK_EFFECT) !== 0 && (flags2 & HEAD_EFFECT) === 0) {
      return;
    }
    if ((flags2 & (ROOT_EFFECT | BRANCH_EFFECT)) !== 0) {
      if ((flags2 & CLEAN) === 0) return;
      effect2.f ^= CLEAN;
    }
  }
  queued_root_effects.push(effect2);
}

// node_modules/svelte/src/reactivity/create-subscriber.js
function createSubscriber(start) {
  let subscribers = 0;
  let version = source(0);
  let stop;
  if (dev_fallback_default) {
    tag(version, "createSubscriber version");
  }
  return () => {
    if (effect_tracking()) {
      get(version);
      render_effect(() => {
        if (subscribers === 0) {
          stop = untrack(() => start(() => increment(version)));
        }
        subscribers += 1;
        return () => {
          queue_micro_task(() => {
            subscribers -= 1;
            if (subscribers === 0) {
              stop == null ? void 0 : stop();
              stop = void 0;
              increment(version);
            }
          });
        };
      });
    }
  };
}

// node_modules/svelte/src/internal/client/dom/blocks/boundary.js
var flags = EFFECT_TRANSPARENT | EFFECT_PRESERVED | BOUNDARY_EFFECT;
function boundary(node, props, children) {
  new Boundary(node, props, children);
}
var _anchor, _hydrate_open, _props, _children, _effect, _main_effect, _pending_effect, _failed_effect, _offscreen_fragment, _pending_anchor, _local_pending_count, _pending_count, _is_creating_fallback, _dirty_effects2, _maybe_dirty_effects2, _effect_pending, _effect_pending_subscriber, _Boundary_instances, hydrate_resolved_content_fn, hydrate_pending_content_fn, get_anchor_fn, run_fn, show_pending_snippet_fn, update_pending_count_fn;
var Boundary = class {
  /**
   * @param {TemplateNode} node
   * @param {BoundaryProps} props
   * @param {((anchor: Node) => void)} children
   */
  constructor(node, props, children) {
    __privateAdd(this, _Boundary_instances);
    /** @type {Boundary | null} */
    __publicField(this, "parent");
    __publicField(this, "is_pending", false);
    /** @type {TemplateNode} */
    __privateAdd(this, _anchor);
    /** @type {TemplateNode | null} */
    __privateAdd(this, _hydrate_open, hydrating ? hydrate_node : null);
    /** @type {BoundaryProps} */
    __privateAdd(this, _props);
    /** @type {((anchor: Node) => void)} */
    __privateAdd(this, _children);
    /** @type {Effect} */
    __privateAdd(this, _effect);
    /** @type {Effect | null} */
    __privateAdd(this, _main_effect, null);
    /** @type {Effect | null} */
    __privateAdd(this, _pending_effect, null);
    /** @type {Effect | null} */
    __privateAdd(this, _failed_effect, null);
    /** @type {DocumentFragment | null} */
    __privateAdd(this, _offscreen_fragment, null);
    /** @type {TemplateNode | null} */
    __privateAdd(this, _pending_anchor, null);
    __privateAdd(this, _local_pending_count, 0);
    __privateAdd(this, _pending_count, 0);
    __privateAdd(this, _is_creating_fallback, false);
    /** @type {Set<Effect>} */
    __privateAdd(this, _dirty_effects2, /* @__PURE__ */ new Set());
    /** @type {Set<Effect>} */
    __privateAdd(this, _maybe_dirty_effects2, /* @__PURE__ */ new Set());
    /**
     * A source containing the number of pending async deriveds/expressions.
     * Only created if `$effect.pending()` is used inside the boundary,
     * otherwise updating the source results in needless `Batch.ensure()`
     * calls followed by no-op flushes
     * @type {Source<number> | null}
     */
    __privateAdd(this, _effect_pending, null);
    __privateAdd(this, _effect_pending_subscriber, createSubscriber(() => {
      __privateSet(this, _effect_pending, source(__privateGet(this, _local_pending_count)));
      if (dev_fallback_default) {
        tag(__privateGet(this, _effect_pending), "$effect.pending()");
      }
      return () => {
        __privateSet(this, _effect_pending, null);
      };
    }));
    __privateSet(this, _anchor, node);
    __privateSet(this, _props, props);
    __privateSet(this, _children, children);
    this.parent = /** @type {Effect} */
    active_effect.b;
    this.is_pending = !!__privateGet(this, _props).pending;
    __privateSet(this, _effect, block(() => {
      active_effect.b = this;
      if (hydrating) {
        const comment2 = __privateGet(this, _hydrate_open);
        hydrate_next();
        const server_rendered_pending = (
          /** @type {Comment} */
          comment2.nodeType === COMMENT_NODE && /** @type {Comment} */
          comment2.data === HYDRATION_START_ELSE
        );
        if (server_rendered_pending) {
          __privateMethod(this, _Boundary_instances, hydrate_pending_content_fn).call(this);
        } else {
          __privateMethod(this, _Boundary_instances, hydrate_resolved_content_fn).call(this);
          if (__privateGet(this, _pending_count) === 0) {
            this.is_pending = false;
          }
        }
      } else {
        var anchor = __privateMethod(this, _Boundary_instances, get_anchor_fn).call(this);
        try {
          __privateSet(this, _main_effect, branch(() => children(anchor)));
        } catch (error) {
          this.error(error);
        }
        if (__privateGet(this, _pending_count) > 0) {
          __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
        } else {
          this.is_pending = false;
        }
      }
      return () => {
        var _a3;
        (_a3 = __privateGet(this, _pending_anchor)) == null ? void 0 : _a3.remove();
      };
    }, flags));
    if (hydrating) {
      __privateSet(this, _anchor, hydrate_node);
    }
  }
  /**
   * Defer an effect inside a pending boundary until the boundary resolves
   * @param {Effect} effect
   */
  defer_effect(effect2) {
    defer_effect(effect2, __privateGet(this, _dirty_effects2), __privateGet(this, _maybe_dirty_effects2));
  }
  /**
   * Returns `false` if the effect exists inside a boundary whose pending snippet is shown
   * @returns {boolean}
   */
  is_rendered() {
    return !this.is_pending && (!this.parent || this.parent.is_rendered());
  }
  has_pending_snippet() {
    return !!__privateGet(this, _props).pending;
  }
  /**
   * Update the source that powers `$effect.pending()` inside this boundary,
   * and controls when the current `pending` snippet (if any) is removed.
   * Do not call from inside the class
   * @param {1 | -1} d
   */
  update_pending_count(d) {
    __privateMethod(this, _Boundary_instances, update_pending_count_fn).call(this, d);
    __privateSet(this, _local_pending_count, __privateGet(this, _local_pending_count) + d);
    if (__privateGet(this, _effect_pending)) {
      internal_set(__privateGet(this, _effect_pending), __privateGet(this, _local_pending_count));
    }
  }
  get_effect_pending() {
    __privateGet(this, _effect_pending_subscriber).call(this);
    return get(
      /** @type {Source<number>} */
      __privateGet(this, _effect_pending)
    );
  }
  /** @param {unknown} error */
  error(error) {
    var onerror = __privateGet(this, _props).onerror;
    let failed = __privateGet(this, _props).failed;
    if (__privateGet(this, _is_creating_fallback) || !onerror && !failed) {
      throw error;
    }
    if (__privateGet(this, _main_effect)) {
      destroy_effect(__privateGet(this, _main_effect));
      __privateSet(this, _main_effect, null);
    }
    if (__privateGet(this, _pending_effect)) {
      destroy_effect(__privateGet(this, _pending_effect));
      __privateSet(this, _pending_effect, null);
    }
    if (__privateGet(this, _failed_effect)) {
      destroy_effect(__privateGet(this, _failed_effect));
      __privateSet(this, _failed_effect, null);
    }
    if (hydrating) {
      set_hydrate_node(
        /** @type {TemplateNode} */
        __privateGet(this, _hydrate_open)
      );
      next();
      set_hydrate_node(skip_nodes());
    }
    var did_reset = false;
    var calling_on_error = false;
    const reset2 = () => {
      if (did_reset) {
        svelte_boundary_reset_noop();
        return;
      }
      did_reset = true;
      if (calling_on_error) {
        svelte_boundary_reset_onerror();
      }
      Batch.ensure();
      __privateSet(this, _local_pending_count, 0);
      if (__privateGet(this, _failed_effect) !== null) {
        pause_effect(__privateGet(this, _failed_effect), () => {
          __privateSet(this, _failed_effect, null);
        });
      }
      this.is_pending = this.has_pending_snippet();
      __privateSet(this, _main_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
        __privateSet(this, _is_creating_fallback, false);
        return branch(() => __privateGet(this, _children).call(this, __privateGet(this, _anchor)));
      }));
      if (__privateGet(this, _pending_count) > 0) {
        __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
      } else {
        this.is_pending = false;
      }
    };
    var previous_reaction = active_reaction;
    try {
      set_active_reaction(null);
      calling_on_error = true;
      onerror == null ? void 0 : onerror(error, reset2);
      calling_on_error = false;
    } catch (error2) {
      invoke_error_boundary(error2, __privateGet(this, _effect) && __privateGet(this, _effect).parent);
    } finally {
      set_active_reaction(previous_reaction);
    }
    if (failed) {
      queue_micro_task(() => {
        __privateSet(this, _failed_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
          Batch.ensure();
          __privateSet(this, _is_creating_fallback, true);
          try {
            return branch(() => {
              failed(
                __privateGet(this, _anchor),
                () => error,
                () => reset2
              );
            });
          } catch (error2) {
            invoke_error_boundary(
              error2,
              /** @type {Effect} */
              __privateGet(this, _effect).parent
            );
            return null;
          } finally {
            __privateSet(this, _is_creating_fallback, false);
          }
        }));
      });
    }
  }
};
_anchor = new WeakMap();
_hydrate_open = new WeakMap();
_props = new WeakMap();
_children = new WeakMap();
_effect = new WeakMap();
_main_effect = new WeakMap();
_pending_effect = new WeakMap();
_failed_effect = new WeakMap();
_offscreen_fragment = new WeakMap();
_pending_anchor = new WeakMap();
_local_pending_count = new WeakMap();
_pending_count = new WeakMap();
_is_creating_fallback = new WeakMap();
_dirty_effects2 = new WeakMap();
_maybe_dirty_effects2 = new WeakMap();
_effect_pending = new WeakMap();
_effect_pending_subscriber = new WeakMap();
_Boundary_instances = new WeakSet();
hydrate_resolved_content_fn = function() {
  try {
    __privateSet(this, _main_effect, branch(() => __privateGet(this, _children).call(this, __privateGet(this, _anchor))));
  } catch (error) {
    this.error(error);
  }
};
hydrate_pending_content_fn = function() {
  const pending2 = __privateGet(this, _props).pending;
  if (!pending2) {
    return;
  }
  __privateSet(this, _pending_effect, branch(() => pending2(__privateGet(this, _anchor))));
  Batch.enqueue(() => {
    var anchor = __privateMethod(this, _Boundary_instances, get_anchor_fn).call(this);
    __privateSet(this, _main_effect, __privateMethod(this, _Boundary_instances, run_fn).call(this, () => {
      Batch.ensure();
      return branch(() => __privateGet(this, _children).call(this, anchor));
    }));
    if (__privateGet(this, _pending_count) > 0) {
      __privateMethod(this, _Boundary_instances, show_pending_snippet_fn).call(this);
    } else {
      pause_effect(
        /** @type {Effect} */
        __privateGet(this, _pending_effect),
        () => {
          __privateSet(this, _pending_effect, null);
        }
      );
      this.is_pending = false;
    }
  });
};
get_anchor_fn = function() {
  var anchor = __privateGet(this, _anchor);
  if (this.is_pending) {
    __privateSet(this, _pending_anchor, create_text());
    __privateGet(this, _anchor).before(__privateGet(this, _pending_anchor));
    anchor = __privateGet(this, _pending_anchor);
  }
  return anchor;
};
/**
 * @param {() => Effect | null} fn
 */
run_fn = function(fn) {
  var previous_effect = active_effect;
  var previous_reaction = active_reaction;
  var previous_ctx = component_context;
  set_active_effect(__privateGet(this, _effect));
  set_active_reaction(__privateGet(this, _effect));
  set_component_context(__privateGet(this, _effect).ctx);
  try {
    return fn();
  } catch (e) {
    handle_error(e);
    return null;
  } finally {
    set_active_effect(previous_effect);
    set_active_reaction(previous_reaction);
    set_component_context(previous_ctx);
  }
};
show_pending_snippet_fn = function() {
  const pending2 = (
    /** @type {(anchor: Node) => void} */
    __privateGet(this, _props).pending
  );
  if (__privateGet(this, _main_effect) !== null) {
    __privateSet(this, _offscreen_fragment, document.createDocumentFragment());
    __privateGet(this, _offscreen_fragment).append(
      /** @type {TemplateNode} */
      __privateGet(this, _pending_anchor)
    );
    move_effect(__privateGet(this, _main_effect), __privateGet(this, _offscreen_fragment));
  }
  if (__privateGet(this, _pending_effect) === null) {
    __privateSet(this, _pending_effect, branch(() => pending2(__privateGet(this, _anchor))));
  }
};
/**
 * Updates the pending count associated with the currently visible pending snippet,
 * if any, such that we can replace the snippet with content once work is done
 * @param {1 | -1} d
 */
update_pending_count_fn = function(d) {
  var _a3;
  if (!this.has_pending_snippet()) {
    if (this.parent) {
      __privateMethod(_a3 = this.parent, _Boundary_instances, update_pending_count_fn).call(_a3, d);
    }
    return;
  }
  __privateSet(this, _pending_count, __privateGet(this, _pending_count) + d);
  if (__privateGet(this, _pending_count) === 0) {
    this.is_pending = false;
    for (const e of __privateGet(this, _dirty_effects2)) {
      set_signal_status(e, DIRTY);
      schedule_effect(e);
    }
    for (const e of __privateGet(this, _maybe_dirty_effects2)) {
      set_signal_status(e, MAYBE_DIRTY);
      schedule_effect(e);
    }
    __privateGet(this, _dirty_effects2).clear();
    __privateGet(this, _maybe_dirty_effects2).clear();
    if (__privateGet(this, _pending_effect)) {
      pause_effect(__privateGet(this, _pending_effect), () => {
        __privateSet(this, _pending_effect, null);
      });
    }
    if (__privateGet(this, _offscreen_fragment)) {
      __privateGet(this, _anchor).before(__privateGet(this, _offscreen_fragment));
      __privateSet(this, _offscreen_fragment, null);
    }
  }
};

// node_modules/svelte/src/internal/client/reactivity/async.js
function flatten(blockers, sync, async2, fn) {
  const d = is_runes() ? derived : derived_safe_equal;
  if (async2.length === 0 && blockers.length === 0) {
    fn(sync.map(d));
    return;
  }
  var batch = current_batch;
  var parent = (
    /** @type {Effect} */
    active_effect
  );
  var restore = capture();
  function run3() {
    Promise.all(async2.map((expression) => async_derived(expression))).then((result) => {
      restore();
      try {
        fn([...sync.map(d), ...result]);
      } catch (error) {
        if ((parent.f & DESTROYED) === 0) {
          invoke_error_boundary(error, parent);
        }
      }
      batch == null ? void 0 : batch.deactivate();
      unset_context();
    }).catch((error) => {
      invoke_error_boundary(error, parent);
    });
  }
  if (blockers.length > 0) {
    Promise.all(blockers).then(() => {
      restore();
      try {
        return run3();
      } finally {
        batch == null ? void 0 : batch.deactivate();
        unset_context();
      }
    });
  } else {
    run3();
  }
}
function capture() {
  var previous_effect = active_effect;
  var previous_reaction = active_reaction;
  var previous_component_context = component_context;
  var previous_batch2 = current_batch;
  if (dev_fallback_default) {
    var previous_dev_stack = dev_stack;
  }
  return function restore(activate_batch = true) {
    set_active_effect(previous_effect);
    set_active_reaction(previous_reaction);
    set_component_context(previous_component_context);
    if (activate_batch) previous_batch2 == null ? void 0 : previous_batch2.activate();
    if (dev_fallback_default) {
      set_from_async_derived(null);
      set_dev_stack(previous_dev_stack);
    }
  };
}
function unset_context() {
  set_active_effect(null);
  set_active_reaction(null);
  set_component_context(null);
  if (dev_fallback_default) {
    set_from_async_derived(null);
    set_dev_stack(null);
  }
}

// node_modules/svelte/src/internal/client/reactivity/deriveds.js
var current_async_effect = null;
function set_from_async_derived(v) {
  current_async_effect = v;
}
var recent_async_deriveds = /* @__PURE__ */ new Set();
// @__NO_SIDE_EFFECTS__
function derived(fn) {
  var flags2 = DERIVED | DIRTY;
  var parent_derived = active_reaction !== null && (active_reaction.f & DERIVED) !== 0 ? (
    /** @type {Derived} */
    active_reaction
  ) : null;
  if (active_effect !== null) {
    active_effect.f |= EFFECT_PRESERVED;
  }
  const signal = {
    ctx: component_context,
    deps: null,
    effects: null,
    equals,
    f: flags2,
    fn,
    reactions: null,
    rv: 0,
    v: (
      /** @type {V} */
      UNINITIALIZED
    ),
    wv: 0,
    parent: parent_derived != null ? parent_derived : active_effect,
    ac: null
  };
  if (dev_fallback_default && tracing_mode_flag) {
    signal.created = get_error("created at");
  }
  return signal;
}
// @__NO_SIDE_EFFECTS__
function async_derived(fn, label, location) {
  let parent = (
    /** @type {Effect | null} */
    active_effect
  );
  if (parent === null) {
    async_derived_orphan();
  }
  var boundary2 = (
    /** @type {Boundary} */
    parent.b
  );
  var promise = (
    /** @type {Promise<V>} */
    /** @type {unknown} */
    void 0
  );
  var signal = source(
    /** @type {V} */
    UNINITIALIZED
  );
  if (dev_fallback_default) signal.label = label;
  var should_suspend = !active_reaction;
  var deferreds = /* @__PURE__ */ new Map();
  async_effect(() => {
    var _a3;
    if (dev_fallback_default) current_async_effect = active_effect;
    var d = deferred();
    promise = d.promise;
    try {
      Promise.resolve(fn()).then(d.resolve, d.reject).then(() => {
        if (batch === current_batch && batch.committed) {
          batch.deactivate();
        }
        unset_context();
      });
    } catch (error) {
      d.reject(error);
      unset_context();
    }
    if (dev_fallback_default) current_async_effect = null;
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    if (should_suspend) {
      var blocking = boundary2.is_rendered();
      boundary2.update_pending_count(1);
      batch.increment(blocking);
      (_a3 = deferreds.get(batch)) == null ? void 0 : _a3.reject(STALE_REACTION);
      deferreds.delete(batch);
      deferreds.set(batch, d);
    }
    const handler = (value, error = void 0) => {
      current_async_effect = null;
      batch.activate();
      if (error) {
        if (error !== STALE_REACTION) {
          signal.f |= ERROR_VALUE;
          internal_set(signal, error);
        }
      } else {
        if ((signal.f & ERROR_VALUE) !== 0) {
          signal.f ^= ERROR_VALUE;
        }
        internal_set(signal, value);
        for (const [b, d2] of deferreds) {
          deferreds.delete(b);
          if (b === batch) break;
          d2.reject(STALE_REACTION);
        }
        if (dev_fallback_default && location !== void 0) {
          recent_async_deriveds.add(signal);
          setTimeout(() => {
            if (recent_async_deriveds.has(signal)) {
              await_waterfall(
                /** @type {string} */
                signal.label,
                location
              );
              recent_async_deriveds.delete(signal);
            }
          });
        }
      }
      if (should_suspend) {
        boundary2.update_pending_count(-1);
        batch.decrement(blocking);
      }
    };
    d.promise.then(handler, (e) => handler(null, e || "unknown"));
  });
  teardown(() => {
    for (const d of deferreds.values()) {
      d.reject(STALE_REACTION);
    }
  });
  if (dev_fallback_default) {
    signal.f |= ASYNC;
  }
  return new Promise((fulfil) => {
    function next2(p) {
      function go() {
        if (p === promise) {
          fulfil(signal);
        } else {
          next2(promise);
        }
      }
      p.then(go, go);
    }
    next2(promise);
  });
}
// @__NO_SIDE_EFFECTS__
function derived_safe_equal(fn) {
  const signal = /* @__PURE__ */ derived(fn);
  signal.equals = safe_equals;
  return signal;
}
function destroy_derived_effects(derived3) {
  var effects = derived3.effects;
  if (effects !== null) {
    derived3.effects = null;
    for (var i = 0; i < effects.length; i += 1) {
      destroy_effect(
        /** @type {Effect} */
        effects[i]
      );
    }
  }
}
var stack = [];
function get_derived_parent_effect(derived3) {
  var parent = derived3.parent;
  while (parent !== null) {
    if ((parent.f & DERIVED) === 0) {
      return (parent.f & DESTROYED) === 0 ? (
        /** @type {Effect} */
        parent
      ) : null;
    }
    parent = parent.parent;
  }
  return null;
}
function execute_derived(derived3) {
  var value;
  var prev_active_effect = active_effect;
  set_active_effect(get_derived_parent_effect(derived3));
  if (dev_fallback_default) {
    let prev_eager_effects = eager_effects;
    set_eager_effects(/* @__PURE__ */ new Set());
    try {
      if (stack.includes(derived3)) {
        derived_references_self();
      }
      stack.push(derived3);
      derived3.f &= ~WAS_MARKED;
      destroy_derived_effects(derived3);
      value = update_reaction(derived3);
    } finally {
      set_active_effect(prev_active_effect);
      set_eager_effects(prev_eager_effects);
      stack.pop();
    }
  } else {
    try {
      derived3.f &= ~WAS_MARKED;
      destroy_derived_effects(derived3);
      value = update_reaction(derived3);
    } finally {
      set_active_effect(prev_active_effect);
    }
  }
  return value;
}
function update_derived(derived3) {
  var _a3, _b3;
  var value = execute_derived(derived3);
  if (!derived3.equals(value)) {
    derived3.wv = increment_write_version();
    if (!((_a3 = current_batch) == null ? void 0 : _a3.is_fork) || derived3.deps === null) {
      derived3.v = value;
      if (derived3.deps === null) {
        set_signal_status(derived3, CLEAN);
        return;
      }
    }
  }
  if (is_destroying_effect) {
    return;
  }
  if (batch_values !== null) {
    if (effect_tracking() || ((_b3 = current_batch) == null ? void 0 : _b3.is_fork)) {
      batch_values.set(derived3, value);
    }
  } else {
    update_derived_status(derived3);
  }
}

// node_modules/svelte/src/internal/client/reactivity/sources.js
var eager_effects = /* @__PURE__ */ new Set();
var old_values = /* @__PURE__ */ new Map();
function set_eager_effects(v) {
  eager_effects = v;
}
var eager_effects_deferred = false;
function set_eager_effects_deferred() {
  eager_effects_deferred = true;
}
function source(v, stack2) {
  var signal = {
    f: 0,
    // TODO ideally we could skip this altogether, but it causes type errors
    v,
    reactions: null,
    equals,
    rv: 0,
    wv: 0
  };
  if (dev_fallback_default && tracing_mode_flag) {
    signal.created = stack2 != null ? stack2 : get_error("created at");
    signal.updated = null;
    signal.set_during_effect = false;
    signal.trace = null;
  }
  return signal;
}
// @__NO_SIDE_EFFECTS__
function state(v, stack2) {
  const s = source(v, stack2);
  push_reaction_value(s);
  return s;
}
// @__NO_SIDE_EFFECTS__
function mutable_source(initial_value, immutable = false, trackable = true) {
  var _a3, _b3;
  const s = source(initial_value);
  if (!immutable) {
    s.equals = safe_equals;
  }
  if (legacy_mode_flag && trackable && component_context !== null && component_context.l !== null) {
    ((_b3 = (_a3 = component_context.l).s) != null ? _b3 : _a3.s = []).push(s);
  }
  return s;
}
function set(source2, value, should_proxy = false) {
  var _a3;
  if (active_reaction !== null && // since we are untracking the function inside `$inspect.with` we need to add this check
  // to ensure we error if state is set inside an inspect effect
  (!untracking || (active_reaction.f & EAGER_EFFECT) !== 0) && is_runes() && (active_reaction.f & (DERIVED | BLOCK_EFFECT | ASYNC | EAGER_EFFECT)) !== 0 && !((_a3 = current_sources) == null ? void 0 : _a3.includes(source2))) {
    state_unsafe_mutation();
  }
  let new_value = should_proxy ? proxy(value) : value;
  if (dev_fallback_default) {
    tag_proxy(
      new_value,
      /** @type {string} */
      source2.label
    );
  }
  return internal_set(source2, new_value);
}
function internal_set(source2, value) {
  var _a3, _b3, _c2;
  if (!source2.equals(value)) {
    var old_value = source2.v;
    if (is_destroying_effect) {
      old_values.set(source2, value);
    } else {
      old_values.set(source2, old_value);
    }
    source2.v = value;
    var batch = Batch.ensure();
    batch.capture(source2, old_value);
    if (dev_fallback_default) {
      if (tracing_mode_flag || active_effect !== null) {
        (_a3 = source2.updated) != null ? _a3 : source2.updated = /* @__PURE__ */ new Map();
        const count = ((_c2 = (_b3 = source2.updated.get("")) == null ? void 0 : _b3.count) != null ? _c2 : 0) + 1;
        source2.updated.set("", { error: (
          /** @type {any} */
          null
        ), count });
        if (tracing_mode_flag || count > 5) {
          const error = get_error("updated at");
          if (error !== null) {
            let entry = source2.updated.get(error.stack);
            if (!entry) {
              entry = { error, count: 0 };
              source2.updated.set(error.stack, entry);
            }
            entry.count++;
          }
        }
      }
      if (active_effect !== null) {
        source2.set_during_effect = true;
      }
    }
    if ((source2.f & DERIVED) !== 0) {
      const derived3 = (
        /** @type {Derived} */
        source2
      );
      if ((source2.f & DIRTY) !== 0) {
        execute_derived(derived3);
      }
      update_derived_status(derived3);
    }
    source2.wv = increment_write_version();
    mark_reactions(source2, DIRTY);
    if (is_runes() && active_effect !== null && (active_effect.f & CLEAN) !== 0 && (active_effect.f & (BRANCH_EFFECT | ROOT_EFFECT)) === 0) {
      if (untracked_writes === null) {
        set_untracked_writes([source2]);
      } else {
        untracked_writes.push(source2);
      }
    }
    if (!batch.is_fork && eager_effects.size > 0 && !eager_effects_deferred) {
      flush_eager_effects();
    }
  }
  return value;
}
function flush_eager_effects() {
  eager_effects_deferred = false;
  var prev_is_updating_effect = is_updating_effect;
  set_is_updating_effect(true);
  const inspects = Array.from(eager_effects);
  try {
    for (const effect2 of inspects) {
      if ((effect2.f & CLEAN) !== 0) {
        set_signal_status(effect2, MAYBE_DIRTY);
      }
      if (is_dirty(effect2)) {
        update_effect(effect2);
      }
    }
  } finally {
    set_is_updating_effect(prev_is_updating_effect);
  }
  eager_effects.clear();
}
function increment(source2) {
  set(source2, source2.v + 1);
}
function mark_reactions(signal, status) {
  var _a3;
  var reactions = signal.reactions;
  if (reactions === null) return;
  var runes = is_runes();
  var length = reactions.length;
  for (var i = 0; i < length; i++) {
    var reaction = reactions[i];
    var flags2 = reaction.f;
    if (!runes && reaction === active_effect) continue;
    if (dev_fallback_default && (flags2 & EAGER_EFFECT) !== 0) {
      eager_effects.add(reaction);
      continue;
    }
    var not_dirty = (flags2 & DIRTY) === 0;
    if (not_dirty) {
      set_signal_status(reaction, status);
    }
    if ((flags2 & DERIVED) !== 0) {
      var derived3 = (
        /** @type {Derived} */
        reaction
      );
      (_a3 = batch_values) == null ? void 0 : _a3.delete(derived3);
      if ((flags2 & WAS_MARKED) === 0) {
        if (flags2 & CONNECTED) {
          reaction.f |= WAS_MARKED;
        }
        mark_reactions(derived3, MAYBE_DIRTY);
      }
    } else if (not_dirty) {
      if ((flags2 & BLOCK_EFFECT) !== 0 && eager_block_effects !== null) {
        eager_block_effects.add(
          /** @type {Effect} */
          reaction
        );
      }
      schedule_effect(
        /** @type {Effect} */
        reaction
      );
    }
  }
}

// node_modules/svelte/src/internal/client/proxy.js
var regex_is_valid_identifier = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;
function proxy(value) {
  if (typeof value !== "object" || value === null || STATE_SYMBOL in value) {
    return value;
  }
  const prototype = get_prototype_of(value);
  if (prototype !== object_prototype && prototype !== array_prototype) {
    return value;
  }
  var sources = /* @__PURE__ */ new Map();
  var is_proxied_array = is_array(value);
  var version = state(0);
  var stack2 = dev_fallback_default && tracing_mode_flag ? get_error("created at") : null;
  var parent_version = update_version;
  var with_parent = (fn) => {
    if (update_version === parent_version) {
      return fn();
    }
    var reaction = active_reaction;
    var version2 = update_version;
    set_active_reaction(null);
    set_update_version(parent_version);
    var result = fn();
    set_active_reaction(reaction);
    set_update_version(version2);
    return result;
  };
  if (is_proxied_array) {
    sources.set("length", state(
      /** @type {any[]} */
      value.length,
      stack2
    ));
    if (dev_fallback_default) {
      value = /** @type {any} */
      inspectable_array(
        /** @type {any[]} */
        value
      );
    }
  }
  var path = "";
  let updating = false;
  function update_path(new_path) {
    if (updating) return;
    updating = true;
    path = new_path;
    tag(version, `${path} version`);
    for (const [prop2, source2] of sources) {
      tag(source2, get_label(path, prop2));
    }
    updating = false;
  }
  return new Proxy(
    /** @type {any} */
    value,
    {
      defineProperty(_, prop2, descriptor) {
        if (!("value" in descriptor) || descriptor.configurable === false || descriptor.enumerable === false || descriptor.writable === false) {
          state_descriptors_fixed();
        }
        var s = sources.get(prop2);
        if (s === void 0) {
          s = with_parent(() => {
            var s2 = state(descriptor.value, stack2);
            sources.set(prop2, s2);
            if (dev_fallback_default && typeof prop2 === "string") {
              tag(s2, get_label(path, prop2));
            }
            return s2;
          });
        } else {
          set(s, descriptor.value, true);
        }
        return true;
      },
      deleteProperty(target, prop2) {
        var s = sources.get(prop2);
        if (s === void 0) {
          if (prop2 in target) {
            const s2 = with_parent(() => state(UNINITIALIZED, stack2));
            sources.set(prop2, s2);
            increment(version);
            if (dev_fallback_default) {
              tag(s2, get_label(path, prop2));
            }
          }
        } else {
          set(s, UNINITIALIZED);
          increment(version);
        }
        return true;
      },
      get(target, prop2, receiver) {
        var _a3;
        if (prop2 === STATE_SYMBOL) {
          return value;
        }
        if (dev_fallback_default && prop2 === PROXY_PATH_SYMBOL) {
          return update_path;
        }
        var s = sources.get(prop2);
        var exists = prop2 in target;
        if (s === void 0 && (!exists || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable))) {
          s = with_parent(() => {
            var p = proxy(exists ? target[prop2] : UNINITIALIZED);
            var s2 = state(p, stack2);
            if (dev_fallback_default) {
              tag(s2, get_label(path, prop2));
            }
            return s2;
          });
          sources.set(prop2, s);
        }
        if (s !== void 0) {
          var v = get(s);
          return v === UNINITIALIZED ? void 0 : v;
        }
        return Reflect.get(target, prop2, receiver);
      },
      getOwnPropertyDescriptor(target, prop2) {
        var descriptor = Reflect.getOwnPropertyDescriptor(target, prop2);
        if (descriptor && "value" in descriptor) {
          var s = sources.get(prop2);
          if (s) descriptor.value = get(s);
        } else if (descriptor === void 0) {
          var source2 = sources.get(prop2);
          var value2 = source2 == null ? void 0 : source2.v;
          if (source2 !== void 0 && value2 !== UNINITIALIZED) {
            return {
              enumerable: true,
              configurable: true,
              value: value2,
              writable: true
            };
          }
        }
        return descriptor;
      },
      has(target, prop2) {
        var _a3;
        if (prop2 === STATE_SYMBOL) {
          return true;
        }
        var s = sources.get(prop2);
        var has = s !== void 0 && s.v !== UNINITIALIZED || Reflect.has(target, prop2);
        if (s !== void 0 || active_effect !== null && (!has || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable))) {
          if (s === void 0) {
            s = with_parent(() => {
              var p = has ? proxy(target[prop2]) : UNINITIALIZED;
              var s2 = state(p, stack2);
              if (dev_fallback_default) {
                tag(s2, get_label(path, prop2));
              }
              return s2;
            });
            sources.set(prop2, s);
          }
          var value2 = get(s);
          if (value2 === UNINITIALIZED) {
            return false;
          }
        }
        return has;
      },
      set(target, prop2, value2, receiver) {
        var _a3;
        var s = sources.get(prop2);
        var has = prop2 in target;
        if (is_proxied_array && prop2 === "length") {
          for (var i = value2; i < /** @type {Source<number>} */
          s.v; i += 1) {
            var other_s = sources.get(i + "");
            if (other_s !== void 0) {
              set(other_s, UNINITIALIZED);
            } else if (i in target) {
              other_s = with_parent(() => state(UNINITIALIZED, stack2));
              sources.set(i + "", other_s);
              if (dev_fallback_default) {
                tag(other_s, get_label(path, i));
              }
            }
          }
        }
        if (s === void 0) {
          if (!has || ((_a3 = get_descriptor(target, prop2)) == null ? void 0 : _a3.writable)) {
            s = with_parent(() => state(void 0, stack2));
            if (dev_fallback_default) {
              tag(s, get_label(path, prop2));
            }
            set(s, proxy(value2));
            sources.set(prop2, s);
          }
        } else {
          has = s.v !== UNINITIALIZED;
          var p = with_parent(() => proxy(value2));
          set(s, p);
        }
        var descriptor = Reflect.getOwnPropertyDescriptor(target, prop2);
        if (descriptor == null ? void 0 : descriptor.set) {
          descriptor.set.call(receiver, value2);
        }
        if (!has) {
          if (is_proxied_array && typeof prop2 === "string") {
            var ls = (
              /** @type {Source<number>} */
              sources.get("length")
            );
            var n = Number(prop2);
            if (Number.isInteger(n) && n >= ls.v) {
              set(ls, n + 1);
            }
          }
          increment(version);
        }
        return true;
      },
      ownKeys(target) {
        get(version);
        var own_keys = Reflect.ownKeys(target).filter((key3) => {
          var source3 = sources.get(key3);
          return source3 === void 0 || source3.v !== UNINITIALIZED;
        });
        for (var [key2, source2] of sources) {
          if (source2.v !== UNINITIALIZED && !(key2 in target)) {
            own_keys.push(key2);
          }
        }
        return own_keys;
      },
      setPrototypeOf() {
        state_prototype_fixed();
      }
    }
  );
}
function get_label(path, prop2) {
  var _a3;
  if (typeof prop2 === "symbol") return `${path}[Symbol(${(_a3 = prop2.description) != null ? _a3 : ""})]`;
  if (regex_is_valid_identifier.test(prop2)) return `${path}.${prop2}`;
  return /^\d+$/.test(prop2) ? `${path}[${prop2}]` : `${path}['${prop2}']`;
}
function get_proxied_value(value) {
  try {
    if (value !== null && typeof value === "object" && STATE_SYMBOL in value) {
      return value[STATE_SYMBOL];
    }
  } catch (e) {
  }
  return value;
}
var ARRAY_MUTATING_METHODS = /* @__PURE__ */ new Set([
  "copyWithin",
  "fill",
  "pop",
  "push",
  "reverse",
  "shift",
  "sort",
  "splice",
  "unshift"
]);
function inspectable_array(array) {
  return new Proxy(array, {
    get(target, prop2, receiver) {
      var value = Reflect.get(target, prop2, receiver);
      if (!ARRAY_MUTATING_METHODS.has(
        /** @type {string} */
        prop2
      )) {
        return value;
      }
      return function(...args) {
        set_eager_effects_deferred();
        var result = value.apply(this, args);
        flush_eager_effects();
        return result;
      };
    }
  });
}

// node_modules/svelte/src/internal/client/dev/equality.js
function init_array_prototype_warnings() {
  const array_prototype2 = Array.prototype;
  const cleanup = Array.__svelte_cleanup;
  if (cleanup) {
    cleanup();
  }
  const { indexOf, lastIndexOf, includes } = array_prototype2;
  array_prototype2.indexOf = function(item, from_index) {
    const index2 = indexOf.call(this, item, from_index);
    if (index2 === -1) {
      for (let i = from_index != null ? from_index : 0; i < this.length; i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.indexOf(...)");
          break;
        }
      }
    }
    return index2;
  };
  array_prototype2.lastIndexOf = function(item, from_index) {
    const index2 = lastIndexOf.call(this, item, from_index != null ? from_index : this.length - 1);
    if (index2 === -1) {
      for (let i = 0; i <= (from_index != null ? from_index : this.length - 1); i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.lastIndexOf(...)");
          break;
        }
      }
    }
    return index2;
  };
  array_prototype2.includes = function(item, from_index) {
    const has = includes.call(this, item, from_index);
    if (!has) {
      for (let i = 0; i < this.length; i += 1) {
        if (get_proxied_value(this[i]) === item) {
          state_proxy_equality_mismatch("array.includes(...)");
          break;
        }
      }
    }
    return has;
  };
  Array.__svelte_cleanup = () => {
    array_prototype2.indexOf = indexOf;
    array_prototype2.lastIndexOf = lastIndexOf;
    array_prototype2.includes = includes;
  };
}

// node_modules/svelte/src/internal/client/dom/operations.js
var $window;
var $document;
var is_firefox;
var first_child_getter;
var next_sibling_getter;
function init_operations() {
  if ($window !== void 0) {
    return;
  }
  $window = window;
  $document = document;
  is_firefox = /Firefox/.test(navigator.userAgent);
  var element_prototype = Element.prototype;
  var node_prototype = Node.prototype;
  var text_prototype = Text.prototype;
  first_child_getter = get_descriptor(node_prototype, "firstChild").get;
  next_sibling_getter = get_descriptor(node_prototype, "nextSibling").get;
  if (is_extensible(element_prototype)) {
    element_prototype.__click = void 0;
    element_prototype.__className = void 0;
    element_prototype.__attributes = null;
    element_prototype.__style = void 0;
    element_prototype.__e = void 0;
  }
  if (is_extensible(text_prototype)) {
    text_prototype.__t = void 0;
  }
  if (dev_fallback_default) {
    element_prototype.__svelte_meta = null;
    init_array_prototype_warnings();
  }
}
function create_text(value = "") {
  return document.createTextNode(value);
}
// @__NO_SIDE_EFFECTS__
function get_first_child(node) {
  return (
    /** @type {TemplateNode | null} */
    first_child_getter.call(node)
  );
}
// @__NO_SIDE_EFFECTS__
function get_next_sibling(node) {
  return (
    /** @type {TemplateNode | null} */
    next_sibling_getter.call(node)
  );
}
function child(node, is_text) {
  if (!hydrating) {
    return /* @__PURE__ */ get_first_child(node);
  }
  var child2 = /* @__PURE__ */ get_first_child(hydrate_node);
  if (child2 === null) {
    child2 = hydrate_node.appendChild(create_text());
  } else if (is_text && child2.nodeType !== TEXT_NODE) {
    var text2 = create_text();
    child2 == null ? void 0 : child2.before(text2);
    set_hydrate_node(text2);
    return text2;
  }
  set_hydrate_node(child2);
  return child2;
}
function first_child(node, is_text = false) {
  var _a3, _b3;
  if (!hydrating) {
    var first = /* @__PURE__ */ get_first_child(node);
    if (first instanceof Comment && first.data === "") return /* @__PURE__ */ get_next_sibling(first);
    return first;
  }
  if (is_text && ((_a3 = hydrate_node) == null ? void 0 : _a3.nodeType) !== TEXT_NODE) {
    var text2 = create_text();
    (_b3 = hydrate_node) == null ? void 0 : _b3.before(text2);
    set_hydrate_node(text2);
    return text2;
  }
  return hydrate_node;
}
function sibling(node, count = 1, is_text = false) {
  let next_sibling = hydrating ? hydrate_node : node;
  var last_sibling;
  while (count--) {
    last_sibling = next_sibling;
    next_sibling = /** @type {TemplateNode} */
    /* @__PURE__ */ get_next_sibling(next_sibling);
  }
  if (!hydrating) {
    return next_sibling;
  }
  if (is_text && (next_sibling == null ? void 0 : next_sibling.nodeType) !== TEXT_NODE) {
    var text2 = create_text();
    if (next_sibling === null) {
      last_sibling == null ? void 0 : last_sibling.after(text2);
    } else {
      next_sibling.before(text2);
    }
    set_hydrate_node(text2);
    return text2;
  }
  set_hydrate_node(next_sibling);
  return next_sibling;
}
function clear_text_content(node) {
  node.textContent = "";
}
function should_defer_append() {
  if (!async_mode_flag) return false;
  if (eager_block_effects !== null) return false;
  var flags2 = (
    /** @type {Effect} */
    active_effect.f
  );
  return (flags2 & EFFECT_RAN) !== 0;
}

// node_modules/svelte/src/internal/client/dom/elements/misc.js
var listening_to_form_reset = false;
function add_form_reset_listener() {
  if (!listening_to_form_reset) {
    listening_to_form_reset = true;
    document.addEventListener(
      "reset",
      (evt) => {
        Promise.resolve().then(() => {
          var _a3;
          if (!evt.defaultPrevented) {
            for (
              const e of
              /**@type {HTMLFormElement} */
              evt.target.elements
            ) {
              (_a3 = e.__on_r) == null ? void 0 : _a3.call(e);
            }
          }
        });
      },
      // In the capture phase to guarantee we get noticed of it (no possibility of stopPropagation)
      { capture: true }
    );
  }
}

// node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js
function without_reactive_context(fn) {
  var previous_reaction = active_reaction;
  var previous_effect = active_effect;
  set_active_reaction(null);
  set_active_effect(null);
  try {
    return fn();
  } finally {
    set_active_reaction(previous_reaction);
    set_active_effect(previous_effect);
  }
}
function listen_to_event_and_reset_event(element2, event2, handler, on_reset = handler) {
  element2.addEventListener(event2, () => without_reactive_context(handler));
  const prev = element2.__on_r;
  if (prev) {
    element2.__on_r = () => {
      prev();
      on_reset(true);
    };
  } else {
    element2.__on_r = () => on_reset(true);
  }
  add_form_reset_listener();
}

// node_modules/svelte/src/internal/client/reactivity/effects.js
function validate_effect(rune) {
  if (active_effect === null) {
    if (active_reaction === null) {
      effect_orphan(rune);
    }
    effect_in_unowned_derived();
  }
  if (is_destroying_effect) {
    effect_in_teardown(rune);
  }
}
function push_effect(effect2, parent_effect) {
  var parent_last = parent_effect.last;
  if (parent_last === null) {
    parent_effect.last = parent_effect.first = effect2;
  } else {
    parent_last.next = effect2;
    effect2.prev = parent_last;
    parent_effect.last = effect2;
  }
}
function create_effect(type, fn, sync) {
  var _a3;
  var parent = active_effect;
  if (dev_fallback_default) {
    while (parent !== null && (parent.f & EAGER_EFFECT) !== 0) {
      parent = parent.parent;
    }
  }
  if (parent !== null && (parent.f & INERT) !== 0) {
    type |= INERT;
  }
  var effect2 = {
    ctx: component_context,
    deps: null,
    nodes: null,
    f: type | DIRTY | CONNECTED,
    first: null,
    fn,
    last: null,
    next: null,
    parent,
    b: parent && parent.b,
    prev: null,
    teardown: null,
    wv: 0,
    ac: null
  };
  if (dev_fallback_default) {
    effect2.component_function = dev_current_component_function;
  }
  if (sync) {
    try {
      update_effect(effect2);
      effect2.f |= EFFECT_RAN;
    } catch (e2) {
      destroy_effect(effect2);
      throw e2;
    }
  } else if (fn !== null) {
    schedule_effect(effect2);
  }
  var e = effect2;
  if (sync && e.deps === null && e.teardown === null && e.nodes === null && e.first === e.last && // either `null`, or a singular child
  (e.f & EFFECT_PRESERVED) === 0) {
    e = e.first;
    if ((type & BLOCK_EFFECT) !== 0 && (type & EFFECT_TRANSPARENT) !== 0 && e !== null) {
      e.f |= EFFECT_TRANSPARENT;
    }
  }
  if (e !== null) {
    e.parent = parent;
    if (parent !== null) {
      push_effect(e, parent);
    }
    if (active_reaction !== null && (active_reaction.f & DERIVED) !== 0 && (type & ROOT_EFFECT) === 0) {
      var derived3 = (
        /** @type {Derived} */
        active_reaction
      );
      ((_a3 = derived3.effects) != null ? _a3 : derived3.effects = []).push(e);
    }
  }
  return effect2;
}
function effect_tracking() {
  return active_reaction !== null && !untracking;
}
function teardown(fn) {
  const effect2 = create_effect(RENDER_EFFECT, null, false);
  set_signal_status(effect2, CLEAN);
  effect2.teardown = fn;
  return effect2;
}
function user_effect(fn) {
  var _a3;
  validate_effect("$effect");
  if (dev_fallback_default) {
    define_property(fn, "name", {
      value: "$effect"
    });
  }
  var flags2 = (
    /** @type {Effect} */
    active_effect.f
  );
  var defer = !active_reaction && (flags2 & BRANCH_EFFECT) !== 0 && (flags2 & EFFECT_RAN) === 0;
  if (defer) {
    var context = (
      /** @type {ComponentContext} */
      component_context
    );
    ((_a3 = context.e) != null ? _a3 : context.e = []).push(fn);
  } else {
    return create_user_effect(fn);
  }
}
function create_user_effect(fn) {
  return create_effect(EFFECT | USER_EFFECT, fn, false);
}
function user_pre_effect(fn) {
  validate_effect("$effect.pre");
  if (dev_fallback_default) {
    define_property(fn, "name", {
      value: "$effect.pre"
    });
  }
  return create_effect(RENDER_EFFECT | USER_EFFECT, fn, true);
}
function effect_root(fn) {
  Batch.ensure();
  const effect2 = create_effect(ROOT_EFFECT | EFFECT_PRESERVED, fn, true);
  return () => {
    destroy_effect(effect2);
  };
}
function component_root(fn) {
  Batch.ensure();
  const effect2 = create_effect(ROOT_EFFECT | EFFECT_PRESERVED, fn, true);
  return (options = {}) => {
    return new Promise((fulfil) => {
      if (options.outro) {
        pause_effect(effect2, () => {
          destroy_effect(effect2);
          fulfil(void 0);
        });
      } else {
        destroy_effect(effect2);
        fulfil(void 0);
      }
    });
  };
}
function effect(fn) {
  return create_effect(EFFECT, fn, false);
}
function legacy_pre_effect(deps, fn) {
  var context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  var token = { effect: null, ran: false, deps };
  context.l.$.push(token);
  token.effect = render_effect(() => {
    deps();
    if (token.ran) return;
    token.ran = true;
    untrack(fn);
  });
}
function legacy_pre_effect_reset() {
  var context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  render_effect(() => {
    for (var token of context.l.$) {
      token.deps();
      var effect2 = token.effect;
      if ((effect2.f & CLEAN) !== 0 && effect2.deps !== null) {
        set_signal_status(effect2, MAYBE_DIRTY);
      }
      if (is_dirty(effect2)) {
        update_effect(effect2);
      }
      token.ran = false;
    }
  });
}
function async_effect(fn) {
  return create_effect(ASYNC | EFFECT_PRESERVED, fn, true);
}
function render_effect(fn, flags2 = 0) {
  return create_effect(RENDER_EFFECT | flags2, fn, true);
}
function template_effect(fn, sync = [], async2 = [], blockers = []) {
  flatten(blockers, sync, async2, (values) => {
    create_effect(RENDER_EFFECT, () => fn(...values.map(get)), true);
  });
}
function block(fn, flags2 = 0) {
  var effect2 = create_effect(BLOCK_EFFECT | flags2, fn, true);
  if (dev_fallback_default) {
    effect2.dev_stack = dev_stack;
  }
  return effect2;
}
function branch(fn) {
  return create_effect(BRANCH_EFFECT | EFFECT_PRESERVED, fn, true);
}
function execute_effect_teardown(effect2) {
  var teardown2 = effect2.teardown;
  if (teardown2 !== null) {
    const previously_destroying_effect = is_destroying_effect;
    const previous_reaction = active_reaction;
    set_is_destroying_effect(true);
    set_active_reaction(null);
    try {
      teardown2.call(null);
    } finally {
      set_is_destroying_effect(previously_destroying_effect);
      set_active_reaction(previous_reaction);
    }
  }
}
function destroy_effect_children(signal, remove_dom = false) {
  var effect2 = signal.first;
  signal.first = signal.last = null;
  while (effect2 !== null) {
    const controller = effect2.ac;
    if (controller !== null) {
      without_reactive_context(() => {
        controller.abort(STALE_REACTION);
      });
    }
    var next2 = effect2.next;
    if ((effect2.f & ROOT_EFFECT) !== 0) {
      effect2.parent = null;
    } else {
      destroy_effect(effect2, remove_dom);
    }
    effect2 = next2;
  }
}
function destroy_block_effect_children(signal) {
  var effect2 = signal.first;
  while (effect2 !== null) {
    var next2 = effect2.next;
    if ((effect2.f & BRANCH_EFFECT) === 0) {
      destroy_effect(effect2);
    }
    effect2 = next2;
  }
}
function destroy_effect(effect2, remove_dom = true) {
  var removed = false;
  if ((remove_dom || (effect2.f & HEAD_EFFECT) !== 0) && effect2.nodes !== null && effect2.nodes.end !== null) {
    remove_effect_dom(
      effect2.nodes.start,
      /** @type {TemplateNode} */
      effect2.nodes.end
    );
    removed = true;
  }
  destroy_effect_children(effect2, remove_dom && !removed);
  remove_reactions(effect2, 0);
  set_signal_status(effect2, DESTROYED);
  var transitions = effect2.nodes && effect2.nodes.t;
  if (transitions !== null) {
    for (const transition2 of transitions) {
      transition2.stop();
    }
  }
  execute_effect_teardown(effect2);
  var parent = effect2.parent;
  if (parent !== null && parent.first !== null) {
    unlink_effect(effect2);
  }
  if (dev_fallback_default) {
    effect2.component_function = null;
  }
  effect2.next = effect2.prev = effect2.teardown = effect2.ctx = effect2.deps = effect2.fn = effect2.nodes = effect2.ac = null;
}
function remove_effect_dom(node, end) {
  while (node !== null) {
    var next2 = node === end ? null : get_next_sibling(node);
    node.remove();
    node = next2;
  }
}
function unlink_effect(effect2) {
  var parent = effect2.parent;
  var prev = effect2.prev;
  var next2 = effect2.next;
  if (prev !== null) prev.next = next2;
  if (next2 !== null) next2.prev = prev;
  if (parent !== null) {
    if (parent.first === effect2) parent.first = next2;
    if (parent.last === effect2) parent.last = prev;
  }
}
function pause_effect(effect2, callback, destroy = true) {
  var transitions = [];
  pause_children(effect2, transitions, true);
  var fn = () => {
    if (destroy) destroy_effect(effect2);
    if (callback) callback();
  };
  var remaining = transitions.length;
  if (remaining > 0) {
    var check = () => --remaining || fn();
    for (var transition2 of transitions) {
      transition2.out(check);
    }
  } else {
    fn();
  }
}
function pause_children(effect2, transitions, local) {
  if ((effect2.f & INERT) !== 0) return;
  effect2.f ^= INERT;
  var t = effect2.nodes && effect2.nodes.t;
  if (t !== null) {
    for (const transition2 of t) {
      if (transition2.is_global || local) {
        transitions.push(transition2);
      }
    }
  }
  var child2 = effect2.first;
  while (child2 !== null) {
    var sibling2 = child2.next;
    var transparent = (child2.f & EFFECT_TRANSPARENT) !== 0 || // If this is a branch effect without a block effect parent,
    // it means the parent block effect was pruned. In that case,
    // transparency information was transferred to the branch effect.
    (child2.f & BRANCH_EFFECT) !== 0 && (effect2.f & BLOCK_EFFECT) !== 0;
    pause_children(child2, transitions, transparent ? local : false);
    child2 = sibling2;
  }
}
function resume_effect(effect2) {
  resume_children(effect2, true);
}
function resume_children(effect2, local) {
  if ((effect2.f & INERT) === 0) return;
  effect2.f ^= INERT;
  if ((effect2.f & CLEAN) === 0) {
    set_signal_status(effect2, DIRTY);
    schedule_effect(effect2);
  }
  var child2 = effect2.first;
  while (child2 !== null) {
    var sibling2 = child2.next;
    var transparent = (child2.f & EFFECT_TRANSPARENT) !== 0 || (child2.f & BRANCH_EFFECT) !== 0;
    resume_children(child2, transparent ? local : false);
    child2 = sibling2;
  }
  var t = effect2.nodes && effect2.nodes.t;
  if (t !== null) {
    for (const transition2 of t) {
      if (transition2.is_global || local) {
        transition2.in();
      }
    }
  }
}
function move_effect(effect2, fragment) {
  if (!effect2.nodes) return;
  var node = effect2.nodes.start;
  var end = effect2.nodes.end;
  while (node !== null) {
    var next2 = node === end ? null : get_next_sibling(node);
    fragment.append(node);
    node = next2;
  }
}

// node_modules/svelte/src/internal/client/legacy.js
var captured_signals = null;

// node_modules/svelte/src/internal/client/runtime.js
var is_updating_effect = false;
function set_is_updating_effect(value) {
  is_updating_effect = value;
}
var is_destroying_effect = false;
function set_is_destroying_effect(value) {
  is_destroying_effect = value;
}
var active_reaction = null;
var untracking = false;
function set_active_reaction(reaction) {
  active_reaction = reaction;
}
var active_effect = null;
function set_active_effect(effect2) {
  active_effect = effect2;
}
var current_sources = null;
function push_reaction_value(value) {
  if (active_reaction !== null && (!async_mode_flag || (active_reaction.f & DERIVED) !== 0)) {
    if (current_sources === null) {
      current_sources = [value];
    } else {
      current_sources.push(value);
    }
  }
}
var new_deps = null;
var skipped_deps = 0;
var untracked_writes = null;
function set_untracked_writes(value) {
  untracked_writes = value;
}
var write_version = 1;
var read_version = 0;
var update_version = read_version;
function set_update_version(value) {
  update_version = value;
}
function increment_write_version() {
  return ++write_version;
}
function is_dirty(reaction) {
  var flags2 = reaction.f;
  if ((flags2 & DIRTY) !== 0) {
    return true;
  }
  if (flags2 & DERIVED) {
    reaction.f &= ~WAS_MARKED;
  }
  if ((flags2 & MAYBE_DIRTY) !== 0) {
    var dependencies = (
      /** @type {Value[]} */
      reaction.deps
    );
    var length = dependencies.length;
    for (var i = 0; i < length; i++) {
      var dependency = dependencies[i];
      if (is_dirty(
        /** @type {Derived} */
        dependency
      )) {
        update_derived(
          /** @type {Derived} */
          dependency
        );
      }
      if (dependency.wv > reaction.wv) {
        return true;
      }
    }
    if ((flags2 & CONNECTED) !== 0 && // During time traveling we don't want to reset the status so that
    // traversal of the graph in the other batches still happens
    batch_values === null) {
      set_signal_status(reaction, CLEAN);
    }
  }
  return false;
}
function schedule_possible_effect_self_invalidation(signal, effect2, root9 = true) {
  var reactions = signal.reactions;
  if (reactions === null) return;
  if (!async_mode_flag && (current_sources == null ? void 0 : current_sources.includes(signal))) {
    return;
  }
  for (var i = 0; i < reactions.length; i++) {
    var reaction = reactions[i];
    if ((reaction.f & DERIVED) !== 0) {
      schedule_possible_effect_self_invalidation(
        /** @type {Derived} */
        reaction,
        effect2,
        false
      );
    } else if (effect2 === reaction) {
      if (root9) {
        set_signal_status(reaction, DIRTY);
      } else if ((reaction.f & CLEAN) !== 0) {
        set_signal_status(reaction, MAYBE_DIRTY);
      }
      schedule_effect(
        /** @type {Effect} */
        reaction
      );
    }
  }
}
function update_reaction(reaction) {
  var _a3, _b3;
  var previous_deps = new_deps;
  var previous_skipped_deps = skipped_deps;
  var previous_untracked_writes = untracked_writes;
  var previous_reaction = active_reaction;
  var previous_sources = current_sources;
  var previous_component_context = component_context;
  var previous_untracking = untracking;
  var previous_update_version = update_version;
  var flags2 = reaction.f;
  new_deps = /** @type {null | Value[]} */
  null;
  skipped_deps = 0;
  untracked_writes = null;
  active_reaction = (flags2 & (BRANCH_EFFECT | ROOT_EFFECT)) === 0 ? reaction : null;
  current_sources = null;
  set_component_context(reaction.ctx);
  untracking = false;
  update_version = ++read_version;
  if (reaction.ac !== null) {
    without_reactive_context(() => {
      reaction.ac.abort(STALE_REACTION);
    });
    reaction.ac = null;
  }
  try {
    reaction.f |= REACTION_IS_UPDATING;
    var fn = (
      /** @type {Function} */
      reaction.fn
    );
    var result = fn();
    var deps = reaction.deps;
    if (new_deps !== null) {
      var i;
      remove_reactions(reaction, skipped_deps);
      if (deps !== null && skipped_deps > 0) {
        deps.length = skipped_deps + new_deps.length;
        for (i = 0; i < new_deps.length; i++) {
          deps[skipped_deps + i] = new_deps[i];
        }
      } else {
        reaction.deps = deps = new_deps;
      }
      if (effect_tracking() && (reaction.f & CONNECTED) !== 0) {
        for (i = skipped_deps; i < deps.length; i++) {
          ((_b3 = (_a3 = deps[i]).reactions) != null ? _b3 : _a3.reactions = []).push(reaction);
        }
      }
    } else if (deps !== null && skipped_deps < deps.length) {
      remove_reactions(reaction, skipped_deps);
      deps.length = skipped_deps;
    }
    if (is_runes() && untracked_writes !== null && !untracking && deps !== null && (reaction.f & (DERIVED | MAYBE_DIRTY | DIRTY)) === 0) {
      for (i = 0; i < /** @type {Source[]} */
      untracked_writes.length; i++) {
        schedule_possible_effect_self_invalidation(
          untracked_writes[i],
          /** @type {Effect} */
          reaction
        );
      }
    }
    if (previous_reaction !== null && previous_reaction !== reaction) {
      read_version++;
      if (untracked_writes !== null) {
        if (previous_untracked_writes === null) {
          previous_untracked_writes = untracked_writes;
        } else {
          previous_untracked_writes.push(.../** @type {Source[]} */
          untracked_writes);
        }
      }
    }
    if ((reaction.f & ERROR_VALUE) !== 0) {
      reaction.f ^= ERROR_VALUE;
    }
    return result;
  } catch (error) {
    return handle_error(error);
  } finally {
    reaction.f ^= REACTION_IS_UPDATING;
    new_deps = previous_deps;
    skipped_deps = previous_skipped_deps;
    untracked_writes = previous_untracked_writes;
    active_reaction = previous_reaction;
    current_sources = previous_sources;
    set_component_context(previous_component_context);
    untracking = previous_untracking;
    update_version = previous_update_version;
  }
}
function remove_reaction(signal, dependency) {
  let reactions = dependency.reactions;
  if (reactions !== null) {
    var index2 = index_of.call(reactions, signal);
    if (index2 !== -1) {
      var new_length = reactions.length - 1;
      if (new_length === 0) {
        reactions = dependency.reactions = null;
      } else {
        reactions[index2] = reactions[new_length];
        reactions.pop();
      }
    }
  }
  if (reactions === null && (dependency.f & DERIVED) !== 0 && // Destroying a child effect while updating a parent effect can cause a dependency to appear
  // to be unused, when in fact it is used by the currently-updating parent. Checking `new_deps`
  // allows us to skip the expensive work of disconnecting and immediately reconnecting it
  (new_deps === null || !new_deps.includes(dependency))) {
    var derived3 = (
      /** @type {Derived} */
      dependency
    );
    if ((derived3.f & CONNECTED) !== 0) {
      derived3.f ^= CONNECTED;
      derived3.f &= ~WAS_MARKED;
    }
    update_derived_status(derived3);
    destroy_derived_effects(derived3);
    remove_reactions(derived3, 0);
  }
}
function remove_reactions(signal, start_index) {
  var dependencies = signal.deps;
  if (dependencies === null) return;
  for (var i = start_index; i < dependencies.length; i++) {
    remove_reaction(signal, dependencies[i]);
  }
}
function update_effect(effect2) {
  var _a3;
  var flags2 = effect2.f;
  if ((flags2 & DESTROYED) !== 0) {
    return;
  }
  set_signal_status(effect2, CLEAN);
  var previous_effect = active_effect;
  var was_updating_effect = is_updating_effect;
  active_effect = effect2;
  is_updating_effect = true;
  if (dev_fallback_default) {
    var previous_component_fn = dev_current_component_function;
    set_dev_current_component_function(effect2.component_function);
    var previous_stack = (
      /** @type {any} */
      dev_stack
    );
    set_dev_stack((_a3 = effect2.dev_stack) != null ? _a3 : dev_stack);
  }
  try {
    if ((flags2 & (BLOCK_EFFECT | MANAGED_EFFECT)) !== 0) {
      destroy_block_effect_children(effect2);
    } else {
      destroy_effect_children(effect2);
    }
    execute_effect_teardown(effect2);
    var teardown2 = update_reaction(effect2);
    effect2.teardown = typeof teardown2 === "function" ? teardown2 : null;
    effect2.wv = write_version;
    if (dev_fallback_default && tracing_mode_flag && (effect2.f & DIRTY) !== 0 && effect2.deps !== null) {
      for (var dep of effect2.deps) {
        if (dep.set_during_effect) {
          dep.wv = increment_write_version();
          dep.set_during_effect = false;
        }
      }
    }
  } finally {
    is_updating_effect = was_updating_effect;
    active_effect = previous_effect;
    if (dev_fallback_default) {
      set_dev_current_component_function(previous_component_fn);
      set_dev_stack(previous_stack);
    }
  }
}
async function tick() {
  if (async_mode_flag) {
    return new Promise((f) => {
      requestAnimationFrame(() => f());
      setTimeout(() => f());
    });
  }
  await Promise.resolve();
  flushSync();
}
function get(signal) {
  var _a3, _b3, _c2;
  var flags2 = signal.f;
  var is_derived = (flags2 & DERIVED) !== 0;
  (_a3 = captured_signals) == null ? void 0 : _a3.add(signal);
  if (active_reaction !== null && !untracking) {
    var destroyed = active_effect !== null && (active_effect.f & DESTROYED) !== 0;
    if (!destroyed && !(current_sources == null ? void 0 : current_sources.includes(signal))) {
      var deps = active_reaction.deps;
      if ((active_reaction.f & REACTION_IS_UPDATING) !== 0) {
        if (signal.rv < read_version) {
          signal.rv = read_version;
          if (new_deps === null && deps !== null && deps[skipped_deps] === signal) {
            skipped_deps++;
          } else if (new_deps === null) {
            new_deps = [signal];
          } else if (!new_deps.includes(signal)) {
            new_deps.push(signal);
          }
        }
      } else {
        ((_b3 = active_reaction.deps) != null ? _b3 : active_reaction.deps = []).push(signal);
        var reactions = signal.reactions;
        if (reactions === null) {
          signal.reactions = [active_reaction];
        } else if (!reactions.includes(active_reaction)) {
          reactions.push(active_reaction);
        }
      }
    }
  }
  if (dev_fallback_default) {
    recent_async_deriveds.delete(signal);
    if (tracing_mode_flag && !untracking && tracing_expressions !== null && active_reaction !== null && tracing_expressions.reaction === active_reaction) {
      if (signal.trace) {
        signal.trace();
      } else {
        var trace2 = get_error("traced at");
        if (trace2) {
          var entry = tracing_expressions.entries.get(signal);
          if (entry === void 0) {
            entry = { traces: [] };
            tracing_expressions.entries.set(signal, entry);
          }
          var last = entry.traces[entry.traces.length - 1];
          if (trace2.stack !== (last == null ? void 0 : last.stack)) {
            entry.traces.push(trace2);
          }
        }
      }
    }
  }
  if (is_destroying_effect && old_values.has(signal)) {
    return old_values.get(signal);
  }
  if (is_derived) {
    var derived3 = (
      /** @type {Derived} */
      signal
    );
    if (is_destroying_effect) {
      var value = derived3.v;
      if ((derived3.f & CLEAN) === 0 && derived3.reactions !== null || depends_on_old_values(derived3)) {
        value = execute_derived(derived3);
      }
      old_values.set(derived3, value);
      return value;
    }
    var should_connect = (derived3.f & CONNECTED) === 0 && !untracking && active_reaction !== null && (is_updating_effect || (active_reaction.f & CONNECTED) !== 0);
    var is_new = derived3.deps === null;
    if (is_dirty(derived3)) {
      if (should_connect) {
        derived3.f |= CONNECTED;
      }
      update_derived(derived3);
    }
    if (should_connect && !is_new) {
      reconnect(derived3);
    }
  }
  if ((_c2 = batch_values) == null ? void 0 : _c2.has(signal)) {
    return batch_values.get(signal);
  }
  if ((signal.f & ERROR_VALUE) !== 0) {
    throw signal.v;
  }
  return signal.v;
}
function reconnect(derived3) {
  var _a3;
  if (derived3.deps === null) return;
  derived3.f |= CONNECTED;
  for (const dep of derived3.deps) {
    ((_a3 = dep.reactions) != null ? _a3 : dep.reactions = []).push(derived3);
    if ((dep.f & DERIVED) !== 0 && (dep.f & CONNECTED) === 0) {
      reconnect(
        /** @type {Derived} */
        dep
      );
    }
  }
}
function depends_on_old_values(derived3) {
  if (derived3.v === UNINITIALIZED) return true;
  if (derived3.deps === null) return false;
  for (const dep of derived3.deps) {
    if (old_values.has(dep)) {
      return true;
    }
    if ((dep.f & DERIVED) !== 0 && depends_on_old_values(
      /** @type {Derived} */
      dep
    )) {
      return true;
    }
  }
  return false;
}
function untrack(fn) {
  var previous_untracking = untracking;
  try {
    untracking = true;
    return fn();
  } finally {
    untracking = previous_untracking;
  }
}
function deep_read_state(value) {
  if (typeof value !== "object" || !value || value instanceof EventTarget) {
    return;
  }
  if (STATE_SYMBOL in value) {
    deep_read(value);
  } else if (!Array.isArray(value)) {
    for (let key2 in value) {
      const prop2 = value[key2];
      if (typeof prop2 === "object" && prop2 && STATE_SYMBOL in prop2) {
        deep_read(prop2);
      }
    }
  }
}
function deep_read(value, visited = /* @__PURE__ */ new Set()) {
  if (typeof value === "object" && value !== null && // We don't want to traverse DOM elements
  !(value instanceof EventTarget) && !visited.has(value)) {
    visited.add(value);
    if (value instanceof Date) {
      value.getTime();
    }
    for (let key2 in value) {
      try {
        deep_read(value[key2], visited);
      } catch (e) {
      }
    }
    const proto = get_prototype_of(value);
    if (proto !== Object.prototype && proto !== Array.prototype && proto !== Map.prototype && proto !== Set.prototype && proto !== Date.prototype) {
      const descriptors = get_descriptors(proto);
      for (let key2 in descriptors) {
        const get3 = descriptors[key2].get;
        if (get3) {
          try {
            get3.call(value);
          } catch (e) {
          }
        }
      }
    }
  }
}

// node_modules/svelte/src/utils.js
var DOM_BOOLEAN_ATTRIBUTES = [
  "allowfullscreen",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "controls",
  "default",
  "disabled",
  "formnovalidate",
  "indeterminate",
  "inert",
  "ismap",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "seamless",
  "selected",
  "webkitdirectory",
  "defer",
  "disablepictureinpicture",
  "disableremoteplayback"
];
var DOM_PROPERTIES = [
  ...DOM_BOOLEAN_ATTRIBUTES,
  "formNoValidate",
  "isMap",
  "noModule",
  "playsInline",
  "readOnly",
  "value",
  "volume",
  "defaultValue",
  "defaultChecked",
  "srcObject",
  "noValidate",
  "allowFullscreen",
  "disablePictureInPicture",
  "disableRemotePlayback"
];
var PASSIVE_EVENTS = ["touchstart", "touchmove"];
function is_passive_event(name) {
  return PASSIVE_EVENTS.includes(name);
}
var STATE_CREATION_RUNES = (
  /** @type {const} */
  [
    "$state",
    "$state.raw",
    "$derived",
    "$derived.by"
  ]
);
var RUNES = (
  /** @type {const} */
  [
    ...STATE_CREATION_RUNES,
    "$state.eager",
    "$state.snapshot",
    "$props",
    "$props.id",
    "$bindable",
    "$effect",
    "$effect.pre",
    "$effect.tracking",
    "$effect.root",
    "$effect.pending",
    "$inspect",
    "$inspect().with",
    "$inspect.trace",
    "$host"
  ]
);

// node_modules/svelte/src/internal/client/dev/css.js
var all_styles = /* @__PURE__ */ new Map();
function register_style(hash2, style) {
  var styles = all_styles.get(hash2);
  if (!styles) {
    styles = /* @__PURE__ */ new Set();
    all_styles.set(hash2, styles);
  }
  styles.add(style);
}

// node_modules/svelte/src/internal/client/dom/elements/events.js
var all_registered_events = /* @__PURE__ */ new Set();
var root_event_handles = /* @__PURE__ */ new Set();
function create_event(event_name, dom, handler, options = {}) {
  function target_handler(event2) {
    if (!options.capture) {
      handle_event_propagation.call(dom, event2);
    }
    if (!event2.cancelBubble) {
      return without_reactive_context(() => {
        return handler == null ? void 0 : handler.call(this, event2);
      });
    }
  }
  if (event_name.startsWith("pointer") || event_name.startsWith("touch") || event_name === "wheel") {
    queue_micro_task(() => {
      dom.addEventListener(event_name, target_handler, options);
    });
  } else {
    dom.addEventListener(event_name, target_handler, options);
  }
  return target_handler;
}
function event(event_name, dom, handler, capture2, passive2) {
  var options = { capture: capture2, passive: passive2 };
  var target_handler = create_event(event_name, dom, handler, options);
  if (dom === document.body || // @ts-ignore
  dom === window || // @ts-ignore
  dom === document || // Firefox has quirky behavior, it can happen that we still get "canplay" events when the element is already removed
  dom instanceof HTMLMediaElement) {
    teardown(() => {
      dom.removeEventListener(event_name, target_handler, options);
    });
  }
}
function delegate(events) {
  for (var i = 0; i < events.length; i++) {
    all_registered_events.add(events[i]);
  }
  for (var fn of root_event_handles) {
    fn(events);
  }
}
var last_propagated_event = null;
function handle_event_propagation(event2) {
  var _a3;
  var handler_element = this;
  var owner_document = (
    /** @type {Node} */
    handler_element.ownerDocument
  );
  var event_name = event2.type;
  var path = ((_a3 = event2.composedPath) == null ? void 0 : _a3.call(event2)) || [];
  var current_target = (
    /** @type {null | Element} */
    path[0] || event2.target
  );
  last_propagated_event = event2;
  var path_idx = 0;
  var handled_at = last_propagated_event === event2 && event2.__root;
  if (handled_at) {
    var at_idx = path.indexOf(handled_at);
    if (at_idx !== -1 && (handler_element === document || handler_element === /** @type {any} */
    window)) {
      event2.__root = handler_element;
      return;
    }
    var handler_idx = path.indexOf(handler_element);
    if (handler_idx === -1) {
      return;
    }
    if (at_idx <= handler_idx) {
      path_idx = at_idx;
    }
  }
  current_target = /** @type {Element} */
  path[path_idx] || event2.target;
  if (current_target === handler_element) return;
  define_property(event2, "currentTarget", {
    configurable: true,
    get() {
      return current_target || owner_document;
    }
  });
  var previous_reaction = active_reaction;
  var previous_effect = active_effect;
  set_active_reaction(null);
  set_active_effect(null);
  try {
    var throw_error;
    var other_errors = [];
    while (current_target !== null) {
      var parent_element = current_target.assignedSlot || current_target.parentNode || /** @type {any} */
      current_target.host || null;
      try {
        var delegated = current_target["__" + event_name];
        if (delegated != null && (!/** @type {any} */
        current_target.disabled || // DOM could've been updated already by the time this is reached, so we check this as well
        // -> the target could not have been disabled because it emits the event in the first place
        event2.target === current_target)) {
          delegated.call(current_target, event2);
        }
      } catch (error) {
        if (throw_error) {
          other_errors.push(error);
        } else {
          throw_error = error;
        }
      }
      if (event2.cancelBubble || parent_element === handler_element || parent_element === null) {
        break;
      }
      current_target = parent_element;
    }
    if (throw_error) {
      for (let error of other_errors) {
        queueMicrotask(() => {
          throw error;
        });
      }
      throw throw_error;
    }
  } finally {
    event2.__root = handler_element;
    delete event2.currentTarget;
    set_active_reaction(previous_reaction);
    set_active_effect(previous_effect);
  }
}

// node_modules/svelte/src/internal/client/dom/reconciler.js
function create_fragment_from_html(html2) {
  var elem = document.createElement("template");
  elem.innerHTML = html2.replaceAll("<!>", "<!---->");
  return elem.content;
}

// node_modules/svelte/src/internal/client/dom/template.js
function assign_nodes(start, end) {
  var effect2 = (
    /** @type {Effect} */
    active_effect
  );
  if (effect2.nodes === null) {
    effect2.nodes = { start, end, a: null, t: null };
  }
}
// @__NO_SIDE_EFFECTS__
function from_html(content, flags2) {
  var is_fragment = (flags2 & TEMPLATE_FRAGMENT) !== 0;
  var use_import_node = (flags2 & TEMPLATE_USE_IMPORT_NODE) !== 0;
  var node;
  var has_start = !content.startsWith("<!>");
  return () => {
    if (hydrating) {
      assign_nodes(hydrate_node, null);
      return hydrate_node;
    }
    if (node === void 0) {
      node = create_fragment_from_html(has_start ? content : "<!>" + content);
      if (!is_fragment) node = /** @type {TemplateNode} */
      get_first_child(node);
    }
    var clone = (
      /** @type {TemplateNode} */
      use_import_node || is_firefox ? document.importNode(node, true) : node.cloneNode(true)
    );
    if (is_fragment) {
      var start = (
        /** @type {TemplateNode} */
        get_first_child(clone)
      );
      var end = (
        /** @type {TemplateNode} */
        clone.lastChild
      );
      assign_nodes(start, end);
    } else {
      assign_nodes(clone, clone);
    }
    return clone;
  };
}
function comment() {
  if (hydrating) {
    assign_nodes(hydrate_node, null);
    return hydrate_node;
  }
  var frag = document.createDocumentFragment();
  var start = document.createComment("");
  var anchor = create_text();
  frag.append(start, anchor);
  assign_nodes(start, anchor);
  return frag;
}
function append(anchor, dom) {
  if (hydrating) {
    var effect2 = (
      /** @type {Effect & { nodes: EffectNodes }} */
      active_effect
    );
    if ((effect2.f & EFFECT_RAN) === 0 || effect2.nodes.end === null) {
      effect2.nodes.end = hydrate_node;
    }
    hydrate_next();
    return;
  }
  if (anchor === null) {
    return;
  }
  anchor.before(
    /** @type {Node} */
    dom
  );
}

// node_modules/svelte/src/internal/client/render.js
var should_intro = true;
function set_text(text2, value) {
  var _a3;
  var str = value == null ? "" : typeof value === "object" ? value + "" : value;
  if (str !== ((_a3 = text2.__t) != null ? _a3 : text2.__t = text2.nodeValue)) {
    text2.__t = str;
    text2.nodeValue = str + "";
  }
}
function mount(component2, options) {
  return _mount(component2, options);
}
function hydrate(component2, options) {
  var _a3;
  init_operations();
  options.intro = (_a3 = options.intro) != null ? _a3 : false;
  const target = options.target;
  const was_hydrating = hydrating;
  const previous_hydrate_node = hydrate_node;
  try {
    var anchor = get_first_child(target);
    while (anchor && (anchor.nodeType !== COMMENT_NODE || /** @type {Comment} */
    anchor.data !== HYDRATION_START)) {
      anchor = get_next_sibling(anchor);
    }
    if (!anchor) {
      throw HYDRATION_ERROR;
    }
    set_hydrating(true);
    set_hydrate_node(
      /** @type {Comment} */
      anchor
    );
    const instance = _mount(component2, { ...options, anchor });
    set_hydrating(false);
    return (
      /**  @type {Exports} */
      instance
    );
  } catch (error) {
    if (error instanceof Error && error.message.split("\n").some((line) => line.startsWith("https://svelte.dev/e/"))) {
      throw error;
    }
    if (error !== HYDRATION_ERROR) {
      console.warn("Failed to hydrate: ", error);
    }
    if (options.recover === false) {
      hydration_failed();
    }
    init_operations();
    clear_text_content(target);
    set_hydrating(false);
    return mount(component2, options);
  } finally {
    set_hydrating(was_hydrating);
    set_hydrate_node(previous_hydrate_node);
  }
}
var document_listeners = /* @__PURE__ */ new Map();
function _mount(Component, { target, anchor, props = {}, events, context, intro = true }) {
  init_operations();
  var registered_events = /* @__PURE__ */ new Set();
  var event_handle = (events2) => {
    for (var i = 0; i < events2.length; i++) {
      var event_name = events2[i];
      if (registered_events.has(event_name)) continue;
      registered_events.add(event_name);
      var passive2 = is_passive_event(event_name);
      target.addEventListener(event_name, handle_event_propagation, { passive: passive2 });
      var n = document_listeners.get(event_name);
      if (n === void 0) {
        document.addEventListener(event_name, handle_event_propagation, { passive: passive2 });
        document_listeners.set(event_name, 1);
      } else {
        document_listeners.set(event_name, n + 1);
      }
    }
  };
  event_handle(array_from(all_registered_events));
  root_event_handles.add(event_handle);
  var component2 = void 0;
  var unmount2 = component_root(() => {
    var anchor_node = anchor != null ? anchor : target.appendChild(create_text());
    boundary(
      /** @type {TemplateNode} */
      anchor_node,
      {
        pending: () => {
        }
      },
      (anchor_node2) => {
        if (context) {
          push({});
          var ctx = (
            /** @type {ComponentContext} */
            component_context
          );
          ctx.c = context;
        }
        if (events) {
          props.$$events = events;
        }
        if (hydrating) {
          assign_nodes(
            /** @type {TemplateNode} */
            anchor_node2,
            null
          );
        }
        should_intro = intro;
        component2 = Component(anchor_node2, props) || {};
        should_intro = true;
        if (hydrating) {
          active_effect.nodes.end = hydrate_node;
          if (hydrate_node === null || hydrate_node.nodeType !== COMMENT_NODE || /** @type {Comment} */
          hydrate_node.data !== HYDRATION_END) {
            hydration_mismatch();
            throw HYDRATION_ERROR;
          }
        }
        if (context) {
          pop();
        }
      }
    );
    return () => {
      var _a3;
      for (var event_name of registered_events) {
        target.removeEventListener(event_name, handle_event_propagation);
        var n = (
          /** @type {number} */
          document_listeners.get(event_name)
        );
        if (--n === 0) {
          document.removeEventListener(event_name, handle_event_propagation);
          document_listeners.delete(event_name);
        } else {
          document_listeners.set(event_name, n);
        }
      }
      root_event_handles.delete(event_handle);
      if (anchor_node !== anchor) {
        (_a3 = anchor_node.parentNode) == null ? void 0 : _a3.removeChild(anchor_node);
      }
    };
  });
  mounted_components.set(component2, unmount2);
  return component2;
}
var mounted_components = /* @__PURE__ */ new WeakMap();
function unmount(component2, options) {
  const fn = mounted_components.get(component2);
  if (fn) {
    mounted_components.delete(component2);
    return fn(options);
  }
  if (dev_fallback_default) {
    if (STATE_SYMBOL in component2) {
      state_proxy_unmount();
    } else {
      lifecycle_double_unmount();
    }
  }
  return Promise.resolve();
}

// node_modules/svelte/src/internal/client/dom/blocks/branches.js
var _batches, _onscreen, _offscreen, _outroing, _transition, _commit, _discard;
var BranchManager = class {
  /**
   * @param {TemplateNode} anchor
   * @param {boolean} transition
   */
  constructor(anchor, transition2 = true) {
    /** @type {TemplateNode} */
    __publicField(this, "anchor");
    /** @type {Map<Batch, Key>} */
    __privateAdd(this, _batches, /* @__PURE__ */ new Map());
    /**
     * Map of keys to effects that are currently rendered in the DOM.
     * These effects are visible and actively part of the document tree.
     * Example:
     * ```
     * {#if condition}
     * 	foo
     * {:else}
     * 	bar
     * {/if}
     * ```
     * Can result in the entries `true->Effect` and `false->Effect`
     * @type {Map<Key, Effect>}
     */
    __privateAdd(this, _onscreen, /* @__PURE__ */ new Map());
    /**
     * Similar to #onscreen with respect to the keys, but contains branches that are not yet
     * in the DOM, because their insertion is deferred.
     * @type {Map<Key, Branch>}
     */
    __privateAdd(this, _offscreen, /* @__PURE__ */ new Map());
    /**
     * Keys of effects that are currently outroing
     * @type {Set<Key>}
     */
    __privateAdd(this, _outroing, /* @__PURE__ */ new Set());
    /**
     * Whether to pause (i.e. outro) on change, or destroy immediately.
     * This is necessary for `<svelte:element>`
     */
    __privateAdd(this, _transition, true);
    __privateAdd(this, _commit, () => {
      var batch = (
        /** @type {Batch} */
        current_batch
      );
      if (!__privateGet(this, _batches).has(batch)) return;
      var key2 = (
        /** @type {Key} */
        __privateGet(this, _batches).get(batch)
      );
      var onscreen = __privateGet(this, _onscreen).get(key2);
      if (onscreen) {
        resume_effect(onscreen);
        __privateGet(this, _outroing).delete(key2);
      } else {
        var offscreen = __privateGet(this, _offscreen).get(key2);
        if (offscreen) {
          __privateGet(this, _onscreen).set(key2, offscreen.effect);
          __privateGet(this, _offscreen).delete(key2);
          offscreen.fragment.lastChild.remove();
          this.anchor.before(offscreen.fragment);
          onscreen = offscreen.effect;
        }
      }
      for (const [b, k] of __privateGet(this, _batches)) {
        __privateGet(this, _batches).delete(b);
        if (b === batch) {
          break;
        }
        const offscreen2 = __privateGet(this, _offscreen).get(k);
        if (offscreen2) {
          destroy_effect(offscreen2.effect);
          __privateGet(this, _offscreen).delete(k);
        }
      }
      for (const [k, effect2] of __privateGet(this, _onscreen)) {
        if (k === key2 || __privateGet(this, _outroing).has(k)) continue;
        const on_destroy = () => {
          const keys = Array.from(__privateGet(this, _batches).values());
          if (keys.includes(k)) {
            var fragment = document.createDocumentFragment();
            move_effect(effect2, fragment);
            fragment.append(create_text());
            __privateGet(this, _offscreen).set(k, { effect: effect2, fragment });
          } else {
            destroy_effect(effect2);
          }
          __privateGet(this, _outroing).delete(k);
          __privateGet(this, _onscreen).delete(k);
        };
        if (__privateGet(this, _transition) || !onscreen) {
          __privateGet(this, _outroing).add(k);
          pause_effect(effect2, on_destroy, false);
        } else {
          on_destroy();
        }
      }
    });
    /**
     * @param {Batch} batch
     */
    __privateAdd(this, _discard, (batch) => {
      __privateGet(this, _batches).delete(batch);
      const keys = Array.from(__privateGet(this, _batches).values());
      for (const [k, branch2] of __privateGet(this, _offscreen)) {
        if (!keys.includes(k)) {
          destroy_effect(branch2.effect);
          __privateGet(this, _offscreen).delete(k);
        }
      }
    });
    this.anchor = anchor;
    __privateSet(this, _transition, transition2);
  }
  /**
   *
   * @param {any} key
   * @param {null | ((target: TemplateNode) => void)} fn
   */
  ensure(key2, fn) {
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    var defer = should_defer_append();
    if (fn && !__privateGet(this, _onscreen).has(key2) && !__privateGet(this, _offscreen).has(key2)) {
      if (defer) {
        var fragment = document.createDocumentFragment();
        var target = create_text();
        fragment.append(target);
        __privateGet(this, _offscreen).set(key2, {
          effect: branch(() => fn(target)),
          fragment
        });
      } else {
        __privateGet(this, _onscreen).set(
          key2,
          branch(() => fn(this.anchor))
        );
      }
    }
    __privateGet(this, _batches).set(batch, key2);
    if (defer) {
      for (const [k, effect2] of __privateGet(this, _onscreen)) {
        if (k === key2) {
          batch.skipped_effects.delete(effect2);
        } else {
          batch.skipped_effects.add(effect2);
        }
      }
      for (const [k, branch2] of __privateGet(this, _offscreen)) {
        if (k === key2) {
          batch.skipped_effects.delete(branch2.effect);
        } else {
          batch.skipped_effects.add(branch2.effect);
        }
      }
      batch.oncommit(__privateGet(this, _commit));
      batch.ondiscard(__privateGet(this, _discard));
    } else {
      if (hydrating) {
        this.anchor = hydrate_node;
      }
      __privateGet(this, _commit).call(this);
    }
  }
};
_batches = new WeakMap();
_onscreen = new WeakMap();
_offscreen = new WeakMap();
_outroing = new WeakMap();
_transition = new WeakMap();
_commit = new WeakMap();
_discard = new WeakMap();

// node_modules/svelte/src/internal/client/dom/blocks/if.js
function if_block(node, fn, elseif = false) {
  if (hydrating) {
    hydrate_next();
  }
  var branches = new BranchManager(node);
  var flags2 = elseif ? EFFECT_TRANSPARENT : 0;
  function update_branch(condition, fn2) {
    if (hydrating) {
      const is_else = read_hydration_instruction(node) === HYDRATION_START_ELSE;
      if (condition === is_else) {
        var anchor = skip_nodes();
        set_hydrate_node(anchor);
        branches.anchor = anchor;
        set_hydrating(false);
        branches.ensure(condition, fn2);
        set_hydrating(true);
        return;
      }
    }
    branches.ensure(condition, fn2);
  }
  block(() => {
    var has_branch = false;
    fn((fn2, flag = true) => {
      has_branch = true;
      update_branch(flag, fn2);
    });
    if (!has_branch) {
      update_branch(false, null);
    }
  }, flags2);
}

// node_modules/svelte/src/internal/client/dom/blocks/each.js
function index(_, i) {
  return i;
}
function pause_effects(state2, to_destroy, controlled_anchor) {
  var _a3;
  var transitions = [];
  var length = to_destroy.length;
  var group;
  var remaining = to_destroy.length;
  for (var i = 0; i < length; i++) {
    let effect2 = to_destroy[i];
    pause_effect(
      effect2,
      () => {
        if (group) {
          group.pending.delete(effect2);
          group.done.add(effect2);
          if (group.pending.size === 0) {
            var groups = (
              /** @type {Set<EachOutroGroup>} */
              state2.outrogroups
            );
            destroy_effects(array_from(group.done));
            groups.delete(group);
            if (groups.size === 0) {
              state2.outrogroups = null;
            }
          }
        } else {
          remaining -= 1;
        }
      },
      false
    );
  }
  if (remaining === 0) {
    var fast_path = transitions.length === 0 && controlled_anchor !== null;
    if (fast_path) {
      var anchor = (
        /** @type {Element} */
        controlled_anchor
      );
      var parent_node = (
        /** @type {Element} */
        anchor.parentNode
      );
      clear_text_content(parent_node);
      parent_node.append(anchor);
      state2.items.clear();
    }
    destroy_effects(to_destroy, !fast_path);
  } else {
    group = {
      pending: new Set(to_destroy),
      done: /* @__PURE__ */ new Set()
    };
    ((_a3 = state2.outrogroups) != null ? _a3 : state2.outrogroups = /* @__PURE__ */ new Set()).add(group);
  }
}
function destroy_effects(to_destroy, remove_dom = true) {
  for (var i = 0; i < to_destroy.length; i++) {
    destroy_effect(to_destroy[i], remove_dom);
  }
}
var offscreen_anchor;
function each(node, flags2, get_collection, get_key, render_fn, fallback_fn = null) {
  var anchor = node;
  var items = /* @__PURE__ */ new Map();
  var is_controlled = (flags2 & EACH_IS_CONTROLLED) !== 0;
  if (is_controlled) {
    var parent_node = (
      /** @type {Element} */
      node
    );
    anchor = hydrating ? set_hydrate_node(get_first_child(parent_node)) : parent_node.appendChild(create_text());
  }
  if (hydrating) {
    hydrate_next();
  }
  var fallback2 = null;
  var each_array = derived_safe_equal(() => {
    var collection = get_collection();
    return is_array(collection) ? collection : collection == null ? [] : array_from(collection);
  });
  var array;
  var first_run = true;
  function commit() {
    state2.fallback = fallback2;
    reconcile(state2, array, anchor, flags2, get_key);
    if (fallback2 !== null) {
      if (array.length === 0) {
        if ((fallback2.f & EFFECT_OFFSCREEN) === 0) {
          resume_effect(fallback2);
        } else {
          fallback2.f ^= EFFECT_OFFSCREEN;
          move(fallback2, null, anchor);
        }
      } else {
        pause_effect(fallback2, () => {
          fallback2 = null;
        });
      }
    }
  }
  var effect2 = block(() => {
    array = /** @type {V[]} */
    get(each_array);
    var length = array.length;
    let mismatch = false;
    if (hydrating) {
      var is_else = read_hydration_instruction(anchor) === HYDRATION_START_ELSE;
      if (is_else !== (length === 0)) {
        anchor = skip_nodes();
        set_hydrate_node(anchor);
        set_hydrating(false);
        mismatch = true;
      }
    }
    var keys = /* @__PURE__ */ new Set();
    var batch = (
      /** @type {Batch} */
      current_batch
    );
    var defer = should_defer_append();
    for (var index2 = 0; index2 < length; index2 += 1) {
      if (hydrating && hydrate_node.nodeType === COMMENT_NODE && /** @type {Comment} */
      hydrate_node.data === HYDRATION_END) {
        anchor = /** @type {Comment} */
        hydrate_node;
        mismatch = true;
        set_hydrating(false);
      }
      var value = array[index2];
      var key2 = get_key(value, index2);
      var item = first_run ? null : items.get(key2);
      if (item) {
        if (item.v) internal_set(item.v, value);
        if (item.i) internal_set(item.i, index2);
        if (defer) {
          batch.skipped_effects.delete(item.e);
        }
      } else {
        item = create_item(
          items,
          first_run ? anchor : offscreen_anchor != null ? offscreen_anchor : offscreen_anchor = create_text(),
          value,
          key2,
          index2,
          render_fn,
          flags2,
          get_collection
        );
        if (!first_run) {
          item.e.f |= EFFECT_OFFSCREEN;
        }
        items.set(key2, item);
      }
      keys.add(key2);
    }
    if (length === 0 && fallback_fn && !fallback2) {
      if (first_run) {
        fallback2 = branch(() => fallback_fn(anchor));
      } else {
        fallback2 = branch(() => fallback_fn(offscreen_anchor != null ? offscreen_anchor : offscreen_anchor = create_text()));
        fallback2.f |= EFFECT_OFFSCREEN;
      }
    }
    if (hydrating && length > 0) {
      set_hydrate_node(skip_nodes());
    }
    if (!first_run) {
      if (defer) {
        for (const [key3, item2] of items) {
          if (!keys.has(key3)) {
            batch.skipped_effects.add(item2.e);
          }
        }
        batch.oncommit(commit);
        batch.ondiscard(() => {
        });
      } else {
        commit();
      }
    }
    if (mismatch) {
      set_hydrating(true);
    }
    get(each_array);
  });
  var state2 = { effect: effect2, flags: flags2, items, outrogroups: null, fallback: fallback2 };
  first_run = false;
  if (hydrating) {
    anchor = hydrate_node;
  }
}
function reconcile(state2, array, anchor, flags2, get_key) {
  var _a3, _b3, _c2, _d, _e, _f, _g, _h, _i;
  var is_animated = (flags2 & EACH_IS_ANIMATED) !== 0;
  var length = array.length;
  var items = state2.items;
  var current = state2.effect.first;
  var seen;
  var prev = null;
  var to_animate;
  var matched = [];
  var stashed = [];
  var value;
  var key2;
  var effect2;
  var i;
  if (is_animated) {
    for (i = 0; i < length; i += 1) {
      value = array[i];
      key2 = get_key(value, i);
      effect2 = /** @type {EachItem} */
      items.get(key2).e;
      if ((effect2.f & EFFECT_OFFSCREEN) === 0) {
        (_b3 = (_a3 = effect2.nodes) == null ? void 0 : _a3.a) == null ? void 0 : _b3.measure();
        (to_animate != null ? to_animate : to_animate = /* @__PURE__ */ new Set()).add(effect2);
      }
    }
  }
  for (i = 0; i < length; i += 1) {
    value = array[i];
    key2 = get_key(value, i);
    effect2 = /** @type {EachItem} */
    items.get(key2).e;
    if (state2.outrogroups !== null) {
      for (const group of state2.outrogroups) {
        group.pending.delete(effect2);
        group.done.delete(effect2);
      }
    }
    if ((effect2.f & EFFECT_OFFSCREEN) !== 0) {
      effect2.f ^= EFFECT_OFFSCREEN;
      if (effect2 === current) {
        move(effect2, null, anchor);
      } else {
        var next2 = prev ? prev.next : current;
        if (effect2 === state2.effect.last) {
          state2.effect.last = effect2.prev;
        }
        if (effect2.prev) effect2.prev.next = effect2.next;
        if (effect2.next) effect2.next.prev = effect2.prev;
        link(state2, prev, effect2);
        link(state2, effect2, next2);
        move(effect2, next2, anchor);
        prev = effect2;
        matched = [];
        stashed = [];
        current = prev.next;
        continue;
      }
    }
    if ((effect2.f & INERT) !== 0) {
      resume_effect(effect2);
      if (is_animated) {
        (_d = (_c2 = effect2.nodes) == null ? void 0 : _c2.a) == null ? void 0 : _d.unfix();
        (to_animate != null ? to_animate : to_animate = /* @__PURE__ */ new Set()).delete(effect2);
      }
    }
    if (effect2 !== current) {
      if (seen !== void 0 && seen.has(effect2)) {
        if (matched.length < stashed.length) {
          var start = stashed[0];
          var j;
          prev = start.prev;
          var a = matched[0];
          var b = matched[matched.length - 1];
          for (j = 0; j < matched.length; j += 1) {
            move(matched[j], start, anchor);
          }
          for (j = 0; j < stashed.length; j += 1) {
            seen.delete(stashed[j]);
          }
          link(state2, a.prev, b.next);
          link(state2, prev, a);
          link(state2, b, start);
          current = start;
          prev = b;
          i -= 1;
          matched = [];
          stashed = [];
        } else {
          seen.delete(effect2);
          move(effect2, current, anchor);
          link(state2, effect2.prev, effect2.next);
          link(state2, effect2, prev === null ? state2.effect.first : prev.next);
          link(state2, prev, effect2);
          prev = effect2;
        }
        continue;
      }
      matched = [];
      stashed = [];
      while (current !== null && current !== effect2) {
        (seen != null ? seen : seen = /* @__PURE__ */ new Set()).add(current);
        stashed.push(current);
        current = current.next;
      }
      if (current === null) {
        continue;
      }
    }
    if ((effect2.f & EFFECT_OFFSCREEN) === 0) {
      matched.push(effect2);
    }
    prev = effect2;
    current = effect2.next;
  }
  if (state2.outrogroups !== null) {
    for (const group of state2.outrogroups) {
      if (group.pending.size === 0) {
        destroy_effects(array_from(group.done));
        (_e = state2.outrogroups) == null ? void 0 : _e.delete(group);
      }
    }
    if (state2.outrogroups.size === 0) {
      state2.outrogroups = null;
    }
  }
  if (current !== null || seen !== void 0) {
    var to_destroy = [];
    if (seen !== void 0) {
      for (effect2 of seen) {
        if ((effect2.f & INERT) === 0) {
          to_destroy.push(effect2);
        }
      }
    }
    while (current !== null) {
      if ((current.f & INERT) === 0 && current !== state2.fallback) {
        to_destroy.push(current);
      }
      current = current.next;
    }
    var destroy_length = to_destroy.length;
    if (destroy_length > 0) {
      var controlled_anchor = (flags2 & EACH_IS_CONTROLLED) !== 0 && length === 0 ? anchor : null;
      if (is_animated) {
        for (i = 0; i < destroy_length; i += 1) {
          (_g = (_f = to_destroy[i].nodes) == null ? void 0 : _f.a) == null ? void 0 : _g.measure();
        }
        for (i = 0; i < destroy_length; i += 1) {
          (_i = (_h = to_destroy[i].nodes) == null ? void 0 : _h.a) == null ? void 0 : _i.fix();
        }
      }
      pause_effects(state2, to_destroy, controlled_anchor);
    }
  }
  if (is_animated) {
    queue_micro_task(() => {
      var _a4, _b4;
      if (to_animate === void 0) return;
      for (effect2 of to_animate) {
        (_b4 = (_a4 = effect2.nodes) == null ? void 0 : _a4.a) == null ? void 0 : _b4.apply();
      }
    });
  }
}
function create_item(items, anchor, value, key2, index2, render_fn, flags2, get_collection) {
  var v = (flags2 & EACH_ITEM_REACTIVE) !== 0 ? (flags2 & EACH_ITEM_IMMUTABLE) === 0 ? mutable_source(value, false, false) : source(value) : null;
  var i = (flags2 & EACH_INDEX_REACTIVE) !== 0 ? source(index2) : null;
  if (dev_fallback_default && v) {
    v.trace = () => {
      var _a3;
      get_collection()[(_a3 = i == null ? void 0 : i.v) != null ? _a3 : index2];
    };
  }
  return {
    v,
    i,
    e: branch(() => {
      render_fn(anchor, v != null ? v : value, i != null ? i : index2, get_collection);
      return () => {
        items.delete(key2);
      };
    })
  };
}
function move(effect2, next2, anchor) {
  if (!effect2.nodes) return;
  var node = effect2.nodes.start;
  var end = effect2.nodes.end;
  var dest = next2 && (next2.f & EFFECT_OFFSCREEN) === 0 ? (
    /** @type {EffectNodes} */
    next2.nodes.start
  ) : anchor;
  while (node !== null) {
    var next_node = (
      /** @type {TemplateNode} */
      get_next_sibling(node)
    );
    dest.before(node);
    if (node === end) {
      return;
    }
    node = next_node;
  }
}
function link(state2, prev, next2) {
  if (prev === null) {
    state2.effect.first = next2;
  } else {
    prev.next = next2;
  }
  if (next2 === null) {
    state2.effect.last = prev;
  } else {
    next2.prev = prev;
  }
}

// node_modules/svelte/src/internal/client/dom/css.js
function append_styles(anchor, css) {
  effect(() => {
    var _a3;
    var root9 = anchor.getRootNode();
    var target = (
      /** @type {ShadowRoot} */
      root9.host ? (
        /** @type {ShadowRoot} */
        root9
      ) : (
        /** @type {Document} */
        (_a3 = root9.head) != null ? _a3 : (
          /** @type {Document} */
          root9.ownerDocument.head
        )
      )
    );
    if (!target.querySelector("#" + css.hash)) {
      const style = document.createElement("style");
      style.id = css.hash;
      style.textContent = css.code;
      target.appendChild(style);
      if (dev_fallback_default) {
        register_style(css.hash, style);
      }
    }
  });
}

// node_modules/svelte/src/internal/client/dom/elements/actions.js
function action(dom, action2, get_value) {
  effect(() => {
    var payload = untrack(() => action2(dom, get_value == null ? void 0 : get_value()) || {});
    if (get_value && (payload == null ? void 0 : payload.update)) {
      var inited = false;
      var prev = (
        /** @type {any} */
        {}
      );
      render_effect(() => {
        var value = get_value();
        deep_read_state(value);
        if (inited && safe_not_equal(prev, value)) {
          prev = value;
          payload.update(value);
        }
      });
      inited = true;
    }
    if (payload == null ? void 0 : payload.destroy) {
      return () => (
        /** @type {Function} */
        payload.destroy()
      );
    }
  });
}

// node_modules/svelte/src/internal/shared/attributes.js
var whitespace = [..." 	\n\r\f\xA0\v\uFEFF"];
function to_class(value, hash2, directives) {
  var classname = value == null ? "" : "" + value;
  if (hash2) {
    classname = classname ? classname + " " + hash2 : hash2;
  }
  if (directives) {
    for (var key2 in directives) {
      if (directives[key2]) {
        classname = classname ? classname + " " + key2 : key2;
      } else if (classname.length) {
        var len = key2.length;
        var a = 0;
        while ((a = classname.indexOf(key2, a)) >= 0) {
          var b = a + len;
          if ((a === 0 || whitespace.includes(classname[a - 1])) && (b === classname.length || whitespace.includes(classname[b]))) {
            classname = (a === 0 ? "" : classname.substring(0, a)) + classname.substring(b + 1);
          } else {
            a = b;
          }
        }
      }
    }
  }
  return classname === "" ? null : classname;
}
function append_styles2(styles, important = false) {
  var separator = important ? " !important;" : ";";
  var css = "";
  for (var key2 in styles) {
    var value = styles[key2];
    if (value != null && value !== "") {
      css += " " + key2 + ": " + value + separator;
    }
  }
  return css;
}
function to_css_name(name) {
  if (name[0] !== "-" || name[1] !== "-") {
    return name.toLowerCase();
  }
  return name;
}
function to_style(value, styles) {
  if (styles) {
    var new_style = "";
    var normal_styles;
    var important_styles;
    if (Array.isArray(styles)) {
      normal_styles = styles[0];
      important_styles = styles[1];
    } else {
      normal_styles = styles;
    }
    if (value) {
      value = String(value).replaceAll(/\s*\/\*.*?\*\/\s*/g, "").trim();
      var in_str = false;
      var in_apo = 0;
      var in_comment = false;
      var reserved_names = [];
      if (normal_styles) {
        reserved_names.push(...Object.keys(normal_styles).map(to_css_name));
      }
      if (important_styles) {
        reserved_names.push(...Object.keys(important_styles).map(to_css_name));
      }
      var start_index = 0;
      var name_index = -1;
      const len = value.length;
      for (var i = 0; i < len; i++) {
        var c = value[i];
        if (in_comment) {
          if (c === "/" && value[i - 1] === "*") {
            in_comment = false;
          }
        } else if (in_str) {
          if (in_str === c) {
            in_str = false;
          }
        } else if (c === "/" && value[i + 1] === "*") {
          in_comment = true;
        } else if (c === '"' || c === "'") {
          in_str = c;
        } else if (c === "(") {
          in_apo++;
        } else if (c === ")") {
          in_apo--;
        }
        if (!in_comment && in_str === false && in_apo === 0) {
          if (c === ":" && name_index === -1) {
            name_index = i;
          } else if (c === ";" || i === len - 1) {
            if (name_index !== -1) {
              var name = to_css_name(value.substring(start_index, name_index).trim());
              if (!reserved_names.includes(name)) {
                if (c !== ";") {
                  i++;
                }
                var property = value.substring(start_index, i).trim();
                new_style += " " + property + ";";
              }
            }
            start_index = i + 1;
            name_index = -1;
          }
        }
      }
    }
    if (normal_styles) {
      new_style += append_styles2(normal_styles);
    }
    if (important_styles) {
      new_style += append_styles2(important_styles, true);
    }
    new_style = new_style.trim();
    return new_style === "" ? null : new_style;
  }
  return value == null ? null : String(value);
}

// node_modules/svelte/src/internal/client/dom/elements/class.js
function set_class(dom, is_html, value, hash2, prev_classes, next_classes) {
  var prev = dom.__className;
  if (hydrating || prev !== value || prev === void 0) {
    var next_class_name = to_class(value, hash2, next_classes);
    if (!hydrating || next_class_name !== dom.getAttribute("class")) {
      if (next_class_name == null) {
        dom.removeAttribute("class");
      } else if (is_html) {
        dom.className = next_class_name;
      } else {
        dom.setAttribute("class", next_class_name);
      }
    }
    dom.__className = value;
  } else if (next_classes && prev_classes !== next_classes) {
    for (var key2 in next_classes) {
      var is_present = !!next_classes[key2];
      if (prev_classes == null || is_present !== !!prev_classes[key2]) {
        dom.classList.toggle(key2, is_present);
      }
    }
  }
  return next_classes;
}

// node_modules/svelte/src/internal/client/dom/elements/style.js
function update_styles(dom, prev = {}, next2, priority) {
  for (var key2 in next2) {
    var value = next2[key2];
    if (prev[key2] !== value) {
      if (next2[key2] == null) {
        dom.style.removeProperty(key2);
      } else {
        dom.style.setProperty(key2, value, priority);
      }
    }
  }
}
function set_style(dom, value, prev_styles, next_styles) {
  var prev = dom.__style;
  if (hydrating || prev !== value) {
    var next_style_attr = to_style(value, next_styles);
    if (!hydrating || next_style_attr !== dom.getAttribute("style")) {
      if (next_style_attr == null) {
        dom.removeAttribute("style");
      } else {
        dom.style.cssText = next_style_attr;
      }
    }
    dom.__style = value;
  } else if (next_styles) {
    if (Array.isArray(next_styles)) {
      update_styles(dom, prev_styles == null ? void 0 : prev_styles[0], next_styles[0]);
      update_styles(dom, prev_styles == null ? void 0 : prev_styles[1], next_styles[1], "important");
    } else {
      update_styles(dom, prev_styles, next_styles);
    }
  }
  return next_styles;
}

// node_modules/svelte/src/internal/client/dom/elements/attributes.js
var CLASS = Symbol("class");
var STYLE = Symbol("style");
var IS_CUSTOM_ELEMENT = Symbol("is custom element");
var IS_HTML = Symbol("is html");
function remove_input_defaults(input) {
  if (!hydrating) return;
  var already_removed = false;
  var remove_defaults = () => {
    if (already_removed) return;
    already_removed = true;
    if (input.hasAttribute("value")) {
      var value = input.value;
      set_attribute2(input, "value", null);
      input.value = value;
    }
    if (input.hasAttribute("checked")) {
      var checked = input.checked;
      set_attribute2(input, "checked", null);
      input.checked = checked;
    }
  };
  input.__on_r = remove_defaults;
  queue_micro_task(remove_defaults);
  add_form_reset_listener();
}
function set_attribute2(element2, attribute, value, skip_warning) {
  var attributes = get_attributes(element2);
  if (hydrating) {
    attributes[attribute] = element2.getAttribute(attribute);
    if (attribute === "src" || attribute === "srcset" || attribute === "href" && element2.nodeName === "LINK") {
      if (!skip_warning) {
        check_src_in_dev_hydration(element2, attribute, value != null ? value : "");
      }
      return;
    }
  }
  if (attributes[attribute] === (attributes[attribute] = value)) return;
  if (attribute === "loading") {
    element2[LOADING_ATTR_SYMBOL] = value;
  }
  if (value == null) {
    element2.removeAttribute(attribute);
  } else if (typeof value !== "string" && get_setters(element2).includes(attribute)) {
    element2[attribute] = value;
  } else {
    element2.setAttribute(attribute, value);
  }
}
function get_attributes(element2) {
  var _a3;
  return (
    /** @type {Record<string | symbol, unknown>} **/
    // @ts-expect-error
    (_a3 = element2.__attributes) != null ? _a3 : element2.__attributes = {
      [IS_CUSTOM_ELEMENT]: element2.nodeName.includes("-"),
      [IS_HTML]: element2.namespaceURI === NAMESPACE_HTML
    }
  );
}
var setters_cache = /* @__PURE__ */ new Map();
function get_setters(element2) {
  var cache_key = element2.getAttribute("is") || element2.nodeName;
  var setters = setters_cache.get(cache_key);
  if (setters) return setters;
  setters_cache.set(cache_key, setters = []);
  var descriptors;
  var proto = element2;
  var element_proto = Element.prototype;
  while (element_proto !== proto) {
    descriptors = get_descriptors(proto);
    for (var key2 in descriptors) {
      if (descriptors[key2].set) {
        setters.push(key2);
      }
    }
    proto = get_prototype_of(proto);
  }
  return setters;
}
function check_src_in_dev_hydration(element2, attribute, value) {
  var _a3;
  if (!dev_fallback_default) return;
  if (attribute === "srcset" && srcset_url_equal(element2, value)) return;
  if (src_url_equal((_a3 = element2.getAttribute(attribute)) != null ? _a3 : "", value)) return;
  hydration_attribute_changed(
    attribute,
    element2.outerHTML.replace(element2.innerHTML, element2.innerHTML && "..."),
    String(value)
  );
}
function src_url_equal(element_src, url) {
  if (element_src === url) return true;
  return new URL(element_src, document.baseURI).href === new URL(url, document.baseURI).href;
}
function split_srcset(srcset) {
  return srcset.split(",").map((src) => src.trim().split(" ").filter(Boolean));
}
function srcset_url_equal(element2, srcset) {
  var element_urls = split_srcset(element2.srcset);
  var urls = split_srcset(srcset);
  return urls.length === element_urls.length && urls.every(
    ([url, width], i) => width === element_urls[i][1] && // We need to test both ways because Vite will create an a full URL with
    // `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the
    // relative URLs inside srcset are not automatically resolved to absolute URLs by
    // browsers (in contrast to img.src). This means both SSR and DOM code could
    // contain relative or absolute URLs.
    (src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))
  );
}

// node_modules/svelte/src/internal/client/dom/elements/bindings/input.js
function bind_value(input, get3, set2 = get3) {
  var batches2 = /* @__PURE__ */ new WeakSet();
  listen_to_event_and_reset_event(input, "input", async (is_reset) => {
    if (dev_fallback_default && input.type === "checkbox") {
      bind_invalid_checkbox_value();
    }
    var value = is_reset ? input.defaultValue : input.value;
    value = is_numberlike_input(input) ? to_number(value) : value;
    set2(value);
    if (current_batch !== null) {
      batches2.add(current_batch);
    }
    await tick();
    if (value !== (value = get3())) {
      var start = input.selectionStart;
      var end = input.selectionEnd;
      var length = input.value.length;
      input.value = value != null ? value : "";
      if (end !== null) {
        var new_length = input.value.length;
        if (start === end && end === length && new_length > length) {
          input.selectionStart = new_length;
          input.selectionEnd = new_length;
        } else {
          input.selectionStart = start;
          input.selectionEnd = Math.min(end, new_length);
        }
      }
    }
  });
  if (
    // If we are hydrating and the value has since changed,
    // then use the updated value from the input instead.
    hydrating && input.defaultValue !== input.value || // If defaultValue is set, then value == defaultValue
    // TODO Svelte 6: remove input.value check and set to empty string?
    untrack(get3) == null && input.value
  ) {
    set2(is_numberlike_input(input) ? to_number(input.value) : input.value);
    if (current_batch !== null) {
      batches2.add(current_batch);
    }
  }
  render_effect(() => {
    var _a3;
    if (dev_fallback_default && input.type === "checkbox") {
      bind_invalid_checkbox_value();
    }
    var value = get3();
    if (input === document.activeElement) {
      var batch = (
        /** @type {Batch} */
        (_a3 = previous_batch) != null ? _a3 : current_batch
      );
      if (batches2.has(batch)) {
        return;
      }
    }
    if (is_numberlike_input(input) && value === to_number(input.value)) {
      return;
    }
    if (input.type === "date" && !value && !input.value) {
      return;
    }
    if (value !== input.value) {
      input.value = value != null ? value : "";
    }
  });
}
function is_numberlike_input(input) {
  var type = input.type;
  return type === "number" || type === "range";
}
function to_number(value) {
  return value === "" ? null : +value;
}

// node_modules/svelte/src/internal/client/dom/legacy/lifecycle.js
function init(immutable = false) {
  const context = (
    /** @type {ComponentContextLegacy} */
    component_context
  );
  const callbacks = context.l.u;
  if (!callbacks) return;
  let props = () => deep_read_state(context.s);
  if (immutable) {
    let version = 0;
    let prev = (
      /** @type {Record<string, any>} */
      {}
    );
    const d = derived(() => {
      let changed = false;
      const props2 = context.s;
      for (const key2 in props2) {
        if (props2[key2] !== prev[key2]) {
          prev[key2] = props2[key2];
          changed = true;
        }
      }
      if (changed) version++;
      return version;
    });
    props = () => get(d);
  }
  if (callbacks.b.length) {
    user_pre_effect(() => {
      observe_all(context, props);
      run_all(callbacks.b);
    });
  }
  user_effect(() => {
    const fns = untrack(() => callbacks.m.map(run));
    return () => {
      for (const fn of fns) {
        if (typeof fn === "function") {
          fn();
        }
      }
    };
  });
  if (callbacks.a.length) {
    user_effect(() => {
      observe_all(context, props);
      run_all(callbacks.a);
    });
  }
}
function observe_all(context, props) {
  if (context.l.s) {
    for (const signal of context.l.s) get(signal);
  }
  props();
}

// node_modules/svelte/src/store/utils.js
function subscribe_to_store(store, run3, invalidate) {
  if (store == null) {
    run3(void 0);
    if (invalidate) invalidate(void 0);
    return noop;
  }
  const unsub = untrack(
    () => store.subscribe(
      run3,
      // @ts-expect-error
      invalidate
    )
  );
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}

// node_modules/svelte/src/store/shared/index.js
var subscriber_queue = [];
function readable(value, start) {
  return {
    subscribe: writable(value, start).subscribe
  };
}
function writable(value, start = noop) {
  let stop = null;
  const subscribers = /* @__PURE__ */ new Set();
  function set2(new_value) {
    if (safe_not_equal(value, new_value)) {
      value = new_value;
      if (stop) {
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }
  function update2(fn) {
    set2(fn(
      /** @type {T} */
      value
    ));
  }
  function subscribe(run3, invalidate = noop) {
    const subscriber = [run3, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set2, update2) || noop;
    }
    run3(
      /** @type {T} */
      value
    );
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0 && stop) {
        stop();
        stop = null;
      }
    };
  }
  return { set: set2, update: update2, subscribe };
}
function derived2(stores, fn, initial_value) {
  const single = !Array.isArray(stores);
  const stores_array = single ? [stores] : stores;
  if (!stores_array.every(Boolean)) {
    throw new Error("derived() expects stores as input, got a falsy value");
  }
  const auto = fn.length < 2;
  return readable(initial_value, (set2, update2) => {
    let started = false;
    const values = [];
    let pending2 = 0;
    let cleanup = noop;
    const sync = () => {
      if (pending2) {
        return;
      }
      cleanup();
      const result = fn(single ? values[0] : values, set2, update2);
      if (auto) {
        set2(result);
      } else {
        cleanup = typeof result === "function" ? result : noop;
      }
    };
    const unsubscribers = stores_array.map(
      (store, i) => subscribe_to_store(
        store,
        (value) => {
          values[i] = value;
          pending2 &= ~(1 << i);
          if (started) {
            sync();
          }
        },
        () => {
          pending2 |= 1 << i;
        }
      )
    );
    started = true;
    sync();
    return function stop() {
      run_all(unsubscribers);
      cleanup();
      started = false;
    };
  });
}
function get2(store) {
  let value;
  subscribe_to_store(store, (_) => value = _)();
  return value;
}

// node_modules/svelte/src/internal/client/reactivity/store.js
var IS_UNMOUNTED = Symbol();
function store_get(store, store_name, stores) {
  var _a3;
  const entry = (_a3 = stores[store_name]) != null ? _a3 : stores[store_name] = {
    store: null,
    source: mutable_source(void 0),
    unsubscribe: noop
  };
  if (dev_fallback_default) {
    entry.source.label = store_name;
  }
  if (entry.store !== store && !(IS_UNMOUNTED in stores)) {
    entry.unsubscribe();
    entry.store = store != null ? store : null;
    if (store == null) {
      entry.source.v = void 0;
      entry.unsubscribe = noop;
    } else {
      var is_synchronous_callback = true;
      entry.unsubscribe = subscribe_to_store(store, (v) => {
        if (is_synchronous_callback) {
          entry.source.v = v;
        } else {
          set(entry.source, v);
        }
      });
      is_synchronous_callback = false;
    }
  }
  if (store && IS_UNMOUNTED in stores) {
    return get2(store);
  }
  return get(entry.source);
}
function store_set(store, value) {
  store.set(value);
  return value;
}
function setup_stores() {
  const stores = {};
  function cleanup() {
    teardown(() => {
      for (var store_name in stores) {
        const ref = stores[store_name];
        ref.unsubscribe();
      }
      define_property(stores, IS_UNMOUNTED, {
        enumerable: false,
        value: true
      });
    });
  }
  return [stores, cleanup];
}

// node_modules/svelte/src/legacy/legacy-client.js
function createClassComponent(options) {
  return new Svelte4Component(options);
}
var _events, _instance;
var Svelte4Component = class {
  /**
   * @param {ComponentConstructorOptions & {
   *  component: any;
   * }} options
   */
  constructor(options) {
    /** @type {any} */
    __privateAdd(this, _events);
    /** @type {Record<string, any>} */
    __privateAdd(this, _instance);
    var _a3, _b3;
    var sources = /* @__PURE__ */ new Map();
    var add_source = (key2, value) => {
      var s = mutable_source(value, false, false);
      sources.set(key2, s);
      return s;
    };
    const props = new Proxy(
      { ...options.props || {}, $$events: {} },
      {
        get(target, prop2) {
          var _a4;
          return get((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, Reflect.get(target, prop2)));
        },
        has(target, prop2) {
          var _a4;
          if (prop2 === LEGACY_PROPS) return true;
          get((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, Reflect.get(target, prop2)));
          return Reflect.has(target, prop2);
        },
        set(target, prop2, value) {
          var _a4;
          set((_a4 = sources.get(prop2)) != null ? _a4 : add_source(prop2, value), value);
          return Reflect.set(target, prop2, value);
        }
      }
    );
    __privateSet(this, _instance, (options.hydrate ? hydrate : mount)(options.component, {
      target: options.target,
      anchor: options.anchor,
      props,
      context: options.context,
      intro: (_a3 = options.intro) != null ? _a3 : false,
      recover: options.recover
    }));
    if (!async_mode_flag && (!((_b3 = options == null ? void 0 : options.props) == null ? void 0 : _b3.$$host) || options.sync === false)) {
      flushSync();
    }
    __privateSet(this, _events, props.$$events);
    for (const key2 of Object.keys(__privateGet(this, _instance))) {
      if (key2 === "$set" || key2 === "$destroy" || key2 === "$on") continue;
      define_property(this, key2, {
        get() {
          return __privateGet(this, _instance)[key2];
        },
        /** @param {any} value */
        set(value) {
          __privateGet(this, _instance)[key2] = value;
        },
        enumerable: true
      });
    }
    __privateGet(this, _instance).$set = /** @param {Record<string, any>} next */
    (next2) => {
      Object.assign(props, next2);
    };
    __privateGet(this, _instance).$destroy = () => {
      unmount(__privateGet(this, _instance));
    };
  }
  /** @param {Record<string, any>} props */
  $set(props) {
    __privateGet(this, _instance).$set(props);
  }
  /**
   * @param {string} event
   * @param {(...args: any[]) => any} callback
   * @returns {any}
   */
  $on(event2, callback) {
    __privateGet(this, _events)[event2] = __privateGet(this, _events)[event2] || [];
    const cb = (...args) => callback.call(this, ...args);
    __privateGet(this, _events)[event2].push(cb);
    return () => {
      __privateGet(this, _events)[event2] = __privateGet(this, _events)[event2].filter(
        /** @param {any} fn */
        (fn) => fn !== cb
      );
    };
  }
  $destroy() {
    __privateGet(this, _instance).$destroy();
  }
};
_events = new WeakMap();
_instance = new WeakMap();

// node_modules/svelte/src/internal/client/dom/elements/custom-element.js
var SvelteElement;
if (typeof HTMLElement === "function") {
  SvelteElement = class extends HTMLElement {
    /**
     * @param {*} $$componentCtor
     * @param {*} $$slots
     * @param {*} use_shadow_dom
     */
    constructor($$componentCtor, $$slots, use_shadow_dom) {
      super();
      /** The Svelte component constructor */
      __publicField(this, "$$ctor");
      /** Slots */
      __publicField(this, "$$s");
      /** @type {any} The Svelte component instance */
      __publicField(this, "$$c");
      /** Whether or not the custom element is connected */
      __publicField(this, "$$cn", false);
      /** @type {Record<string, any>} Component props data */
      __publicField(this, "$$d", {});
      /** `true` if currently in the process of reflecting component props back to attributes */
      __publicField(this, "$$r", false);
      /** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */
      __publicField(this, "$$p_d", {});
      /** @type {Record<string, EventListenerOrEventListenerObject[]>} Event listeners */
      __publicField(this, "$$l", {});
      /** @type {Map<EventListenerOrEventListenerObject, Function>} Event listener unsubscribe functions */
      __publicField(this, "$$l_u", /* @__PURE__ */ new Map());
      /** @type {any} The managed render effect for reflecting attributes */
      __publicField(this, "$$me");
      this.$$ctor = $$componentCtor;
      this.$$s = $$slots;
      if (use_shadow_dom) {
        this.attachShadow({ mode: "open" });
      }
    }
    /**
     * @param {string} type
     * @param {EventListenerOrEventListenerObject} listener
     * @param {boolean | AddEventListenerOptions} [options]
     */
    addEventListener(type, listener, options) {
      this.$$l[type] = this.$$l[type] || [];
      this.$$l[type].push(listener);
      if (this.$$c) {
        const unsub = this.$$c.$on(type, listener);
        this.$$l_u.set(listener, unsub);
      }
      super.addEventListener(type, listener, options);
    }
    /**
     * @param {string} type
     * @param {EventListenerOrEventListenerObject} listener
     * @param {boolean | AddEventListenerOptions} [options]
     */
    removeEventListener(type, listener, options) {
      super.removeEventListener(type, listener, options);
      if (this.$$c) {
        const unsub = this.$$l_u.get(listener);
        if (unsub) {
          unsub();
          this.$$l_u.delete(listener);
        }
      }
    }
    async connectedCallback() {
      this.$$cn = true;
      if (!this.$$c) {
        let create_slot = function(name) {
          return (anchor) => {
            const slot2 = document.createElement("slot");
            if (name !== "default") slot2.name = name;
            append(anchor, slot2);
          };
        };
        await Promise.resolve();
        if (!this.$$cn || this.$$c) {
          return;
        }
        const $$slots = {};
        const existing_slots = get_custom_elements_slots(this);
        for (const name of this.$$s) {
          if (name in existing_slots) {
            if (name === "default" && !this.$$d.children) {
              this.$$d.children = create_slot(name);
              $$slots.default = true;
            } else {
              $$slots[name] = create_slot(name);
            }
          }
        }
        for (const attribute of this.attributes) {
          const name = this.$$g_p(attribute.name);
          if (!(name in this.$$d)) {
            this.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, "toProp");
          }
        }
        for (const key2 in this.$$p_d) {
          if (!(key2 in this.$$d) && this[key2] !== void 0) {
            this.$$d[key2] = this[key2];
            delete this[key2];
          }
        }
        this.$$c = createClassComponent({
          component: this.$$ctor,
          target: this.shadowRoot || this,
          props: {
            ...this.$$d,
            $$slots,
            $$host: this
          }
        });
        this.$$me = effect_root(() => {
          render_effect(() => {
            var _a3;
            this.$$r = true;
            for (const key2 of object_keys(this.$$c)) {
              if (!((_a3 = this.$$p_d[key2]) == null ? void 0 : _a3.reflect)) continue;
              this.$$d[key2] = this.$$c[key2];
              const attribute_value = get_custom_element_value(
                key2,
                this.$$d[key2],
                this.$$p_d,
                "toAttribute"
              );
              if (attribute_value == null) {
                this.removeAttribute(this.$$p_d[key2].attribute || key2);
              } else {
                this.setAttribute(this.$$p_d[key2].attribute || key2, attribute_value);
              }
            }
            this.$$r = false;
          });
        });
        for (const type in this.$$l) {
          for (const listener of this.$$l[type]) {
            const unsub = this.$$c.$on(type, listener);
            this.$$l_u.set(listener, unsub);
          }
        }
        this.$$l = {};
      }
    }
    // We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte
    // and setting attributes through setAttribute etc, this is helpful
    /**
     * @param {string} attr
     * @param {string} _oldValue
     * @param {string} newValue
     */
    attributeChangedCallback(attr2, _oldValue, newValue) {
      var _a3;
      if (this.$$r) return;
      attr2 = this.$$g_p(attr2);
      this.$$d[attr2] = get_custom_element_value(attr2, newValue, this.$$p_d, "toProp");
      (_a3 = this.$$c) == null ? void 0 : _a3.$set({ [attr2]: this.$$d[attr2] });
    }
    disconnectedCallback() {
      this.$$cn = false;
      Promise.resolve().then(() => {
        if (!this.$$cn && this.$$c) {
          this.$$c.$destroy();
          this.$$me();
          this.$$c = void 0;
        }
      });
    }
    /**
     * @param {string} attribute_name
     */
    $$g_p(attribute_name) {
      return object_keys(this.$$p_d).find(
        (key2) => this.$$p_d[key2].attribute === attribute_name || !this.$$p_d[key2].attribute && key2.toLowerCase() === attribute_name
      ) || attribute_name;
    }
  };
}
function get_custom_element_value(prop2, value, props_definition, transform) {
  var _a3;
  const type = (_a3 = props_definition[prop2]) == null ? void 0 : _a3.type;
  value = type === "Boolean" && typeof value !== "boolean" ? value != null : value;
  if (!transform || !props_definition[prop2]) {
    return value;
  } else if (transform === "toAttribute") {
    switch (type) {
      case "Object":
      case "Array":
        return value == null ? null : JSON.stringify(value);
      case "Boolean":
        return value ? "" : null;
      case "Number":
        return value == null ? null : value;
      default:
        return value;
    }
  } else {
    switch (type) {
      case "Object":
      case "Array":
        return value && JSON.parse(value);
      case "Boolean":
        return value;
      // conversion already handled above
      case "Number":
        return value != null ? +value : value;
      default:
        return value;
    }
  }
}
function get_custom_elements_slots(element2) {
  const result = {};
  element2.childNodes.forEach((node) => {
    result[
      /** @type {Element} node */
      node.slot || "default"
    ] = true;
  });
  return result;
}

// node_modules/svelte/src/index-client.js
if (dev_fallback_default) {
  let throw_rune_error = function(rune) {
    if (!(rune in globalThis)) {
      let value;
      Object.defineProperty(globalThis, rune, {
        configurable: true,
        // eslint-disable-next-line getter-return
        get: () => {
          if (value !== void 0) {
            return value;
          }
          rune_outside_svelte(rune);
        },
        set: (v) => {
          value = v;
        }
      });
    }
  };
  throw_rune_error("$state");
  throw_rune_error("$effect");
  throw_rune_error("$derived");
  throw_rune_error("$inspect");
  throw_rune_error("$props");
  throw_rune_error("$bindable");
}
function onMount(fn) {
  if (component_context === null) {
    lifecycle_outside_component("onMount");
  }
  if (legacy_mode_flag && component_context.l !== null) {
    init_update_callbacks(component_context).m.push(fn);
  } else {
    user_effect(() => {
      const cleanup = untrack(fn);
      if (typeof cleanup === "function") return (
        /** @type {() => void} */
        cleanup
      );
    });
  }
}
function init_update_callbacks(context) {
  var _a3;
  var l = (
    /** @type {ComponentContextLegacy} */
    context.l
  );
  return (_a3 = l.u) != null ? _a3 : l.u = { a: [], b: [], m: [] };
}

// node_modules/svelte/src/version.js
var PUBLIC_VERSION = "5";

// node_modules/svelte/src/internal/disclose-version.js
var _a2, _b2, _c;
if (typeof window !== "undefined") {
  ((_c = (_b2 = (_a2 = window.__svelte) != null ? _a2 : window.__svelte = {}).v) != null ? _c : _b2.v = /* @__PURE__ */ new Set()).add(PUBLIC_VERSION);
}

// node_modules/svelte/src/internal/flags/legacy.js
enable_legacy_mode_flag();

// src/ui/stores.ts
var plugin = writable();
var draftName = writable("Focus Session");
var draftMinutes = writable(25);
var draftSeconds = writable(0);
var session = readable(null, (set2) => {
  let sessionManager;
  const unsubscribePlugin = plugin.subscribe((p) => {
    if (p) {
      sessionManager = p.sessionManager;
      set2(sessionManager.getActiveSession());
      sessionManager.onChange(() => {
        set2(sessionManager.getActiveSession());
      });
    }
  });
  return () => {
    unsubscribePlugin();
  };
});
var timeRemaining = derived2(
  session,
  ($session, set2) => {
    if (!$session || $session.status === "completed") {
      set2(0);
      return;
    }
    const update2 = () => {
      if ($session.status === "running") {
        const remaining = getRemainingTime(
          $session.duration,
          $session.elapsed,
          $session.status,
          $session.lastResumed
        );
        set2(remaining);
      } else if ($session.status === "paused") {
        const remaining = getRemainingTime(
          $session.duration,
          $session.elapsed,
          $session.status,
          $session.lastResumed
        );
        set2(remaining);
      }
    };
    update2();
    const interval = setInterval(update2, 1e3);
    return () => {
      clearInterval(interval);
    };
  },
  0
  // Initial value
);

// src/ui/components/SessionHeader.svelte
var root_1 = from_html(`<h3 class="svelte-1mauid4"> </h3> <span> </span>`, 1);
var root_2 = from_html(`<h3 class="svelte-1mauid4">No active session</h3>`);
var root = from_html(`<div class="session-header svelte-1mauid4"><!></div>`);
var $$css = {
  hash: "svelte-1mauid4",
  code: ".session-header.svelte-1mauid4 {display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--background-modifier-border);}h3.svelte-1mauid4 {margin:0;}.status-tag.svelte-1mauid4 {padding:4px 8px;border-radius:4px;font-size:0.8em;text-transform:uppercase;font-weight:bold;}.status-tag.running.svelte-1mauid4 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.status-tag.paused.svelte-1mauid4 {background-color:var(--background-modifier-warning);color:var(--text-normal);}.status-tag.completed.svelte-1mauid4 {background-color:var(--background-modifier-success);color:var(--text-on-accent);}"
};
function SessionHeader($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css);
  const $session = () => store_get(session, "$session", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  init();
  var div = root();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_1();
      var h3 = first_child(fragment);
      var text2 = child(h3, true);
      reset(h3);
      var span = sibling(h3, 2);
      var text_1 = child(span, true);
      reset(span);
      template_effect(() => {
        var _a3;
        set_text(text2, $session().name);
        set_class(span, 1, `status-tag ${(_a3 = $session().status) != null ? _a3 : ""}`, "svelte-1mauid4");
        set_text(text_1, $session().status);
      });
      append($$anchor2, fragment);
    };
    var alternate = ($$anchor2) => {
      var h3_1 = root_2();
      append($$anchor2, h3_1);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/components/SessionTimer.svelte
var root_12 = from_html(`<div class="time-display svelte-1a9y1bm"> </div> <div class="progress-bar-container svelte-1a9y1bm"><div class="progress-bar svelte-1a9y1bm"></div></div>`, 1);
var root_3 = from_html(`<input type="text" class="fs-timer-name-input svelte-1a9y1bm" placeholder="Session Name"/>`);
var root_4 = from_html(`<div class="fs-timer-name-display svelte-1a9y1bm" role="button" tabindex="0"> </div>`);
var root_22 = from_html(`<div class="custom-timer-container svelte-1a9y1bm"><!> <div class="fs-timer-inputs svelte-1a9y1bm"><input type="number" min="0" class="fs-timer-input svelte-1a9y1bm"/> <span class="fs-timer-separator svelte-1a9y1bm">:</span> <input type="number" min="0" max="59" class="fs-timer-input svelte-1a9y1bm"/></div></div>`);
var root2 = from_html(`<div class="session-timer svelte-1a9y1bm"><!></div>`);
var $$css2 = {
  hash: "svelte-1a9y1bm",
  code: ".session-timer.svelte-1a9y1bm {text-align:center;margin:2rem 0;}.time-display.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);}.progress-bar-container.svelte-1a9y1bm {height:4px;background-color:var(--background-modifier-border);border-radius:2px;margin-top:1rem;overflow:hidden;}.progress-bar.svelte-1a9y1bm {height:100%;background-color:var(--interactive-accent);transition:width 1s linear;}\n\n	/* Custom Timer Styles */.custom-timer-container.svelte-1a9y1bm {display:flex;flex-direction:column;align-items:center;gap:0.5rem;}.fs-timer-name-display.svelte-1a9y1bm {font-size:1.2em;color:var(--text-muted);cursor:pointer;border-bottom:1px dashed transparent;transition:border-color 0.2s,\n			color 0.2s;}.fs-timer-name-display.svelte-1a9y1bm:hover {border-bottom-color:var(--text-muted);color:var(--text-normal);}.fs-timer-name-input.svelte-1a9y1bm {font-size:1.2em;text-align:center;background:transparent;border:none;border-bottom:1px solid var(--interactive-accent);color:var(--text-normal);width:200px;}.fs-timer-inputs.svelte-1a9y1bm {display:flex;align-items:center;justify-content:center;gap:0.25rem;}.fs-timer-input.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);background:transparent;border:none;width:5rem; /* Approx width for 2 digits */height:4rem;text-align:center;padding:0;-moz-appearance:textfield;appearance:textfield;}.fs-timer-input.svelte-1a9y1bm:hover {color:var(--interactive-accent);}.fs-timer-input.svelte-1a9y1bm::-webkit-outer-spin-button,\n	.fs-timer-input.svelte-1a9y1bm::-webkit-inner-spin-button {-webkit-appearance:none;margin:0;}.fs-timer-input.svelte-1a9y1bm:focus {outline:none;box-shadow:none;color:var(--interactive-accent);}.fs-timer-separator.svelte-1a9y1bm {font-size:3em;font-family:var(--font-monospace);font-weight:bold;color:var(--text-normal);margin-bottom:0.5rem; /* Optical alignment */}"
};
function SessionTimer($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css2);
  const $session = () => store_get(session, "$session", $$stores);
  const $timeRemaining = () => store_get(timeRemaining, "$timeRemaining", $$stores);
  const $draftName = () => store_get(draftName, "$draftName", $$stores);
  const $draftMinutes = () => store_get(draftMinutes, "$draftMinutes", $$stores);
  const $draftSeconds = () => store_get(draftSeconds, "$draftSeconds", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  let showNameInput = mutable_source(false);
  function toggleNameInput() {
    set(showNameInput, !get(showNameInput));
  }
  init();
  var div = root2();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_12();
      var div_1 = first_child(fragment);
      var text2 = child(div_1, true);
      reset(div_1);
      var div_2 = sibling(div_1, 2);
      var div_3 = child(div_2);
      reset(div_2);
      template_effect(
        ($0) => {
          set_text(text2, $0);
          set_style(div_3, `width: ${$session().elapsed / $session().duration * 100}%`);
        },
        [() => formatDuration($timeRemaining())]
      );
      append($$anchor2, fragment);
    };
    var alternate_1 = ($$anchor2) => {
      var div_4 = root_22();
      var node_1 = child(div_4);
      {
        var consequent_1 = ($$anchor3) => {
          var input = root_3();
          remove_input_defaults(input);
          bind_value(input, $draftName, ($$value) => store_set(draftName, $$value));
          event("blur", input, () => set(showNameInput, false));
          append($$anchor3, input);
        };
        var alternate = ($$anchor3) => {
          var div_5 = root_4();
          var text_1 = child(div_5, true);
          reset(div_5);
          template_effect(() => set_text(text_1, $draftName()));
          event("click", div_5, toggleNameInput);
          event("keypress", div_5, (e) => e.key === "Enter" && toggleNameInput());
          append($$anchor3, div_5);
        };
        if_block(node_1, ($$render) => {
          if (get(showNameInput)) $$render(consequent_1);
          else $$render(alternate, false);
        });
      }
      var div_6 = sibling(node_1, 2);
      var input_1 = child(div_6);
      remove_input_defaults(input_1);
      var input_2 = sibling(input_1, 4);
      remove_input_defaults(input_2);
      reset(div_6);
      reset(div_4);
      bind_value(input_1, $draftMinutes, ($$value) => store_set(draftMinutes, $$value));
      bind_value(input_2, $draftSeconds, ($$value) => store_set(draftSeconds, $$value));
      append($$anchor2, div_4);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate_1, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/components/SessionControls.svelte
var import_obsidian = require("obsidian");
var root_23 = from_html(`<div class="fs-status-msg svelte-xg6qn1">Session Completed</div> <button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Finish"><div></div></button>`, 1);
var root_42 = from_html(`<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Pause"><div></div></button>`);
var root_5 = from_html(`<button class="fs-control-btn fs-primary svelte-xg6qn1" aria-label="Resume"><div></div></button>`);
var root_32 = from_html(`<button class="fs-control-btn fs-secondary svelte-xg6qn1" aria-label="Stop Session"><div></div></button> <!>`, 1);
var root_6 = from_html(`<button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Short Break"><div></div></button> <button class="fs-control-btn fs-primary fs-large svelte-xg6qn1" aria-label="Start Session"><div></div></button> <button class="fs-control-btn fs-secondary fs-small svelte-xg6qn1" aria-label="Long Break"><div></div></button>`, 1);
var root_7 = from_html(`<div class="fs-controls-row fs-mt-2 svelte-xg6qn1"><button class="fs-control-text-btn svelte-xg6qn1">+30s</button> <button class="fs-control-text-btn svelte-xg6qn1">+1m</button> <button class="fs-control-text-btn svelte-xg6qn1">+5m</button></div>`);
var root3 = from_html(`<div class="fs-controls svelte-xg6qn1"><div class="fs-controls-row svelte-xg6qn1"><!></div> <!></div>`);
var $$css3 = {
  hash: "svelte-xg6qn1",
  code: ".fs-controls.svelte-xg6qn1 {display:flex;flex-direction:column;align-items:center;gap:1rem;}.fs-controls-row.svelte-xg6qn1 {display:flex;gap:1rem;align-items:center;justify-content:center;}.fs-mt-2.svelte-xg6qn1 {margin-top:0.5rem;}.fs-control-btn.svelte-xg6qn1 {display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:none;cursor:pointer;background-color:var(--interactive-normal);color:var(--text-normal);transition:background-color 0.2s;padding:0;}.fs-control-btn.fs-large.svelte-xg6qn1 {width:56px;height:56px;}.fs-control-btn.fs-small.svelte-xg6qn1 {width:32px;height:32px;opacity:0.8;}.fs-control-btn.svelte-xg6qn1:hover {background-color:var(--interactive-hover);opacity:1;}.fs-control-btn.fs-primary.svelte-xg6qn1 {background-color:var(--interactive-accent);color:var(--text-on-accent);}.fs-control-btn.fs-primary.svelte-xg6qn1:hover {background-color:var(--interactive-accent-hover);}.fs-control-text-btn.svelte-xg6qn1 {background:none;border:1px solid var(--background-modifier-border);padding:4px 8px;border-radius:4px;cursor:pointer;font-size:0.8em;color:var(--text-muted);}.fs-control-text-btn.svelte-xg6qn1:hover {background-color:var(--background-modifier-hover);color:var(--text-normal);}.fs-status-msg.svelte-xg6qn1 {font-weight:bold;color:var(--text-success);margin-right:1rem;}"
};
function SessionControls($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css3);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const $draftMinutes = () => store_get(draftMinutes, "$draftMinutes", $$stores);
  const $draftSeconds = () => store_get(draftSeconds, "$draftSeconds", $$stores);
  const $draftName = () => store_get(draftName, "$draftName", $$stores);
  const $session = () => store_get(session, "$session", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  function icon(node, iconName) {
    (0, import_obsidian.setIcon)(node, iconName);
    return {
      update(newIconName) {
        node.empty();
        (0, import_obsidian.setIcon)(node, newIconName);
      }
    };
  }
  function startSession(name) {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.startSession(name);
  }
  function startCustomSession() {
    const duration = $draftMinutes() * 60 + $draftSeconds();
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.startSession($draftName(), duration);
  }
  function stopSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.stopSession();
  }
  function pauseSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.pauseSession();
  }
  function resumeSession() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.resumeSession();
  }
  function addTime(minutes) {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.addTime(minutes);
  }
  init();
  var div = root3();
  var div_1 = child(div);
  var node_1 = child(div_1);
  {
    var consequent_2 = ($$anchor2) => {
      var fragment = comment();
      var node_2 = first_child(fragment);
      {
        var consequent = ($$anchor3) => {
          var fragment_1 = root_23();
          var button = sibling(first_child(fragment_1), 2);
          var div_2 = child(button);
          action(div_2, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "check");
          reset(button);
          event("click", button, stopSession);
          append($$anchor3, fragment_1);
        };
        var alternate_1 = ($$anchor3) => {
          var fragment_2 = root_32();
          var button_1 = first_child(fragment_2);
          var div_3 = child(button_1);
          action(div_3, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "square");
          reset(button_1);
          var node_3 = sibling(button_1, 2);
          {
            var consequent_1 = ($$anchor4) => {
              var button_2 = root_42();
              var div_4 = child(button_2);
              action(div_4, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "pause");
              reset(button_2);
              event("click", button_2, pauseSession);
              append($$anchor4, button_2);
            };
            var alternate = ($$anchor4) => {
              var button_3 = root_5();
              var div_5 = child(button_3);
              action(div_5, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "play");
              reset(button_3);
              event("click", button_3, resumeSession);
              append($$anchor4, button_3);
            };
            if_block(node_3, ($$render) => {
              if ($session().status === "running") $$render(consequent_1);
              else $$render(alternate, false);
            });
          }
          event("click", button_1, stopSession);
          append($$anchor3, fragment_2);
        };
        if_block(node_2, ($$render) => {
          if ($session().status === "completed") $$render(consequent);
          else $$render(alternate_1, false);
        });
      }
      append($$anchor2, fragment);
    };
    var alternate_2 = ($$anchor2) => {
      var fragment_3 = root_6();
      var button_4 = first_child(fragment_3);
      var div_6 = child(button_4);
      action(div_6, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "coffee");
      reset(button_4);
      var button_5 = sibling(button_4, 2);
      var div_7 = child(button_5);
      action(div_7, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "play");
      reset(button_5);
      var button_6 = sibling(button_5, 2);
      var div_8 = child(button_6);
      action(div_8, ($$node, $$action_arg) => icon == null ? void 0 : icon($$node, $$action_arg), () => "armchair");
      reset(button_6);
      event("click", button_4, () => startSession("Short Break"));
      event("click", button_5, startCustomSession);
      event("click", button_6, () => startSession("Long Break"));
      append($$anchor2, fragment_3);
    };
    if_block(node_1, ($$render) => {
      if ($session()) $$render(consequent_2);
      else $$render(alternate_2, false);
    });
  }
  reset(div_1);
  var node_4 = sibling(div_1, 2);
  {
    var consequent_3 = ($$anchor2) => {
      var div_9 = root_7();
      var button_7 = child(div_9);
      var button_8 = sibling(button_7, 2);
      var button_9 = sibling(button_8, 2);
      reset(div_9);
      event("click", button_7, () => addTime(0.5));
      event("click", button_8, () => addTime(1));
      event("click", button_9, () => addTime(5));
      append($$anchor2, div_9);
    };
    if_block(node_4, ($$render) => {
      if ($session() && ($session().status === "running" || $session().status === "paused")) $$render(consequent_3);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/components/SessionFooter.svelte
var root4 = from_html(`<div class="session-footer svelte-vabpp2"><small> </small></div>`);
var $$css4 = {
  hash: "svelte-vabpp2",
  code: ".session-footer.svelte-vabpp2 {margin-top:auto;padding-top:1rem;text-align:center;color:var(--text-faint);border-top:1px solid var(--background-modifier-border);}"
};
function SessionFooter($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css4);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  init();
  var div = root4();
  var small = child(div);
  var text2 = child(small);
  reset(small);
  reset(div);
  template_effect(() => {
    var _a3, _b3;
    return set_text(text2, `v${(_b3 = (_a3 = $plugin()) == null ? void 0 : _a3.manifest.version) != null ? _b3 : ""}`);
  });
  append($$anchor, div);
  pop();
  $$cleanup();
}

// node_modules/tslib/tslib.es6.js
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

// src/ui/session-details-modal.ts
var import_obsidian2 = require("obsidian");
var SessionDetailsModal = class extends import_obsidian2.Modal {
  constructor(app, sessionData) {
    super(app);
    this.sessionData = sessionData;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("session-details-modal");
    contentEl.createEl("h2", { text: "Session Details" });
    const pre = contentEl.createEl("pre");
    pre.createEl("code", {
      text: JSON.stringify(this.sessionData, null, 2)
    });
    pre.style.overflow = "auto";
    pre.style.maxHeight = "500px";
    pre.style.backgroundColor = "var(--background-secondary)";
    pre.style.padding = "10px";
    pre.style.borderRadius = "5px";
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/SessionHistory.svelte
var import_obsidian3 = require("obsidian");
var root_13 = from_html(`<div class="fs-history-item svelte-1ox4dpz"><div class="fs-history-icon svelte-1ox4dpz"><div class="fs-status-dot-sm"></div></div> <div class="fs-history-info svelte-1ox4dpz"><div class="fs-history-name svelte-1ox4dpz"> </div> <div class="fs-history-meta svelte-1ox4dpz"> </div></div></div>`);
var root_24 = from_html(`<div class="fs-history-empty svelte-1ox4dpz">No recent sessions found</div>`);
var root5 = from_html(`<div class="fs-history svelte-1ox4dpz"><div class="fs-history-header svelte-1ox4dpz">Recent Sessions</div> <div class="fs-history-list svelte-1ox4dpz"></div></div>`);
var $$css5 = {
  hash: "svelte-1ox4dpz",
  code: ".fs-history.svelte-1ox4dpz {margin-top:24px;width:100%;border-top:1px solid var(--background-modifier-border);padding-top:16px;}.fs-history-header.svelte-1ox4dpz {font-size:12px;font-weight:600;color:var(--text-muted);letter-spacing:0.5px;margin-bottom:12px;text-transform:uppercase;}.fs-history-list.svelte-1ox4dpz {display:flex;flex-direction:column;gap:8px;}.fs-history-item.svelte-1ox4dpz {display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:8px;background-color:var(--background-primary);border:1px solid var(--background-modifier-border);cursor:pointer;transition:all 0.2s;}.fs-history-item.svelte-1ox4dpz:hover {background-color:var(--background-modifier-hover);border-color:var(--interactive-accent);}.fs-history-icon.svelte-1ox4dpz {display:flex;align-items:center;justify-content:center;}.fs-history-info.svelte-1ox4dpz {flex:1;display:flex;flex-direction:column;gap:2px;}.fs-history-name.svelte-1ox4dpz {font-size:13px;font-weight:500;color:var(--text-normal);}.fs-history-meta.svelte-1ox4dpz {font-size:11px;color:var(--text-muted);}.fs-history-empty.svelte-1ox4dpz {text-align:center;color:var(--text-muted);font-size:13px;padding:16px;}"
};
function SessionHistory($$anchor, $$props) {
  push($$props, false);
  append_styles($$anchor, $$css5);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  const sessionManager = mutable_source();
  let history = mutable_source([]);
  function loadHistory() {
    return __awaiter(this, void 0, void 0, function* () {
      if (get(sessionManager)) {
        set(history, yield get(sessionManager).getSessionHistory());
      }
    });
  }
  function openDetails(session2) {
    new SessionDetailsModal($plugin().app, session2).open();
  }
  function formatTime(ts) {
    return new Date(ts).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
  }
  function formatDuration2(minutes) {
    return `${minutes}m`;
  }
  legacy_pre_effect(() => $plugin(), () => {
    set(sessionManager, $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager);
  });
  legacy_pre_effect(() => get(sessionManager), () => {
    if (get(sessionManager)) {
      loadHistory();
      get(sessionManager).onSessionComplete(() => {
        setTimeout(loadHistory, 500);
      });
    }
  });
  legacy_pre_effect_reset();
  init();
  var div = root5();
  var div_1 = sibling(child(div), 2);
  each(
    div_1,
    5,
    () => get(history),
    index,
    ($$anchor2, session2) => {
      var div_2 = root_13();
      var div_3 = child(div_2);
      var div_4 = child(div_3);
      reset(div_3);
      var div_5 = sibling(div_3, 2);
      var div_6 = child(div_5);
      var text2 = child(div_6, true);
      reset(div_6);
      var div_7 = sibling(div_6, 2);
      var text_1 = child(div_7);
      reset(div_7);
      reset(div_5);
      reset(div_2);
      template_effect(
        ($0) => {
          var _a3, _b3;
          set_style(div_4, `background-color: ${(_a3 = (get(session2), untrack(() => get(session2).end ? "var(--text-muted)" : "var(--interactive-accent)"))) != null ? _a3 : ""}`);
          set_text(text2, (get(session2), untrack(() => {
            var _a4;
            return ((_a4 = get(session2).config) == null ? void 0 : _a4.name) || "Untitled Session";
          })));
          set_text(text_1, `${$0 != null ? $0 : ""} \u2022 ${(_b3 = (get(session2), untrack(() => {
            var _a4;
            return ((_a4 = get(session2).config) == null ? void 0 : _a4.durationMinutes) || "?";
          }))) != null ? _b3 : ""}m`);
        },
        [
          () => (get(session2), untrack(() => formatTime(get(session2).start)))
        ]
      );
      event("click", div_2, () => openDetails(get(session2)));
      append($$anchor2, div_2);
    },
    ($$anchor2) => {
      var div_8 = root_24();
      append($$anchor2, div_8);
    }
  );
  reset(div_1);
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}

// src/ui/FocusSessionView.svelte
var root6 = from_html(`<div class="focus-session-container svelte-76swht"><!> <!> <!> <!> <!></div>`);
var $$css6 = {
  hash: "svelte-76swht",
  code: ".focus-session-container.svelte-76swht {display:flex;flex-direction:column;height:100%;padding:1rem;}"
};
function FocusSessionView($$anchor) {
  append_styles($$anchor, $$css6);
  var div = root6();
  var node = child(div);
  SessionHeader(node, {});
  var node_1 = sibling(node, 2);
  SessionTimer(node_1, {});
  var node_2 = sibling(node_1, 2);
  SessionControls(node_2, {});
  var node_3 = sibling(node_2, 2);
  SessionHistory(node_3, {});
  var node_4 = sibling(node_3, 2);
  SessionFooter(node_4, {});
  reset(div);
  append($$anchor, div);
}

// src/ui/focus-session-view.ts
var FOCUS_SESSION_VIEW_TYPE = "focus-session-view";
var FocusSessionView2 = class extends import_obsidian4.ItemView {
  constructor(leaf, sessionManager, pluginVersion) {
    super(leaf);
    this.component = null;
    this.sessionManager = sessionManager;
    this.pluginVersion = pluginVersion;
  }
  getViewType() {
    return FOCUS_SESSION_VIEW_TYPE;
  }
  getDisplayText() {
    return "Focus sessions";
  }
  async onOpen() {
    const container = this.contentEl;
    container.empty();
    container.addClass("focus-session-view");
    this.component = mount(FocusSessionView, {
      target: container
    });
  }
  async onClose() {
    if (this.component) {
      void unmount(this.component);
    }
  }
};

// src/ui/session-modal.ts
var import_obsidian5 = require("obsidian");

// src/ui/SessionModal.svelte
var root_14 = from_html(`<h2> </h2> <div class="stats svelte-1fktv0t"><p> </p> <p> </p></div> <button class="mod-warning svelte-1fktv0t">Stop session</button>`, 1);
var root_25 = from_html(`<h2>No active session</h2> <p>Go to the side panel to start a new session.</p>`, 1);
var root7 = from_html(`<div class="session-modal-content svelte-1fktv0t"><!></div>`);
var $$css7 = {
  hash: "svelte-1fktv0t",
  code: ".session-modal-content.svelte-1fktv0t {text-align:center;padding:1rem;}.stats.svelte-1fktv0t {margin:1.5rem 0;font-size:1.1em;}button.svelte-1fktv0t {cursor:pointer;}"
};
function SessionModal($$anchor, $$props) {
  push($$props, true);
  append_styles($$anchor, $$css7);
  const $plugin = () => store_get(plugin, "$plugin", $$stores);
  const $session = () => store_get(session, "$session", $$stores);
  const $timeRemaining = () => store_get(timeRemaining, "$timeRemaining", $$stores);
  const [$$stores, $$cleanup] = setup_stores();
  function stop() {
    $plugin() === null || $plugin() === void 0 ? void 0 : $plugin().sessionManager.stopSession();
    $$props.close();
  }
  var div = root7();
  var node = child(div);
  {
    var consequent = ($$anchor2) => {
      var fragment = root_14();
      var h2 = first_child(fragment);
      var text2 = child(h2, true);
      reset(h2);
      var div_1 = sibling(h2, 2);
      var p = child(div_1);
      var text_1 = child(p);
      reset(p);
      var p_1 = sibling(p, 2);
      var text_2 = child(p_1);
      reset(p_1);
      reset(div_1);
      var button = sibling(div_1, 2);
      button.__click = stop;
      template_effect(
        ($0, $1) => {
          set_text(text2, $session().name);
          set_text(text_1, `Duration: ${$0 != null ? $0 : ""}`);
          set_text(text_2, `Time remaining: ${$1 != null ? $1 : ""}`);
        },
        [
          () => formatDuration($session().duration),
          () => formatDuration($timeRemaining())
        ]
      );
      append($$anchor2, fragment);
    };
    var alternate = ($$anchor2) => {
      var fragment_1 = root_25();
      next(2);
      append($$anchor2, fragment_1);
    };
    if_block(node, ($$render) => {
      if ($session()) $$render(consequent);
      else $$render(alternate, false);
    });
  }
  reset(div);
  append($$anchor, div);
  pop();
  $$cleanup();
}
delegate(["click"]);

// src/ui/session-modal.ts
var SessionModal2 = class extends import_obsidian5.Modal {
  constructor(app) {
    super(app);
    this.component = null;
  }
  onOpen() {
    this.component = mount(SessionModal, {
      target: this.contentEl,
      props: {
        close: () => this.close()
      }
    });
  }
  onClose() {
    if (this.component) {
      void unmount(this.component);
    }
    this.contentEl.empty();
  }
};

// src/ui/session-end-modal.ts
var import_obsidian6 = require("obsidian");
var SessionEndModal = class extends import_obsidian6.Modal {
  constructor(app, sessionManager) {
    super(app);
    this.sessionManager = sessionManager;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("fs-session-end-modal");
    contentEl.createEl("h2", { text: "Focus session completed!" });
    const controls = contentEl.createDiv({ cls: "fs-modal-controls" });
    const extensionsDiv = controls.createDiv({ cls: "fs-extension-options" });
    extensionsDiv.createDiv({ cls: "fs-label", text: "Need more time?" });
    const btnRow = extensionsDiv.createDiv({ cls: "fs-controls-row" });
    const times = [
      { label: "+30s", val: 0.5 },
      { label: "+1m", val: 1 },
      { label: "+5m", val: 5 }
    ];
    times.forEach((t) => {
      const btn = btnRow.createEl("button", { cls: "fs-control-text-btn", text: t.label });
      btn.onclick = () => {
        this.sessionManager.addTime(t.val);
        this.close();
      };
    });
    controls.createDiv({ cls: "fs-spacer" });
    const finishBtn = controls.createEl("button", { cls: "mod-cta fs-finish-btn", text: "Finish session" });
    finishBtn.onclick = () => {
      this.sessionManager.stopSession();
      this.close();
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
    const session2 = this.sessionManager.getActiveSession();
    if (session2 && session2.status === "completed") {
      this.sessionManager.stopSession();
    }
  }
};

// src/ui/SvelteModal.ts
var import_obsidian8 = require("obsidian");

// src/ui/components/TestSvelteModal.svelte
var import_obsidian7 = require("obsidian");
var root8 = from_html(`<div class="svelte-modal-content"><h2></h2> <p>This is a reactive Svelte 5 component using Runes.</p> <div class="counter-section"><p>Count: <strong> </strong></p> <button>Increment</button></div> <style>.svelte-modal-content {
			padding: 1rem;
			text-align: center;
		}
		.counter-section {
			margin-top: 2rem;
			padding: 1rem;
			background-color: var(--background-secondary);
			border-radius: 8px;
		}
		button {
			margin-top: 1rem;
			cursor: pointer;
		}</style></div>`);
function TestSvelteModal($$anchor, $$props) {
  push($$props, true);
  let count = state(0);
  let message = "Hello Svelte 5!";
  function increment2() {
    set(count, get(count) + 1);
    new import_obsidian7.Notice(`Count is now ${get(count)}`);
  }
  onMount(() => {
    console.log("Svelte 5 component mounted in app:", $$props.app);
  });
  var div = root8();
  var h2 = child(div);
  h2.textContent = "Hello Svelte 5!";
  var div_1 = sibling(h2, 4);
  var p = child(div_1);
  var strong = sibling(child(p));
  var text2 = child(strong, true);
  reset(strong);
  reset(p);
  var button = sibling(p, 2);
  button.__click = increment2;
  reset(div_1);
  next(2);
  reset(div);
  template_effect(() => set_text(text2, get(count)));
  append($$anchor, div);
  pop();
}
delegate(["click"]);

// src/ui/SvelteModal.ts
var SvelteModal = class extends import_obsidian8.Modal {
  constructor(app) {
    super(app);
    this.component = null;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.component = mount(TestSvelteModal, {
      target: contentEl,
      props: {
        app: this.app
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    if (this.component) {
      void unmount(this.component);
    }
    contentEl.empty();
  }
};

// src/settings.ts
var DEFAULT_SETTINGS = {
  focusDuration: 25,
  shortBreakDuration: 5,
  longBreakDuration: 15,
  enableSound: true
};

// src/ui/settings-tab.ts
var import_obsidian9 = require("obsidian");
var FocusSessionSettingTab = class extends import_obsidian9.PluginSettingTab {
  constructor(app, plugin2) {
    super(app, plugin2);
    this.plugin = plugin2;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian9.Setting(containerEl).setName("Focus duration (minutes)").setDesc("The length of a focus session.").addSlider(
      (slider) => slider.setLimits(1, 120, 1).setValue(this.plugin.settings.focusDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.focusDuration = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian9.Setting(containerEl).setName("Short break duration (minutes)").setDesc("The length of a short break.").addSlider(
      (slider) => slider.setLimits(1, 30, 1).setValue(this.plugin.settings.shortBreakDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.shortBreakDuration = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian9.Setting(containerEl).setName("Long break duration (minutes)").setDesc("The length of a long break.").addSlider(
      (slider) => slider.setLimits(1, 60, 1).setValue(this.plugin.settings.longBreakDuration).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.longBreakDuration = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/services/hub-service.ts
var import_obsidian10 = require("obsidian");
var HubService = class {
  constructor(app) {
    this.app = app;
  }
  getApi() {
    var _a3;
    return (_a3 = this.app.plugins.getPlugin("obsidian-hub-plugin")) == null ? void 0 : _a3.api;
  }
  isAvailable() {
    return !!this.getApi();
  }
  async startSession(name, durationMinutes) {
    const api = this.getApi();
    if (!api) return null;
    return await api.sessions.startSession({
      durationMinutes,
      name,
      metadata: { source: "obsidian-focus-sessions" }
    });
  }
  async endSession() {
    const api = this.getApi();
    if (!api) return;
    await api.sessions.endSession();
  }
  async getActiveSession() {
    const api = this.getApi();
    if (!api) return null;
    if (!api.sessions.isActive()) return null;
    return null;
  }
  // We need a specific method to recover session state
  async asyncRecoverActiveSession() {
    var _a3;
    const api = this.getApi();
    if (!api) return null;
    const hubPlugin = this.app.plugins.getPlugin("obsidian-hub-plugin");
    if (hubPlugin && ((_a3 = hubPlugin.settings) == null ? void 0 : _a3.activeSession)) {
      const s = hubPlugin.settings.activeSession;
      return {
        id: s.id,
        startTime: s.startTime,
        duration: s.config.durationMinutes,
        name: s.config.name
      };
    }
    return null;
  }
  async getRecentSessions(limit = 10) {
    const api = this.getApi();
    if (!api) return [];
    const sessions = await api.sessions.getSessionHistory(7);
    return sessions.slice(0, limit);
  }
  async getSessionContext(sessionId) {
    const api = this.getApi();
    if (!api) return null;
    return await api.sessions.getSessionContext(sessionId);
  }
};

// src/main.ts
var FocusSessionsPlugin2 = class extends import_obsidian11.Plugin {
  async onload() {
    await this.loadSettings();
    plugin.set(this);
    this.hubService = new HubService(this.app);
    this.audioService = new AudioService(this.settings.enableSound);
    this.sessionManager = new SessionManager(this.settings, this.audioService, this.hubService);
    this.registerView(
      FOCUS_SESSION_VIEW_TYPE,
      (leaf) => new FocusSessionView2(leaf, this.sessionManager, this.manifest.version)
    );
    this.addRibbonIcon("clock", "Open focus sessions", () => {
      void this.activateView();
    });
    this.addCommand({
      id: "open-test-svelte-modal",
      name: "Open test svelte modal",
      callback: () => {
        new SvelteModal(this.app).open();
      }
    });
    this.statusBarItemEl = this.addStatusBarItem();
    this.updateStatusBar();
    this.sessionManager.onChange(() => {
      this.updateStatusBar();
    });
    this.sessionManager.onSessionComplete(() => {
      new SessionEndModal(this.app, this.sessionManager).open();
    });
    this.registerInterval(
      window.setInterval(() => {
        this.sessionManager.tick();
        this.updateStatusBar();
      }, 1e3)
    );
    this.statusBarItemEl.addClass("mod-clickable");
    this.statusBarItemEl.onClickEvent(() => {
      new SessionModal2(this.app).open();
    });
    this.addSettingTab(new FocusSessionSettingTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  onunload() {
  }
  updateStatusBar() {
    const session2 = this.sessionManager.getActiveSession();
    if (session2) {
      const remainingSec = getRemainingTime(
        session2.duration,
        session2.elapsed,
        session2.status,
        session2.lastResumed
      );
      const timeString = formatDuration(remainingSec);
      this.statusBarItemEl.setText(`${session2.name} (${timeString})`);
    } else {
      this.statusBarItemEl.setText("");
    }
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(FOCUS_SESSION_VIEW_TYPE);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      const rightLeaf = workspace.getRightLeaf(false);
      if (rightLeaf) {
        leaf = rightLeaf;
        await leaf.setViewState({ type: FOCUS_SESSION_VIEW_TYPE, active: true });
      }
    }
    if (leaf) {
      void workspace.revealLeaf(leaf);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NlcnZpY2VzL2F1ZGlvLXNlcnZpY2UudHMiLCAic3JjL3V0aWxzL3RpbWUtdXRpbHMudHMiLCAic3JjL3NlcnZpY2VzL3Nlc3Npb24tbWFuYWdlci50cyIsICJzcmMvdWkvZm9jdXMtc2Vzc2lvbi12aWV3LnRzIiwgIm5vZGVfbW9kdWxlcy9lc20tZW52L2Rldi1mYWxsYmFjay5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2NvbnN0YW50cy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvZXJyb3JzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9lcnJvcnMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvY29uc3RhbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC93YXJuaW5ncy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2h5ZHJhdGlvbi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9lcXVhbGl0eS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9mbGFncy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZGV2L3RyYWNpbmcuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvc2hhcmVkL2Rldi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL3Rhc2suanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Vycm9yLWhhbmRsaW5nLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3N0YXR1cy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS91dGlscy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9iYXRjaC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9yZWFjdGl2aXR5L2NyZWF0ZS1zdWJzY3JpYmVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2FzeW5jLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3NvdXJjZXMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3Byb3h5LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kZXYvZXF1YWxpdHkuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9vcGVyYXRpb25zLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvbWlzYy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2JpbmRpbmdzL3NoYXJlZC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9lZmZlY3RzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9sZWdhY3kuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Rldi9jc3MuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9ldmVudHMuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9yZWNvbmNpbGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vdGVtcGxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlbmRlci5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9icmFuY2hlcy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9pZi5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9lYWNoLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vY3NzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYWN0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvYXR0cmlidXRlcy5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2NsYXNzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvc3R5bGUuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9hdHRyaWJ1dGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYmluZGluZ3MvaW5wdXQuanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9sZWdhY3kvbGlmZWN5Y2xlLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3N0b3JlL3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3N0b3JlL3NoYXJlZC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zdG9yZS5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9sZWdhY3kvbGVnYWN5LWNsaWVudC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2N1c3RvbS1lbGVtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2luZGV4LWNsaWVudC5qcyIsICJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24uanMiLCAibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvZmxhZ3MvbGVnYWN5LmpzIiwgInNyYy91aS9zdG9yZXMudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvbkhlYWRlci5zdmVsdGUiLCAic3JjL3VpL2NvbXBvbmVudHMvU2Vzc2lvblRpbWVyLnN2ZWx0ZSIsICJzcmMvdWkvY29tcG9uZW50cy9TZXNzaW9uQ29udHJvbHMuc3ZlbHRlIiwgInNyYy91aS9jb21wb25lbnRzL1Nlc3Npb25Gb290ZXIuc3ZlbHRlIiwgIm5vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCAic3JjL3VpL3Nlc3Npb24tZGV0YWlscy1tb2RhbC50cyIsICJzcmMvdWkvY29tcG9uZW50cy9TZXNzaW9uSGlzdG9yeS5zdmVsdGUiLCAic3JjL3VpL0ZvY3VzU2Vzc2lvblZpZXcuc3ZlbHRlIiwgInNyYy91aS9zZXNzaW9uLW1vZGFsLnRzIiwgInNyYy91aS9TZXNzaW9uTW9kYWwuc3ZlbHRlIiwgInNyYy91aS9zZXNzaW9uLWVuZC1tb2RhbC50cyIsICJzcmMvdWkvU3ZlbHRlTW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvVGVzdFN2ZWx0ZU1vZGFsLnN2ZWx0ZSIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL3VpL3NldHRpbmdzLXRhYi50cyIsICJzcmMvc2VydmljZXMvaHViLXNlcnZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiwgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgU2Vzc2lvbk1hbmFnZXIgfSBmcm9tIFwiQC9zZXJ2aWNlcy9zZXNzaW9uLW1hbmFnZXJcIjtcbmltcG9ydCB7IGZvcm1hdER1cmF0aW9uLCBnZXRSZW1haW5pbmdUaW1lIH0gZnJvbSBcIkAvdXRpbHMvdGltZS11dGlsc1wiO1xuaW1wb3J0IHsgRk9DVVNfU0VTU0lPTl9WSUVXX1RZUEUsIEZvY3VzU2Vzc2lvblZpZXcgfSBmcm9tIFwiQC91aS9mb2N1cy1zZXNzaW9uLXZpZXdcIjtcbmltcG9ydCB7IFNlc3Npb25Nb2RhbCB9IGZyb20gXCJAL3VpL3Nlc3Npb24tbW9kYWxcIjtcbmltcG9ydCB7IFNlc3Npb25FbmRNb2RhbCB9IGZyb20gXCJAL3VpL3Nlc3Npb24tZW5kLW1vZGFsXCI7XG5pbXBvcnQgeyBTdmVsdGVNb2RhbCB9IGZyb20gXCJAL3VpL1N2ZWx0ZU1vZGFsXCI7XG5cbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIHR5cGUgRm9jdXNTZXNzaW9uU2V0dGluZ3MgfSBmcm9tIFwiQC9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgRm9jdXNTZXNzaW9uU2V0dGluZ1RhYiB9IGZyb20gXCJAL3VpL3NldHRpbmdzLXRhYlwiO1xuaW1wb3J0IHsgQXVkaW9TZXJ2aWNlIH0gZnJvbSBcIkAvc2VydmljZXMvYXVkaW8tc2VydmljZVwiO1xuaW1wb3J0IHsgSHViU2VydmljZSB9IGZyb20gXCJAL3NlcnZpY2VzL2h1Yi1zZXJ2aWNlXCI7XG5cbmltcG9ydCB7IHBsdWdpbiB9IGZyb20gXCJAL3VpL3N0b3Jlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb2N1c1Nlc3Npb25zUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyO1xuXHRzdGF0dXNCYXJJdGVtRWw6IEhUTUxFbGVtZW50O1xuXHRzZXR0aW5nczogRm9jdXNTZXNzaW9uU2V0dGluZ3M7XG5cdGF1ZGlvU2VydmljZTogQXVkaW9TZXJ2aWNlO1xuXHRodWJTZXJ2aWNlOiBIdWJTZXJ2aWNlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHBsdWdpbi5zZXQodGhpcyk7XG5cblx0XHR0aGlzLmh1YlNlcnZpY2UgPSBuZXcgSHViU2VydmljZSh0aGlzLmFwcCk7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UgPSBuZXcgQXVkaW9TZXJ2aWNlKHRoaXMuc2V0dGluZ3MuZW5hYmxlU291bmQpO1xuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIgPSBuZXcgU2Vzc2lvbk1hbmFnZXIodGhpcy5zZXR0aW5ncywgdGhpcy5hdWRpb1NlcnZpY2UsIHRoaXMuaHViU2VydmljZSk7XG5cblx0XHQvLyBSZWdpc3RlciB0aGUgVmlld1xuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxuXHRcdFx0Rk9DVVNfU0VTU0lPTl9WSUVXX1RZUEUsXG5cdFx0XHQobGVhZikgPT4gbmV3IEZvY3VzU2Vzc2lvblZpZXcobGVhZiwgdGhpcy5zZXNzaW9uTWFuYWdlciwgdGhpcy5tYW5pZmVzdC52ZXJzaW9uKSxcblx0XHQpO1xuXG5cdFx0Ly8gUmliYm9uIEljb25cblx0XHR0aGlzLmFkZFJpYmJvbkljb24oXCJjbG9ja1wiLCBcIk9wZW4gZm9jdXMgc2Vzc2lvbnNcIiwgKCkgPT4ge1xuXHRcdFx0dm9pZCB0aGlzLmFjdGl2YXRlVmlldygpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcIm9wZW4tdGVzdC1zdmVsdGUtbW9kYWxcIixcblx0XHRcdG5hbWU6IFwiT3BlbiB0ZXN0IHN2ZWx0ZSBtb2RhbFwiLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IFN2ZWx0ZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gU3RhdHVzIEJhclxuXHRcdHRoaXMuc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0dGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcblxuXHRcdC8vIFVwZGF0ZSBzdGF0dXMgYmFyIG9uIHNlc3Npb24gY2hhbmdlXG5cdFx0dGhpcy5zZXNzaW9uTWFuYWdlci5vbkNoYW5nZSgoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTW9kYWwgb24gc2Vzc2lvbiBjb21wbGV0aW9uXG5cdFx0dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25Db21wbGV0ZSgoKSA9PiB7XG5cdFx0XHRuZXcgU2Vzc2lvbkVuZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnNlc3Npb25NYW5hZ2VyKS5vcGVuKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBQZXJpb2RpYyB1cGRhdGUgZm9yIHRpbWVyIGluIHN0YXR1cyBiYXIgYW5kIHNlc3Npb24gbG9naWNcblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXG5cdFx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnNlc3Npb25NYW5hZ2VyLnRpY2soKTtcblx0XHRcdFx0dGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcblx0XHRcdH0sIDEwMDApLFxuXHRcdCk7XG5cblx0XHQvLyBDbGljayBvbiBzdGF0dXMgYmFyIHRvIG9wZW4gbW9kYWxcblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5hZGRDbGFzcyhcIm1vZC1jbGlja2FibGVcIik7XG5cdFx0dGhpcy5zdGF0dXNCYXJJdGVtRWwub25DbGlja0V2ZW50KCgpID0+IHtcblx0XHRcdG5ldyBTZXNzaW9uTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRm9jdXNTZXNzaW9uU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvLyBDbGVhbiB1cCBpcyBoYW5kbGVkIGJ5IE9ic2lkaWFuIHByaW1hcmlseVxuXHR9XG5cblx0dXBkYXRlU3RhdHVzQmFyKCkge1xuXHRcdGNvbnN0IHNlc3Npb24gPSB0aGlzLnNlc3Npb25NYW5hZ2VyLmdldEFjdGl2ZVNlc3Npb24oKTtcblx0XHRpZiAoc2Vzc2lvbikge1xuXHRcdFx0Y29uc3QgcmVtYWluaW5nU2VjID0gZ2V0UmVtYWluaW5nVGltZShcblx0XHRcdFx0c2Vzc2lvbi5kdXJhdGlvbixcblx0XHRcdFx0c2Vzc2lvbi5lbGFwc2VkLFxuXHRcdFx0XHRzZXNzaW9uLnN0YXR1cyxcblx0XHRcdFx0c2Vzc2lvbi5sYXN0UmVzdW1lZCxcblx0XHRcdCk7XG5cdFx0XHRjb25zdCB0aW1lU3RyaW5nID0gZm9ybWF0RHVyYXRpb24ocmVtYWluaW5nU2VjKTtcblxuXHRcdFx0dGhpcy5zdGF0dXNCYXJJdGVtRWwuc2V0VGV4dChgJHtzZXNzaW9uLm5hbWV9ICgke3RpbWVTdHJpbmd9KWApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KFwiXCIpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGFjdGl2YXRlVmlldygpIHtcblx0XHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cblx0XHRsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuXHRcdGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoRk9DVVNfU0VTU0lPTl9WSUVXX1RZUEUpO1xuXG5cdFx0aWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvLyBBIGxlYWYgd2l0aCBvdXIgdmlldyBhbHJlYWR5IGV4aXN0cywgdXNlIHRoYXRcblx0XHRcdGxlYWYgPSBsZWF2ZXNbMF0gYXMgV29ya3NwYWNlTGVhZjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gT3VyIHZpZXcgY291bGQgbm90IGJlIGZvdW5kIGluIHRoZSB3b3Jrc3BhY2UsIGNyZWF0ZSBhIG5ldyBsZWFmXG5cdFx0XHQvLyBpbiB0aGUgcmlnaHQgc2lkZWJhciBmb3IgaXRcblx0XHRcdGNvbnN0IHJpZ2h0TGVhZiA9IHdvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0aWYgKHJpZ2h0TGVhZikge1xuXHRcdFx0XHRsZWFmID0gcmlnaHRMZWFmO1xuXHRcdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IEZPQ1VTX1NFU1NJT05fVklFV19UWVBFLCBhY3RpdmU6IHRydWUgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gXCJSZXZlYWxcIiB0aGUgbGVhZiBpbiBjYXNlIGl0IGlzIGluIGEgY29sbGFwc2VkIHNpZGViYXJcblx0XHRpZiAobGVhZikge1xuXHRcdFx0dm9pZCB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHR9XG5cdH1cbn1cbiIsICJleHBvcnQgY2xhc3MgQXVkaW9TZXJ2aWNlIHtcblx0cHJpdmF0ZSBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG5cdGNvbnN0cnVjdG9yKGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0dGhpcy5lbmFibGVkID0gZW5hYmxlZDtcblx0XHQvLyBMYXppbHkgaW5pdCBhdWRpbyBjb250ZXh0IG9uIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb24gaWYgcG9zc2libGUsXG5cdFx0Ly8gYnV0IGhlcmUgd2UgbWlnaHQganVzdCBpbml0IGl0IHdoZW4gbmVlZGVkIHRvIGF2b2lkIGF1dG9wbGF5IHBvbGljaWVzIGlzc3Vlcz9cblx0XHQvLyBBY3R1YWxseSwgT2JzaWRpYW4gYXBwcyBydW4gaW4gYW4gZW52aXJvbm1lbnQgd2hlcmUgYXVkaW8gaXMgdXN1YWxseSBhbGxvd2VkLlxuXHR9XG5cblx0c2V0RW5hYmxlZChlbmFibGVkOiBib29sZWFuKSB7XG5cdFx0dGhpcy5lbmFibGVkID0gZW5hYmxlZDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0Q29udGV4dCgpOiBBdWRpb0NvbnRleHQge1xuXHRcdGlmICghdGhpcy5hdWRpb0NvbnRleHQpIHtcblx0XHRcdHRoaXMuYXVkaW9Db250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dDtcblx0fVxuXG5cdHByaXZhdGUgYWN0aXZlT3NjaWxsYXRvcnM6IE9zY2lsbGF0b3JOb2RlW10gPSBbXTtcblx0cHJpdmF0ZSBsb29wSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5cdHByaXZhdGUgcGxheVRvbmUoZnJlcTogbnVtYmVyLCB0eXBlOiBPc2NpbGxhdG9yVHlwZSwgZHVyYXRpb246IG51bWJlciwgc3RhcnRUaW1lOiBudW1iZXIgPSAwKSB7XG5cdFx0aWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcblx0XHRjb25zdCBjdHggPSB0aGlzLmdldENvbnRleHQoKTtcblx0XHRjb25zdCBvc2MgPSBjdHguY3JlYXRlT3NjaWxsYXRvcigpO1xuXHRcdGNvbnN0IGdhaW4gPSBjdHguY3JlYXRlR2FpbigpO1xuXG5cdFx0b3NjLnR5cGUgPSB0eXBlO1xuXHRcdG9zYy5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoZnJlcSwgY3R4LmN1cnJlbnRUaW1lICsgc3RhcnRUaW1lKTtcblxuXHRcdGdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLjEsIGN0eC5jdXJyZW50VGltZSArIHN0YXJ0VGltZSk7XG5cdFx0Z2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAwMSwgY3R4LmN1cnJlbnRUaW1lICsgc3RhcnRUaW1lICsgZHVyYXRpb24pO1xuXG5cdFx0b3NjLmNvbm5lY3QoZ2Fpbik7XG5cdFx0Z2Fpbi5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7XG5cblx0XHRvc2Muc3RhcnQoY3R4LmN1cnJlbnRUaW1lICsgc3RhcnRUaW1lKTtcblx0XHRvc2Muc3RvcChjdHguY3VycmVudFRpbWUgKyBzdGFydFRpbWUgKyBkdXJhdGlvbik7XG5cblx0XHR0aGlzLmFjdGl2ZU9zY2lsbGF0b3JzLnB1c2gob3NjKTtcblx0XHRvc2Mub25lbmRlZCA9ICgpID0+IHtcblx0XHRcdHRoaXMuYWN0aXZlT3NjaWxsYXRvcnMgPSB0aGlzLmFjdGl2ZU9zY2lsbGF0b3JzLmZpbHRlcigobykgPT4gbyAhPT0gb3NjKTtcblx0XHR9O1xuXHR9XG5cblx0cGxheVN0YXJ0KCkge1xuXHRcdHRoaXMuc3RvcEFsYXJtKCk7XG5cdFx0Ly8gU2ltcGxlIGhpZ2ggcGluZ1xuXHRcdHRoaXMucGxheVRvbmUoODgwLCBcInNpbmVcIiwgMC41KTtcblx0fVxuXG5cdHBsYXlQYXVzZSgpIHtcblx0XHR0aGlzLnN0b3BBbGFybSgpO1xuXHRcdC8vIERlc2NlbmRpbmcgdG9uZVxuXHRcdHRoaXMucGxheVRvbmUoNDQwLCBcInNpbmVcIiwgMC4xKTtcblx0XHR0aGlzLnBsYXlUb25lKDMzMCwgXCJzaW5lXCIsIDAuMywgMC4xKTtcblx0fVxuXG5cdHBsYXlSZXN1bWUoKSB7XG5cdFx0dGhpcy5zdG9wQWxhcm0oKTtcblx0XHQvLyBBc2NlbmRpbmcgdG9uZVxuXHRcdHRoaXMucGxheVRvbmUoMzMwLCBcInNpbmVcIiwgMC4xKTtcblx0XHR0aGlzLnBsYXlUb25lKDQ0MCwgXCJzaW5lXCIsIDAuMywgMC4xKTtcblx0fVxuXG5cdHBsYXlDb21wbGV0ZShsb29wID0gZmFsc2UpIHtcblx0XHR0aGlzLnN0b3BBbGFybSgpO1xuXHRcdGNvbnN0IHBsYXlNZWxvZHkgPSAoKSA9PiB7XG5cdFx0XHQvLyBMaXR0bGUgbWVsb2R5OiBDIC0gRSAtIEcgLSBDXG5cdFx0XHRjb25zdCBub3cgPSAwO1xuXHRcdFx0dGhpcy5wbGF5VG9uZSg1MjMuMjUsIFwic2luZVwiLCAwLjIsIG5vdyk7XG5cdFx0XHR0aGlzLnBsYXlUb25lKDY1OS4yNSwgXCJzaW5lXCIsIDAuMiwgbm93ICsgMC4yKTtcblx0XHRcdHRoaXMucGxheVRvbmUoNzgzLjk5LCBcInNpbmVcIiwgMC4yLCBub3cgKyAwLjQpO1xuXHRcdFx0dGhpcy5wbGF5VG9uZSgxMDQ2LjUsIFwic2luZVwiLCAwLjYsIG5vdyArIDAuNik7XG5cdFx0fTtcblxuXHRcdHBsYXlNZWxvZHkoKTtcblxuXHRcdGlmIChsb29wKSB7XG5cdFx0XHR0aGlzLmxvb3BJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChwbGF5TWVsb2R5LCAyMDAwKTsgLy8gUmVwZWF0IGV2ZXJ5IDJzXG5cdFx0fVxuXHR9XG5cblx0c3RvcEFsYXJtKCkge1xuXHRcdGlmICh0aGlzLmxvb3BJbnRlcnZhbCkge1xuXHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5sb29wSW50ZXJ2YWwpO1xuXHRcdFx0dGhpcy5sb29wSW50ZXJ2YWwgPSBudWxsO1xuXHRcdH1cblx0XHR0aGlzLmFjdGl2ZU9zY2lsbGF0b3JzLmZvckVhY2goKG9zYykgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0b3NjLnN0b3AoKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBJZ25vcmUgaWYgYWxyZWFkeSBzdG9wcGVkXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5hY3RpdmVPc2NpbGxhdG9ycyA9IFtdO1xuXHR9XG59XG4iLCAiZXhwb3J0IGNvbnN0IGZvcm1hdER1cmF0aW9uID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XG5cdGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG5cdGNvbnN0IHMgPSBzZWNvbmRzICUgNjA7XG5cdHJldHVybiBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRUaW1lckRpc3BsYXkgPSAoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nID0+IHtcblx0aWYgKHNlY29uZHMgPj0gNjApIHtcblx0XHRyZXR1cm4gTWF0aC5jZWlsKHNlY29uZHMgLyA2MCkudG9TdHJpbmcoKTtcblx0fVxuXHRyZXR1cm4gZm9ybWF0RHVyYXRpb24oc2Vjb25kcyk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UmVtYWluaW5nVGltZSA9IChcblx0ZHVyYXRpb25TZWNvbmRzOiBudW1iZXIsXG5cdGVsYXBzZWQ6IG51bWJlcixcblx0c3RhdHVzOiBcInJ1bm5pbmdcIiB8IFwicGF1c2VkXCIgfCBcImNvbXBsZXRlZFwiLFxuXHRsYXN0UmVzdW1lZDogbnVtYmVyLFxuKTogbnVtYmVyID0+IHtcblx0aWYgKHN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikgcmV0dXJuIDA7XG5cblx0Ly8gZHVyYXRpb25TZWNvbmRzIGlzIGFscmVhZHkgaW4gc2Vjb25kc1xuXHRjb25zdCB0b3RhbFNlYyA9IGR1cmF0aW9uU2Vjb25kcztcblx0bGV0IGN1cnJlbnRFbGFwc2VkID0gZWxhcHNlZDtcblxuXHRpZiAoc3RhdHVzID09PSBcInJ1bm5pbmdcIikge1xuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgYWRkaXRpb25hbCA9IE1hdGguZmxvb3IoKG5vdyAtIGxhc3RSZXN1bWVkKSAvIDEwMDApO1xuXHRcdGN1cnJlbnRFbGFwc2VkICs9IGFkZGl0aW9uYWw7XG5cdH1cblxuXHRyZXR1cm4gTWF0aC5tYXgoMCwgdG90YWxTZWMgLSBjdXJyZW50RWxhcHNlZCk7XG59O1xuIiwgImV4cG9ydCBpbnRlcmZhY2UgRm9jdXNTZXNzaW9uIHtcblx0bmFtZTogc3RyaW5nO1xuXHRkdXJhdGlvbjogbnVtYmVyOyAvLyBkdXJhdGlvbiBpbiBzZWNvbmRzXG5cdHN0YXJ0VGltZTogbnVtYmVyO1xuXHRzdGF0dXM6IFwicnVubmluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiY29tcGxldGVkXCI7XG5cdGVsYXBzZWQ6IG51bWJlcjsgLy8gYWNjdW11bGF0ZWQgdGltZSBpbiBzZWNvbmRzXG5cdGxhc3RSZXN1bWVkOiBudW1iZXI7IC8vIHRpbWVzdGFtcCB3aGVuIGxhc3QgcmVzdW1lZC9zdGFydGVkXG59XG5cbmltcG9ydCB0eXBlIHsgRm9jdXNTZXNzaW9uU2V0dGluZ3MgfSBmcm9tIFwiQC9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQXVkaW9TZXJ2aWNlIH0gZnJvbSBcIkAvc2VydmljZXMvYXVkaW8tc2VydmljZVwiO1xuaW1wb3J0IHsgZ2V0UmVtYWluaW5nVGltZSB9IGZyb20gXCJAL3V0aWxzL3RpbWUtdXRpbHNcIjtcbmltcG9ydCB0eXBlIHsgSHViU2VydmljZSB9IGZyb20gXCIuL2h1Yi1zZXJ2aWNlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9jdXNTZXNzaW9uIHtcblx0bmFtZTogc3RyaW5nO1xuXHRkdXJhdGlvbjogbnVtYmVyOyAvLyBkdXJhdGlvbiBpbiBzZWNvbmRzXG5cdHN0YXJ0VGltZTogbnVtYmVyO1xuXHRzdGF0dXM6IFwicnVubmluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiY29tcGxldGVkXCI7XG5cdGVsYXBzZWQ6IG51bWJlcjsgLy8gYWNjdW11bGF0ZWQgdGltZSBpbiBzZWNvbmRzXG5cdGxhc3RSZXN1bWVkOiBudW1iZXI7IC8vIHRpbWVzdGFtcCB3aGVuIGxhc3QgcmVzdW1lZC9zdGFydGVkXG59XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uTWFuYWdlciB7XG5cdHByaXZhdGUgYWN0aXZlU2Vzc2lvbjogRm9jdXNTZXNzaW9uIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgbGlzdGVuZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRwcml2YXRlIGNvbXBsZXRpb25MaXN0ZW5lcnM6ICgoc2Vzc2lvbjogRm9jdXNTZXNzaW9uKSA9PiB2b2lkKVtdID0gW107XG5cdHByaXZhdGUgc2V0dGluZ3M6IEZvY3VzU2Vzc2lvblNldHRpbmdzO1xuXHRwcml2YXRlIGF1ZGlvU2VydmljZTogQXVkaW9TZXJ2aWNlO1xuXHRwcml2YXRlIGh1YlNlcnZpY2U6IEh1YlNlcnZpY2U7XG5cblx0cHJpdmF0ZSBjdXN0b21EdXJhdGlvbjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOiBGb2N1c1Nlc3Npb25TZXR0aW5ncywgYXVkaW9TZXJ2aWNlOiBBdWRpb1NlcnZpY2UsIGh1YlNlcnZpY2U6IEh1YlNlcnZpY2UpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UgPSBhdWRpb1NlcnZpY2U7XG5cdFx0dGhpcy5odWJTZXJ2aWNlID0gaHViU2VydmljZTtcblx0XHR0aGlzLmF1ZGlvU2VydmljZS5zZXRFbmFibGVkKHNldHRpbmdzLmVuYWJsZVNvdW5kICE9PSBmYWxzZSk7IC8vIERlZmF1bHQgdHJ1ZSBpZiB1bmRlZmluZWRcblx0XHR0aGlzLmN1c3RvbUR1cmF0aW9uID0gc2V0dGluZ3MuZm9jdXNEdXJhdGlvbjtcblxuXHRcdC8vIEF0dGVtcHQgdG8gcmVzdG9yZSBzZXNzaW9uIGZyb20gSHViXG5cdFx0dGhpcy5yZXN0b3JlU2Vzc2lvbigpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyByZXN0b3JlU2Vzc2lvbigpIHtcblx0XHQvLyBSZXRyeSBhIGZldyB0aW1lcyBpZiBIdWIgaXMgbm90IGF2YWlsYWJsZSBpbW1lZGlhdGVseSAocmFjZSBjb25kaXRpb24gb24gbG9hZClcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLmh1YlNlcnZpY2UuaXNBdmFpbGFibGUoKSkge1xuXHRcdFx0XHRjb25zdCBodWJTZXNzaW9uID0gYXdhaXQgdGhpcy5odWJTZXJ2aWNlLmFzeW5jUmVjb3ZlckFjdGl2ZVNlc3Npb24oKTtcblx0XHRcdFx0aWYgKGh1YlNlc3Npb24pIHtcblx0XHRcdFx0XHQvLyBBc3N1bWUgY29udGludW91cyBydW5uaW5nIGZvciBub3cgYXMgSHViIGRvZXNuJ3QgdHJhY2sgcGF1c2VzXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogaHViU2Vzc2lvbi5uYW1lIHx8IFwiRm9jdXMgU2Vzc2lvblwiLFxuXHRcdFx0XHRcdFx0ZHVyYXRpb246IGh1YlNlc3Npb24uZHVyYXRpb24gKiA2MCxcblx0XHRcdFx0XHRcdHN0YXJ0VGltZTogaHViU2Vzc2lvbi5zdGFydFRpbWUsXG5cdFx0XHRcdFx0XHRzdGF0dXM6IFwicnVubmluZ1wiLFxuXHRcdFx0XHRcdFx0ZWxhcHNlZDogMCxcblx0XHRcdFx0XHRcdGxhc3RSZXN1bWVkOiBodWJTZXNzaW9uLnN0YXJ0VGltZSxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiW0ZvY3VzU2Vzc2lvbnNdIFJlc3RvcmVkIHNlc3Npb24gZnJvbSBIdWI6XCIsIHRoaXMuYWN0aXZlU2Vzc2lvbik7XG5cdFx0XHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblx0XHR9XG5cdH1cblxuXHRzZXRDdXN0b21EdXJhdGlvbihtaW51dGVzOiBudW1iZXIpIHtcblx0XHR0aGlzLmN1c3RvbUR1cmF0aW9uID0gTWF0aC5tYXgoMSwgbWludXRlcyk7IC8vIE1pbmltdW0gMSBtaW51dGVcblx0XHR0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuXHR9XG5cblx0Z2V0Q3VzdG9tRHVyYXRpb24oKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5jdXN0b21EdXJhdGlvbjtcblx0fVxuXG5cdGFzeW5jIHN0YXJ0U2Vzc2lvbihuYW1lOiBzdHJpbmcsIGR1cmF0aW9uU2Vjb25kcz86IG51bWJlcikge1xuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdFx0bGV0IGR1cmF0aW9uID0gZHVyYXRpb25TZWNvbmRzO1xuXG5cdFx0aWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIERldGVybWluZSBkZWZhdWx0IGR1cmF0aW9uIGJhc2VkIG9uIG5hbWUgb3IgZGVmYXVsdCB0byBmb2N1cyBkdXJhdGlvblxuXHRcdFx0aWYgKG5hbWUgPT09IFwiU2hvcnQgQnJlYWtcIikge1xuXHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMuc2V0dGluZ3Muc2hvcnRCcmVha0R1cmF0aW9uICogNjA7XG5cdFx0XHR9IGVsc2UgaWYgKG5hbWUgPT09IFwiTG9uZyBCcmVha1wiKSB7XG5cdFx0XHRcdGR1cmF0aW9uID0gdGhpcy5zZXR0aW5ncy5sb25nQnJlYWtEdXJhdGlvbiAqIDYwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZHVyYXRpb24gPSB0aGlzLmN1c3RvbUR1cmF0aW9uICogNjA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5hY3RpdmVTZXNzaW9uID0ge1xuXHRcdFx0bmFtZSxcblx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdHN0YXJ0VGltZTogbm93LFxuXHRcdFx0c3RhdHVzOiBcInJ1bm5pbmdcIixcblx0XHRcdGVsYXBzZWQ6IDAsXG5cdFx0XHRsYXN0UmVzdW1lZDogbm93LFxuXHRcdH07XG5cblx0XHQvLyBTeW5jIHdpdGggSHViXG5cdFx0aWYgKHRoaXMuaHViU2VydmljZS5pc0F2YWlsYWJsZSgpKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmh1YlNlcnZpY2Uuc3RhcnRTZXNzaW9uKG5hbWUsIE1hdGguY2VpbChkdXJhdGlvbiAvIDYwKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5hdWRpb1NlcnZpY2UucGxheVN0YXJ0KCk7XG5cdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdHBhdXNlU2Vzc2lvbigpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uICYmIHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMgPT09IFwicnVubmluZ1wiKSB7XG5cdFx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXHRcdFx0Y29uc3QgZWxhcHNlZFNpbmNlTGFzdFJlc3VtZSA9IE1hdGguZmxvb3IoKG5vdyAtIHRoaXMuYWN0aXZlU2Vzc2lvbi5sYXN0UmVzdW1lZCkgLyAxMDAwKTtcblx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5lbGFwc2VkICs9IGVsYXBzZWRTaW5jZUxhc3RSZXN1bWU7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID0gXCJwYXVzZWRcIjtcblx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXlQYXVzZSgpO1xuXHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblxuXHRcdFx0Ly8gTm90ZTogSHViIGRvZXNuJ3Qgc3VwcG9ydCBwYXVzZSB5ZXQsIHNvIHdlIGRvbid0IG5vdGlmeSBpdC5cblx0XHR9XG5cdH1cblxuXHRyZXN1bWVTZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24gJiYgdGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9PT0gXCJwYXVzZWRcIikge1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9IFwicnVubmluZ1wiO1xuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLmxhc3RSZXN1bWVkID0gRGF0ZS5ub3coKTtcblx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnBsYXlSZXN1bWUoKTtcblx0XHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgc3RvcFNlc3Npb24oKSB7XG5cdFx0dGhpcy5hdWRpb1NlcnZpY2Uuc3RvcEFsYXJtKCk7XG5cdFx0dGhpcy5hY3RpdmVTZXNzaW9uID0gbnVsbDtcblxuXHRcdC8vIFN5bmMgd2l0aCBIdWJcblx0XHRpZiAodGhpcy5odWJTZXJ2aWNlLmlzQXZhaWxhYmxlKCkpIHtcblx0XHRcdGF3YWl0IHRoaXMuaHViU2VydmljZS5lbmRTZXNzaW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblx0fVxuXG5cdHJlc2V0U2Vzc2lvbigpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uKSB7XG5cdFx0XHR0aGlzLmF1ZGlvU2VydmljZS5zdG9wQWxhcm0oKTtcblx0XHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uZWxhcHNlZCA9IDA7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24ubGFzdFJlc3VtZWQgPSBub3c7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhcnRUaW1lID0gbm93OyAvLyBUZWNobmljYWxseSBhIG5ldyBzdGFydFxuXHRcdFx0dGhpcy5hY3RpdmVTZXNzaW9uLnN0YXR1cyA9IFwicnVubmluZ1wiO1xuXHRcdFx0dGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcblxuXHRcdFx0Ly8gRm9yIEh1YiwgdGhpcyBpcyB0cmlja3kuIFdlIHNob3VsZCBwcm9iYWJseSByZXN0YXJ0IHRoZSBzZXNzaW9uIHRoZXJlIHRvbyBpZiB3ZSB3YW50IGFjY3VyYXRlIGxvZ3MuXG5cdFx0XHQvLyBCdXQgZm9yIG5vdyBrZWVwaW5nIGl0IHNpbXBsZS4gTWF5YmUgdG9kbyBmb3IgbGF0ZXIuXG5cdFx0fVxuXHR9XG5cblx0YWRkVGltZShtaW51dGVzOiBudW1iZXIpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uKSB7XG5cdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uZHVyYXRpb24gKz0gbWludXRlcyAqIDYwO1xuXG5cdFx0XHQvLyBJZiBhZGRpbmcgdGltZSB0byBhIGNvbXBsZXRlZCBzZXNzaW9uLCByZXN1bWUgaXRcblx0XHRcdGlmICh0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRcdHRoaXMuYXVkaW9TZXJ2aWNlLnN0b3BBbGFybSgpO1xuXHRcdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzID0gXCJydW5uaW5nXCI7XG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5sYXN0UmVzdW1lZCA9IERhdGUubm93KCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdFx0fVxuXHR9XG5cblx0dGljaygpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uICYmIHRoaXMuYWN0aXZlU2Vzc2lvbi5zdGF0dXMgPT09IFwicnVubmluZ1wiKSB7XG5cdFx0XHRjb25zdCByZW1haW5pbmcgPSBnZXRSZW1haW5pbmdUaW1lKFxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uZHVyYXRpb24sXG5cdFx0XHRcdHRoaXMuYWN0aXZlU2Vzc2lvbi5lbGFwc2VkLFxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24uc3RhdHVzLFxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNlc3Npb24ubGFzdFJlc3VtZWQsXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAocmVtYWluaW5nIDw9IDApIHtcblx0XHRcdFx0dGhpcy5jb21wbGV0ZVNlc3Npb24oKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNvbXBsZXRlU2Vzc2lvbigpIHtcblx0XHRpZiAodGhpcy5hY3RpdmVTZXNzaW9uKSB7XG5cdFx0XHQvLyBDYXB0dXJlIHNlc3Npb24gcmVmZXJlbmNlIGJlZm9yZSBudWxsaW5nIGl0ICh0aG91Z2ggd2UganVzdCBjaGFuZ2Ugc3RhdHVzIGhlcmUpXG5cdFx0XHRjb25zdCBzZXNzaW9uID0gdGhpcy5hY3RpdmVTZXNzaW9uO1xuXG5cdFx0XHRzZXNzaW9uLnN0YXR1cyA9IFwiY29tcGxldGVkXCI7XG5cdFx0XHR0aGlzLmF1ZGlvU2VydmljZS5wbGF5Q29tcGxldGUodHJ1ZSk7IC8vIExvb3A6IHRydWVcblx0XHRcdHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG5cdFx0XHR0aGlzLm5vdGlmeUNvbXBsZXRpb24oc2Vzc2lvbik7XG5cblx0XHRcdC8vIFN5bmMgd2l0aCBIdWIgLSBFbmQgdGhlIHNlc3Npb25cblx0XHRcdGlmICh0aGlzLmh1YlNlcnZpY2UuaXNBdmFpbGFibGUoKSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmh1YlNlcnZpY2UuZW5kU2Vzc2lvbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGdldEFjdGl2ZVNlc3Npb24oKTogRm9jdXNTZXNzaW9uIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlU2Vzc2lvbjtcblx0fVxuXG5cdGFzeW5jIGdldFNlc3Npb25IaXN0b3J5KGxpbWl0OiBudW1iZXIgPSAxMCk6IFByb21pc2U8YW55W10+IHtcblx0XHRpZiAoIXRoaXMuaHViU2VydmljZS5pc0F2YWlsYWJsZSgpKSByZXR1cm4gW107XG5cdFx0cmV0dXJuIHRoaXMuaHViU2VydmljZS5nZXRSZWNlbnRTZXNzaW9ucyhsaW1pdCk7XG5cdH1cblxuXHRvbkNoYW5nZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuXHRcdHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuXHR9XG5cblx0b25TZXNzaW9uQ29tcGxldGUoY2FsbGJhY2s6IChzZXNzaW9uOiBGb2N1c1Nlc3Npb24pID0+IHZvaWQpIHtcblx0XHR0aGlzLmNvbXBsZXRpb25MaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG5cdH1cblxuXHRyZW1vdmVMaXN0ZW5lcihjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuXHRcdHRoaXMubGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZmlsdGVyKChsKSA9PiBsICE9PSBjYWxsYmFjayk7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUxpc3RlbmVycygpIHtcblx0XHR0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XG5cdH1cblxuXHRwcml2YXRlIG5vdGlmeUNvbXBsZXRpb24oc2Vzc2lvbjogRm9jdXNTZXNzaW9uKSB7XG5cdFx0dGhpcy5jb21wbGV0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhzZXNzaW9uKSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgbW91bnQsIHVubW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5pbXBvcnQgeyBTZXNzaW9uTWFuYWdlciB9IGZyb20gXCJAL3NlcnZpY2VzL3Nlc3Npb24tbWFuYWdlclwiO1xuaW1wb3J0IEZvY3VzU2Vzc2lvblZpZXdDb21wb25lbnQgZnJvbSBcIi4vRm9jdXNTZXNzaW9uVmlldy5zdmVsdGVcIjtcblxuZXhwb3J0IGNvbnN0IEZPQ1VTX1NFU1NJT05fVklFV19UWVBFID0gXCJmb2N1cy1zZXNzaW9uLXZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIEZvY3VzU2Vzc2lvblZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdHByaXZhdGUgc2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyO1xuXHRwcml2YXRlIHBsdWdpblZlcnNpb246IHN0cmluZztcblx0Y29tcG9uZW50OiBSZXR1cm5UeXBlPHR5cGVvZiBtb3VudD4gfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBzZXNzaW9uTWFuYWdlcjogU2Vzc2lvbk1hbmFnZXIsIHBsdWdpblZlcnNpb246IHN0cmluZykge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIgPSBzZXNzaW9uTWFuYWdlcjtcblx0XHR0aGlzLnBsdWdpblZlcnNpb24gPSBwbHVnaW5WZXJzaW9uO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIEZPQ1VTX1NFU1NJT05fVklFV19UWVBFO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKSB7XG5cdFx0cmV0dXJuIFwiRm9jdXMgc2Vzc2lvbnNcIjtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRlbnRFbDtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoXCJmb2N1cy1zZXNzaW9uLXZpZXdcIik7XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuXHRcdHRoaXMuY29tcG9uZW50ID0gbW91bnQoRm9jdXNTZXNzaW9uVmlld0NvbXBvbmVudCBhcyBhbnksIHtcblx0XHRcdHRhcmdldDogY29udGFpbmVyLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpIHtcblx0XHRpZiAodGhpcy5jb21wb25lbnQpIHtcblx0XHRcdHZvaWQgdW5tb3VudCh0aGlzLmNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiY29uc3Qgbm9kZV9lbnYgPSBnbG9iYWxUaGlzLnByb2Nlc3M/LmVudj8uTk9ERV9FTlY7XG5leHBvcnQgZGVmYXVsdCBub2RlX2VudiAmJiAhbm9kZV9lbnYudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdwcm9kJyk7XG4iLCAiLy8gU3RvcmUgdGhlIHJlZmVyZW5jZXMgdG8gZ2xvYmFscyBpbiBjYXNlIHNvbWVvbmUgdHJpZXMgdG8gbW9ua2V5IHBhdGNoIHRoZXNlLCBjYXVzaW5nIHRoZSBiZWxvd1xuLy8gdG8gZGUtb3B0ICh0aGlzIG9jY3VycyBvZnRlbiB3aGVuIHVzaW5nIHBvcHVsYXIgZXh0ZW5zaW9ucykuXG5leHBvcnQgdmFyIGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmV4cG9ydCB2YXIgaW5kZXhfb2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbmV4cG9ydCB2YXIgYXJyYXlfZnJvbSA9IEFycmF5LmZyb207XG5leHBvcnQgdmFyIG9iamVjdF9rZXlzID0gT2JqZWN0LmtleXM7XG5leHBvcnQgdmFyIGRlZmluZV9wcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbmV4cG9ydCB2YXIgZ2V0X2Rlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuZXhwb3J0IHZhciBnZXRfZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbmV4cG9ydCB2YXIgb2JqZWN0X3Byb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5leHBvcnQgdmFyIGFycmF5X3Byb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcbmV4cG9ydCB2YXIgZ2V0X3Byb3RvdHlwZV9vZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbmV4cG9ydCB2YXIgaXNfZXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHRoaW5nXG4gKiBAcmV0dXJucyB7dGhpbmcgaXMgRnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuXHRyZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG5cbi8qKlxuICogQHRlbXBsYXRlIFtUPWFueV1cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuXHRyZXR1cm4gdHlwZW9mIHZhbHVlPy50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiogQHBhcmFtIHtGdW5jdGlvbn0gZm4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW4oZm4pIHtcblx0cmV0dXJuIGZuKCk7XG59XG5cbi8qKiBAcGFyYW0ge0FycmF5PCgpID0+IHZvaWQ+fSBhcnIgKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGFycikge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdGFycltpXSgpO1xuXHR9XG59XG5cbi8qKlxuICogVE9ETyByZXBsYWNlIHdpdGggUHJvbWlzZS53aXRoUmVzb2x2ZXJzIG9uY2Ugc3VwcG9ydGVkIHdpZGVseSBlbm91Z2hcbiAqIEB0ZW1wbGF0ZSBbVD12b2lkXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmZXJyZWQoKSB7XG5cdC8qKiBAdHlwZSB7KHZhbHVlOiBUKSA9PiB2b2lkfSAqL1xuXHR2YXIgcmVzb2x2ZTtcblxuXHQvKiogQHR5cGUgeyhyZWFzb246IGFueSkgPT4gdm9pZH0gKi9cblx0dmFyIHJlamVjdDtcblxuXHQvKiogQHR5cGUge1Byb21pc2U8VD59ICovXG5cdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG5cdFx0cmVzb2x2ZSA9IHJlcztcblx0XHRyZWplY3QgPSByZWo7XG5cdH0pO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH07XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEBwYXJhbSB7ViB8ICgoKSA9PiBWKX0gZmFsbGJhY2tcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2xhenldXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZhbGxiYWNrKHZhbHVlLCBmYWxsYmFjaywgbGF6eSA9IGZhbHNlKSB7XG5cdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkXG5cdFx0PyBsYXp5XG5cdFx0XHQ/IC8qKiBAdHlwZSB7KCkgPT4gVn0gKi8gKGZhbGxiYWNrKSgpXG5cdFx0XHQ6IC8qKiBAdHlwZSB7Vn0gKi8gKGZhbGxiYWNrKVxuXHRcdDogdmFsdWU7XG59XG5cbi8qKlxuICogV2hlbiBlbmNvdW50ZXJpbmcgYSBzaXR1YXRpb24gbGlrZSBgbGV0IFthLCBiLCBjXSA9ICRkZXJpdmVkKGJsYWgoKSlgLFxuICogd2UgbmVlZCB0byBzdGFzaCBhbiBpbnRlcm1lZGlhdGUgdmFsdWUgdGhhdCBgYWAsIGBiYCwgYW5kIGBjYCBkZXJpdmVcbiAqIGZyb20sIGluIGNhc2UgaXQncyBhbiBpdGVyYWJsZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgSXRlcmFibGU8VD59IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW25dXG4gKiBAcmV0dXJucyB7QXJyYXk8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19hcnJheSh2YWx1ZSwgbikge1xuXHQvLyByZXR1cm4gYXJyYXlzIHVuY2hhbmdlZFxuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHQvLyBpZiB2YWx1ZSBpcyBub3QgaXRlcmFibGUsIG9yIGBuYCBpcyB1bnNwZWNpZmllZCAoaW5kaWNhdGVzIGEgcmVzdFxuXHQvLyBlbGVtZW50LCB3aGljaCBtZWFucyB3ZSdyZSBub3QgY29uY2VybmVkIGFib3V0IHVuYm91bmRlZCBpdGVyYWJsZXMpXG5cdC8vIGNvbnZlcnQgdG8gYW4gYXJyYXkgd2l0aCBgQXJyYXkuZnJvbWBcblx0aWYgKG4gPT09IHVuZGVmaW5lZCB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWx1ZSkpIHtcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG5cdH1cblxuXHQvLyBvdGhlcndpc2UsIHBvcHVsYXRlIGFuIGFycmF5IHdpdGggYG5gIHZhbHVlc1xuXG5cdC8qKiBAdHlwZSB7VFtdfSAqL1xuXHRjb25zdCBhcnJheSA9IFtdO1xuXG5cdGZvciAoY29uc3QgZWxlbWVudCBvZiB2YWx1ZSkge1xuXHRcdGFycmF5LnB1c2goZWxlbWVudCk7XG5cdFx0aWYgKGFycmF5Lmxlbmd0aCA9PT0gbikgYnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gYXJyYXk7XG59XG4iLCAiLy8gR2VuZXJhbCBmbGFnc1xuZXhwb3J0IGNvbnN0IERFUklWRUQgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgRUZGRUNUID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFJFTkRFUl9FRkZFQ1QgPSAxIDw8IDM7XG4vKipcbiAqIEFuIGVmZmVjdCB0aGF0IGRvZXMgbm90IGRlc3Ryb3kgaXRzIGNoaWxkIGVmZmVjdHMgd2hlbiBpdCByZXJ1bnMuXG4gKiBSdW5zIGFzIHBhcnQgb2YgcmVuZGVyIGVmZmVjdHMsIGkuZS4gbm90IGVhZ2VybHkgYXMgcGFydCBvZiB0cmVlIHRyYXZlcnNhbCBvciBlZmZlY3QgZmx1c2hpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBNQU5BR0VEX0VGRkVDVCA9IDEgPDwgMjQ7XG4vKipcbiAqIEFuIGVmZmVjdCB0aGF0IGRvZXMgbm90IGRlc3Ryb3kgaXRzIGNoaWxkIGVmZmVjdHMgd2hlbiBpdCByZXJ1bnMgKGxpa2UgTUFOQUdFRF9FRkZFQ1QpLlxuICogUnVucyBlYWdlcmx5IGFzIHBhcnQgb2YgdHJlZSB0cmF2ZXJzYWwgb3IgZWZmZWN0IGZsdXNoaW5nLlxuICovXG5leHBvcnQgY29uc3QgQkxPQ0tfRUZGRUNUID0gMSA8PCA0O1xuZXhwb3J0IGNvbnN0IEJSQU5DSF9FRkZFQ1QgPSAxIDw8IDU7XG5leHBvcnQgY29uc3QgUk9PVF9FRkZFQ1QgPSAxIDw8IDY7XG5leHBvcnQgY29uc3QgQk9VTkRBUllfRUZGRUNUID0gMSA8PCA3O1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBhIHJlYWN0aW9uIGlzIGNvbm5lY3RlZCB0byBhbiBlZmZlY3Qgcm9vdCBcdTIwMTQgZWl0aGVyIGl0IGlzIGFuIGVmZmVjdCxcbiAqIG9yIGl0IGlzIGEgZGVyaXZlZCB0aGF0IGlzIGRlcGVuZGVkIG9uIGJ5IGF0IGxlYXN0IG9uZSBlZmZlY3QuIElmIGEgZGVyaXZlZCBoYXNcbiAqIG5vIGRlcGVuZGVudHMsIHdlIGNhbiBkaXNjb25uZWN0IGl0IGZyb20gdGhlIGdyYXBoLCBhbGxvd2luZyBpdCB0byBlaXRoZXIgYmVcbiAqIEdDJ2Qgb3IgcmVjb25uZWN0ZWQgbGF0ZXIgaWYgYW4gZWZmZWN0IGNvbWVzIHRvIGRlcGVuZCBvbiBpdCBhZ2FpblxuICovXG5leHBvcnQgY29uc3QgQ09OTkVDVEVEID0gMSA8PCA5O1xuZXhwb3J0IGNvbnN0IENMRUFOID0gMSA8PCAxMDtcbmV4cG9ydCBjb25zdCBESVJUWSA9IDEgPDwgMTE7XG5leHBvcnQgY29uc3QgTUFZQkVfRElSVFkgPSAxIDw8IDEyO1xuZXhwb3J0IGNvbnN0IElORVJUID0gMSA8PCAxMztcbmV4cG9ydCBjb25zdCBERVNUUk9ZRUQgPSAxIDw8IDE0O1xuXG4vLyBGbGFncyBleGNsdXNpdmUgdG8gZWZmZWN0c1xuLyoqIFNldCBvbmNlIGFuIGVmZmVjdCB0aGF0IHNob3VsZCBydW4gc3luY2hyb25vdXNseSBoYXMgcnVuICovXG5leHBvcnQgY29uc3QgRUZGRUNUX1JBTiA9IDEgPDwgMTU7XG4vKipcbiAqICdUcmFuc3BhcmVudCcgZWZmZWN0cyBkbyBub3QgY3JlYXRlIGEgdHJhbnNpdGlvbiBib3VuZGFyeS5cbiAqIFRoaXMgaXMgb24gYSBibG9jayBlZmZlY3QgOTklIG9mIHRoZSB0aW1lIGJ1dCBtYXkgYWxzbyBiZSBvbiBhIGJyYW5jaCBlZmZlY3QgaWYgaXRzIHBhcmVudCBibG9jayBlZmZlY3Qgd2FzIHBydW5lZFxuICovXG5leHBvcnQgY29uc3QgRUZGRUNUX1RSQU5TUEFSRU5UID0gMSA8PCAxNjtcbmV4cG9ydCBjb25zdCBFQUdFUl9FRkZFQ1QgPSAxIDw8IDE3O1xuZXhwb3J0IGNvbnN0IEhFQURfRUZGRUNUID0gMSA8PCAxODtcbmV4cG9ydCBjb25zdCBFRkZFQ1RfUFJFU0VSVkVEID0gMSA8PCAxOTtcbmV4cG9ydCBjb25zdCBVU0VSX0VGRkVDVCA9IDEgPDwgMjA7XG5leHBvcnQgY29uc3QgRUZGRUNUX09GRlNDUkVFTiA9IDEgPDwgMjU7XG5cbi8vIEZsYWdzIGV4Y2x1c2l2ZSB0byBkZXJpdmVkc1xuLyoqXG4gKiBUZWxscyB0aGF0IHdlIG1hcmtlZCB0aGlzIGRlcml2ZWQgYW5kIGl0cyByZWFjdGlvbnMgYXMgdmlzaXRlZCBkdXJpbmcgdGhlIFwibWFyayBhcyAobWF5YmUpIGRpcnR5XCItcGhhc2UuXG4gKiBXaWxsIGJlIGxpZnRlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHRoZSBkZXJpdmVkIGFuZCBkdXJpbmcgY2hlY2tpbmcgaXRzIGRpcnR5IHN0YXRlIChib3RoIGFyZSBuZWNlc3NhcnlcbiAqIGJlY2F1c2UgYSBkZXJpdmVkIG1pZ2h0IGJlIGNoZWNrZWQgYnV0IG5vdCBleGVjdXRlZCkuXG4gKi9cbmV4cG9ydCBjb25zdCBXQVNfTUFSS0VEID0gMSA8PCAxNTtcblxuLy8gRmxhZ3MgdXNlZCBmb3IgYXN5bmNcbmV4cG9ydCBjb25zdCBSRUFDVElPTl9JU19VUERBVElORyA9IDEgPDwgMjE7XG5leHBvcnQgY29uc3QgQVNZTkMgPSAxIDw8IDIyO1xuXG5leHBvcnQgY29uc3QgRVJST1JfVkFMVUUgPSAxIDw8IDIzO1xuXG5leHBvcnQgY29uc3QgU1RBVEVfU1lNQk9MID0gU3ltYm9sKCckc3RhdGUnKTtcbmV4cG9ydCBjb25zdCBMRUdBQ1lfUFJPUFMgPSBTeW1ib2woJ2xlZ2FjeSBwcm9wcycpO1xuZXhwb3J0IGNvbnN0IExPQURJTkdfQVRUUl9TWU1CT0wgPSBTeW1ib2woJycpO1xuZXhwb3J0IGNvbnN0IFBST1hZX1BBVEhfU1lNQk9MID0gU3ltYm9sKCdwcm94eSBwYXRoJyk7XG5cbi8qKiBhbGxvdyB1c2VycyB0byBpZ25vcmUgYWJvcnRlZCBzaWduYWwgZXJyb3JzIGlmIGByZWFzb24ubmFtZSA9PT0gJ1N0YWxlUmVhY3Rpb25FcnJvcmAgKi9cbmV4cG9ydCBjb25zdCBTVEFMRV9SRUFDVElPTiA9IG5ldyAoY2xhc3MgU3RhbGVSZWFjdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRuYW1lID0gJ1N0YWxlUmVhY3Rpb25FcnJvcic7XG5cdG1lc3NhZ2UgPSAnVGhlIHJlYWN0aW9uIHRoYXQgY2FsbGVkIGBnZXRBYm9ydFNpZ25hbCgpYCB3YXMgcmUtcnVuIG9yIGRlc3Ryb3llZCc7XG59KSgpO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9OT0RFID0gMTtcbmV4cG9ydCBjb25zdCBURVhUX05PREUgPSAzO1xuZXhwb3J0IGNvbnN0IENPTU1FTlRfTk9ERSA9IDg7XG5leHBvcnQgY29uc3QgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSA9IDExO1xuIiwgIi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgc2NyaXB0cy9wcm9jZXNzLW1lc3NhZ2VzL2luZGV4LmpzLiBEbyBub3QgZWRpdCEgKi9cblxuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbi8qKlxuICogQ2Fubm90IHVzZSBgJW5hbWUlKC4uLilgIHVubGVzcyB0aGUgYGV4cGVyaW1lbnRhbC5hc3luY2AgY29tcGlsZXIgb3B0aW9uIGlzIGB0cnVlYFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnRhbF9hc3luY19yZXF1aXJlZChuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkXFxuQ2Fubm90IHVzZSBcXGAke25hbWV9KC4uLilcXGAgdW5sZXNzIHRoZSBcXGBleHBlcmltZW50YWwuYXN5bmNcXGAgY29tcGlsZXIgb3B0aW9uIGlzIFxcYHRydWVcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9leHBlcmltZW50YWxfYXN5bmNfcmVxdWlyZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgdXNlIGB7QHJlbmRlciBjaGlsZHJlbiguLi4pfWAgaWYgdGhlIHBhcmVudCBjb21wb25lbnQgdXNlcyBgbGV0OmAgZGlyZWN0aXZlcy4gQ29uc2lkZXIgdXNpbmcgYSBuYW1lZCBzbmlwcGV0IGluc3RlYWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRfZGVmYXVsdF9zbmlwcGV0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGludmFsaWRfZGVmYXVsdF9zbmlwcGV0XFxuQ2Fubm90IHVzZSBcXGB7QHJlbmRlciBjaGlsZHJlbiguLi4pfVxcYCBpZiB0aGUgcGFyZW50IGNvbXBvbmVudCB1c2VzIFxcYGxldDpcXGAgZGlyZWN0aXZlcy4gQ29uc2lkZXIgdXNpbmcgYSBuYW1lZCBzbmlwcGV0IGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX2RlZmF1bHRfc25pcHBldGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX2RlZmF1bHRfc25pcHBldGApO1xuXHR9XG59XG5cbi8qKlxuICogQSBzbmlwcGV0IGZ1bmN0aW9uIHdhcyBwYXNzZWQgaW52YWxpZCBhcmd1bWVudHMuIFNuaXBwZXRzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZCB2aWEgYHtAcmVuZGVyIC4uLn1gXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGludmFsaWRfc25pcHBldF9hcmd1bWVudHNcXG5BIHNuaXBwZXQgZnVuY3Rpb24gd2FzIHBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cy4gU25pcHBldHMgc2hvdWxkIG9ubHkgYmUgaW5zdGFudGlhdGVkIHZpYSBcXGB7QHJlbmRlciAuLi59XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50c2ApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlKC4uLilgIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudChuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgbGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50XFxuXFxgJHtuYW1lfSguLi4pXFxgIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvblxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnRgKTtcblx0fVxufVxuXG4vKipcbiAqIENvbnRleHQgd2FzIG5vdCBzZXQgaW4gYSBwYXJlbnQgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXNzaW5nX2NvbnRleHQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgbWlzc2luZ19jb250ZXh0XFxuQ29udGV4dCB3YXMgbm90IHNldCBpbiBhIHBhcmVudCBjb21wb25lbnRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9taXNzaW5nX2NvbnRleHRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbWlzc2luZ19jb250ZXh0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgYHtAcmVuZGVyfWAgYmxvY2suIFRoaXMgd291bGQgY2F1c2UgdGhlIHNuaXBwZXQgY29kZSB0byBiZSBzdHJpbmdpZmllZCBpbnN0ZWFkIG9mIGl0cyBjb250ZW50IGJlaW5nIHJlbmRlcmVkIHRvIHRoZSBET00uIFRvIGZpeCB0aGlzLCBjaGFuZ2UgYHtzbmlwcGV0fWAgdG8gYHtAcmVuZGVyIHNuaXBwZXQoKX1gLlxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc25pcHBldF93aXRob3V0X3JlbmRlcl90YWcoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc25pcHBldF93aXRob3V0X3JlbmRlcl90YWdcXG5BdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgXFxge0ByZW5kZXJ9XFxgIGJsb2NrLiBUaGlzIHdvdWxkIGNhdXNlIHRoZSBzbmlwcGV0IGNvZGUgdG8gYmUgc3RyaW5naWZpZWQgaW5zdGVhZCBvZiBpdHMgY29udGVudCBiZWluZyByZW5kZXJlZCB0byB0aGUgRE9NLiBUbyBmaXggdGhpcywgY2hhbmdlIFxcYHtzbmlwcGV0fVxcYCB0byBcXGB7QHJlbmRlciBzbmlwcGV0KCl9XFxgLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlYCBpcyBub3QgYSBzdG9yZSB3aXRoIGEgYHN1YnNjcmliZWAgbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfaW52YWxpZF9zaGFwZShuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RvcmVfaW52YWxpZF9zaGFwZVxcblxcYCR7bmFtZX1cXGAgaXMgbm90IGEgc3RvcmUgd2l0aCBhIFxcYHN1YnNjcmliZVxcYCBtZXRob2RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdG9yZV9pbnZhbGlkX3NoYXBlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0b3JlX2ludmFsaWRfc2hhcGVgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgdGhpc2AgcHJvcCBvbiBgPHN2ZWx0ZTplbGVtZW50PmAgbXVzdCBiZSBhIHN0cmluZywgaWYgZGVmaW5lZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZVxcblRoZSBcXGB0aGlzXFxgIHByb3Agb24gXFxgPHN2ZWx0ZTplbGVtZW50PlxcYCBtdXN0IGJlIGEgc3RyaW5nLCBpZiBkZWZpbmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZWApO1xuXHR9XG59IiwgIi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgc2NyaXB0cy9wcm9jZXNzLW1lc3NhZ2VzL2luZGV4LmpzLiBEbyBub3QgZWRpdCEgKi9cblxuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbmV4cG9ydCAqICBmcm9tICcuLi9zaGFyZWQvZXJyb3JzLmpzJztcblxuLyoqXG4gKiBDYW5ub3QgY3JlYXRlIGEgYCRkZXJpdmVkKC4uLilgIHdpdGggYW4gYGF3YWl0YCBleHByZXNzaW9uIG91dHNpZGUgb2YgYW4gZWZmZWN0IHRyZWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jX2Rlcml2ZWRfb3JwaGFuKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGFzeW5jX2Rlcml2ZWRfb3JwaGFuXFxuQ2Fubm90IGNyZWF0ZSBhIFxcYCRkZXJpdmVkKC4uLilcXGAgd2l0aCBhbiBcXGBhd2FpdFxcYCBleHByZXNzaW9uIG91dHNpZGUgb2YgYW4gZWZmZWN0IHRyZWVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9hc3luY19kZXJpdmVkX29ycGhhbmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9hc3luY19kZXJpdmVkX29ycGhhbmApO1xuXHR9XG59XG5cbi8qKlxuICogVXNpbmcgYGJpbmQ6dmFsdWVgIHRvZ2V0aGVyIHdpdGggYSBjaGVja2JveCBpbnB1dCBpcyBub3QgYWxsb3dlZC4gVXNlIGBiaW5kOmNoZWNrZWRgIGluc3RlYWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZSgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBiaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWVcXG5Vc2luZyBcXGBiaW5kOnZhbHVlXFxgIHRvZ2V0aGVyIHdpdGggYSBjaGVja2JveCBpbnB1dCBpcyBub3QgYWxsb3dlZC4gVXNlIFxcYGJpbmQ6Y2hlY2tlZFxcYCBpbnN0ZWFkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZWApO1xuXHR9XG59XG5cbi8qKlxuICogQ29tcG9uZW50ICVjb21wb25lbnQlIGhhcyBhbiBleHBvcnQgbmFtZWQgYCVrZXklYCB0aGF0IGEgY29uc3VtZXIgY29tcG9uZW50IGlzIHRyeWluZyB0byBhY2Nlc3MgdXNpbmcgYGJpbmQ6JWtleSVgLCB3aGljaCBpcyBkaXNhbGxvd2VkLiBJbnN0ZWFkLCB1c2UgYGJpbmQ6dGhpc2AgKGUuZy4gYDwlbmFtZSUgYmluZDp0aGlzPXtjb21wb25lbnR9IC8+YCkgYW5kIHRoZW4gYWNjZXNzIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYm91bmQgY29tcG9uZW50IGluc3RhbmNlIChlLmcuIGBjb21wb25lbnQuJWtleSVgKVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfaW52YWxpZF9leHBvcnQoY29tcG9uZW50LCBrZXksIG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBiaW5kX2ludmFsaWRfZXhwb3J0XFxuQ29tcG9uZW50ICR7Y29tcG9uZW50fSBoYXMgYW4gZXhwb3J0IG5hbWVkIFxcYCR7a2V5fVxcYCB0aGF0IGEgY29uc3VtZXIgY29tcG9uZW50IGlzIHRyeWluZyB0byBhY2Nlc3MgdXNpbmcgXFxgYmluZDoke2tleX1cXGAsIHdoaWNoIGlzIGRpc2FsbG93ZWQuIEluc3RlYWQsIHVzZSBcXGBiaW5kOnRoaXNcXGAgKGUuZy4gXFxgPCR7bmFtZX0gYmluZDp0aGlzPXtjb21wb25lbnR9IC8+XFxgKSBhbmQgdGhlbiBhY2Nlc3MgdGhlIHByb3BlcnR5IG9uIHRoZSBib3VuZCBjb21wb25lbnQgaW5zdGFuY2UgKGUuZy4gXFxgY29tcG9uZW50LiR7a2V5fVxcYClcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX2ludmFsaWRfZXhwb3J0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfaW52YWxpZF9leHBvcnRgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgY29tcG9uZW50IGlzIGF0dGVtcHRpbmcgdG8gYmluZCB0byBhIG5vbi1iaW5kYWJsZSBwcm9wZXJ0eSBgJWtleSVgIGJlbG9uZ2luZyB0byAlY29tcG9uZW50JSAoaS5lLiBgPCVuYW1lJSBiaW5kOiVrZXklPXsuLi59PmApLiBUbyBtYXJrIGEgcHJvcGVydHkgYXMgYmluZGFibGU6IGBsZXQgeyAla2V5JSA9ICRiaW5kYWJsZSgpIH0gPSAkcHJvcHMoKWBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX25vdF9iaW5kYWJsZShrZXksIGNvbXBvbmVudCwgbmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGJpbmRfbm90X2JpbmRhYmxlXFxuQSBjb21wb25lbnQgaXMgYXR0ZW1wdGluZyB0byBiaW5kIHRvIGEgbm9uLWJpbmRhYmxlIHByb3BlcnR5IFxcYCR7a2V5fVxcYCBiZWxvbmdpbmcgdG8gJHtjb21wb25lbnR9IChpLmUuIFxcYDwke25hbWV9IGJpbmQ6JHtrZXl9PXsuLi59PlxcYCkuIFRvIG1hcmsgYSBwcm9wZXJ0eSBhcyBiaW5kYWJsZTogXFxgbGV0IHsgJHtrZXl9ID0gJGJpbmRhYmxlKCkgfSA9ICRwcm9wcygpXFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9ub3RfYmluZGFibGVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9ub3RfYmluZGFibGVgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbGxpbmcgYCVtZXRob2QlYCBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZSAob2YgJWNvbXBvbmVudCUpIGlzIG5vIGxvbmdlciB2YWxpZCBpbiBTdmVsdGUgNVxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X2FwaV9jaGFuZ2VkKG1ldGhvZCwgY29tcG9uZW50KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgY29tcG9uZW50X2FwaV9jaGFuZ2VkXFxuQ2FsbGluZyBcXGAke21ldGhvZH1cXGAgb24gYSBjb21wb25lbnQgaW5zdGFuY2UgKG9mICR7Y29tcG9uZW50fSkgaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29tcG9uZW50X2FwaV9jaGFuZ2VkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbXBvbmVudF9hcGlfY2hhbmdlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQXR0ZW1wdGVkIHRvIGluc3RhbnRpYXRlICVjb21wb25lbnQlIHdpdGggYG5ldyAlbmFtZSVgLCB3aGljaCBpcyBubyBsb25nZXIgdmFsaWQgaW4gU3ZlbHRlIDUuIElmIHRoaXMgY29tcG9uZW50IGlzIG5vdCB1bmRlciB5b3VyIGNvbnRyb2wsIHNldCB0aGUgYGNvbXBhdGliaWxpdHkuY29tcG9uZW50QXBpYCBjb21waWxlciBvcHRpb24gdG8gYDRgIHRvIGtlZXAgaXQgd29ya2luZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfYXBpX2ludmFsaWRfbmV3KGNvbXBvbmVudCwgbmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGNvbXBvbmVudF9hcGlfaW52YWxpZF9uZXdcXG5BdHRlbXB0ZWQgdG8gaW5zdGFudGlhdGUgJHtjb21wb25lbnR9IHdpdGggXFxgbmV3ICR7bmFtZX1cXGAsIHdoaWNoIGlzIG5vIGxvbmdlciB2YWxpZCBpbiBTdmVsdGUgNS4gSWYgdGhpcyBjb21wb25lbnQgaXMgbm90IHVuZGVyIHlvdXIgY29udHJvbCwgc2V0IHRoZSBcXGBjb21wYXRpYmlsaXR5LmNvbXBvbmVudEFwaVxcYCBjb21waWxlciBvcHRpb24gdG8gXFxgNFxcYCB0byBrZWVwIGl0IHdvcmtpbmcuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29tcG9uZW50X2FwaV9pbnZhbGlkX25ld2ApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2ludmFsaWRfbmV3YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBIGRlcml2ZWQgdmFsdWUgY2Fubm90IHJlZmVyZW5jZSBpdHNlbGYgcmVjdXJzaXZlbHlcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRfcmVmZXJlbmNlc19zZWxmKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGRlcml2ZWRfcmVmZXJlbmNlc19zZWxmXFxuQSBkZXJpdmVkIHZhbHVlIGNhbm5vdCByZWZlcmVuY2UgaXRzZWxmIHJlY3Vyc2l2ZWx5XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGZgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGZgKTtcblx0fVxufVxuXG4vKipcbiAqIEtleWVkIGVhY2ggYmxvY2sgaGFzIGR1cGxpY2F0ZSBrZXkgYCV2YWx1ZSVgIGF0IGluZGV4ZXMgJWElIGFuZCAlYiVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBbdmFsdWVdXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoX2tleV9kdXBsaWNhdGUoYSwgYiwgdmFsdWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlYWNoX2tleV9kdXBsaWNhdGVcXG4ke3ZhbHVlXG5cdFx0XHQ/IGBLZXllZCBlYWNoIGJsb2NrIGhhcyBkdXBsaWNhdGUga2V5IFxcYCR7dmFsdWV9XFxgIGF0IGluZGV4ZXMgJHthfSBhbmQgJHtifWBcblx0XHRcdDogYEtleWVkIGVhY2ggYmxvY2sgaGFzIGR1cGxpY2F0ZSBrZXkgYXQgaW5kZXhlcyAke2F9IGFuZCAke2J9YH1cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lYWNoX2tleV9kdXBsaWNhdGVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWFjaF9rZXlfZHVwbGljYXRlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJXJ1bmUlYCBjYW5ub3QgYmUgdXNlZCBpbnNpZGUgYW4gZWZmZWN0IGNsZWFudXAgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfaW5fdGVhcmRvd24ocnVuZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF9pbl90ZWFyZG93blxcblxcYCR7cnVuZX1cXGAgY2Fubm90IGJlIHVzZWQgaW5zaWRlIGFuIGVmZmVjdCBjbGVhbnVwIGZ1bmN0aW9uXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3RlYXJkb3duYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9pbl90ZWFyZG93bmApO1xuXHR9XG59XG5cbi8qKlxuICogRWZmZWN0IGNhbm5vdCBiZSBjcmVhdGVkIGluc2lkZSBhIGAkZGVyaXZlZGAgdmFsdWUgdGhhdCB3YXMgbm90IGl0c2VsZiBjcmVhdGVkIGluc2lkZSBhbiBlZmZlY3RcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZFxcbkVmZmVjdCBjYW5ub3QgYmUgY3JlYXRlZCBpbnNpZGUgYSBcXGAkZGVyaXZlZFxcYCB2YWx1ZSB0aGF0IHdhcyBub3QgaXRzZWxmIGNyZWF0ZWQgaW5zaWRlIGFuIGVmZmVjdFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZGApO1xuXHR9XG59XG5cbi8qKlxuICogYCVydW5lJWAgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYW4gZWZmZWN0IChlLmcuIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24pXG4gKiBAcGFyYW0ge3N0cmluZ30gcnVuZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X29ycGhhbihydW5lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X29ycGhhblxcblxcYCR7cnVuZX1cXGAgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYW4gZWZmZWN0IChlLmcuIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24pXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X29ycGhhbmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3Rfb3JwaGFuYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJGVmZmVjdC5wZW5kaW5nKClgIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IG9yIGRlcml2ZWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb24oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvblxcblxcYCRlZmZlY3QucGVuZGluZygpXFxgIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IG9yIGRlcml2ZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb25gKTtcblx0fVxufVxuXG4vKipcbiAqIE1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkLiBUaGlzIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCBhbiBlZmZlY3QgcmVhZHMgYW5kIHdyaXRlcyB0aGUgc2FtZSBwaWVjZSBvZiBzdGF0ZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkXFxuTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IGFuIGVmZmVjdCByZWFkcyBhbmQgd3JpdGVzIHRoZSBzYW1lIHBpZWNlIG9mIHN0YXRlXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgdXNlIGBmbHVzaFN5bmNgIGluc2lkZSBhbiBlZmZlY3RcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3N5bmNfaW5fZWZmZWN0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGZsdXNoX3N5bmNfaW5fZWZmZWN0XFxuQ2Fubm90IHVzZSBcXGBmbHVzaFN5bmNcXGAgaW5zaWRlIGFuIGVmZmVjdFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZsdXNoX3N5bmNfaW5fZWZmZWN0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZsdXNoX3N5bmNfaW5fZWZmZWN0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgY29tbWl0IGEgZm9yayB0aGF0IHdhcyBhbHJlYWR5IGRpc2NhcmRlZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ya19kaXNjYXJkZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZm9ya19kaXNjYXJkZWRcXG5DYW5ub3QgY29tbWl0IGEgZm9yayB0aGF0IHdhcyBhbHJlYWR5IGRpc2NhcmRlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZvcmtfZGlzY2FyZGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZvcmtfZGlzY2FyZGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgY3JlYXRlIGEgZm9yayBpbnNpZGUgYW4gZWZmZWN0IG9yIHdoZW4gc3RhdGUgY2hhbmdlcyBhcmUgcGVuZGluZ1xuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ya190aW1pbmcoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZm9ya190aW1pbmdcXG5DYW5ub3QgY3JlYXRlIGEgZm9yayBpbnNpZGUgYW4gZWZmZWN0IG9yIHdoZW4gc3RhdGUgY2hhbmdlcyBhcmUgcGVuZGluZ1xcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZvcmtfdGltaW5nYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ZvcmtfdGltaW5nYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgZ2V0QWJvcnRTaWduYWwoKWAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGdldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvblxcblxcYGdldEFib3J0U2lnbmFsKClcXGAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2dldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9nZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb25gKTtcblx0fVxufVxuXG4vKipcbiAqIEV4cGVjdGVkIHRvIGZpbmQgYSBoeWRyYXRhYmxlIHdpdGgga2V5IGAla2V5JWAgZHVyaW5nIGh5ZHJhdGlvbiwgYnV0IGRpZCBub3QuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRhYmxlX21pc3NpbmdfYnV0X3JlcXVpcmVkKGtleSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGh5ZHJhdGFibGVfbWlzc2luZ19idXRfcmVxdWlyZWRcXG5FeHBlY3RlZCB0byBmaW5kIGEgaHlkcmF0YWJsZSB3aXRoIGtleSBcXGAke2tleX1cXGAgZHVyaW5nIGh5ZHJhdGlvbiwgYnV0IGRpZCBub3QuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9yZXF1aXJlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRhYmxlX21pc3NpbmdfYnV0X3JlcXVpcmVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBGYWlsZWQgdG8gaHlkcmF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9mYWlsZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgaHlkcmF0aW9uX2ZhaWxlZFxcbkZhaWxlZCB0byBoeWRyYXRlIHRoZSBhcHBsaWNhdGlvblxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9mYWlsZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2ZhaWxlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ291bGQgbm90IGB7QHJlbmRlcn1gIHNuaXBwZXQgZHVlIHRvIHRoZSBleHByZXNzaW9uIGJlaW5nIGBudWxsYCBvciBgdW5kZWZpbmVkYC4gQ29uc2lkZXIgdXNpbmcgb3B0aW9uYWwgY2hhaW5pbmcgYHtAcmVuZGVyIHNuaXBwZXQ/LigpfWBcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRfc25pcHBldCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBpbnZhbGlkX3NuaXBwZXRcXG5Db3VsZCBub3QgXFxge0ByZW5kZXJ9XFxgIHNuaXBwZXQgZHVlIHRvIHRoZSBleHByZXNzaW9uIGJlaW5nIFxcYG51bGxcXGAgb3IgXFxgdW5kZWZpbmVkXFxgLiBDb25zaWRlciB1c2luZyBvcHRpb25hbCBjaGFpbmluZyBcXGB7QHJlbmRlciBzbmlwcGV0Py4oKX1cXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3NuaXBwZXRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlKC4uLilgIGNhbm5vdCBiZSB1c2VkIGluIHJ1bmVzIG1vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWZlY3ljbGVfbGVnYWN5X29ubHkobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGxpZmVjeWNsZV9sZWdhY3lfb25seVxcblxcYCR7bmFtZX0oLi4uKVxcYCBjYW5ub3QgYmUgdXNlZCBpbiBydW5lcyBtb2RlXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX2xlZ2FjeV9vbmx5YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9sZWdhY3lfb25seWApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IGRvIGBiaW5kOiVrZXklPXt1bmRlZmluZWR9YCB3aGVuIGAla2V5JWAgaGFzIGEgZmFsbGJhY2sgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BzX2ludmFsaWRfdmFsdWUoa2V5KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgcHJvcHNfaW52YWxpZF92YWx1ZVxcbkNhbm5vdCBkbyBcXGBiaW5kOiR7a2V5fT17dW5kZWZpbmVkfVxcYCB3aGVuIFxcYCR7a2V5fVxcYCBoYXMgYSBmYWxsYmFjayB2YWx1ZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX2ludmFsaWRfdmFsdWVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcHJvcHNfaW52YWxpZF92YWx1ZWApO1xuXHR9XG59XG5cbi8qKlxuICogUmVzdCBlbGVtZW50IHByb3BlcnRpZXMgb2YgYCRwcm9wcygpYCBzdWNoIGFzIGAlcHJvcGVydHklYCBhcmUgcmVhZG9ubHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcHNfcmVzdF9yZWFkb25seShwcm9wZXJ0eSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHByb3BzX3Jlc3RfcmVhZG9ubHlcXG5SZXN0IGVsZW1lbnQgcHJvcGVydGllcyBvZiBcXGAkcHJvcHMoKVxcYCBzdWNoIGFzIFxcYCR7cHJvcGVydHl9XFxgIGFyZSByZWFkb25seVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX3Jlc3RfcmVhZG9ubHlgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcHJvcHNfcmVzdF9yZWFkb25seWApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGAlcnVuZSVgIHJ1bmUgaXMgb25seSBhdmFpbGFibGUgaW5zaWRlIGAuc3ZlbHRlYCBhbmQgYC5zdmVsdGUuanMvdHNgIGZpbGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gcnVuZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuZV9vdXRzaWRlX3N2ZWx0ZShydW5lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgcnVuZV9vdXRzaWRlX3N2ZWx0ZVxcblRoZSBcXGAke3J1bmV9XFxgIHJ1bmUgaXMgb25seSBhdmFpbGFibGUgaW5zaWRlIFxcYC5zdmVsdGVcXGAgYW5kIFxcYC5zdmVsdGUuanMvdHNcXGAgZmlsZXNcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9ydW5lX291dHNpZGVfc3ZlbHRlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3J1bmVfb3V0c2lkZV9zdmVsdGVgKTtcblx0fVxufVxuXG4vKipcbiAqIGBzZXRDb250ZXh0YCBtdXN0IGJlIGNhbGxlZCB3aGVuIGEgY29tcG9uZW50IGZpcnN0IGluaXRpYWxpemVzLCBub3QgaW4gYSBzdWJzZXF1ZW50IGVmZmVjdCBvciBhZnRlciBhbiBgYXdhaXRgIGV4cHJlc3Npb25cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jb250ZXh0X2FmdGVyX2luaXQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc2V0X2NvbnRleHRfYWZ0ZXJfaW5pdFxcblxcYHNldENvbnRleHRcXGAgbXVzdCBiZSBjYWxsZWQgd2hlbiBhIGNvbXBvbmVudCBmaXJzdCBpbml0aWFsaXplcywgbm90IGluIGEgc3Vic2VxdWVudCBlZmZlY3Qgb3IgYWZ0ZXIgYW4gXFxgYXdhaXRcXGAgZXhwcmVzc2lvblxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NldF9jb250ZXh0X2FmdGVyX2luaXRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc2V0X2NvbnRleHRfYWZ0ZXJfaW5pdGApO1xuXHR9XG59XG5cbi8qKlxuICogUHJvcGVydHkgZGVzY3JpcHRvcnMgZGVmaW5lZCBvbiBgJHN0YXRlYCBvYmplY3RzIG11c3QgY29udGFpbiBgdmFsdWVgIGFuZCBhbHdheXMgYmUgYGVudW1lcmFibGVgLCBgY29uZmlndXJhYmxlYCBhbmQgYHdyaXRhYmxlYC5cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkXFxuUHJvcGVydHkgZGVzY3JpcHRvcnMgZGVmaW5lZCBvbiBcXGAkc3RhdGVcXGAgb2JqZWN0cyBtdXN0IGNvbnRhaW4gXFxgdmFsdWVcXGAgYW5kIGFsd2F5cyBiZSBcXGBlbnVtZXJhYmxlXFxgLCBcXGBjb25maWd1cmFibGVcXGAgYW5kIFxcYHdyaXRhYmxlXFxgLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3Qgc2V0IHByb3RvdHlwZSBvZiBgJHN0YXRlYCBvYmplY3RcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlX3Byb3RvdHlwZV9maXhlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdGF0ZV9wcm90b3R5cGVfZml4ZWRcXG5DYW5ub3Qgc2V0IHByb3RvdHlwZSBvZiBcXGAkc3RhdGVcXGAgb2JqZWN0XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJvdG90eXBlX2ZpeGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3RvdHlwZV9maXhlZGApO1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRpbmcgc3RhdGUgaW5zaWRlIGAkZGVyaXZlZCguLi4pYCwgYCRpbnNwZWN0KC4uLilgIG9yIGEgdGVtcGxhdGUgZXhwcmVzc2lvbiBpcyBmb3JiaWRkZW4uIElmIHRoZSB2YWx1ZSBzaG91bGQgbm90IGJlIHJlYWN0aXZlLCBkZWNsYXJlIGl0IHdpdGhvdXQgYCRzdGF0ZWBcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlX3Vuc2FmZV9tdXRhdGlvbigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdGF0ZV91bnNhZmVfbXV0YXRpb25cXG5VcGRhdGluZyBzdGF0ZSBpbnNpZGUgXFxgJGRlcml2ZWQoLi4uKVxcYCwgXFxgJGluc3BlY3QoLi4uKVxcYCBvciBhIHRlbXBsYXRlIGV4cHJlc3Npb24gaXMgZm9yYmlkZGVuLiBJZiB0aGUgdmFsdWUgc2hvdWxkIG5vdCBiZSByZWFjdGl2ZSwgZGVjbGFyZSBpdCB3aXRob3V0IFxcYCRzdGF0ZVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Vuc2FmZV9tdXRhdGlvbmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV91bnNhZmVfbXV0YXRpb25gKTtcblx0fVxufVxuXG4vKipcbiAqIEEgYDxzdmVsdGU6Ym91bmRhcnk+YCBgcmVzZXRgIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgd2hpbGUgYW4gZXJyb3IgaXMgc3RpbGwgYmVpbmcgaGFuZGxlZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3IoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3JcXG5BIFxcYDxzdmVsdGU6Ym91bmRhcnk+XFxgIFxcYHJlc2V0XFxgIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgd2hpbGUgYW4gZXJyb3IgaXMgc3RpbGwgYmVpbmcgaGFuZGxlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9ib3VuZGFyeV9yZXNldF9vbmVycm9yYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9ib3VuZGFyeV9yZXNldF9vbmVycm9yYCk7XG5cdH1cbn0iLCAiZXhwb3J0IGNvbnN0IEVBQ0hfSVRFTV9SRUFDVElWRSA9IDE7XG5leHBvcnQgY29uc3QgRUFDSF9JTkRFWF9SRUFDVElWRSA9IDEgPDwgMTtcbi8qKiBTZWUgRWFjaEJsb2NrIGludGVyZmFjZSBtZXRhZGF0YS5pc19jb250cm9sbGVkIGZvciBhbiBleHBsYW5hdGlvbiB3aGF0IHRoaXMgaXMgKi9cbmV4cG9ydCBjb25zdCBFQUNIX0lTX0NPTlRST0xMRUQgPSAxIDw8IDI7XG5leHBvcnQgY29uc3QgRUFDSF9JU19BTklNQVRFRCA9IDEgPDwgMztcbmV4cG9ydCBjb25zdCBFQUNIX0lURU1fSU1NVVRBQkxFID0gMSA8PCA0O1xuXG5leHBvcnQgY29uc3QgUFJPUFNfSVNfSU1NVVRBQkxFID0gMTtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19SVU5FUyA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19VUERBVEVEID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0JJTkRBQkxFID0gMSA8PCAzO1xuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0xBWllfSU5JVElBTCA9IDEgPDwgNDtcblxuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fSU4gPSAxO1xuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fT1VUID0gMSA8PCAxO1xuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fR0xPQkFMID0gMSA8PCAyO1xuXG5leHBvcnQgY29uc3QgVEVNUExBVEVfRlJBR01FTlQgPSAxO1xuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfU1ZHID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1VTRV9NQVRITUwgPSAxIDw8IDM7XG5cbmV4cG9ydCBjb25zdCBIWURSQVRJT05fU1RBUlQgPSAnWyc7XG4vKiogdXNlZCB0byBpbmRpY2F0ZSB0aGF0IGFuIGB7OmVsc2V9Li4uYCBibG9jayB3YXMgcmVuZGVyZWQgKi9cbmV4cG9ydCBjb25zdCBIWURSQVRJT05fU1RBUlRfRUxTRSA9ICdbISc7XG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX0VORCA9ICddJztcbmV4cG9ydCBjb25zdCBIWURSQVRJT05fRVJST1IgPSB7fTtcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSVNfTkFNRVNQQUNFRCA9IDE7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9QUkVTRVJWRV9BVFRSSUJVVEVfQ0FTRSA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lTX0lOUFVUID0gMSA8PCAyO1xuXG5leHBvcnQgY29uc3QgVU5JTklUSUFMSVpFRCA9IFN5bWJvbCgpO1xuXG4vLyBEZXYtdGltZSBjb21wb25lbnQgcHJvcGVydGllc1xuZXhwb3J0IGNvbnN0IEZJTEVOQU1FID0gU3ltYm9sKCdmaWxlbmFtZScpO1xuZXhwb3J0IGNvbnN0IEhNUiA9IFN5bWJvbCgnaG1yJyk7XG5cbmV4cG9ydCBjb25zdCBOQU1FU1BBQ0VfSFRNTCA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmV4cG9ydCBjb25zdCBOQU1FU1BBQ0VfU1ZHID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmV4cG9ydCBjb25zdCBOQU1FU1BBQ0VfTUFUSE1MID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuXG4vLyB3ZSB1c2UgYSBsaXN0IG9mIGlnbm9yYWJsZSBydW50aW1lIHdhcm5pbmdzIGJlY2F1c2Ugbm90IGV2ZXJ5IHJ1bnRpbWUgd2FybmluZ1xuLy8gY2FuIGJlIGlnbm9yZWQgYW5kIHdlIHdhbnQgdG8ga2VlcCB0aGUgdmFsaWRhdGlvbiBmb3Igc3ZlbHRlLWlnbm9yZSBpbiBwbGFjZVxuZXhwb3J0IGNvbnN0IElHTk9SQUJMRV9SVU5USU1FX1dBUk5JTkdTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0J2F3YWl0X3dhdGVyZmFsbCcsXG5cdCdhd2FpdF9yZWFjdGl2aXR5X2xvc3MnLFxuXHQnc3RhdGVfc25hcHNob3RfdW5jbG9uZWFibGUnLFxuXHQnYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmUnLFxuXHQnaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkJyxcblx0J2h5ZHJhdGlvbl9odG1sX2NoYW5nZWQnLFxuXHQnb3duZXJzaGlwX2ludmFsaWRfYmluZGluZycsXG5cdCdvd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbidcbl0pO1xuXG4vKipcbiAqIFdoaXRlc3BhY2UgaW5zaWRlIG9uZSBvZiB0aGVzZSBlbGVtZW50cyB3aWxsIG5vdCByZXN1bHQgaW5cbiAqIGEgd2hpdGVzcGFjZSBub2RlIGJlaW5nIGNyZWF0ZWQgaW4gYW55IGNpcmN1bXN0YW5jZXMuIChUaGlzXG4gKiBsaXN0IGlzIGFsbW9zdCBjZXJ0YWlubHkgdmVyeSBpbmNvbXBsZXRlKVxuICogVE9ETyB0aGlzIGlzIGN1cnJlbnRseSB1bnVzZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRTX1dJVEhPVVRfVEVYVCA9IFsnYXVkaW8nLCAnZGF0YWxpc3QnLCAnZGwnLCAnb3B0Z3JvdXAnLCAnc2VsZWN0JywgJ3ZpZGVvJ107XG5cbmV4cG9ydCBjb25zdCBBVFRBQ0hNRU5UX0tFWSA9ICdAYXR0YWNoJztcbiIsICIvKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNjcmlwdHMvcHJvY2Vzcy1tZXNzYWdlcy9pbmRleC5qcy4gRG8gbm90IGVkaXQhICovXG5cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuXG52YXIgYm9sZCA9ICdmb250LXdlaWdodDogYm9sZCc7XG52YXIgbm9ybWFsID0gJ2ZvbnQtd2VpZ2h0OiBub3JtYWwnO1xuXG4vKipcbiAqIEFzc2lnbm1lbnQgdG8gYCVwcm9wZXJ0eSVgIHByb3BlcnR5ICglbG9jYXRpb24lKSB3aWxsIGV2YWx1YXRlIHRvIHRoZSByaWdodC1oYW5kIHNpZGUsIG5vdCB0aGUgdmFsdWUgb2YgYCVwcm9wZXJ0eSVgIGZvbGxvd2luZyB0aGUgYXNzaWdubWVudC4gVGhpcyBtYXkgcmVzdWx0IGluIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbm1lbnRfdmFsdWVfc3RhbGUocHJvcGVydHksIGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gYXNzaWdubWVudF92YWx1ZV9zdGFsZVxcbiVjQXNzaWdubWVudCB0byBcXGAke3Byb3BlcnR5fVxcYCBwcm9wZXJ0eSAoJHtsb2NhdGlvbn0pIHdpbGwgZXZhbHVhdGUgdG8gdGhlIHJpZ2h0LWhhbmQgc2lkZSwgbm90IHRoZSB2YWx1ZSBvZiBcXGAke3Byb3BlcnR5fVxcYCBmb2xsb3dpbmcgdGhlIGFzc2lnbm1lbnQuIFRoaXMgbWF5IHJlc3VsdCBpbiB1bmV4cGVjdGVkIGJlaGF2aW91ci5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9hc3NpZ25tZW50X3ZhbHVlX3N0YWxlYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2Fzc2lnbm1lbnRfdmFsdWVfc3RhbGVgKTtcblx0fVxufVxuXG4vKipcbiAqIERldGVjdGVkIHJlYWN0aXZpdHkgbG9zcyB3aGVuIHJlYWRpbmcgYCVuYW1lJWAuIFRoaXMgaGFwcGVucyB3aGVuIHN0YXRlIGlzIHJlYWQgaW4gYW4gYXN5bmMgZnVuY3Rpb24gYWZ0ZXIgYW4gZWFybGllciBgYXdhaXRgXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRfcmVhY3Rpdml0eV9sb3NzKG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBhd2FpdF9yZWFjdGl2aXR5X2xvc3NcXG4lY0RldGVjdGVkIHJlYWN0aXZpdHkgbG9zcyB3aGVuIHJlYWRpbmcgXFxgJHtuYW1lfVxcYC4gVGhpcyBoYXBwZW5zIHdoZW4gc3RhdGUgaXMgcmVhZCBpbiBhbiBhc3luYyBmdW5jdGlvbiBhZnRlciBhbiBlYXJsaWVyIFxcYGF3YWl0XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfcmVhY3Rpdml0eV9sb3NzYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X3JlYWN0aXZpdHlfbG9zc2ApO1xuXHR9XG59XG5cbi8qKlxuICogQW4gYXN5bmMgZGVyaXZlZCwgYCVuYW1lJWAgKCVsb2NhdGlvbiUpIHdhcyBub3QgcmVhZCBpbW1lZGlhdGVseSBhZnRlciBpdCByZXNvbHZlZC4gVGhpcyBvZnRlbiBpbmRpY2F0ZXMgYW4gdW5uZWNlc3Nhcnkgd2F0ZXJmYWxsLCB3aGljaCBjYW4gc2xvdyBkb3duIHlvdXIgYXBwXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdF93YXRlcmZhbGwobmFtZSwgbG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBhd2FpdF93YXRlcmZhbGxcXG4lY0FuIGFzeW5jIGRlcml2ZWQsIFxcYCR7bmFtZX1cXGAgKCR7bG9jYXRpb259KSB3YXMgbm90IHJlYWQgaW1tZWRpYXRlbHkgYWZ0ZXIgaXQgcmVzb2x2ZWQuIFRoaXMgb2Z0ZW4gaW5kaWNhdGVzIGFuIHVubmVjZXNzYXJ5IHdhdGVyZmFsbCwgd2hpY2ggY2FuIHNsb3cgZG93biB5b3VyIGFwcFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X3dhdGVyZmFsbGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9hd2FpdF93YXRlcmZhbGxgKTtcblx0fVxufVxuXG4vKipcbiAqIGAlYmluZGluZyVgICglbG9jYXRpb24lKSBpcyBiaW5kaW5nIHRvIGEgbm9uLXJlYWN0aXZlIHByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZ30gYmluZGluZ1xuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBbbG9jYXRpb25dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZShiaW5kaW5nLCBsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YCVjW3N2ZWx0ZV0gYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmVcXG4lYyR7bG9jYXRpb25cblx0XHRcdFx0PyBgXFxgJHtiaW5kaW5nfVxcYCAoJHtsb2NhdGlvbn0pIGlzIGJpbmRpbmcgdG8gYSBub24tcmVhY3RpdmUgcHJvcGVydHlgXG5cdFx0XHRcdDogYFxcYCR7YmluZGluZ31cXGAgaXMgYmluZGluZyB0byBhIG5vbi1yZWFjdGl2ZSBwcm9wZXJ0eWB9XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmVgLFxuXHRcdFx0Ym9sZCxcblx0XHRcdG5vcm1hbFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWApO1xuXHR9XG59XG5cbi8qKlxuICogWW91ciBgY29uc29sZS4lbWV0aG9kJWAgY29udGFpbmVkIGAkc3RhdGVgIHByb3hpZXMuIENvbnNpZGVyIHVzaW5nIGAkaW5zcGVjdCguLi4pYCBvciBgJHN0YXRlLnNuYXBzaG90KC4uLilgIGluc3RlYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnNvbGVfbG9nX3N0YXRlKG1ldGhvZCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGNvbnNvbGVfbG9nX3N0YXRlXFxuJWNZb3VyIFxcYGNvbnNvbGUuJHttZXRob2R9XFxgIGNvbnRhaW5lZCBcXGAkc3RhdGVcXGAgcHJveGllcy4gQ29uc2lkZXIgdXNpbmcgXFxgJGluc3BlY3QoLi4uKVxcYCBvciBcXGAkc3RhdGUuc25hcHNob3QoLi4uKVxcYCBpbnN0ZWFkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29uc29sZV9sb2dfc3RhdGVgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29uc29sZV9sb2dfc3RhdGVgKTtcblx0fVxufVxuXG4vKipcbiAqICVoYW5kbGVyJSBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBtZWFuIHRvICVzdWdnZXN0aW9uJT9cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYW5kbGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3VnZ2VzdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRfaGFuZGxlcl9pbnZhbGlkKGhhbmRsZXIsIHN1Z2dlc3Rpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBldmVudF9oYW5kbGVyX2ludmFsaWRcXG4lYyR7aGFuZGxlcn0gc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgbWVhbiB0byAke3N1Z2dlc3Rpb259P1xcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2V2ZW50X2hhbmRsZXJfaW52YWxpZGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9ldmVudF9oYW5kbGVyX2ludmFsaWRgKTtcblx0fVxufVxuXG4vKipcbiAqIEV4cGVjdGVkIHRvIGZpbmQgYSBoeWRyYXRhYmxlIHdpdGgga2V5IGAla2V5JWAgZHVyaW5nIGh5ZHJhdGlvbiwgYnV0IGRpZCBub3QuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRhYmxlX21pc3NpbmdfYnV0X2V4cGVjdGVkKGtleSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGh5ZHJhdGFibGVfbWlzc2luZ19idXRfZXhwZWN0ZWRcXG4lY0V4cGVjdGVkIHRvIGZpbmQgYSBoeWRyYXRhYmxlIHdpdGgga2V5IFxcYCR7a2V5fVxcYCBkdXJpbmcgaHlkcmF0aW9uLCBidXQgZGlkIG5vdC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRhYmxlX21pc3NpbmdfYnV0X2V4cGVjdGVkYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGFibGVfbWlzc2luZ19idXRfZXhwZWN0ZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgJWF0dHJpYnV0ZSVgIGF0dHJpYnV0ZSBvbiBgJWh0bWwlYCBjaGFuZ2VkIGl0cyB2YWx1ZSBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUsIGAldmFsdWUlYCwgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWQoYXR0cmlidXRlLCBodG1sLCB2YWx1ZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGh5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZFxcbiVjVGhlIFxcYCR7YXR0cmlidXRlfVxcYCBhdHRyaWJ1dGUgb24gXFxgJHtodG1sfVxcYCBjaGFuZ2VkIGl0cyB2YWx1ZSBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUsIFxcYCR7dmFsdWV9XFxgLCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWRgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgdmFsdWUgb2YgYW4gYHtAaHRtbCAuLi59YCBibG9jayAlbG9jYXRpb24lIGNoYW5nZWQgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBbbG9jYXRpb25dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRpb25faHRtbF9jaGFuZ2VkKGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgJWNbc3ZlbHRlXSBoeWRyYXRpb25faHRtbF9jaGFuZ2VkXFxuJWMke2xvY2F0aW9uXG5cdFx0XHRcdD8gYFRoZSB2YWx1ZSBvZiBhbiBcXGB7QGh0bWwgLi4ufVxcYCBibG9jayAke2xvY2F0aW9ufSBjaGFuZ2VkIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWVgXG5cdFx0XHRcdDogJ1RoZSB2YWx1ZSBvZiBhbiBge0BodG1sIC4uLn1gIGJsb2NrIGNoYW5nZWQgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZSd9XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2h0bWxfY2hhbmdlZGAsXG5cdFx0XHRib2xkLFxuXHRcdFx0bm9ybWFsXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9odG1sX2NoYW5nZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIEh5ZHJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgaW5pdGlhbCBVSSBkb2VzIG5vdCBtYXRjaCB3aGF0IHdhcyByZW5kZXJlZCBvbiB0aGUgc2VydmVyLiBUaGUgZXJyb3Igb2NjdXJyZWQgbmVhciAlbG9jYXRpb24lXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFtsb2NhdGlvbl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9taXNtYXRjaChsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YCVjW3N2ZWx0ZV0gaHlkcmF0aW9uX21pc21hdGNoXFxuJWMke2xvY2F0aW9uXG5cdFx0XHRcdD8gYEh5ZHJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgaW5pdGlhbCBVSSBkb2VzIG5vdCBtYXRjaCB3aGF0IHdhcyByZW5kZXJlZCBvbiB0aGUgc2VydmVyLiBUaGUgZXJyb3Igb2NjdXJyZWQgbmVhciAke2xvY2F0aW9ufWBcblx0XHRcdFx0OiAnSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBpbml0aWFsIFVJIGRvZXMgbm90IG1hdGNoIHdoYXQgd2FzIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXInfVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9taXNtYXRjaGAsXG5cdFx0XHRib2xkLFxuXHRcdFx0bm9ybWFsXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9taXNtYXRjaGApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGByZW5kZXJgIGZ1bmN0aW9uIHBhc3NlZCB0byBgY3JlYXRlUmF3U25pcHBldGAgc2hvdWxkIHJldHVybiBIVE1MIGZvciBhIHNpbmdsZSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX3Jhd19zbmlwcGV0X3JlbmRlcigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBpbnZhbGlkX3Jhd19zbmlwcGV0X3JlbmRlclxcbiVjVGhlIFxcYHJlbmRlclxcYCBmdW5jdGlvbiBwYXNzZWQgdG8gXFxgY3JlYXRlUmF3U25pcHBldFxcYCBzaG91bGQgcmV0dXJuIEhUTUwgZm9yIGEgc2luZ2xlIGVsZW1lbnRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3Jhd19zbmlwcGV0X3JlbmRlcmAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3Jhd19zbmlwcGV0X3JlbmRlcmApO1xuXHR9XG59XG5cbi8qKlxuICogRGV0ZWN0ZWQgYSBtaWdyYXRlZCBgJDpgIHJlYWN0aXZlIGJsb2NrIGluIGAlZmlsZW5hbWUlYCB0aGF0IGJvdGggYWNjZXNzZXMgYW5kIHVwZGF0ZXMgdGhlIHNhbWUgcmVhY3RpdmUgdmFsdWUuIFRoaXMgbWF5IGNhdXNlIHJlY3Vyc2l2ZSB1cGRhdGVzIHdoZW4gY29udmVydGVkIHRvIGFuIGAkZWZmZWN0YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9jayhmaWxlbmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGxlZ2FjeV9yZWN1cnNpdmVfcmVhY3RpdmVfYmxvY2tcXG4lY0RldGVjdGVkIGEgbWlncmF0ZWQgXFxgJDpcXGAgcmVhY3RpdmUgYmxvY2sgaW4gXFxgJHtmaWxlbmFtZX1cXGAgdGhhdCBib3RoIGFjY2Vzc2VzIGFuZCB1cGRhdGVzIHRoZSBzYW1lIHJlYWN0aXZlIHZhbHVlLiBUaGlzIG1heSBjYXVzZSByZWN1cnNpdmUgdXBkYXRlcyB3aGVuIGNvbnZlcnRlZCB0byBhbiBcXGAkZWZmZWN0XFxgLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xlZ2FjeV9yZWN1cnNpdmVfcmVhY3RpdmVfYmxvY2tgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9ja2ApO1xuXHR9XG59XG5cbi8qKlxuICogVHJpZWQgdG8gdW5tb3VudCBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgbW91bnRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGxpZmVjeWNsZV9kb3VibGVfdW5tb3VudFxcbiVjVHJpZWQgdG8gdW5tb3VudCBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgbW91bnRlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9kb3VibGVfdW5tb3VudGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfZG91YmxlX3VubW91bnRgKTtcblx0fVxufVxuXG4vKipcbiAqICVwYXJlbnQlIHBhc3NlZCBwcm9wZXJ0eSBgJXByb3AlYCB0byAlY2hpbGQlIHdpdGggYGJpbmQ6YCwgYnV0IGl0cyBwYXJlbnQgY29tcG9uZW50ICVvd25lciUgZGlkIG5vdCBkZWNsYXJlIGAlcHJvcCVgIGFzIGEgYmluZGluZy4gQ29uc2lkZXIgY3JlYXRpbmcgYSBiaW5kaW5nIGJldHdlZW4gJW93bmVyJSBhbmQgJXBhcmVudCUgKGUuZy4gYGJpbmQ6JXByb3AlPXsuLi59YCBpbnN0ZWFkIG9mIGAlcHJvcCU9ey4uLn1gKVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBjaGlsZFxuICogQHBhcmFtIHtzdHJpbmd9IG93bmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvd25lcnNoaXBfaW52YWxpZF9iaW5kaW5nKHBhcmVudCwgcHJvcCwgY2hpbGQsIG93bmVyKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gb3duZXJzaGlwX2ludmFsaWRfYmluZGluZ1xcbiVjJHtwYXJlbnR9IHBhc3NlZCBwcm9wZXJ0eSBcXGAke3Byb3B9XFxgIHRvICR7Y2hpbGR9IHdpdGggXFxgYmluZDpcXGAsIGJ1dCBpdHMgcGFyZW50IGNvbXBvbmVudCAke293bmVyfSBkaWQgbm90IGRlY2xhcmUgXFxgJHtwcm9wfVxcYCBhcyBhIGJpbmRpbmcuIENvbnNpZGVyIGNyZWF0aW5nIGEgYmluZGluZyBiZXR3ZWVuICR7b3duZXJ9IGFuZCAke3BhcmVudH0gKGUuZy4gXFxgYmluZDoke3Byb3B9PXsuLi59XFxgIGluc3RlYWQgb2YgXFxgJHtwcm9wfT17Li4ufVxcYClcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9iaW5kaW5nYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmdgKTtcblx0fVxufVxuXG4vKipcbiAqIE11dGF0aW5nIHVuYm91bmQgcHJvcHMgKGAlbmFtZSVgLCBhdCAlbG9jYXRpb24lKSBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gQ29uc2lkZXIgdXNpbmcgYGJpbmQ6JXByb3AlPXsuLi59YCBpbiAlcGFyZW50JSAob3IgdXNpbmcgYSBjYWxsYmFjaykgaW5zdGVhZFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG93bmVyc2hpcF9pbnZhbGlkX211dGF0aW9uKG5hbWUsIGxvY2F0aW9uLCBwcm9wLCBwYXJlbnQpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBvd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvblxcbiVjTXV0YXRpbmcgdW5ib3VuZCBwcm9wcyAoXFxgJHtuYW1lfVxcYCwgYXQgJHtsb2NhdGlvbn0pIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiBDb25zaWRlciB1c2luZyBcXGBiaW5kOiR7cHJvcH09ey4uLn1cXGAgaW4gJHtwYXJlbnR9IChvciB1c2luZyBhIGNhbGxiYWNrKSBpbnN0ZWFkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb25gLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb25gKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgdmFsdWVgIHByb3BlcnR5IG9mIGEgYDxzZWxlY3QgbXVsdGlwbGU+YCBlbGVtZW50IHNob3VsZCBiZSBhbiBhcnJheSwgYnV0IGl0IHJlY2VpdmVkIGEgbm9uLWFycmF5IHZhbHVlLiBUaGUgc2VsZWN0aW9uIHdpbGwgYmUga2VwdCBhcyBpcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHNlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlXFxuJWNUaGUgXFxgdmFsdWVcXGAgcHJvcGVydHkgb2YgYSBcXGA8c2VsZWN0IG11bHRpcGxlPlxcYCBlbGVtZW50IHNob3VsZCBiZSBhbiBhcnJheSwgYnV0IGl0IHJlY2VpdmVkIGEgbm9uLWFycmF5IHZhbHVlLiBUaGUgc2VsZWN0aW9uIHdpbGwgYmUga2VwdCBhcyBpcy5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zZWxlY3RfbXVsdGlwbGVfaW52YWxpZF92YWx1ZWAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zZWxlY3RfbXVsdGlwbGVfaW52YWxpZF92YWx1ZWApO1xuXHR9XG59XG5cbi8qKlxuICogUmVhY3RpdmUgYCRzdGF0ZSguLi4pYCBwcm94aWVzIGFuZCB0aGUgdmFsdWVzIHRoZXkgcHJveHkgaGF2ZSBkaWZmZXJlbnQgaWRlbnRpdGllcy4gQmVjYXVzZSBvZiB0aGlzLCBjb21wYXJpc29ucyB3aXRoIGAlb3BlcmF0b3IlYCB3aWxsIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzXG4gKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlX3Byb3h5X2VxdWFsaXR5X21pc21hdGNoKG9wZXJhdG9yKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2hcXG4lY1JlYWN0aXZlIFxcYCRzdGF0ZSguLi4pXFxgIHByb3hpZXMgYW5kIHRoZSB2YWx1ZXMgdGhleSBwcm94eSBoYXZlIGRpZmZlcmVudCBpZGVudGl0aWVzLiBCZWNhdXNlIG9mIHRoaXMsIGNvbXBhcmlzb25zIHdpdGggXFxgJHtvcGVyYXRvcn1cXGAgd2lsbCBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0c1xcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3h5X2VxdWFsaXR5X21pc21hdGNoYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3h5X2VxdWFsaXR5X21pc21hdGNoYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUcmllZCB0byB1bm1vdW50IGEgc3RhdGUgcHJveHksIHJhdGhlciB0aGFuIGEgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9wcm94eV91bm1vdW50KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHN0YXRlX3Byb3h5X3VubW91bnRcXG4lY1RyaWVkIHRvIHVubW91bnQgYSBzdGF0ZSBwcm94eSwgcmF0aGVyIHRoYW4gYSBjb21wb25lbnRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm94eV91bm1vdW50YCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3h5X3VubW91bnRgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgYDxzdmVsdGU6Ym91bmRhcnk+YCBgcmVzZXRgIGZ1bmN0aW9uIG9ubHkgcmVzZXRzIHRoZSBib3VuZGFyeSB0aGUgZmlyc3QgdGltZSBpdCBpcyBjYWxsZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wXFxuJWNBIFxcYDxzdmVsdGU6Ym91bmRhcnk+XFxgIFxcYHJlc2V0XFxgIGZ1bmN0aW9uIG9ubHkgcmVzZXRzIHRoZSBib3VuZGFyeSB0aGUgZmlyc3QgdGltZSBpdCBpcyBjYWxsZWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcGApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGBzbGlkZWAgdHJhbnNpdGlvbiBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseSBmb3IgZWxlbWVudHMgd2l0aCBgZGlzcGxheTogJXZhbHVlJWBcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9zbGlkZV9kaXNwbGF5KHZhbHVlKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gdHJhbnNpdGlvbl9zbGlkZV9kaXNwbGF5XFxuJWNUaGUgXFxgc2xpZGVcXGAgdHJhbnNpdGlvbiBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseSBmb3IgZWxlbWVudHMgd2l0aCBcXGBkaXNwbGF5OiAke3ZhbHVlfVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3RyYW5zaXRpb25fc2xpZGVfZGlzcGxheWAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS90cmFuc2l0aW9uX3NsaWRlX2Rpc3BsYXlgKTtcblx0fVxufSIsICIvKiogQGltcG9ydCB7IFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG5cbmltcG9ydCB7IENPTU1FTlRfTk9ERSB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7XG5cdEhZRFJBVElPTl9FTkQsXG5cdEhZRFJBVElPTl9FUlJPUixcblx0SFlEUkFUSU9OX1NUQVJULFxuXHRIWURSQVRJT05fU1RBUlRfRUxTRVxufSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBnZXRfbmV4dF9zaWJsaW5nIH0gZnJvbSAnLi9vcGVyYXRpb25zLmpzJztcblxuLyoqXG4gKiBVc2UgdGhpcyB2YXJpYWJsZSB0byBndWFyZCBldmVyeXRoaW5nIHJlbGF0ZWQgdG8gaHlkcmF0aW9uIGNvZGUgc28gaXQgY2FuIGJlIHRyZWVzaGFrZW4gb3V0XG4gKiBpZiB0aGUgdXNlciBkb2Vzbid0IHVzZSB0aGUgYGh5ZHJhdGVgIG1ldGhvZCBhbmQgdGhlc2UgY29kZSBwYXRocyBhcmUgdGhlcmVmb3JlIG5vdCBuZWVkZWQuXG4gKi9cbmV4cG9ydCBsZXQgaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2h5ZHJhdGluZyh2YWx1ZSkge1xuXHRoeWRyYXRpbmcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGUgbm9kZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBoeWRyYXRlZC4gVGhpcyBzdGFydHMgb3V0IGFzIHRoZSBmaXJzdCBub2RlIGluc2lkZSB0aGUgb3BlbmluZ1xuICogPCEtLVstLT4gY29tbWVudCwgYW5kIHVwZGF0ZXMgZWFjaCB0aW1lIGEgY29tcG9uZW50IGNhbGxzIGAkLmNoaWxkKC4uLilgIG9yIGAkLnNpYmxpbmcoLi4uKWAuXG4gKiBXaGVuIGVudGVyaW5nIGEgYmxvY2sgKGUuZy4gYHsjaWYgLi4ufWApLCBgaHlkcmF0ZV9ub2RlYCBpcyB0aGUgYmxvY2sgb3BlbmluZyBjb21tZW50OyBieSB0aGVcbiAqIHRpbWUgd2UgbGVhdmUgdGhlIGJsb2NrIGl0IGlzIHRoZSBjbG9zaW5nIGNvbW1lbnQsIHdoaWNoIHNlcnZlcyBhcyB0aGUgYmxvY2sncyBhbmNob3IuXG4gKiBAdHlwZSB7VGVtcGxhdGVOb2RlfVxuICovXG5leHBvcnQgbGV0IGh5ZHJhdGVfbm9kZTtcblxuLyoqIEBwYXJhbSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gbm9kZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9oeWRyYXRlX25vZGUobm9kZSkge1xuXHRpZiAobm9kZSA9PT0gbnVsbCkge1xuXHRcdHcuaHlkcmF0aW9uX21pc21hdGNoKCk7XG5cdFx0dGhyb3cgSFlEUkFUSU9OX0VSUk9SO1xuXHR9XG5cblx0cmV0dXJuIChoeWRyYXRlX25vZGUgPSBub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVfbmV4dCgpIHtcblx0cmV0dXJuIHNldF9oeWRyYXRlX25vZGUoZ2V0X25leHRfc2libGluZyhoeWRyYXRlX25vZGUpKTtcbn1cblxuLyoqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQobm9kZSkge1xuXHRpZiAoIWh5ZHJhdGluZykgcmV0dXJuO1xuXG5cdC8vIElmIHRoZSBub2RlIGhhcyByZW1haW5pbmcgc2libGluZ3MsIHNvbWV0aGluZyBoYXMgZ29uZSB3cm9uZ1xuXHRpZiAoZ2V0X25leHRfc2libGluZyhoeWRyYXRlX25vZGUpICE9PSBudWxsKSB7XG5cdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHR0aHJvdyBIWURSQVRJT05fRVJST1I7XG5cdH1cblxuXHRoeWRyYXRlX25vZGUgPSBub2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVfdGVtcGxhdGUodGVtcGxhdGUpIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVGVtcGxhdGVOb2RlIGRvZXNuJ3QgaW5jbHVkZSBEb2N1bWVudEZyYWdtZW50LCBidXQgaXQncyBhY3R1YWxseSBmaW5lXG5cdFx0aHlkcmF0ZV9ub2RlID0gdGVtcGxhdGUuY29udGVudDtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV4dChjb3VudCA9IDEpIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdHZhciBpID0gY291bnQ7XG5cdFx0dmFyIG5vZGUgPSBoeWRyYXRlX25vZGU7XG5cblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRub2RlID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfbmV4dF9zaWJsaW5nKG5vZGUpKTtcblx0XHR9XG5cblx0XHRoeWRyYXRlX25vZGUgPSBub2RlO1xuXHR9XG59XG5cbi8qKlxuICogU2tpcHMgb3IgcmVtb3ZlcyAoZGVwZW5kaW5nIG9uIHtAbGluayByZW1vdmV9KSBhbGwgbm9kZXMgc3RhcnRpbmcgYXQgYGh5ZHJhdGVfbm9kZWAgdXAgdW50aWwgdGhlIG5leHQgaHlkcmF0aW9uIGVuZCBjb21tZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2tpcF9ub2RlcyhyZW1vdmUgPSB0cnVlKSB7XG5cdHZhciBkZXB0aCA9IDA7XG5cdHZhciBub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuXHRcdFx0dmFyIGRhdGEgPSAvKiogQHR5cGUge0NvbW1lbnR9ICovIChub2RlKS5kYXRhO1xuXG5cdFx0XHRpZiAoZGF0YSA9PT0gSFlEUkFUSU9OX0VORCkge1xuXHRcdFx0XHRpZiAoZGVwdGggPT09IDApIHJldHVybiBub2RlO1xuXHRcdFx0XHRkZXB0aCAtPSAxO1xuXHRcdFx0fSBlbHNlIGlmIChkYXRhID09PSBIWURSQVRJT05fU1RBUlQgfHwgZGF0YSA9PT0gSFlEUkFUSU9OX1NUQVJUX0VMU0UpIHtcblx0XHRcdFx0ZGVwdGggKz0gMTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgbmV4dCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhub2RlKSk7XG5cdFx0aWYgKHJlbW92ZSkgbm9kZS5yZW1vdmUoKTtcblx0XHRub2RlID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24obm9kZSkge1xuXHRpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSAhPT0gQ09NTUVOVF9OT0RFKSB7XG5cdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHR0aHJvdyBIWURSQVRJT05fRVJST1I7XG5cdH1cblxuXHRyZXR1cm4gLyoqIEB0eXBlIHtDb21tZW50fSAqLyAobm9kZSkuZGF0YTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEVxdWFscyB9IGZyb20gJyNjbGllbnQnICovXG5cbi8qKiBAdHlwZSB7RXF1YWxzfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09IHRoaXMudjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGFcbiAqIEBwYXJhbSB7dW5rbm93bn0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGFcblx0XHQ/IGIgPT0gYlxuXHRcdDogYSAhPT0gYiB8fCAoYSAhPT0gbnVsbCAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gYVxuICogQHBhcmFtIHt1bmtub3dufSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9PSBiO1xufVxuXG4vKiogQHR5cGUge0VxdWFsc30gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX2VxdWFscyh2YWx1ZSkge1xuXHRyZXR1cm4gIXNhZmVfbm90X2VxdWFsKHZhbHVlLCB0aGlzLnYpO1xufVxuIiwgIi8qKiBUcnVlIGlmIGV4cGVyaW1lbnRhbC5hc3luYz10cnVlICovXG5leHBvcnQgbGV0IGFzeW5jX21vZGVfZmxhZyA9IGZhbHNlO1xuLyoqIFRydWUgaWYgd2UncmUgbm90IGNlcnRhaW4gdGhhdCB3ZSBvbmx5IGhhdmUgU3ZlbHRlIDUgY29kZSBpbiB0aGUgY29tcGlsYXRpb24gKi9cbmV4cG9ydCBsZXQgbGVnYWN5X21vZGVfZmxhZyA9IGZhbHNlO1xuLyoqIFRydWUgaWYgJGluc3BlY3QudHJhY2UgaXMgdXNlZCAqL1xuZXhwb3J0IGxldCB0cmFjaW5nX21vZGVfZmxhZyA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlX2FzeW5jX21vZGVfZmxhZygpIHtcblx0YXN5bmNfbW9kZV9mbGFnID0gdHJ1ZTtcbn1cblxuLyoqIE9OTFkgVVNFIFRISVMgRFVSSU5HIFRFU1RJTkcgKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlX2FzeW5jX21vZGVfZmxhZygpIHtcblx0YXN5bmNfbW9kZV9mbGFnID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVfbGVnYWN5X21vZGVfZmxhZygpIHtcblx0bGVnYWN5X21vZGVfZmxhZyA9IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVfdHJhY2luZ19tb2RlX2ZsYWcoKSB7XG5cdHRyYWNpbmdfbW9kZV9mbGFnID0gdHJ1ZTtcbn1cbiIsICIvKiogQGltcG9ydCB7IERlcml2ZWQsIFJlYWN0aW9uLCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHNuYXBzaG90IH0gZnJvbSAnLi4vLi4vc2hhcmVkL2Nsb25lLmpzJztcbmltcG9ydCB7IERFUklWRUQsIEFTWU5DLCBQUk9YWV9QQVRIX1NZTUJPTCwgU1RBVEVfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgZWZmZWN0X3RyYWNraW5nIH0gZnJvbSAnLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9yZWFjdGlvbiwgdW50cmFjayB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRyYWNlczogRXJyb3JbXTtcbiAqIH19IFRyYWNlRW50cnlcbiAqL1xuXG4vKiogQHR5cGUge3sgcmVhY3Rpb246IFJlYWN0aW9uIHwgbnVsbCwgZW50cmllczogTWFwPFZhbHVlLCBUcmFjZUVudHJ5PiB9IHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgdHJhY2luZ19leHByZXNzaW9ucyA9IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHtWYWx1ZX0gc2lnbmFsXG4gKiBAcGFyYW0ge1RyYWNlRW50cnl9IFtlbnRyeV1cbiAqL1xuZnVuY3Rpb24gbG9nX2VudHJ5KHNpZ25hbCwgZW50cnkpIHtcblx0Y29uc3QgdmFsdWUgPSBzaWduYWwudjtcblxuXHRpZiAodmFsdWUgPT09IFVOSU5JVElBTElaRUQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCB0eXBlID0gZ2V0X3R5cGUoc2lnbmFsKTtcblx0Y29uc3QgY3VycmVudF9yZWFjdGlvbiA9IC8qKiBAdHlwZSB7UmVhY3Rpb259ICovIChhY3RpdmVfcmVhY3Rpb24pO1xuXHRjb25zdCBkaXJ0eSA9IHNpZ25hbC53diA+IGN1cnJlbnRfcmVhY3Rpb24ud3YgfHwgY3VycmVudF9yZWFjdGlvbi53diA9PT0gMDtcblx0Y29uc3Qgc3R5bGUgPSBkaXJ0eVxuXHRcdD8gJ2NvbG9yOiBDb3JuZmxvd2VyQmx1ZTsgZm9udC13ZWlnaHQ6IGJvbGQnXG5cdFx0OiAnY29sb3I6IGdyZXk7IGZvbnQtd2VpZ2h0OiBub3JtYWwnO1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG5cdFx0c2lnbmFsLmxhYmVsID8gYCVjJHt0eXBlfSVjICR7c2lnbmFsLmxhYmVsfWAgOiBgJWMke3R5cGV9JWNgLFxuXHRcdHN0eWxlLFxuXHRcdGRpcnR5ID8gJ2ZvbnQtd2VpZ2h0OiBub3JtYWwnIDogc3R5bGUsXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBTVEFURV9TWU1CT0wgaW4gdmFsdWVcblx0XHRcdD8gc25hcHNob3QodmFsdWUsIHRydWUpXG5cdFx0XHQ6IHZhbHVlXG5cdCk7XG5cblx0aWYgKHR5cGUgPT09ICckZGVyaXZlZCcpIHtcblx0XHRjb25zdCBkZXBzID0gbmV3IFNldCgvKiogQHR5cGUge0Rlcml2ZWR9ICovIChzaWduYWwpLmRlcHMpO1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcblx0XHRcdGxvZ19lbnRyeShkZXApO1xuXHRcdH1cblx0fVxuXG5cdGlmIChzaWduYWwuY3JlYXRlZCkge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0Y29uc29sZS5sb2coc2lnbmFsLmNyZWF0ZWQpO1xuXHR9XG5cblx0aWYgKGRpcnR5ICYmIHNpZ25hbC51cGRhdGVkKSB7XG5cdFx0Zm9yIChjb25zdCB1cGRhdGVkIG9mIHNpZ25hbC51cGRhdGVkLnZhbHVlcygpKSB7XG5cdFx0XHRpZiAodXBkYXRlZC5lcnJvcikge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdFx0XHRjb25zb2xlLmxvZyh1cGRhdGVkLmVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoZW50cnkpIHtcblx0XHRmb3IgKHZhciB0cmFjZSBvZiBlbnRyeS50cmFjZXMpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRjb25zb2xlLmxvZyh0cmFjZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0Y29uc29sZS5ncm91cEVuZCgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWV9IHNpZ25hbFxuICogQHJldHVybnMgeyckc3RhdGUnIHwgJyRkZXJpdmVkJyB8ICdzdG9yZSd9XG4gKi9cbmZ1bmN0aW9uIGdldF90eXBlKHNpZ25hbCkge1xuXHRpZiAoKHNpZ25hbC5mICYgKERFUklWRUQgfCBBU1lOQykpICE9PSAwKSByZXR1cm4gJyRkZXJpdmVkJztcblx0cmV0dXJuIHNpZ25hbC5sYWJlbD8uc3RhcnRzV2l0aCgnJCcpID8gJ3N0b3JlJyA6ICckc3RhdGUnO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IHN0cmluZ30gbGFiZWxcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNlKGxhYmVsLCBmbikge1xuXHR2YXIgcHJldmlvdXNseV90cmFjaW5nX2V4cHJlc3Npb25zID0gdHJhY2luZ19leHByZXNzaW9ucztcblxuXHR0cnkge1xuXHRcdHRyYWNpbmdfZXhwcmVzc2lvbnMgPSB7IGVudHJpZXM6IG5ldyBNYXAoKSwgcmVhY3Rpb246IGFjdGl2ZV9yZWFjdGlvbiB9O1xuXG5cdFx0dmFyIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cdFx0dmFyIHZhbHVlID0gZm4oKTtcblx0XHR2YXIgdGltZSA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuXG5cdFx0dmFyIHByZWZpeCA9IHVudHJhY2sobGFiZWwpO1xuXG5cdFx0aWYgKCFlZmZlY3RfdHJhY2tpbmcoKSkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdGNvbnNvbGUubG9nKGAke3ByZWZpeH0gJWNyYW4gb3V0c2lkZSBvZiBhbiBlZmZlY3QgKCR7dGltZX1tcylgLCAnY29sb3I6IGdyZXknKTtcblx0XHR9IGVsc2UgaWYgKHRyYWNpbmdfZXhwcmVzc2lvbnMuZW50cmllcy5zaXplID09PSAwKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdFx0Y29uc29sZS5sb2coYCR7cHJlZml4fSAlY25vIHJlYWN0aXZlIGRlcGVuZGVuY2llcyAoJHt0aW1lfW1zKWAsICdjb2xvcjogZ3JleScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdFx0Y29uc29sZS5ncm91cChgJHtwcmVmaXh9ICVjKCR7dGltZX1tcylgLCAnY29sb3I6IGdyZXknKTtcblxuXHRcdFx0dmFyIGVudHJpZXMgPSB0cmFjaW5nX2V4cHJlc3Npb25zLmVudHJpZXM7XG5cblx0XHRcdHVudHJhY2soKCkgPT4ge1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtzaWduYWwsIHRyYWNlc10gb2YgZW50cmllcykge1xuXHRcdFx0XHRcdGxvZ19lbnRyeShzaWduYWwsIHRyYWNlcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zID0gbnVsbDtcblxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdGNvbnNvbGUuZ3JvdXBFbmQoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZmluYWxseSB7XG5cdFx0dHJhY2luZ19leHByZXNzaW9ucyA9IHByZXZpb3VzbHlfdHJhY2luZ19leHByZXNzaW9ucztcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWV9IHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWcoc291cmNlLCBsYWJlbCkge1xuXHRzb3VyY2UubGFiZWwgPSBsYWJlbDtcblx0dGFnX3Byb3h5KHNvdXJjZS52LCBsYWJlbCk7XG5cblx0cmV0dXJuIHNvdXJjZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRhZ19wcm94eSh2YWx1ZSwgbGFiZWwpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHR2YWx1ZT8uW1BST1hZX1BBVEhfU1lNQk9MXT8uKGxhYmVsKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhYmVsKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnKSByZXR1cm4gYFN5bWJvbCgke3ZhbHVlLmRlc2NyaXB0aW9ufSlgO1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSByZXR1cm4gJzxmdW5jdGlvbj4nO1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSkgcmV0dXJuICc8b2JqZWN0Pic7XG5cdHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuIiwgImltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICogQHJldHVybnMge0Vycm9yICYgeyBzdGFjazogc3RyaW5nIH0gfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2Vycm9yKGxhYmVsKSB7XG5cdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG5cdGNvbnN0IHN0YWNrID0gZ2V0X3N0YWNrKCk7XG5cblx0aWYgKHN0YWNrLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0c3RhY2sudW5zaGlmdCgnXFxuJyk7XG5cblx0ZGVmaW5lX3Byb3BlcnR5KGVycm9yLCAnc3RhY2snLCB7XG5cdFx0dmFsdWU6IHN0YWNrLmpvaW4oJ1xcbicpXG5cdH0pO1xuXG5cdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ25hbWUnLCB7XG5cdFx0dmFsdWU6IGxhYmVsXG5cdH0pO1xuXG5cdHJldHVybiAvKiogQHR5cGUge0Vycm9yICYgeyBzdGFjazogc3RyaW5nIH19ICovIChlcnJvcik7XG59XG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0YWNrKCkge1xuXHQvLyBAdHMtaWdub3JlIC0gZG9lc24ndCBleGlzdCBldmVyeXdoZXJlXG5cdGNvbnN0IGxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuXHQvLyBAdHMtaWdub3JlIC0gZG9lc24ndCBleGlzdCBldmVyeXdoZXJlXG5cdEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IEluZmluaXR5O1xuXHRjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXHQvLyBAdHMtaWdub3JlIC0gZG9lc24ndCBleGlzdCBldmVyeXdoZXJlXG5cdEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IGxpbWl0O1xuXG5cdGlmICghc3RhY2spIHJldHVybiBbXTtcblxuXHRjb25zdCBsaW5lcyA9IHN0YWNrLnNwbGl0KCdcXG4nKTtcblx0Y29uc3QgbmV3X2xpbmVzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcblx0XHRjb25zdCBwb3NpeGlmaWVkID0gbGluZS5yZXBsYWNlQWxsKCdcXFxcJywgJy8nKTtcblxuXHRcdGlmIChsaW5lLnRyaW0oKSA9PT0gJ0Vycm9yJykge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGxpbmUuaW5jbHVkZXMoJ3ZhbGlkYXRlX2VhY2hfa2V5cycpKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0aWYgKHBvc2l4aWZpZWQuaW5jbHVkZXMoJ3N2ZWx0ZS9zcmMvaW50ZXJuYWwnKSB8fCBwb3NpeGlmaWVkLmluY2x1ZGVzKCdub2RlX21vZHVsZXMvLnZpdGUnKSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0bmV3X2xpbmVzLnB1c2gobGluZSk7XG5cdH1cblxuXHRyZXR1cm4gbmV3X2xpbmVzO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50Q29udGV4dCwgRGV2U3RhY2tFbnRyeSwgRWZmZWN0IH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0LCBhY3RpdmVfcmVhY3Rpb24gfSBmcm9tICcuL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3VzZXJfZWZmZWN0IH0gZnJvbSAnLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnLCBsZWdhY3lfbW9kZV9mbGFnIH0gZnJvbSAnLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQlJBTkNIX0VGRkVDVCwgRUZGRUNUX1JBTiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0IHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgY29tcG9uZW50X2NvbnRleHQgPSBudWxsO1xuXG4vKiogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0IHwgbnVsbH0gY29udGV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jb21wb25lbnRfY29udGV4dChjb250ZXh0KSB7XG5cdGNvbXBvbmVudF9jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqIEB0eXBlIHtEZXZTdGFja0VudHJ5IHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgZGV2X3N0YWNrID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7RGV2U3RhY2tFbnRyeSB8IG51bGx9IHN0YWNrICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2Rldl9zdGFjayhzdGFjaykge1xuXHRkZXZfc3RhY2sgPSBzdGFjaztcbn1cblxuLyoqXG4gKiBFeGVjdXRlIGEgY2FsbGJhY2sgd2l0aCBhIG5ldyBkZXYgc3RhY2sgZW50cnlcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGVcbiAqIEBwYXJhbSB7RGV2U3RhY2tFbnRyeVsndHlwZSddfSB0eXBlIC0gVHlwZSBvZiBibG9jay9jb21wb25lbnRcbiAqIEBwYXJhbSB7YW55fSBjb21wb25lbnQgLSBDb21wb25lbnQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lIC0gTGluZSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW4gLSBDb2x1bW4gbnVtYmVyXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IFthZGRpdGlvbmFsXSAtIEFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYWRkIHRvIHRoZSBkZXYgc3RhY2sgZW50cnlcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfc3ZlbHRlX21ldGEoY2FsbGJhY2ssIHR5cGUsIGNvbXBvbmVudCwgbGluZSwgY29sdW1uLCBhZGRpdGlvbmFsKSB7XG5cdGNvbnN0IHBhcmVudCA9IGRldl9zdGFjaztcblxuXHRkZXZfc3RhY2sgPSB7XG5cdFx0dHlwZSxcblx0XHRmaWxlOiBjb21wb25lbnRbRklMRU5BTUVdLFxuXHRcdGxpbmUsXG5cdFx0Y29sdW1uLFxuXHRcdHBhcmVudCxcblx0XHQuLi5hZGRpdGlvbmFsXG5cdH07XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gY2FsbGJhY2soKTtcblx0fSBmaW5hbGx5IHtcblx0XHRkZXZfc3RhY2sgPSBwYXJlbnQ7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgY3VycmVudCBjb21wb25lbnQgZnVuY3Rpb24uIERpZmZlcmVudCBmcm9tIGN1cnJlbnQgY29tcG9uZW50IGNvbnRleHQ6XG4gKiBgYGBodG1sXG4gKiA8IS0tIEFwcC5zdmVsdGUgLS0+XG4gKiA8Rm9vPlxuICogICA8QmFyIC8+IDwhLS0gY29udGV4dCA9PSBGb28uc3ZlbHRlLCBmdW5jdGlvbiA9PSBBcHAuc3ZlbHRlIC0tPlxuICogPC9Gb28+XG4gKiBgYGBcbiAqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0WydmdW5jdGlvbiddfVxuICovXG5leHBvcnQgbGV0IGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHRbJ2Z1bmN0aW9uJ119IGZuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbihmbikge1xuXHRkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gPSBmbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgYFtnZXQsIHNldF1gIHBhaXIgb2YgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggY29udGV4dCBpbiBhIHR5cGUtc2FmZSB3YXkuXG4gKlxuICogYGdldGAgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBubyBwYXJlbnQgY29tcG9uZW50IGNhbGxlZCBgc2V0YC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHJldHVybnMge1soKSA9PiBULCAoY29udGV4dDogVCkgPT4gVF19XG4gKiBAc2luY2UgNS40MC4wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuXHRjb25zdCBrZXkgPSB7fTtcblxuXHRyZXR1cm4gW1xuXHRcdCgpID0+IHtcblx0XHRcdGlmICghaGFzQ29udGV4dChrZXkpKSB7XG5cdFx0XHRcdGUubWlzc2luZ19jb250ZXh0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBnZXRDb250ZXh0KGtleSk7XG5cdFx0fSxcblx0XHQoY29udGV4dCkgPT4gc2V0Q29udGV4dChrZXksIGNvbnRleHQpXG5cdF07XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogW2BjcmVhdGVDb250ZXh0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3N2ZWx0ZSNjcmVhdGVDb250ZXh0KSBpcyBhIHR5cGUtc2FmZSBhbHRlcm5hdGl2ZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuXHRjb25zdCBjb250ZXh0X21hcCA9IGdldF9vcl9pbml0X2NvbnRleHRfbWFwKCdnZXRDb250ZXh0Jyk7XG5cdGNvbnN0IHJlc3VsdCA9IC8qKiBAdHlwZSB7VH0gKi8gKGNvbnRleHRfbWFwLmdldChrZXkpKTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIFtgY3JlYXRlQ29udGV4dGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9zdmVsdGUjY3JlYXRlQ29udGV4dCkgaXMgYSB0eXBlLXNhZmUgYWx0ZXJuYXRpdmUuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRjb25zdCBjb250ZXh0X21hcCA9IGdldF9vcl9pbml0X2NvbnRleHRfbWFwKCdzZXRDb250ZXh0Jyk7XG5cblx0aWYgKGFzeW5jX21vZGVfZmxhZykge1xuXHRcdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0XHR2YXIgdmFsaWQgPVxuXHRcdFx0IWFjdGl2ZV9yZWFjdGlvbiAmJlxuXHRcdFx0KGZsYWdzICYgQlJBTkNIX0VGRkVDVCkgIT09IDAgJiZcblx0XHRcdC8vIHBvcCgpIHJ1bnMgc3luY2hyb25vdXNseSwgc28gdGhpcyBpbmRpY2F0ZXMgd2UncmUgc2V0dGluZyBjb250ZXh0IGFmdGVyIGFuIGF3YWl0XG5cdFx0XHQhKC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KS5pKTtcblxuXHRcdGlmICghdmFsaWQpIHtcblx0XHRcdGUuc2V0X2NvbnRleHRfYWZ0ZXJfaW5pdCgpO1xuXHRcdH1cblx0fVxuXG5cdGNvbnRleHRfbWFwLnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnaGFzQ29udGV4dCcpO1xuXHRyZXR1cm4gY29udGV4dF9tYXAuaGFzKGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRjb25zdCBjb250ZXh0X21hcCA9IGdldF9vcl9pbml0X2NvbnRleHRfbWFwKCdnZXRBbGxDb250ZXh0cycpO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUfSAqLyAoY29udGV4dF9tYXApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IHByb3BzXG4gKiBAcGFyYW0ge2FueX0gcnVuZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaChwcm9wcywgcnVuZXMgPSBmYWxzZSwgZm4pIHtcblx0Y29tcG9uZW50X2NvbnRleHQgPSB7XG5cdFx0cDogY29tcG9uZW50X2NvbnRleHQsXG5cdFx0aTogZmFsc2UsXG5cdFx0YzogbnVsbCxcblx0XHRlOiBudWxsLFxuXHRcdHM6IHByb3BzLFxuXHRcdHg6IG51bGwsXG5cdFx0bDogbGVnYWN5X21vZGVfZmxhZyAmJiAhcnVuZXMgPyB7IHM6IG51bGwsIHU6IG51bGwsICQ6IFtdIH0gOiBudWxsXG5cdH07XG5cblx0aWYgKERFVikge1xuXHRcdC8vIGNvbXBvbmVudCBmdW5jdGlvblxuXHRcdGNvbXBvbmVudF9jb250ZXh0LmZ1bmN0aW9uID0gZm47XG5cdFx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gZm47XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFRcbiAqIEBwYXJhbSB7VH0gW2NvbXBvbmVudF1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9wKGNvbXBvbmVudCkge1xuXHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblx0dmFyIGVmZmVjdHMgPSBjb250ZXh0LmU7XG5cblx0aWYgKGVmZmVjdHMgIT09IG51bGwpIHtcblx0XHRjb250ZXh0LmUgPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgZm4gb2YgZWZmZWN0cykge1xuXHRcdFx0Y3JlYXRlX3VzZXJfZWZmZWN0KGZuKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoY29tcG9uZW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb250ZXh0LnggPSBjb21wb25lbnQ7XG5cdH1cblxuXHRjb250ZXh0LmkgPSB0cnVlO1xuXG5cdGNvbXBvbmVudF9jb250ZXh0ID0gY29udGV4dC5wO1xuXG5cdGlmIChERVYpIHtcblx0XHRkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gPSBjb21wb25lbnRfY29udGV4dD8uZnVuY3Rpb24gPz8gbnVsbDtcblx0fVxuXG5cdHJldHVybiBjb21wb25lbnQgPz8gLyoqIEB0eXBlIHtUfSAqLyAoe30pO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcnVuZXMoKSB7XG5cdHJldHVybiAhbGVnYWN5X21vZGVfZmxhZyB8fCAoY29tcG9uZW50X2NvbnRleHQgIT09IG51bGwgJiYgY29tcG9uZW50X2NvbnRleHQubCA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtNYXA8dW5rbm93biwgdW5rbm93bj59XG4gKi9cbmZ1bmN0aW9uIGdldF9vcl9pbml0X2NvbnRleHRfbWFwKG5hbWUpIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQobmFtZSk7XG5cdH1cblxuXHRyZXR1cm4gKGNvbXBvbmVudF9jb250ZXh0LmMgPz89IG5ldyBNYXAoZ2V0X3BhcmVudF9jb250ZXh0KGNvbXBvbmVudF9jb250ZXh0KSB8fCB1bmRlZmluZWQpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHR9IGNvbXBvbmVudF9jb250ZXh0XG4gKiBAcmV0dXJucyB7TWFwPHVua25vd24sIHVua25vd24+IHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gZ2V0X3BhcmVudF9jb250ZXh0KGNvbXBvbmVudF9jb250ZXh0KSB7XG5cdGxldCBwYXJlbnQgPSBjb21wb25lbnRfY29udGV4dC5wO1xuXHR3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG5cdFx0Y29uc3QgY29udGV4dF9tYXAgPSBwYXJlbnQuYztcblx0XHRpZiAoY29udGV4dF9tYXAgIT09IG51bGwpIHtcblx0XHRcdHJldHVybiBjb250ZXh0X21hcDtcblx0XHR9XG5cdFx0cGFyZW50ID0gcGFyZW50LnA7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59XG4iLCAiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBpc19mbHVzaGluZ19zeW5jIH0gZnJvbSAnLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8qKiBAdHlwZSB7QXJyYXk8KCkgPT4gdm9pZD59ICovXG5sZXQgbWljcm9fdGFza3MgPSBbXTtcblxuZnVuY3Rpb24gcnVuX21pY3JvX3Rhc2tzKCkge1xuXHR2YXIgdGFza3MgPSBtaWNyb190YXNrcztcblx0bWljcm9fdGFza3MgPSBbXTtcblx0cnVuX2FsbCh0YXNrcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVfbWljcm9fdGFzayhmbikge1xuXHRpZiAobWljcm9fdGFza3MubGVuZ3RoID09PSAwICYmICFpc19mbHVzaGluZ19zeW5jKSB7XG5cdFx0dmFyIHRhc2tzID0gbWljcm9fdGFza3M7XG5cdFx0cXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuXHRcdFx0Ly8gSWYgdGhpcyBpcyBmYWxzZSwgYSBmbHVzaFN5bmMgaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lLiBEbyBfbm90XyBydW4gbmV3IHNjaGVkdWxlZCBtaWNyb3Rhc2tzIGluIHRoYXQgY2FzZVxuXHRcdFx0Ly8gYXMgdGhlIG9yZGVyaW5nIG9mIG1pY3JvdGFza3Mgd291bGQgYmUgYnJva2VuIGF0IHRoYXQgcG9pbnQgLSBjb25zaWRlciB0aGlzIGNhc2U6XG5cdFx0XHQvLyAtIHF1ZXVlX21pY3JvX3Rhc2sgc2NoZWR1bGVzIG1pY3JvdGFzayBBIHRvIGZsdXNoIHRhc2sgWFxuXHRcdFx0Ly8gLSBzeW5jaHJvbm91c2x5IGFmdGVyLCBmbHVzaFN5bmMgcnVucywgcHJvY2Vzc2luZyB0YXNrIFhcblx0XHRcdC8vIC0gc3luY2hyb25vdXNseSBhZnRlciwgc29tZSBvdGhlciBtaWNyb3Rhc2sgQiBpcyBzY2hlZHVsZWQsIGJ1dCBub3QgdGhyb3VnaCBxdWV1ZV9taWNyb190YXNrIGJ1dCBmb3IgZXhhbXBsZSBhIFByb21pc2UucmVzb2x2ZSgpIGluIHVzZXIgY29kZVxuXHRcdFx0Ly8gLSBzeW5jaHJvbm91c2x5IGFmdGVyLCBxdWV1ZV9taWNyb190YXNrIHNjaGVkdWxlcyBtaWNyb3Rhc2sgQyB0byBmbHVzaCB0YXNrIFlcblx0XHRcdC8vIC0gb25lIHRpY2sgbGF0ZXIsIG1pY3JvdGFzayBBIG5vdyByZXNvbHZlcywgZmx1c2hpbmcgdGFzayBZIGJlZm9yZSBtaWNyb3Rhc2sgQiwgd2hpY2ggaXMgaW5jb3JyZWN0XG5cdFx0XHQvLyBUaGlzIGlmIGNoZWNrIHByZXZlbnRzIHRoYXQgcmFjZSBjb25kaXRpb24gKHRoYXQgcmVhbGlzdGljYWxseSB3aWxsIG9ubHkgaGFwcGVuIGluIHRlc3RzKVxuXHRcdFx0aWYgKHRhc2tzID09PSBtaWNyb190YXNrcykgcnVuX21pY3JvX3Rhc2tzKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRtaWNyb190YXNrcy5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IHJ1biBhbnkgcXVldWVkIHRhc2tzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfdGFza3MoKSB7XG5cdHdoaWxlIChtaWNyb190YXNrcy5sZW5ndGggPiAwKSB7XG5cdFx0cnVuX21pY3JvX3Rhc2tzKCk7XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEJvdW5kYXJ5IH0gZnJvbSAnLi9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzJyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBGSUxFTkFNRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBpc19maXJlZm94IH0gZnJvbSAnLi9kb20vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBFUlJPUl9WQUxVRSwgQk9VTkRBUllfRUZGRUNULCBFRkZFQ1RfUkFOIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBnZXRfZGVzY3JpcHRvciB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0LCBhY3RpdmVfcmVhY3Rpb24gfSBmcm9tICcuL3J1bnRpbWUuanMnO1xuXG5jb25zdCBhZGp1c3RtZW50cyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlX2Vycm9yKGVycm9yKSB7XG5cdHZhciBlZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdC8vIGZvciB1bm93bmVkIGRlcml2ZWRzLCBkb24ndCB0aHJvdyB1bnRpbCB3ZSByZWFkIHRoZSB2YWx1ZVxuXHRpZiAoZWZmZWN0ID09PSBudWxsKSB7XG5cdFx0LyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoYWN0aXZlX3JlYWN0aW9uKS5mIHw9IEVSUk9SX1ZBTFVFO1xuXHRcdHJldHVybiBlcnJvcjtcblx0fVxuXG5cdGlmIChERVYgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhYWRqdXN0bWVudHMuaGFzKGVycm9yKSkge1xuXHRcdGFkanVzdG1lbnRzLnNldChlcnJvciwgZ2V0X2FkanVzdG1lbnRzKGVycm9yLCBlZmZlY3QpKTtcblx0fVxuXG5cdGlmICgoZWZmZWN0LmYgJiBFRkZFQ1RfUkFOKSA9PT0gMCkge1xuXHRcdC8vIGlmIHRoZSBlcnJvciBvY2N1cnJlZCB3aGlsZSBjcmVhdGluZyB0aGlzIHN1YnRyZWUsIHdlIGxldCBpdFxuXHRcdC8vIGJ1YmJsZSB1cCB1bnRpbCBpdCBoaXRzIGEgYm91bmRhcnkgdGhhdCBjYW4gaGFuZGxlIGl0XG5cdFx0aWYgKChlZmZlY3QuZiAmIEJPVU5EQVJZX0VGRkVDVCkgPT09IDApIHtcblx0XHRcdGlmIChERVYgJiYgIWVmZmVjdC5wYXJlbnQgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHRhcHBseV9hZGp1c3RtZW50cyhlcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovIChlZmZlY3QuYikuZXJyb3IoZXJyb3IpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIG90aGVyd2lzZSB3ZSBidWJibGUgdXAgdGhlIGVmZmVjdCB0cmVlIG91cnNlbHZlc1xuXHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgZWZmZWN0KTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIGVmZmVjdCkge1xuXHR3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0aWYgKChlZmZlY3QuZiAmIEJPVU5EQVJZX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovIChlZmZlY3QuYikuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRlZmZlY3QgPSBlZmZlY3QucGFyZW50O1xuXHR9XG5cblx0aWYgKERFViAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0YXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpO1xuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG5cbi8qKlxuICogQWRkIHVzZWZ1bCBpbmZvcm1hdGlvbiB0byB0aGUgZXJyb3IgbWVzc2FnZS9zdGFjayBpbiBkZXZlbG9wbWVudFxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3JcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZnVuY3Rpb24gZ2V0X2FkanVzdG1lbnRzKGVycm9yLCBlZmZlY3QpIHtcblx0Y29uc3QgbWVzc2FnZV9kZXNjcmlwdG9yID0gZ2V0X2Rlc2NyaXB0b3IoZXJyb3IsICdtZXNzYWdlJyk7XG5cblx0Ly8gaWYgdGhlIG1lc3NhZ2Ugd2FzIGFscmVhZHkgY2hhbmdlZCBhbmQgaXQncyBub3QgY29uZmlndXJhYmxlIHdlIGNhbid0IGNoYW5nZSBpdFxuXHQvLyBvciBpdCB3aWxsIHRocm93IGEgZGlmZmVyZW50IGVycm9yIHN3YWxsb3dpbmcgdGhlIG9yaWdpbmFsIGVycm9yXG5cdGlmIChtZXNzYWdlX2Rlc2NyaXB0b3IgJiYgIW1lc3NhZ2VfZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHJldHVybjtcblxuXHR2YXIgaW5kZW50ID0gaXNfZmlyZWZveCA/ICcgICcgOiAnXFx0Jztcblx0dmFyIGNvbXBvbmVudF9zdGFjayA9IGBcXG4ke2luZGVudH1pbiAke2VmZmVjdC5mbj8ubmFtZSB8fCAnPHVua25vd24+J31gO1xuXHR2YXIgY29udGV4dCA9IGVmZmVjdC5jdHg7XG5cblx0d2hpbGUgKGNvbnRleHQgIT09IG51bGwpIHtcblx0XHRjb21wb25lbnRfc3RhY2sgKz0gYFxcbiR7aW5kZW50fWluICR7Y29udGV4dC5mdW5jdGlvbj8uW0ZJTEVOQU1FXS5zcGxpdCgnLycpLnBvcCgpfWA7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQucDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0bWVzc2FnZTogZXJyb3IubWVzc2FnZSArIGBcXG4ke2NvbXBvbmVudF9zdGFja31cXG5gLFxuXHRcdHN0YWNrOiBlcnJvci5zdGFja1xuXHRcdFx0Py5zcGxpdCgnXFxuJylcblx0XHRcdC5maWx0ZXIoKGxpbmUpID0+ICFsaW5lLmluY2x1ZGVzKCdzdmVsdGUvc3JjL2ludGVybmFsJykpXG5cdFx0XHQuam9pbignXFxuJylcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvclxuICovXG5mdW5jdGlvbiBhcHBseV9hZGp1c3RtZW50cyhlcnJvcikge1xuXHRjb25zdCBhZGp1c3RlZCA9IGFkanVzdG1lbnRzLmdldChlcnJvcik7XG5cblx0aWYgKGFkanVzdGVkKSB7XG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGVycm9yLCAnbWVzc2FnZScsIHtcblx0XHRcdHZhbHVlOiBhZGp1c3RlZC5tZXNzYWdlXG5cdFx0fSk7XG5cblx0XHRkZWZpbmVfcHJvcGVydHkoZXJyb3IsICdzdGFjaycsIHtcblx0XHRcdHZhbHVlOiBhZGp1c3RlZC5zdGFja1xuXHRcdH0pO1xuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBTaWduYWwgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgQ0xFQU4sIENPTk5FQ1RFRCwgRElSVFksIE1BWUJFX0RJUlRZIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuXG5jb25zdCBTVEFUVVNfTUFTSyA9IH4oRElSVFkgfCBNQVlCRV9ESVJUWSB8IENMRUFOKTtcblxuLyoqXG4gKiBAcGFyYW0ge1NpZ25hbH0gc2lnbmFsXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc2lnbmFsX3N0YXR1cyhzaWduYWwsIHN0YXR1cykge1xuXHRzaWduYWwuZiA9IChzaWduYWwuZiAmIFNUQVRVU19NQVNLKSB8IHN0YXR1cztcbn1cblxuLyoqXG4gKiBTZXQgYSBkZXJpdmVkJ3Mgc3RhdHVzIHRvIENMRUFOIG9yIE1BWUJFX0RJUlRZIGJhc2VkIG9uIGl0cyBjb25uZWN0aW9uIHN0YXRlLlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZGVyaXZlZF9zdGF0dXMoZGVyaXZlZCkge1xuXHQvLyBPbmx5IG1hcmsgYXMgTUFZQkVfRElSVFkgaWYgZGlzY29ubmVjdGVkIGFuZCBoYXMgZGVwZW5kZW5jaWVzLlxuXHRpZiAoKGRlcml2ZWQuZiAmIENPTk5FQ1RFRCkgIT09IDAgfHwgZGVyaXZlZC5kZXBzID09PSBudWxsKSB7XG5cdFx0c2V0X3NpZ25hbF9zdGF0dXMoZGVyaXZlZCwgQ0xFQU4pO1xuXHR9IGVsc2Uge1xuXHRcdHNldF9zaWduYWxfc3RhdHVzKGRlcml2ZWQsIE1BWUJFX0RJUlRZKTtcblx0fVxufVxuIiwgIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBDTEVBTiwgREVSSVZFRCwgRElSVFksIE1BWUJFX0RJUlRZLCBXQVNfTUFSS0VEIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0X3NpZ25hbF9zdGF0dXMgfSBmcm9tICcuL3N0YXR1cy5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtWYWx1ZVtdIHwgbnVsbH0gZGVwc1xuICovXG5mdW5jdGlvbiBjbGVhcl9tYXJrZWQoZGVwcykge1xuXHRpZiAoZGVwcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcblx0XHRpZiAoKGRlcC5mICYgREVSSVZFRCkgPT09IDAgfHwgKGRlcC5mICYgV0FTX01BUktFRCkgPT09IDApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRlcC5mIF49IFdBU19NQVJLRUQ7XG5cblx0XHRjbGVhcl9tYXJrZWQoLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoZGVwKS5kZXBzKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7U2V0PEVmZmVjdD59IGRpcnR5X2VmZmVjdHNcbiAqIEBwYXJhbSB7U2V0PEVmZmVjdD59IG1heWJlX2RpcnR5X2VmZmVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVyX2VmZmVjdChlZmZlY3QsIGRpcnR5X2VmZmVjdHMsIG1heWJlX2RpcnR5X2VmZmVjdHMpIHtcblx0aWYgKChlZmZlY3QuZiAmIERJUlRZKSAhPT0gMCkge1xuXHRcdGRpcnR5X2VmZmVjdHMuYWRkKGVmZmVjdCk7XG5cdH0gZWxzZSBpZiAoKGVmZmVjdC5mICYgTUFZQkVfRElSVFkpICE9PSAwKSB7XG5cdFx0bWF5YmVfZGlydHlfZWZmZWN0cy5hZGQoZWZmZWN0KTtcblx0fVxuXG5cdC8vIFNpbmNlIHdlJ3JlIG5vdCBleGVjdXRpbmcgdGhlc2UgZWZmZWN0cyBub3csIHdlIG5lZWQgdG8gY2xlYXIgYW55IFdBU19NQVJLRUQgZmxhZ3Ncblx0Ly8gc28gdGhhdCBvdGhlciBiYXRjaGVzIGNhbiBjb3JyZWN0bHkgcmVhY2ggdGhlc2UgZWZmZWN0cyBkdXJpbmcgdGhlaXIgb3duIHRyYXZlcnNhbFxuXHRjbGVhcl9tYXJrZWQoZWZmZWN0LmRlcHMpO1xuXG5cdC8vIG1hcmsgYXMgY2xlYW4gc28gdGhleSBnZXQgc2NoZWR1bGVkIGlmIHRoZXkgZGVwZW5kIG9uIHBlbmRpbmcgYXN5bmMgc3RhdGVcblx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBDTEVBTik7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBGb3JrIH0gZnJvbSAnc3ZlbHRlJyAqL1xuLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFJlYWN0aW9uLCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgQm91bmRhcnkgfSBmcm9tICcuLi9kb20vYmxvY2tzL2JvdW5kYXJ5JyAqL1xuaW1wb3J0IHtcblx0QkxPQ0tfRUZGRUNULFxuXHRCUkFOQ0hfRUZGRUNULFxuXHRDTEVBTixcblx0REVTVFJPWUVELFxuXHRESVJUWSxcblx0RUZGRUNULFxuXHRBU1lOQyxcblx0SU5FUlQsXG5cdFJFTkRFUl9FRkZFQ1QsXG5cdFJPT1RfRUZGRUNULFxuXHRNQVlCRV9ESVJUWSxcblx0REVSSVZFRCxcblx0Qk9VTkRBUllfRUZGRUNULFxuXHRFQUdFUl9FRkZFQ1QsXG5cdEhFQURfRUZGRUNULFxuXHRFUlJPUl9WQUxVRSxcblx0TUFOQUdFRF9FRkZFQ1Rcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgZGVmZXJyZWQsIGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRnZXQsXG5cdGluY3JlbWVudF93cml0ZV92ZXJzaW9uLFxuXHRpc19kaXJ0eSxcblx0aXNfdXBkYXRpbmdfZWZmZWN0LFxuXHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0LFxuXHR1cGRhdGVfZWZmZWN0XG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZmx1c2hfdGFza3MsIHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi9kb20vdGFzay5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGludm9rZV9lcnJvcl9ib3VuZGFyeSB9IGZyb20gJy4uL2Vycm9yLWhhbmRsaW5nLmpzJztcbmltcG9ydCB7IGZsdXNoX2VhZ2VyX2VmZmVjdHMsIG9sZF92YWx1ZXMsIHNldF9lYWdlcl9lZmZlY3RzLCBzb3VyY2UsIHVwZGF0ZSB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBlYWdlcl9lZmZlY3QsIHVubGlua19lZmZlY3QgfSBmcm9tICcuL2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgZGVmZXJfZWZmZWN0IH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMuanMnO1xuXG4vKiogQHR5cGUge1NldDxCYXRjaD59ICovXG5jb25zdCBiYXRjaGVzID0gbmV3IFNldCgpO1xuXG4vKiogQHR5cGUge0JhdGNoIHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgY3VycmVudF9iYXRjaCA9IG51bGw7XG5cbi8qKlxuICogVGhpcyBpcyBuZWVkZWQgdG8gYXZvaWQgb3ZlcndyaXRpbmcgaW5wdXRzIGluIG5vbi1hc3luYyBtb2RlXG4gKiBUT0RPIDYuMCByZW1vdmUgdGhpcywgYXMgbm9uLWFzeW5jIG1vZGUgd2lsbCBnbyBhd2F5XG4gKiBAdHlwZSB7QmF0Y2ggfCBudWxsfVxuICovXG5leHBvcnQgbGV0IHByZXZpb3VzX2JhdGNoID0gbnVsbDtcblxuLyoqXG4gKiBXaGVuIHRpbWUgdHJhdmVsbGluZyAoaS5lLiB3b3JraW5nIGluIG9uZSBiYXRjaCwgd2hpbGUgb3RoZXIgYmF0Y2hlc1xuICogc3RpbGwgaGF2ZSBvbmdvaW5nIHdvcmspLCB3ZSBpZ25vcmUgdGhlIHJlYWwgdmFsdWVzIG9mIGFmZmVjdGVkXG4gKiBzaWduYWxzIGluIGZhdm91ciBvZiB0aGVpciB2YWx1ZXMgd2l0aGluIHRoZSBiYXRjaFxuICogQHR5cGUge01hcDxWYWx1ZSwgYW55PiB8IG51bGx9XG4gKi9cbmV4cG9ydCBsZXQgYmF0Y2hfdmFsdWVzID0gbnVsbDtcblxuLy8gVE9ETyB0aGlzIHNob3VsZCByZWFsbHkgYmUgYSBwcm9wZXJ0eSBvZiBgYmF0Y2hgXG4vKiogQHR5cGUge0VmZmVjdFtdfSAqL1xubGV0IHF1ZXVlZF9yb290X2VmZmVjdHMgPSBbXTtcblxuLyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xubGV0IGxhc3Rfc2NoZWR1bGVkX2VmZmVjdCA9IG51bGw7XG5cbmxldCBpc19mbHVzaGluZyA9IGZhbHNlO1xuZXhwb3J0IGxldCBpc19mbHVzaGluZ19zeW5jID0gZmFsc2U7XG5cbmV4cG9ydCBjbGFzcyBCYXRjaCB7XG5cdGNvbW1pdHRlZCA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCB2YWx1ZXMgb2YgYW55IHNvdXJjZXMgdGhhdCBhcmUgdXBkYXRlZCBpbiB0aGlzIGJhdGNoXG5cdCAqIFRoZXkga2V5cyBvZiB0aGlzIG1hcCBhcmUgaWRlbnRpY2FsIHRvIGB0aGlzLiNwcmV2aW91c2Bcblx0ICogQHR5cGUge01hcDxTb3VyY2UsIGFueT59XG5cdCAqL1xuXHRjdXJyZW50ID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBUaGUgdmFsdWVzIG9mIGFueSBzb3VyY2VzIHRoYXQgYXJlIHVwZGF0ZWQgaW4gdGhpcyBiYXRjaCBfYmVmb3JlXyB0aG9zZSB1cGRhdGVzIHRvb2sgcGxhY2UuXG5cdCAqIFRoZXkga2V5cyBvZiB0aGlzIG1hcCBhcmUgaWRlbnRpY2FsIHRvIGB0aGlzLiNjdXJyZW50YFxuXHQgKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn1cblx0ICovXG5cdHByZXZpb3VzID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBXaGVuIHRoZSBiYXRjaCBpcyBjb21taXR0ZWQgKGFuZCB0aGUgRE9NIGlzIHVwZGF0ZWQpLCB3ZSBuZWVkIHRvIHJlbW92ZSBvbGQgYnJhbmNoZXNcblx0ICogYW5kIGFwcGVuZCBuZXcgb25lcyBieSBjYWxsaW5nIHRoZSBmdW5jdGlvbnMgYWRkZWQgaW5zaWRlIChpZi9lYWNoL2tleS9ldGMpIGJsb2Nrc1xuXHQgKiBAdHlwZSB7U2V0PCgpID0+IHZvaWQ+fVxuXHQgKi9cblx0I2NvbW1pdF9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIElmIGEgZm9yayBpcyBkaXNjYXJkZWQsIHdlIG5lZWQgdG8gZGVzdHJveSBhbnkgZWZmZWN0cyB0aGF0IGFyZSBubyBsb25nZXIgbmVlZGVkXG5cdCAqIEB0eXBlIHtTZXQ8KGJhdGNoOiBCYXRjaCkgPT4gdm9pZD59XG5cdCAqL1xuXHQjZGlzY2FyZF9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2YgYXN5bmMgZWZmZWN0cyB0aGF0IGFyZSBjdXJyZW50bHkgaW4gZmxpZ2h0XG5cdCAqL1xuXHQjcGVuZGluZyA9IDA7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2YgYXN5bmMgZWZmZWN0cyB0aGF0IGFyZSBjdXJyZW50bHkgaW4gZmxpZ2h0LCBfbm90XyBpbnNpZGUgYSBwZW5kaW5nIGJvdW5kYXJ5XG5cdCAqL1xuXHQjYmxvY2tpbmdfcGVuZGluZyA9IDA7XG5cblx0LyoqXG5cdCAqIEEgZGVmZXJyZWQgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBiYXRjaCBpcyBjb21taXR0ZWQsIHVzZWQgd2l0aCBgc2V0dGxlZCgpYFxuXHQgKiBUT0RPIHJlcGxhY2Ugd2l0aCBQcm9taXNlLndpdGhSZXNvbHZlcnMgb25jZSBzdXBwb3J0ZWQgd2lkZWx5IGVub3VnaFxuXHQgKiBAdHlwZSB7eyBwcm9taXNlOiBQcm9taXNlPHZvaWQ+LCByZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHJlYXNvbjogdW5rbm93bikgPT4gdm9pZCB9IHwgbnVsbH1cblx0ICovXG5cdCNkZWZlcnJlZCA9IG51bGw7XG5cblx0LyoqXG5cdCAqIERlZmVycmVkIGVmZmVjdHMgKHdoaWNoIHJ1biBhZnRlciBhc3luYyB3b3JrIGhhcyBjb21wbGV0ZWQpIHRoYXQgYXJlIERJUlRZXG5cdCAqIEB0eXBlIHtTZXQ8RWZmZWN0Pn1cblx0ICovXG5cdCNkaXJ0eV9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBEZWZlcnJlZCBlZmZlY3RzIHRoYXQgYXJlIE1BWUJFX0RJUlRZXG5cdCAqIEB0eXBlIHtTZXQ8RWZmZWN0Pn1cblx0ICovXG5cdCNtYXliZV9kaXJ0eV9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBBIHNldCBvZiBicmFuY2hlcyB0aGF0IHN0aWxsIGV4aXN0LCBidXQgd2lsbCBiZSBkZXN0cm95ZWQgd2hlbiB0aGlzIGJhdGNoXG5cdCAqIGlzIGNvbW1pdHRlZCBcdTIwMTQgd2Ugc2tpcCBvdmVyIHRoZXNlIGR1cmluZyBgcHJvY2Vzc2Bcblx0ICogQHR5cGUge1NldDxFZmZlY3Q+fVxuXHQgKi9cblx0c2tpcHBlZF9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdGlzX2ZvcmsgPSBmYWxzZTtcblxuXHRpc19kZWZlcnJlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pc19mb3JrIHx8IHRoaXMuI2Jsb2NraW5nX3BlbmRpbmcgPiAwO1xuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7RWZmZWN0W119IHJvb3RfZWZmZWN0c1xuXHQgKi9cblx0cHJvY2Vzcyhyb290X2VmZmVjdHMpIHtcblx0XHRxdWV1ZWRfcm9vdF9lZmZlY3RzID0gW107XG5cblx0XHRwcmV2aW91c19iYXRjaCA9IG51bGw7XG5cblx0XHR0aGlzLmFwcGx5KCk7XG5cblx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdHZhciBlZmZlY3RzID0gW107XG5cblx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdHZhciByZW5kZXJfZWZmZWN0cyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCByb290IG9mIHJvb3RfZWZmZWN0cykge1xuXHRcdFx0dGhpcy4jdHJhdmVyc2VfZWZmZWN0X3RyZWUocm9vdCwgZWZmZWN0cywgcmVuZGVyX2VmZmVjdHMpO1xuXHRcdFx0Ly8gTm90ZTogI3RyYXZlcnNlX2VmZmVjdF90cmVlIHJ1bnMgYmxvY2sgZWZmZWN0cyBlYWdlcmx5LCB3aGljaCBjYW4gc2NoZWR1bGUgZWZmZWN0cyxcblx0XHRcdC8vIHdoaWNoIG1lYW5zIHF1ZXVlZF9yb290X2VmZmVjdHMgbm93IG1heSBiZSBmaWxsZWQgYWdhaW4uXG5cblx0XHRcdC8vIEhlbHBmdWwgZm9yIGRlYnVnZ2luZyByZWFjdGl2aXR5IGxvc3MgdGhhdCBoYXMgdG8gZG8gd2l0aCBicmFuY2hlcyBiZWluZyBza2lwcGVkOlxuXHRcdFx0Ly8gbG9nX2luY29uc2lzdGVudF9icmFuY2hlcyhyb290KTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuaXNfZm9yaykge1xuXHRcdFx0dGhpcy4jcmVzb2x2ZSgpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzX2RlZmVycmVkKCkpIHtcblx0XHRcdHRoaXMuI2RlZmVyX2VmZmVjdHMocmVuZGVyX2VmZmVjdHMpO1xuXHRcdFx0dGhpcy4jZGVmZXJfZWZmZWN0cyhlZmZlY3RzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSWYgc291cmNlcyBhcmUgd3JpdHRlbiB0bywgdGhlbiB3b3JrIG5lZWRzIHRvIGhhcHBlbiBpbiBhIHNlcGFyYXRlIGJhdGNoLCBlbHNlIHByaW9yIHNvdXJjZXMgd291bGQgYmUgbWl4ZWQgd2l0aFxuXHRcdFx0Ly8gbmV3bHkgdXBkYXRlZCBzb3VyY2VzLCB3aGljaCBjb3VsZCBsZWFkIHRvIGluZmluaXRlIGxvb3BzIHdoZW4gZWZmZWN0cyBydW4gb3ZlciBhbmQgb3ZlciBhZ2Fpbi5cblx0XHRcdHByZXZpb3VzX2JhdGNoID0gdGhpcztcblx0XHRcdGN1cnJlbnRfYmF0Y2ggPSBudWxsO1xuXG5cdFx0XHRmbHVzaF9xdWV1ZWRfZWZmZWN0cyhyZW5kZXJfZWZmZWN0cyk7XG5cdFx0XHRmbHVzaF9xdWV1ZWRfZWZmZWN0cyhlZmZlY3RzKTtcblxuXHRcdFx0cHJldmlvdXNfYmF0Y2ggPSBudWxsO1xuXG5cdFx0XHR0aGlzLiNkZWZlcnJlZD8ucmVzb2x2ZSgpO1xuXHRcdH1cblxuXHRcdGJhdGNoX3ZhbHVlcyA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogVHJhdmVyc2UgdGhlIGVmZmVjdCB0cmVlLCBleGVjdXRpbmcgZWZmZWN0cyBvciBzdGFzaGluZ1xuXHQgKiB0aGVtIGZvciBsYXRlciBleGVjdXRpb24gYXMgYXBwcm9wcmlhdGVcblx0ICogQHBhcmFtIHtFZmZlY3R9IHJvb3Rcblx0ICogQHBhcmFtIHtFZmZlY3RbXX0gZWZmZWN0c1xuXHQgKiBAcGFyYW0ge0VmZmVjdFtdfSByZW5kZXJfZWZmZWN0c1xuXHQgKi9cblx0I3RyYXZlcnNlX2VmZmVjdF90cmVlKHJvb3QsIGVmZmVjdHMsIHJlbmRlcl9lZmZlY3RzKSB7XG5cdFx0cm9vdC5mIF49IENMRUFOO1xuXG5cdFx0dmFyIGVmZmVjdCA9IHJvb3QuZmlyc3Q7XG5cblx0XHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdFx0dmFyIHBlbmRpbmdfYm91bmRhcnkgPSBudWxsO1xuXG5cdFx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0dmFyIGZsYWdzID0gZWZmZWN0LmY7XG5cdFx0XHR2YXIgaXNfYnJhbmNoID0gKGZsYWdzICYgKEJSQU5DSF9FRkZFQ1QgfCBST09UX0VGRkVDVCkpICE9PSAwO1xuXHRcdFx0dmFyIGlzX3NraXBwYWJsZV9icmFuY2ggPSBpc19icmFuY2ggJiYgKGZsYWdzICYgQ0xFQU4pICE9PSAwO1xuXG5cdFx0XHR2YXIgc2tpcCA9IGlzX3NraXBwYWJsZV9icmFuY2ggfHwgKGZsYWdzICYgSU5FUlQpICE9PSAwIHx8IHRoaXMuc2tpcHBlZF9lZmZlY3RzLmhhcyhlZmZlY3QpO1xuXG5cdFx0XHQvLyBJbnNpZGUgYSBgPHN2ZWx0ZTpib3VuZGFyeT5gIHdpdGggYSBwZW5kaW5nIHNuaXBwZXQsXG5cdFx0XHQvLyBhbGwgZWZmZWN0cyBhcmUgZGVmZXJyZWQgdW50aWwgdGhlIGJvdW5kYXJ5IHJlc29sdmVzXG5cdFx0XHQvLyAoZXhjZXB0IGJsb2NrL2FzeW5jIGVmZmVjdHMsIHdoaWNoIHJ1biBpbW1lZGlhdGVseSlcblx0XHRcdGlmIChcblx0XHRcdFx0YXN5bmNfbW9kZV9mbGFnICYmXG5cdFx0XHRcdHBlbmRpbmdfYm91bmRhcnkgPT09IG51bGwgJiZcblx0XHRcdFx0KGZsYWdzICYgQk9VTkRBUllfRUZGRUNUKSAhPT0gMCAmJlxuXHRcdFx0XHRlZmZlY3QuYj8uaXNfcGVuZGluZ1xuXHRcdFx0KSB7XG5cdFx0XHRcdHBlbmRpbmdfYm91bmRhcnkgPSBlZmZlY3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghc2tpcCAmJiBlZmZlY3QuZm4gIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKGlzX2JyYW5jaCkge1xuXHRcdFx0XHRcdGVmZmVjdC5mIF49IENMRUFOO1xuXHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdHBlbmRpbmdfYm91bmRhcnkgIT09IG51bGwgJiZcblx0XHRcdFx0XHQoZmxhZ3MgJiAoRUZGRUNUIHwgUkVOREVSX0VGRkVDVCB8IE1BTkFHRURfRUZGRUNUKSkgIT09IDBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtCb3VuZGFyeX0gKi8gKHBlbmRpbmdfYm91bmRhcnkuYikuZGVmZXJfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoKGZsYWdzICYgRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0XHRcdGVmZmVjdHMucHVzaChlZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFzeW5jX21vZGVfZmxhZyAmJiAoZmxhZ3MgJiAoUkVOREVSX0VGRkVDVCB8IE1BTkFHRURfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdFx0XHRyZW5kZXJfZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoaXNfZGlydHkoZWZmZWN0KSkge1xuXHRcdFx0XHRcdGlmICgoZmxhZ3MgJiBCTE9DS19FRkZFQ1QpICE9PSAwKSB0aGlzLiNkaXJ0eV9lZmZlY3RzLmFkZChlZmZlY3QpO1xuXHRcdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBjaGlsZCA9IGVmZmVjdC5maXJzdDtcblxuXHRcdFx0XHRpZiAoY2hpbGQgIT09IG51bGwpIHtcblx0XHRcdFx0XHRlZmZlY3QgPSBjaGlsZDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWZmZWN0LnBhcmVudDtcblx0XHRcdGVmZmVjdCA9IGVmZmVjdC5uZXh0O1xuXG5cdFx0XHR3aGlsZSAoZWZmZWN0ID09PSBudWxsICYmIHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdFx0XHRpZiAocGFyZW50ID09PSBwZW5kaW5nX2JvdW5kYXJ5KSB7XG5cdFx0XHRcdFx0cGVuZGluZ19ib3VuZGFyeSA9IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlZmZlY3QgPSBwYXJlbnQubmV4dDtcblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtFZmZlY3RbXX0gZWZmZWN0c1xuXHQgKi9cblx0I2RlZmVyX2VmZmVjdHMoZWZmZWN0cykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWZmZWN0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0ZGVmZXJfZWZmZWN0KGVmZmVjdHNbaV0sIHRoaXMuI2RpcnR5X2VmZmVjdHMsIHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBc3NvY2lhdGUgYSBjaGFuZ2UgdG8gYSBnaXZlbiBzb3VyY2Ugd2l0aCB0aGUgY3VycmVudFxuXHQgKiBiYXRjaCwgbm90aW5nIGl0cyBwcmV2aW91cyBhbmQgY3VycmVudCB2YWx1ZXNcblx0ICogQHBhcmFtIHtTb3VyY2V9IHNvdXJjZVxuXHQgKiBAcGFyYW0ge2FueX0gdmFsdWVcblx0ICovXG5cdGNhcHR1cmUoc291cmNlLCB2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSAhPT0gVU5JTklUSUFMSVpFRCAmJiAhdGhpcy5wcmV2aW91cy5oYXMoc291cmNlKSkge1xuXHRcdFx0dGhpcy5wcmV2aW91cy5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3Qgc2F2ZSBlcnJvcnMgaW4gYGJhdGNoX3ZhbHVlc2AsIG9yIHRoZXkgd29uJ3QgYmUgdGhyb3duIGluIGBydW50aW1lLmpzI2dldGBcblx0XHRpZiAoKHNvdXJjZS5mICYgRVJST1JfVkFMVUUpID09PSAwKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2V0KHNvdXJjZSwgc291cmNlLnYpO1xuXHRcdFx0YmF0Y2hfdmFsdWVzPy5zZXQoc291cmNlLCBzb3VyY2Uudik7XG5cdFx0fVxuXHR9XG5cblx0YWN0aXZhdGUoKSB7XG5cdFx0Y3VycmVudF9iYXRjaCA9IHRoaXM7XG5cdFx0dGhpcy5hcHBseSgpO1xuXHR9XG5cblx0ZGVhY3RpdmF0ZSgpIHtcblx0XHQvLyBJZiB3ZSdyZSBub3QgdGhlIGN1cnJlbnQgYmF0Y2gsIGRvbid0IGRlYWN0aXZhdGUsXG5cdFx0Ly8gZWxzZSB3ZSBjb3VsZCBjcmVhdGUgem9tYmllIGJhdGNoZXMgdGhhdCBhcmUgbmV2ZXIgZmx1c2hlZFxuXHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSB0aGlzKSByZXR1cm47XG5cblx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHR9XG5cblx0Zmx1c2goKSB7XG5cdFx0dGhpcy5hY3RpdmF0ZSgpO1xuXG5cdFx0aWYgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Zmx1c2hfZWZmZWN0cygpO1xuXG5cdFx0XHRpZiAoY3VycmVudF9iYXRjaCAhPT0gbnVsbCAmJiBjdXJyZW50X2JhdGNoICE9PSB0aGlzKSB7XG5cdFx0XHRcdC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhIG5ldyBiYXRjaCB3YXMgY3JlYXRlZCBkdXJpbmcgYGZsdXNoX2VmZmVjdHMoKWBcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy4jcGVuZGluZyA9PT0gMCkge1xuXHRcdFx0dGhpcy5wcm9jZXNzKFtdKTsgLy8gVE9ETyB0aGlzIGZlZWxzIGF3a3dhcmRcblx0XHR9XG5cblx0XHR0aGlzLmRlYWN0aXZhdGUoKTtcblx0fVxuXG5cdGRpc2NhcmQoKSB7XG5cdFx0Zm9yIChjb25zdCBmbiBvZiB0aGlzLiNkaXNjYXJkX2NhbGxiYWNrcykgZm4odGhpcyk7XG5cdFx0dGhpcy4jZGlzY2FyZF9jYWxsYmFja3MuY2xlYXIoKTtcblx0fVxuXG5cdCNyZXNvbHZlKCkge1xuXHRcdGlmICh0aGlzLiNibG9ja2luZ19wZW5kaW5nID09PSAwKSB7XG5cdFx0XHQvLyBhcHBlbmQvcmVtb3ZlIGJyYW5jaGVzXG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIHRoaXMuI2NvbW1pdF9jYWxsYmFja3MpIGZuKCk7XG5cdFx0XHR0aGlzLiNjb21taXRfY2FsbGJhY2tzLmNsZWFyKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdHRoaXMuI2NvbW1pdCgpO1xuXHRcdH1cblx0fVxuXG5cdCNjb21taXQoKSB7XG5cdFx0Ly8gSWYgdGhlcmUgYXJlIG90aGVyIHBlbmRpbmcgYmF0Y2hlcywgdGhleSBub3cgbmVlZCB0byBiZSAncmViYXNlZCcgXHUyMDE0XG5cdFx0Ly8gaW4gb3RoZXIgd29yZHMsIHdlIHJlLXJ1biBibG9jay9hc3luYyBlZmZlY3RzIHdpdGggdGhlIG5ld2x5XG5cdFx0Ly8gY29tbWl0dGVkIHN0YXRlLCB1bmxlc3MgdGhlIGJhdGNoIGluIHF1ZXN0aW9uIGhhcyBhIG1vcmVcblx0XHQvLyByZWNlbnQgdmFsdWUgZm9yIGEgZ2l2ZW4gc291cmNlXG5cdFx0aWYgKGJhdGNoZXMuc2l6ZSA+IDEpIHtcblx0XHRcdHRoaXMucHJldmlvdXMuY2xlYXIoKTtcblxuXHRcdFx0dmFyIHByZXZpb3VzX2JhdGNoX3ZhbHVlcyA9IGJhdGNoX3ZhbHVlcztcblx0XHRcdHZhciBpc19lYXJsaWVyID0gdHJ1ZTtcblxuXHRcdFx0Zm9yIChjb25zdCBiYXRjaCBvZiBiYXRjaGVzKSB7XG5cdFx0XHRcdGlmIChiYXRjaCA9PT0gdGhpcykge1xuXHRcdFx0XHRcdGlzX2VhcmxpZXIgPSBmYWxzZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8qKiBAdHlwZSB7U291cmNlW119ICovXG5cdFx0XHRcdGNvbnN0IHNvdXJjZXMgPSBbXTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtzb3VyY2UsIHZhbHVlXSBvZiB0aGlzLmN1cnJlbnQpIHtcblx0XHRcdFx0XHRpZiAoYmF0Y2guY3VycmVudC5oYXMoc291cmNlKSkge1xuXHRcdFx0XHRcdFx0aWYgKGlzX2VhcmxpZXIgJiYgdmFsdWUgIT09IGJhdGNoLmN1cnJlbnQuZ2V0KHNvdXJjZSkpIHtcblx0XHRcdFx0XHRcdFx0Ly8gYnJpbmcgdGhlIHZhbHVlIHVwIHRvIGRhdGVcblx0XHRcdFx0XHRcdFx0YmF0Y2guY3VycmVudC5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBzYW1lIHZhbHVlIG9yIGxhdGVyIGJhdGNoIGhhcyBtb3JlIHJlY2VudCB2YWx1ZSxcblx0XHRcdFx0XHRcdFx0Ly8gbm8gbmVlZCB0byByZS1ydW4gdGhlc2UgZWZmZWN0c1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzb3VyY2VzLnB1c2goc291cmNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmUtcnVuIGFzeW5jL2Jsb2NrIGVmZmVjdHMgdGhhdCBkZXBlbmQgb24gZGlzdGluY3QgdmFsdWVzIGNoYW5nZWQgaW4gYm90aCBiYXRjaGVzXG5cdFx0XHRcdGNvbnN0IG90aGVycyA9IFsuLi5iYXRjaC5jdXJyZW50LmtleXMoKV0uZmlsdGVyKChzKSA9PiAhdGhpcy5jdXJyZW50LmhhcyhzKSk7XG5cdFx0XHRcdGlmIChvdGhlcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdC8vIEF2b2lkIHJ1bm5pbmcgcXVldWVkIHJvb3QgZWZmZWN0cyBvbiB0aGUgd3JvbmcgYnJhbmNoXG5cdFx0XHRcdFx0dmFyIHByZXZfcXVldWVkX3Jvb3RfZWZmZWN0cyA9IHF1ZXVlZF9yb290X2VmZmVjdHM7XG5cdFx0XHRcdFx0cXVldWVkX3Jvb3RfZWZmZWN0cyA9IFtdO1xuXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtTZXQ8VmFsdWU+fSAqL1xuXHRcdFx0XHRcdGNvbnN0IG1hcmtlZCA9IG5ldyBTZXQoKTtcblx0XHRcdFx0XHQvKiogQHR5cGUge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59ICovXG5cdFx0XHRcdFx0Y29uc3QgY2hlY2tlZCA9IG5ldyBNYXAoKTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG5cdFx0XHRcdFx0XHRtYXJrX2VmZmVjdHMoc291cmNlLCBvdGhlcnMsIG1hcmtlZCwgY2hlY2tlZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9iYXRjaCA9IGJhdGNoO1xuXHRcdFx0XHRcdFx0YmF0Y2guYXBwbHkoKTtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCByb290IG9mIHF1ZXVlZF9yb290X2VmZmVjdHMpIHtcblx0XHRcdFx0XHRcdFx0YmF0Y2guI3RyYXZlcnNlX2VmZmVjdF90cmVlKHJvb3QsIFtdLCBbXSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFRPRE8gZG8gd2UgbmVlZCB0byBkbyBhbnl0aGluZyB3aXRoIHRoZSBkdW1teSBlZmZlY3QgYXJyYXlzP1xuXG5cdFx0XHRcdFx0XHRiYXRjaC5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cXVldWVkX3Jvb3RfZWZmZWN0cyA9IHByZXZfcXVldWVkX3Jvb3RfZWZmZWN0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblx0XHRcdGJhdGNoX3ZhbHVlcyA9IHByZXZpb3VzX2JhdGNoX3ZhbHVlcztcblx0XHR9XG5cblx0XHR0aGlzLmNvbW1pdHRlZCA9IHRydWU7XG5cdFx0YmF0Y2hlcy5kZWxldGUodGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHtib29sZWFufSBibG9ja2luZ1xuXHQgKi9cblx0aW5jcmVtZW50KGJsb2NraW5nKSB7XG5cdFx0dGhpcy4jcGVuZGluZyArPSAxO1xuXHRcdGlmIChibG9ja2luZykgdGhpcy4jYmxvY2tpbmdfcGVuZGluZyArPSAxO1xuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYmxvY2tpbmdcblx0ICovXG5cdGRlY3JlbWVudChibG9ja2luZykge1xuXHRcdHRoaXMuI3BlbmRpbmcgLT0gMTtcblx0XHRpZiAoYmxvY2tpbmcpIHRoaXMuI2Jsb2NraW5nX3BlbmRpbmcgLT0gMTtcblxuXHRcdHRoaXMucmV2aXZlKCk7XG5cdH1cblxuXHRyZXZpdmUoKSB7XG5cdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI2RpcnR5X2VmZmVjdHMpIHtcblx0XHRcdHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMuZGVsZXRlKGUpO1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZSwgRElSVFkpO1xuXHRcdFx0c2NoZWR1bGVfZWZmZWN0KGUpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNtYXliZV9kaXJ0eV9lZmZlY3RzKSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHRzY2hlZHVsZV9lZmZlY3QoZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mbHVzaCgpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm4gKi9cblx0b25jb21taXQoZm4pIHtcblx0XHR0aGlzLiNjb21taXRfY2FsbGJhY2tzLmFkZChmbik7XG5cdH1cblxuXHQvKiogQHBhcmFtIHsoYmF0Y2g6IEJhdGNoKSA9PiB2b2lkfSBmbiAqL1xuXHRvbmRpc2NhcmQoZm4pIHtcblx0XHR0aGlzLiNkaXNjYXJkX2NhbGxiYWNrcy5hZGQoZm4pO1xuXHR9XG5cblx0c2V0dGxlZCgpIHtcblx0XHRyZXR1cm4gKHRoaXMuI2RlZmVycmVkID8/PSBkZWZlcnJlZCgpKS5wcm9taXNlO1xuXHR9XG5cblx0c3RhdGljIGVuc3VyZSgpIHtcblx0XHRpZiAoY3VycmVudF9iYXRjaCA9PT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgYmF0Y2ggPSAoY3VycmVudF9iYXRjaCA9IG5ldyBCYXRjaCgpKTtcblx0XHRcdGJhdGNoZXMuYWRkKGN1cnJlbnRfYmF0Y2gpO1xuXG5cdFx0XHRpZiAoIWlzX2ZsdXNoaW5nX3N5bmMpIHtcblx0XHRcdFx0QmF0Y2guZW5xdWV1ZSgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IGJhdGNoKSB7XG5cdFx0XHRcdFx0XHQvLyBhIGZsdXNoU3luYyBoYXBwZW5lZCBpbiB0aGUgbWVhbnRpbWVcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRiYXRjaC5mbHVzaCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY3VycmVudF9iYXRjaDtcblx0fVxuXG5cdC8qKiBAcGFyYW0geygpID0+IHZvaWR9IHRhc2sgKi9cblx0c3RhdGljIGVucXVldWUodGFzaykge1xuXHRcdHF1ZXVlX21pY3JvX3Rhc2sodGFzayk7XG5cdH1cblxuXHRhcHBseSgpIHtcblx0XHRpZiAoIWFzeW5jX21vZGVfZmxhZyB8fCAoIXRoaXMuaXNfZm9yayAmJiBiYXRjaGVzLnNpemUgPT09IDEpKSByZXR1cm47XG5cblx0XHQvLyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgYmF0Y2hlcywgd2UgYXJlICd0aW1lIHRyYXZlbGxpbmcnIFx1MjAxNFxuXHRcdC8vIHdlIG5lZWQgdG8gb3ZlcnJpZGUgdmFsdWVzIHdpdGggdGhlIG9uZXMgaW4gdGhpcyBiYXRjaC4uLlxuXHRcdGJhdGNoX3ZhbHVlcyA9IG5ldyBNYXAodGhpcy5jdXJyZW50KTtcblxuXHRcdC8vIC4uLmFuZCB1bmRvIGNoYW5nZXMgYmVsb25naW5nIHRvIG90aGVyIGJhdGNoZXNcblx0XHRmb3IgKGNvbnN0IGJhdGNoIG9mIGJhdGNoZXMpIHtcblx0XHRcdGlmIChiYXRjaCA9PT0gdGhpcykgY29udGludWU7XG5cblx0XHRcdGZvciAoY29uc3QgW3NvdXJjZSwgcHJldmlvdXNdIG9mIGJhdGNoLnByZXZpb3VzKSB7XG5cdFx0XHRcdGlmICghYmF0Y2hfdmFsdWVzLmhhcyhzb3VyY2UpKSB7XG5cdFx0XHRcdFx0YmF0Y2hfdmFsdWVzLnNldChzb3VyY2UsIHByZXZpb3VzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZmx1c2ggYW55IHBlbmRpbmcgdXBkYXRlcy5cbiAqIFJldHVybnMgdm9pZCBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBjYWxsYmFjay5cbiAqIEB0ZW1wbGF0ZSBbVD12b2lkXVxuICogQHBhcmFtIHsoKCkgPT4gVCkgfCB1bmRlZmluZWR9IFtmbl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hTeW5jKGZuKSB7XG5cdHZhciB3YXNfZmx1c2hpbmdfc3luYyA9IGlzX2ZsdXNoaW5nX3N5bmM7XG5cdGlzX2ZsdXNoaW5nX3N5bmMgPSB0cnVlO1xuXG5cdHRyeSB7XG5cdFx0dmFyIHJlc3VsdDtcblxuXHRcdGlmIChmbikge1xuXHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwpIHtcblx0XHRcdFx0Zmx1c2hfZWZmZWN0cygpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXN1bHQgPSBmbigpO1xuXHRcdH1cblxuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRmbHVzaF90YXNrcygpO1xuXG5cdFx0XHRpZiAocXVldWVkX3Jvb3RfZWZmZWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y3VycmVudF9iYXRjaD8uZmx1c2goKTtcblxuXHRcdFx0XHQvLyB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluLCBpbiBjYXNlIHdlIGp1c3QgdXBkYXRlZCBhbiBgJGVmZmVjdC5wZW5kaW5nKClgXG5cdFx0XHRcdGlmIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdC8vIHRoaXMgd291bGQgYmUgcmVzZXQgaW4gYGZsdXNoX2VmZmVjdHMoKWAgYnV0IHNpbmNlIHdlIGFyZSBlYXJseSByZXR1cm5pbmcgaGVyZSxcblx0XHRcdFx0XHQvLyB3ZSBuZWVkIHRvIHJlc2V0IGl0IGhlcmUgYXMgd2VsbCBpbiBjYXNlIHRoZSBmaXJzdCB0aW1lIHRoZXJlJ3MgMCBxdWV1ZWQgcm9vdCBlZmZlY3RzXG5cdFx0XHRcdFx0bGFzdF9zY2hlZHVsZWRfZWZmZWN0ID0gbnVsbDtcblxuXHRcdFx0XHRcdHJldHVybiAvKiogQHR5cGUge1R9ICovIChyZXN1bHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZsdXNoX2VmZmVjdHMoKTtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfZmx1c2hpbmdfc3luYyA9IHdhc19mbHVzaGluZ19zeW5jO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZsdXNoX2VmZmVjdHMoKSB7XG5cdHZhciB3YXNfdXBkYXRpbmdfZWZmZWN0ID0gaXNfdXBkYXRpbmdfZWZmZWN0O1xuXHRpc19mbHVzaGluZyA9IHRydWU7XG5cblx0dmFyIHNvdXJjZV9zdGFja3MgPSBERVYgPyBuZXcgU2V0KCkgOiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0dmFyIGZsdXNoX2NvdW50ID0gMDtcblx0XHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHRydWUpO1xuXG5cdFx0d2hpbGUgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0dmFyIGJhdGNoID0gQmF0Y2guZW5zdXJlKCk7XG5cblx0XHRcdGlmIChmbHVzaF9jb3VudCsrID4gMTAwMCkge1xuXHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0dmFyIHVwZGF0ZXMgPSBuZXcgTWFwKCk7XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBiYXRjaC5jdXJyZW50LmtleXMoKSkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBbc3RhY2ssIHVwZGF0ZV0gb2Ygc291cmNlLnVwZGF0ZWQgPz8gW10pIHtcblx0XHRcdFx0XHRcdFx0dmFyIGVudHJ5ID0gdXBkYXRlcy5nZXQoc3RhY2spO1xuXG5cdFx0XHRcdFx0XHRcdGlmICghZW50cnkpIHtcblx0XHRcdFx0XHRcdFx0XHRlbnRyeSA9IHsgZXJyb3I6IHVwZGF0ZS5lcnJvciwgY291bnQ6IDAgfTtcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVzLnNldChzdGFjaywgZW50cnkpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ZW50cnkuY291bnQgKz0gdXBkYXRlLmNvdW50O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMudmFsdWVzKCkpIHtcblx0XHRcdFx0XHRcdGlmICh1cGRhdGUuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcih1cGRhdGUuZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGluZmluaXRlX2xvb3BfZ3VhcmQoKTtcblx0XHRcdH1cblxuXHRcdFx0YmF0Y2gucHJvY2VzcyhxdWV1ZWRfcm9vdF9lZmZlY3RzKTtcblx0XHRcdG9sZF92YWx1ZXMuY2xlYXIoKTtcblxuXHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBiYXRjaC5jdXJyZW50LmtleXMoKSkge1xuXHRcdFx0XHRcdC8qKiBAdHlwZSB7U2V0PFNvdXJjZT59ICovIChzb3VyY2Vfc3RhY2tzKS5hZGQoc291cmNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHRpc19mbHVzaGluZyA9IGZhbHNlO1xuXHRcdHNldF9pc191cGRhdGluZ19lZmZlY3Qod2FzX3VwZGF0aW5nX2VmZmVjdCk7XG5cblx0XHRsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0Zm9yIChjb25zdCBzb3VyY2Ugb2YgLyoqIEB0eXBlIHtTZXQ8U291cmNlPn0gKi8gKHNvdXJjZV9zdGFja3MpKSB7XG5cdFx0XHRcdHNvdXJjZS51cGRhdGVkID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gaW5maW5pdGVfbG9vcF9ndWFyZCgpIHtcblx0dHJ5IHtcblx0XHRlLmVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWQoKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoREVWKSB7XG5cdFx0XHQvLyBzdGFjayBjb250YWlucyBubyB1c2VmdWwgaW5mb3JtYXRpb24sIHJlcGxhY2UgaXRcblx0XHRcdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ3N0YWNrJywgeyB2YWx1ZTogJycgfSk7XG5cdFx0fVxuXG5cdFx0Ly8gQmVzdCBlZmZvcnQ6IGludm9rZSB0aGUgYm91bmRhcnkgbmVhcmVzdCB0aGUgbW9zdCByZWNlbnRcblx0XHQvLyBlZmZlY3QgYW5kIGhvcGUgdGhhdCBpdCdzIHJlbGV2YW50IHRvIHRoZSBpbmZpbml0ZSBsb29wXG5cdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBsYXN0X3NjaGVkdWxlZF9lZmZlY3QpO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7U2V0PEVmZmVjdD4gfCBudWxsfSAqL1xuZXhwb3J0IGxldCBlYWdlcl9ibG9ja19lZmZlY3RzID0gbnVsbDtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEVmZmVjdD59IGVmZmVjdHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBmbHVzaF9xdWV1ZWRfZWZmZWN0cyhlZmZlY3RzKSB7XG5cdHZhciBsZW5ndGggPSBlZmZlY3RzLmxlbmd0aDtcblx0aWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdHZhciBpID0gMDtcblxuXHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdHZhciBlZmZlY3QgPSBlZmZlY3RzW2krK107XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgKERFU1RST1lFRCB8IElORVJUKSkgPT09IDAgJiYgaXNfZGlydHkoZWZmZWN0KSkge1xuXHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXG5cdFx0XHQvLyBFZmZlY3RzIHdpdGggbm8gZGVwZW5kZW5jaWVzIG9yIHRlYXJkb3duIGRvIG5vdCBnZXQgYWRkZWQgdG8gdGhlIGVmZmVjdCB0cmVlLlxuXHRcdFx0Ly8gRGVmZXJyZWQgZWZmZWN0cyAoZS5nLiBgJGVmZmVjdCguLi4pYCkgX2FyZV8gYWRkZWQgdG8gdGhlIHRyZWUgYmVjYXVzZSB3ZVxuXHRcdFx0Ly8gZG9uJ3Qga25vdyBpZiB3ZSBuZWVkIHRvIGtlZXAgdGhlbSB1bnRpbCB0aGV5IGFyZSBleGVjdXRlZC4gRG9pbmcgdGhlIGNoZWNrXG5cdFx0XHQvLyBoZXJlIChyYXRoZXIgdGhhbiBpbiBgdXBkYXRlX2VmZmVjdGApIGFsbG93cyB1cyB0byBza2lwIHRoZSB3b3JrIGZvclxuXHRcdFx0Ly8gaW1tZWRpYXRlIGVmZmVjdHMuXG5cdFx0XHRpZiAoZWZmZWN0LmRlcHMgPT09IG51bGwgJiYgZWZmZWN0LmZpcnN0ID09PSBudWxsICYmIGVmZmVjdC5ub2RlcyA9PT0gbnVsbCkge1xuXHRcdFx0XHQvLyBpZiB0aGVyZSdzIG5vIHRlYXJkb3duIG9yIGFib3J0IGNvbnRyb2xsZXIgd2UgY29tcGxldGVseSB1bmxpbmtcblx0XHRcdFx0Ly8gdGhlIGVmZmVjdCBmcm9tIHRoZSBncmFwaFxuXHRcdFx0XHRpZiAoZWZmZWN0LnRlYXJkb3duID09PSBudWxsICYmIGVmZmVjdC5hYyA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdC8vIHJlbW92ZSB0aGlzIGVmZmVjdCBmcm9tIHRoZSBncmFwaFxuXHRcdFx0XHRcdHVubGlua19lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBrZWVwIHRoZSBlZmZlY3QgaW4gdGhlIGdyYXBoLCBidXQgZnJlZSB1cCBzb21lIG1lbW9yeVxuXHRcdFx0XHRcdGVmZmVjdC5mbiA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdXBkYXRlX2VmZmVjdCgpIGhhcyBhIGZsdXNoU3luYygpIGluIGl0LCB3ZSBtYXkgaGF2ZSBmbHVzaGVkIGFub3RoZXIgZmx1c2hfcXVldWVkX2VmZmVjdHMoKSxcblx0XHRcdC8vIHdoaWNoIGFscmVhZHkgaGFuZGxlZCB0aGlzIGxvZ2ljIGFuZCBkaWQgc2V0IGVhZ2VyX2Jsb2NrX2VmZmVjdHMgdG8gbnVsbC5cblx0XHRcdGlmIChlYWdlcl9ibG9ja19lZmZlY3RzPy5zaXplID4gMCkge1xuXHRcdFx0XHRvbGRfdmFsdWVzLmNsZWFyKCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBlIG9mIGVhZ2VyX2Jsb2NrX2VmZmVjdHMpIHtcblx0XHRcdFx0XHQvLyBTa2lwIGVhZ2VyIGVmZmVjdHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiB1bm1vdW50ZWRcblx0XHRcdFx0XHRpZiAoKGUuZiAmIChERVNUUk9ZRUQgfCBJTkVSVCkpICE9PSAwKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdC8vIFJ1biBlZmZlY3RzIGluIG9yZGVyIGZyb20gYW5jZXN0b3IgdG8gZGVzY2VuZGFudCwgZWxzZSB3ZSBjb3VsZCBydW4gaW50byBudWxscG9pbnRlcnNcblx0XHRcdFx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdFx0XHRcdGNvbnN0IG9yZGVyZWRfZWZmZWN0cyA9IFtlXTtcblx0XHRcdFx0XHRsZXQgYW5jZXN0b3IgPSBlLnBhcmVudDtcblx0XHRcdFx0XHR3aGlsZSAoYW5jZXN0b3IgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdGlmIChlYWdlcl9ibG9ja19lZmZlY3RzLmhhcyhhbmNlc3RvcikpIHtcblx0XHRcdFx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5kZWxldGUoYW5jZXN0b3IpO1xuXHRcdFx0XHRcdFx0XHRvcmRlcmVkX2VmZmVjdHMucHVzaChhbmNlc3Rvcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGxldCBqID0gb3JkZXJlZF9lZmZlY3RzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBlID0gb3JkZXJlZF9lZmZlY3RzW2pdO1xuXHRcdFx0XHRcdFx0Ly8gU2tpcCBlYWdlciBlZmZlY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gdW5tb3VudGVkXG5cdFx0XHRcdFx0XHRpZiAoKGUuZiAmIChERVNUUk9ZRUQgfCBJTkVSVCkpICE9PSAwKSBjb250aW51ZTtcblx0XHRcdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5jbGVhcigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGVhZ2VyX2Jsb2NrX2VmZmVjdHMgPSBudWxsO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgbWFya19yZWFjdGlvbnNgLCBidXQgaXQgb25seSBtYXJrcyBhc3luYy9ibG9jayBlZmZlY3RzXG4gKiBkZXBlbmRpbmcgb24gYHZhbHVlYCBhbmQgYXQgbGVhc3Qgb25lIG9mIHRoZSBvdGhlciBgc291cmNlc2AsIHNvIHRoYXRcbiAqIHRoZXNlIGVmZmVjdHMgY2FuIHJlLXJ1biBhZnRlciBhbm90aGVyIGJhdGNoIGhhcyBiZWVuIGNvbW1pdHRlZFxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSB7U291cmNlW119IHNvdXJjZXNcbiAqIEBwYXJhbSB7U2V0PFZhbHVlPn0gbWFya2VkXG4gKiBAcGFyYW0ge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59IGNoZWNrZWRcbiAqL1xuZnVuY3Rpb24gbWFya19lZmZlY3RzKHZhbHVlLCBzb3VyY2VzLCBtYXJrZWQsIGNoZWNrZWQpIHtcblx0aWYgKG1hcmtlZC5oYXModmFsdWUpKSByZXR1cm47XG5cdG1hcmtlZC5hZGQodmFsdWUpO1xuXG5cdGlmICh2YWx1ZS5yZWFjdGlvbnMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHJlYWN0aW9uIG9mIHZhbHVlLnJlYWN0aW9ucykge1xuXHRcdFx0Y29uc3QgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdFx0XHRpZiAoKGZsYWdzICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdFx0bWFya19lZmZlY3RzKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgc291cmNlcywgbWFya2VkLCBjaGVja2VkKTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdChmbGFncyAmIChBU1lOQyB8IEJMT0NLX0VGRkVDVCkpICE9PSAwICYmXG5cdFx0XHRcdChmbGFncyAmIERJUlRZKSA9PT0gMCAmJlxuXHRcdFx0XHRkZXBlbmRzX29uKHJlYWN0aW9uLCBzb3VyY2VzLCBjaGVja2VkKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHJlYWN0aW9uLCBESVJUWSk7XG5cdFx0XHRcdHNjaGVkdWxlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogV2hlbiBjb21taXR0aW5nIGEgZm9yaywgd2UgbmVlZCB0byB0cmlnZ2VyIGVhZ2VyIGVmZmVjdHMgc28gdGhhdFxuICogYW55IGAkc3RhdGUuZWFnZXIoLi4uKWAgZXhwcmVzc2lvbnMgdXBkYXRlIGltbWVkaWF0ZWx5LiBUaGlzXG4gKiBmdW5jdGlvbiBhbGxvd3MgdXMgdG8gZGlzY292ZXIgdGhlbVxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSB7U2V0PEVmZmVjdD59IGVmZmVjdHNcbiAqL1xuZnVuY3Rpb24gbWFya19lYWdlcl9lZmZlY3RzKHZhbHVlLCBlZmZlY3RzKSB7XG5cdGlmICh2YWx1ZS5yZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKGNvbnN0IHJlYWN0aW9uIG9mIHZhbHVlLnJlYWN0aW9ucykge1xuXHRcdGNvbnN0IGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRcdGlmICgoZmxhZ3MgJiBERVJJVkVEKSAhPT0gMCkge1xuXHRcdFx0bWFya19lYWdlcl9lZmZlY3RzKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgZWZmZWN0cyk7XG5cdFx0fSBlbHNlIGlmICgoZmxhZ3MgJiBFQUdFUl9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgRElSVFkpO1xuXHRcdFx0ZWZmZWN0cy5hZGQoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHJlYWN0aW9uXG4gKiBAcGFyYW0ge1NvdXJjZVtdfSBzb3VyY2VzXG4gKiBAcGFyYW0ge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59IGNoZWNrZWRcbiAqL1xuZnVuY3Rpb24gZGVwZW5kc19vbihyZWFjdGlvbiwgc291cmNlcywgY2hlY2tlZCkge1xuXHRjb25zdCBkZXBlbmRzID0gY2hlY2tlZC5nZXQocmVhY3Rpb24pO1xuXHRpZiAoZGVwZW5kcyAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZGVwZW5kcztcblxuXHRpZiAocmVhY3Rpb24uZGVwcyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIHJlYWN0aW9uLmRlcHMpIHtcblx0XHRcdGlmIChzb3VyY2VzLmluY2x1ZGVzKGRlcCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoZGVwLmYgJiBERVJJVkVEKSAhPT0gMCAmJiBkZXBlbmRzX29uKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCksIHNvdXJjZXMsIGNoZWNrZWQpKSB7XG5cdFx0XHRcdGNoZWNrZWQuc2V0KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCksIHRydWUpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjaGVja2VkLnNldChyZWFjdGlvbiwgZmFsc2UpO1xuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX2VmZmVjdChzaWduYWwpIHtcblx0dmFyIGVmZmVjdCA9IChsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBzaWduYWwpO1xuXG5cdHdoaWxlIChlZmZlY3QucGFyZW50ICE9PSBudWxsKSB7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0XHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRcdC8vIGlmIHRoZSBlZmZlY3QgaXMgYmVpbmcgc2NoZWR1bGVkIGJlY2F1c2UgYSBwYXJlbnQgKGVhY2gvYXdhaXQvZXRjKSBibG9ja1xuXHRcdC8vIHVwZGF0ZWQgYW4gaW50ZXJuYWwgc291cmNlLCBiYWlsIG91dCBvciB3ZSdsbCBjYXVzZSBhIHNlY29uZCBmbHVzaFxuXHRcdGlmIChcblx0XHRcdGlzX2ZsdXNoaW5nICYmXG5cdFx0XHRlZmZlY3QgPT09IGFjdGl2ZV9lZmZlY3QgJiZcblx0XHRcdChmbGFncyAmIEJMT0NLX0VGRkVDVCkgIT09IDAgJiZcblx0XHRcdChmbGFncyAmIEhFQURfRUZGRUNUKSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgoZmxhZ3MgJiAoUk9PVF9FRkZFQ1QgfCBCUkFOQ0hfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdGlmICgoZmxhZ3MgJiBDTEVBTikgPT09IDApIHJldHVybjtcblx0XHRcdGVmZmVjdC5mIF49IENMRUFOO1xuXHRcdH1cblx0fVxuXG5cdHF1ZXVlZF9yb290X2VmZmVjdHMucHVzaChlZmZlY3QpO1xufVxuXG4vKiogQHR5cGUge1NvdXJjZTxudW1iZXI+W119ICovXG5sZXQgZWFnZXJfdmVyc2lvbnMgPSBbXTtcblxuZnVuY3Rpb24gZWFnZXJfZmx1c2goKSB7XG5cdHRyeSB7XG5cdFx0Zmx1c2hTeW5jKCgpID0+IHtcblx0XHRcdGZvciAoY29uc3QgdmVyc2lvbiBvZiBlYWdlcl92ZXJzaW9ucykge1xuXHRcdFx0XHR1cGRhdGUodmVyc2lvbik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0gZmluYWxseSB7XG5cdFx0ZWFnZXJfdmVyc2lvbnMgPSBbXTtcblx0fVxufVxuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIGAkc3RhdGUuZWFnZXIoZm4oKSlgXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWdlcihmbikge1xuXHR2YXIgdmVyc2lvbiA9IHNvdXJjZSgwKTtcblx0dmFyIGluaXRpYWwgPSB0cnVlO1xuXHR2YXIgdmFsdWUgPSAvKiogQHR5cGUge1R9ICovICh1bmRlZmluZWQpO1xuXG5cdGdldCh2ZXJzaW9uKTtcblxuXHRlYWdlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChpbml0aWFsKSB7XG5cdFx0XHQvLyB0aGUgZmlyc3QgdGltZSB0aGlzIHJ1bnMsIHdlIGNyZWF0ZSBhbiBlYWdlciBlZmZlY3Rcblx0XHRcdC8vIHRoYXQgd2lsbCBydW4gZWFnZXJseSB3aGVuZXZlciB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzXG5cdFx0XHR2YXIgcHJldmlvdXNfYmF0Y2hfdmFsdWVzID0gYmF0Y2hfdmFsdWVzO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHRcdFx0XHR2YWx1ZSA9IGZuKCk7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRiYXRjaF92YWx1ZXMgPSBwcmV2aW91c19iYXRjaF92YWx1ZXM7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyB0aGUgc2Vjb25kIHRpbWUgdGhpcyBlZmZlY3QgcnVucywgaXQncyB0byBzY2hlZHVsZSBhXG5cdFx0Ly8gYHZlcnNpb25gIHVwZGF0ZS4gc2luY2UgdGhpcyB3aWxsIHJlY3JlYXRlIHRoZSBlZmZlY3QsXG5cdFx0Ly8gd2UgZG9uJ3QgbmVlZCB0byBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBoZXJlXG5cdFx0aWYgKGVhZ2VyX3ZlcnNpb25zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cXVldWVfbWljcm9fdGFzayhlYWdlcl9mbHVzaCk7XG5cdFx0fVxuXG5cdFx0ZWFnZXJfdmVyc2lvbnMucHVzaCh2ZXJzaW9uKTtcblx0fSk7XG5cblx0aW5pdGlhbCA9IGZhbHNlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgJ2ZvcmsnLCBpbiB3aGljaCBzdGF0ZSBjaGFuZ2VzIGFyZSBldmFsdWF0ZWQgYnV0IG5vdCBhcHBsaWVkIHRvIHRoZSBET00uXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3Igc3BlY3VsYXRpdmVseSBsb2FkaW5nIGRhdGEgKGZvciBleGFtcGxlKSB3aGVuIHlvdSBzdXNwZWN0IHRoYXRcbiAqIHRoZSB1c2VyIGlzIGFib3V0IHRvIHRha2Ugc29tZSBhY3Rpb24uXG4gKlxuICogRnJhbWV3b3JrcyBsaWtlIFN2ZWx0ZUtpdCBjYW4gdXNlIHRoaXMgdG8gcHJlbG9hZCBkYXRhIHdoZW4gdGhlIHVzZXIgdG91Y2hlcyBvclxuICogaG92ZXJzIG92ZXIgYSBsaW5rLCBtYWtpbmcgYW55IHN1YnNlcXVlbnQgbmF2aWdhdGlvbiBmZWVsIGluc3RhbnRhbmVvdXMuXG4gKlxuICogVGhlIGBmbmAgcGFyYW1ldGVyIGlzIGEgc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBzb21lIHN0YXRlLiBUaGVcbiAqIHN0YXRlIGNoYW5nZXMgd2lsbCBiZSByZXZlcnRlZCBhZnRlciB0aGUgZm9yayBpcyBpbml0aWFsaXNlZCwgdGhlbiByZWFwcGxpZWRcbiAqIGlmIGFuZCB3aGVuIHRoZSBmb3JrIGlzIGV2ZW50dWFsbHkgY29tbWl0dGVkLlxuICpcbiAqIFdoZW4gaXQgYmVjb21lcyBjbGVhciB0aGF0IGEgZm9yayB3aWxsIF9ub3RfIGJlIGNvbW1pdHRlZCAoZS5nLiBiZWNhdXNlIHRoZVxuICogdXNlciBuYXZpZ2F0ZWQgZWxzZXdoZXJlKSwgaXQgbXVzdCBiZSBkaXNjYXJkZWQgdG8gYXZvaWQgbGVha2luZyBtZW1vcnkuXG4gKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge0Zvcmt9XG4gKiBAc2luY2UgNS40MlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yayhmbikge1xuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykge1xuXHRcdGUuZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkKCdmb3JrJyk7XG5cdH1cblxuXHRpZiAoY3VycmVudF9iYXRjaCAhPT0gbnVsbCkge1xuXHRcdGUuZm9ya190aW1pbmcoKTtcblx0fVxuXG5cdHZhciBiYXRjaCA9IEJhdGNoLmVuc3VyZSgpO1xuXHRiYXRjaC5pc19mb3JrID0gdHJ1ZTtcblx0YmF0Y2hfdmFsdWVzID0gbmV3IE1hcCgpO1xuXG5cdHZhciBjb21taXR0ZWQgPSBmYWxzZTtcblx0dmFyIHNldHRsZWQgPSBiYXRjaC5zZXR0bGVkKCk7XG5cblx0Zmx1c2hTeW5jKGZuKTtcblxuXHQvLyByZXZlcnQgc3RhdGUgY2hhbmdlc1xuXHRmb3IgKHZhciBbc291cmNlLCB2YWx1ZV0gb2YgYmF0Y2gucHJldmlvdXMpIHtcblx0XHRzb3VyY2UudiA9IHZhbHVlO1xuXHR9XG5cblx0Ly8gbWFrZSB3cml0YWJsZSBkZXJpdmVkcyBkaXJ0eSwgc28gdGhleSByZWNhbGN1bGF0ZSBjb3JyZWN0bHlcblx0Zm9yIChzb3VyY2Ugb2YgYmF0Y2guY3VycmVudC5rZXlzKCkpIHtcblx0XHRpZiAoKHNvdXJjZS5mICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHNvdXJjZSwgRElSVFkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7XG5cdFx0Y29tbWl0OiBhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoY29tbWl0dGVkKSB7XG5cdFx0XHRcdGF3YWl0IHNldHRsZWQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFiYXRjaGVzLmhhcyhiYXRjaCkpIHtcblx0XHRcdFx0ZS5mb3JrX2Rpc2NhcmRlZCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb21taXR0ZWQgPSB0cnVlO1xuXG5cdFx0XHRiYXRjaC5pc19mb3JrID0gZmFsc2U7XG5cblx0XHRcdC8vIGFwcGx5IGNoYW5nZXMgYW5kIHVwZGF0ZSB3cml0ZSB2ZXJzaW9ucyBzbyBkZXJpdmVkcyBzZWUgdGhlIGNoYW5nZVxuXHRcdFx0Zm9yICh2YXIgW3NvdXJjZSwgdmFsdWVdIG9mIGJhdGNoLmN1cnJlbnQpIHtcblx0XHRcdFx0c291cmNlLnYgPSB2YWx1ZTtcblx0XHRcdFx0c291cmNlLnd2ID0gaW5jcmVtZW50X3dyaXRlX3ZlcnNpb24oKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdHJpZ2dlciBhbnkgYCRzdGF0ZS5lYWdlciguLi4pYCBleHByZXNzaW9ucyB3aXRoIHRoZSBuZXcgc3RhdGUuXG5cdFx0XHQvLyBlYWdlciBlZmZlY3RzIGRvbid0IGdldCBzY2hlZHVsZWQgbGlrZSBvdGhlciBlZmZlY3RzLCBzbyB3ZVxuXHRcdFx0Ly8gY2FuJ3QganVzdCBlbmNvdW50ZXIgdGhlbSBkdXJpbmcgdHJhdmVyc2FsLCB3ZSBuZWVkIHRvXG5cdFx0XHQvLyBwcm9hY3RpdmVseSBmbHVzaCB0aGVtXG5cdFx0XHQvLyBUT0RPIG1heWJlIHRoZXJlJ3MgYSBiZXR0ZXIgaW1wbGVtZW50YXRpb24/XG5cdFx0XHRmbHVzaFN5bmMoKCkgPT4ge1xuXHRcdFx0XHQvKiogQHR5cGUge1NldDxFZmZlY3Q+fSAqL1xuXHRcdFx0XHR2YXIgZWFnZXJfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHRcdFx0XHRmb3IgKHZhciBzb3VyY2Ugb2YgYmF0Y2guY3VycmVudC5rZXlzKCkpIHtcblx0XHRcdFx0XHRtYXJrX2VhZ2VyX2VmZmVjdHMoc291cmNlLCBlYWdlcl9lZmZlY3RzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNldF9lYWdlcl9lZmZlY3RzKGVhZ2VyX2VmZmVjdHMpO1xuXHRcdFx0XHRmbHVzaF9lYWdlcl9lZmZlY3RzKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0YmF0Y2gucmV2aXZlKCk7XG5cdFx0XHRhd2FpdCBzZXR0bGVkO1xuXHRcdH0sXG5cdFx0ZGlzY2FyZDogKCkgPT4ge1xuXHRcdFx0aWYgKCFjb21taXR0ZWQgJiYgYmF0Y2hlcy5oYXMoYmF0Y2gpKSB7XG5cdFx0XHRcdGJhdGNoZXMuZGVsZXRlKGJhdGNoKTtcblx0XHRcdFx0YmF0Y2guZGlzY2FyZCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBGb3JjaWJseSByZW1vdmUgYWxsIGN1cnJlbnQgYmF0Y2hlcywgdG8gcHJldmVudCBjcm9zcy10YWxrIGJldHdlZW4gdGVzdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRiYXRjaGVzLmNsZWFyKCk7XG59XG4iLCAiaW1wb3J0IHsgZ2V0LCB0aWNrLCB1bnRyYWNrIH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgZWZmZWN0X3RyYWNraW5nLCByZW5kZXJfZWZmZWN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBzb3VyY2UsIGluY3JlbWVudCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgdGFnIH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9kb20vdGFzay5qcyc7XG5cbi8qKlxuICogUmV0dXJucyBhIGBzdWJzY3JpYmVgIGZ1bmN0aW9uIHRoYXQgaW50ZWdyYXRlcyBleHRlcm5hbCBldmVudC1iYXNlZCBzeXN0ZW1zIHdpdGggU3ZlbHRlJ3MgcmVhY3Rpdml0eS5cbiAqIEl0J3MgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3IgaW50ZWdyYXRpbmcgd2l0aCB3ZWIgQVBJcyBsaWtlIGBNZWRpYVF1ZXJ5YCwgYEludGVyc2VjdGlvbk9ic2VydmVyYCwgb3IgYFdlYlNvY2tldGAuXG4gKlxuICogSWYgYHN1YnNjcmliZWAgaXMgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3QgKGluY2x1ZGluZyBpbmRpcmVjdGx5LCBmb3IgZXhhbXBsZSBpbnNpZGUgYSBnZXR0ZXIpLFxuICogdGhlIGBzdGFydGAgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBgdXBkYXRlYCBmdW5jdGlvbi4gV2hlbmV2ZXIgYHVwZGF0ZWAgaXMgY2FsbGVkLCB0aGUgZWZmZWN0IHJlLXJ1bnMuXG4gKlxuICogSWYgYHN0YXJ0YCByZXR1cm5zIGEgY2xlYW51cCBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZWZmZWN0IGlzIGRlc3Ryb3llZC5cbiAqXG4gKiBJZiBgc3Vic2NyaWJlYCBpcyBjYWxsZWQgaW4gbXVsdGlwbGUgZWZmZWN0cywgYHN0YXJ0YCB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uY2UgYXMgbG9uZyBhcyB0aGUgZWZmZWN0c1xuICogYXJlIGFjdGl2ZSwgYW5kIHRoZSByZXR1cm5lZCB0ZWFyZG93biBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgY2FsbGVkIHdoZW4gYWxsIGVmZmVjdHMgYXJlIGRlc3Ryb3llZC5cbiAqXG4gKiBJdCdzIGJlc3QgdW5kZXJzdG9vZCB3aXRoIGFuIGV4YW1wbGUuIEhlcmUncyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBbYE1lZGlhUXVlcnlgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvc3ZlbHRlLXJlYWN0aXZpdHkjTWVkaWFRdWVyeSk6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7IGNyZWF0ZVN1YnNjcmliZXIgfSBmcm9tICdzdmVsdGUvcmVhY3Rpdml0eSc7XG4gKiBpbXBvcnQgeyBvbiB9IGZyb20gJ3N2ZWx0ZS9ldmVudHMnO1xuICpcbiAqIGV4cG9ydCBjbGFzcyBNZWRpYVF1ZXJ5IHtcbiAqIFx0I3F1ZXJ5O1xuICogXHQjc3Vic2NyaWJlO1xuICpcbiAqIFx0Y29uc3RydWN0b3IocXVlcnkpIHtcbiAqIFx0XHR0aGlzLiNxdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKGAoJHtxdWVyeX0pYCk7XG4gKlxuICogXHRcdHRoaXMuI3N1YnNjcmliZSA9IGNyZWF0ZVN1YnNjcmliZXIoKHVwZGF0ZSkgPT4ge1xuICogXHRcdFx0Ly8gd2hlbiB0aGUgYGNoYW5nZWAgZXZlbnQgb2NjdXJzLCByZS1ydW4gYW55IGVmZmVjdHMgdGhhdCByZWFkIGB0aGlzLmN1cnJlbnRgXG4gKiBcdFx0XHRjb25zdCBvZmYgPSBvbih0aGlzLiNxdWVyeSwgJ2NoYW5nZScsIHVwZGF0ZSk7XG4gKlxuICogXHRcdFx0Ly8gc3RvcCBsaXN0ZW5pbmcgd2hlbiBhbGwgdGhlIGVmZmVjdHMgYXJlIGRlc3Ryb3llZFxuICogXHRcdFx0cmV0dXJuICgpID0+IG9mZigpO1xuICogXHRcdH0pO1xuICogXHR9XG4gKlxuICogXHRnZXQgY3VycmVudCgpIHtcbiAqIFx0XHQvLyBUaGlzIG1ha2VzIHRoZSBnZXR0ZXIgcmVhY3RpdmUsIGlmIHJlYWQgaW4gYW4gZWZmZWN0XG4gKiBcdFx0dGhpcy4jc3Vic2NyaWJlKCk7XG4gKlxuICogXHRcdC8vIFJldHVybiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcXVlcnksIHdoZXRoZXIgb3Igbm90IHdlJ3JlIGluIGFuIGVmZmVjdFxuICogXHRcdHJldHVybiB0aGlzLiNxdWVyeS5tYXRjaGVzO1xuICogXHR9XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSB7KHVwZGF0ZTogKCkgPT4gdm9pZCkgPT4gKCgpID0+IHZvaWQpIHwgdm9pZH0gc3RhcnRcbiAqIEBzaW5jZSA1LjcuMFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlcihzdGFydCkge1xuXHRsZXQgc3Vic2NyaWJlcnMgPSAwO1xuXHRsZXQgdmVyc2lvbiA9IHNvdXJjZSgwKTtcblx0LyoqIEB0eXBlIHsoKCkgPT4gdm9pZCkgfCB2b2lkfSAqL1xuXHRsZXQgc3RvcDtcblxuXHRpZiAoREVWKSB7XG5cdFx0dGFnKHZlcnNpb24sICdjcmVhdGVTdWJzY3JpYmVyIHZlcnNpb24nKTtcblx0fVxuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGVmZmVjdF90cmFja2luZygpKSB7XG5cdFx0XHRnZXQodmVyc2lvbik7XG5cblx0XHRcdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdFx0XHRpZiAoc3Vic2NyaWJlcnMgPT09IDApIHtcblx0XHRcdFx0XHRzdG9wID0gdW50cmFjaygoKSA9PiBzdGFydCgoKSA9PiBpbmNyZW1lbnQodmVyc2lvbikpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN1YnNjcmliZXJzICs9IDE7XG5cblx0XHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdFx0XHRcdC8vIE9ubHkgY291bnQgZG93biBhZnRlciBhIG1pY3JvdGFzaywgZWxzZSB3ZSB3b3VsZCByZWFjaCAwIGJlZm9yZSBvdXIgb3duIHJlbmRlciBlZmZlY3QgcmVydW5zLFxuXHRcdFx0XHRcdFx0Ly8gYnV0IHJlYWNoIDEgYWdhaW4gd2hlbiB0aGUgdGljayBjYWxsYmFjayBvZiB0aGUgcHJpb3IgdGVhcmRvd24gcnVucy4gVGhhdCB3b3VsZCBtZWFuIHdlXG5cdFx0XHRcdFx0XHQvLyByZS1zdWJjcmliZSB1bm5lY2Vzc2FyaWx5IGFuZCBjcmVhdGUgYSBtZW1vcnkgbGVhayBiZWNhdXNlIHRoZSBvbGQgc3Vic2NyaXB0aW9uIGlzIG5ldmVyIGNsZWFuZWQgdXAuXG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVycyAtPSAxO1xuXG5cdFx0XHRcdFx0XHRpZiAoc3Vic2NyaWJlcnMgPT09IDApIHtcblx0XHRcdFx0XHRcdFx0c3RvcD8uKCk7XG5cdFx0XHRcdFx0XHRcdHN0b3AgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdC8vIEluY3JlbWVudCB0aGUgdmVyc2lvbiB0byBlbnN1cmUgYW55IGRlcGVuZGVudCBkZXJpdmVkcyBhcmUgbWFya2VkIGRpcnR5IHdoZW4gdGhlIHN1YnNjcmlwdGlvbiBpcyBwaWNrZWQgdXAgYWdhaW4gbGF0ZXIuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHdlIGRpZG4ndCBkbyB0aGlzIHRoZW4gdGhlIGNvbXBhcmlzb24gb2Ygd3JpdGUgdmVyc2lvbnMgd291bGQgZGV0ZXJtaW5lIHRoYXQgdGhlIGRlcml2ZWQgaGFzIGEgbGF0ZXIgdmVyc2lvbiB0aGFuXG5cdFx0XHRcdFx0XHRcdC8vIHRoZSBzdWJzY3JpYmVyLCBhbmQgaXQgd291bGQgbm90IGJlIHJlLXJ1bi5cblx0XHRcdFx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBTb3VyY2UsIFRlbXBsYXRlTm9kZSwgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHtcblx0Qk9VTkRBUllfRUZGRUNULFxuXHRDT01NRU5UX05PREUsXG5cdERJUlRZLFxuXHRFRkZFQ1RfUFJFU0VSVkVELFxuXHRFRkZFQ1RfVFJBTlNQQVJFTlQsXG5cdE1BWUJFX0RJUlRZXG59IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IEhZRFJBVElPTl9TVEFSVF9FTFNFIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBzZXRfY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IGhhbmRsZV9lcnJvciwgaW52b2tlX2Vycm9yX2JvdW5kYXJ5IH0gZnJvbSAnLi4vLi4vZXJyb3ItaGFuZGxpbmcuanMnO1xuaW1wb3J0IHtcblx0YmxvY2ssXG5cdGJyYW5jaCxcblx0ZGVzdHJveV9lZmZlY3QsXG5cdG1vdmVfZWZmZWN0LFxuXHRwYXVzZV9lZmZlY3Rcbn0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0Z2V0LFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGVfbmV4dCxcblx0aHlkcmF0ZV9ub2RlLFxuXHRoeWRyYXRpbmcsXG5cdG5leHQsXG5cdHNraXBfbm9kZXMsXG5cdHNldF9oeWRyYXRlX25vZGVcbn0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi90YXNrLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi4vLi4vd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBCYXRjaCwgc2NoZWR1bGVfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5pbXBvcnQgeyBpbnRlcm5hbF9zZXQsIHNvdXJjZSB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvc291cmNlcy5qcyc7XG5pbXBvcnQgeyB0YWcgfSBmcm9tICcuLi8uLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpYmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVhY3Rpdml0eS9jcmVhdGUtc3Vic2NyaWJlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfdGV4dCB9IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgZGVmZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS91dGlscy5qcyc7XG5pbXBvcnQgeyBzZXRfc2lnbmFsX3N0YXR1cyB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvc3RhdHVzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogXHQgb25lcnJvcj86IChlcnJvcjogdW5rbm93biwgcmVzZXQ6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gKiAgIGZhaWxlZD86IChhbmNob3I6IE5vZGUsIGVycm9yOiAoKSA9PiB1bmtub3duLCByZXNldDogKCkgPT4gKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAqICAgcGVuZGluZz86IChhbmNob3I6IE5vZGUpID0+IHZvaWQ7XG4gKiB9fSBCb3VuZGFyeVByb3BzXG4gKi9cblxudmFyIGZsYWdzID0gRUZGRUNUX1RSQU5TUEFSRU5UIHwgRUZGRUNUX1BSRVNFUlZFRCB8IEJPVU5EQVJZX0VGRkVDVDtcblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtCb3VuZGFyeVByb3BzfSBwcm9wc1xuICogQHBhcmFtIHsoKGFuY2hvcjogTm9kZSkgPT4gdm9pZCl9IGNoaWxkcmVuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kYXJ5KG5vZGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRuZXcgQm91bmRhcnkobm9kZSwgcHJvcHMsIGNoaWxkcmVuKTtcbn1cblxuZXhwb3J0IGNsYXNzIEJvdW5kYXJ5IHtcblx0LyoqIEB0eXBlIHtCb3VuZGFyeSB8IG51bGx9ICovXG5cdHBhcmVudDtcblxuXHRpc19wZW5kaW5nID0gZmFsc2U7XG5cblx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovXG5cdCNhbmNob3I7XG5cblx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqL1xuXHQjaHlkcmF0ZV9vcGVuID0gaHlkcmF0aW5nID8gaHlkcmF0ZV9ub2RlIDogbnVsbDtcblxuXHQvKiogQHR5cGUge0JvdW5kYXJ5UHJvcHN9ICovXG5cdCNwcm9wcztcblxuXHQvKiogQHR5cGUgeygoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gKi9cblx0I2NoaWxkcmVuO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0fSAqL1xuXHQjZWZmZWN0O1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0I21haW5fZWZmZWN0ID0gbnVsbDtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdCNwZW5kaW5nX2VmZmVjdCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHQjZmFpbGVkX2VmZmVjdCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtEb2N1bWVudEZyYWdtZW50IHwgbnVsbH0gKi9cblx0I29mZnNjcmVlbl9mcmFnbWVudCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqL1xuXHQjcGVuZGluZ19hbmNob3IgPSBudWxsO1xuXG5cdCNsb2NhbF9wZW5kaW5nX2NvdW50ID0gMDtcblx0I3BlbmRpbmdfY291bnQgPSAwO1xuXG5cdCNpc19jcmVhdGluZ19mYWxsYmFjayA9IGZhbHNlO1xuXG5cdC8qKiBAdHlwZSB7U2V0PEVmZmVjdD59ICovXG5cdCNkaXJ0eV9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdC8qKiBAdHlwZSB7U2V0PEVmZmVjdD59ICovXG5cdCNtYXliZV9kaXJ0eV9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBBIHNvdXJjZSBjb250YWluaW5nIHRoZSBudW1iZXIgb2YgcGVuZGluZyBhc3luYyBkZXJpdmVkcy9leHByZXNzaW9ucy5cblx0ICogT25seSBjcmVhdGVkIGlmIGAkZWZmZWN0LnBlbmRpbmcoKWAgaXMgdXNlZCBpbnNpZGUgdGhlIGJvdW5kYXJ5LFxuXHQgKiBvdGhlcndpc2UgdXBkYXRpbmcgdGhlIHNvdXJjZSByZXN1bHRzIGluIG5lZWRsZXNzIGBCYXRjaC5lbnN1cmUoKWBcblx0ICogY2FsbHMgZm9sbG93ZWQgYnkgbm8tb3AgZmx1c2hlc1xuXHQgKiBAdHlwZSB7U291cmNlPG51bWJlcj4gfCBudWxsfVxuXHQgKi9cblx0I2VmZmVjdF9wZW5kaW5nID0gbnVsbDtcblxuXHQjZWZmZWN0X3BlbmRpbmdfc3Vic2NyaWJlciA9IGNyZWF0ZVN1YnNjcmliZXIoKCkgPT4ge1xuXHRcdHRoaXMuI2VmZmVjdF9wZW5kaW5nID0gc291cmNlKHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQpO1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0dGFnKHRoaXMuI2VmZmVjdF9wZW5kaW5nLCAnJGVmZmVjdC5wZW5kaW5nKCknKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0dGhpcy4jZWZmZWN0X3BlbmRpbmcgPSBudWxsO1xuXHRcdH07XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuXHQgKiBAcGFyYW0ge0JvdW5kYXJ5UHJvcHN9IHByb3BzXG5cdCAqIEBwYXJhbSB7KChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSBjaGlsZHJlblxuXHQgKi9cblx0Y29uc3RydWN0b3Iobm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdFx0dGhpcy4jYW5jaG9yID0gbm9kZTtcblx0XHR0aGlzLiNwcm9wcyA9IHByb3BzO1xuXHRcdHRoaXMuI2NoaWxkcmVuID0gY2hpbGRyZW47XG5cblx0XHR0aGlzLnBhcmVudCA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuYjtcblxuXHRcdHRoaXMuaXNfcGVuZGluZyA9ICEhdGhpcy4jcHJvcHMucGVuZGluZztcblxuXHRcdHRoaXMuI2VmZmVjdCA9IGJsb2NrKCgpID0+IHtcblx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuYiA9IHRoaXM7XG5cblx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0Y29uc3QgY29tbWVudCA9IHRoaXMuI2h5ZHJhdGVfb3Blbjtcblx0XHRcdFx0aHlkcmF0ZV9uZXh0KCk7XG5cblx0XHRcdFx0Y29uc3Qgc2VydmVyX3JlbmRlcmVkX3BlbmRpbmcgPVxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGNvbW1lbnQpLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiZcblx0XHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChjb21tZW50KS5kYXRhID09PSBIWURSQVRJT05fU1RBUlRfRUxTRTtcblxuXHRcdFx0XHRpZiAoc2VydmVyX3JlbmRlcmVkX3BlbmRpbmcpIHtcblx0XHRcdFx0XHR0aGlzLiNoeWRyYXRlX3BlbmRpbmdfY29udGVudCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuI2h5ZHJhdGVfcmVzb2x2ZWRfY29udGVudCgpO1xuXG5cdFx0XHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPT09IDApIHtcblx0XHRcdFx0XHRcdHRoaXMuaXNfcGVuZGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFuY2hvciA9IHRoaXMuI2dldF9hbmNob3IoKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHRoaXMuI21haW5fZWZmZWN0ID0gYnJhbmNoKCgpID0+IGNoaWxkcmVuKGFuY2hvcikpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdHRoaXMuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPiAwKSB7XG5cdFx0XHRcdFx0dGhpcy4jc2hvd19wZW5kaW5nX3NuaXBwZXQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmlzX3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLiNwZW5kaW5nX2FuY2hvcj8ucmVtb3ZlKCk7XG5cdFx0XHR9O1xuXHRcdH0sIGZsYWdzKTtcblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdHRoaXMuI2FuY2hvciA9IGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cdH1cblxuXHQjaHlkcmF0ZV9yZXNvbHZlZF9jb250ZW50KCkge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiB0aGlzLiNjaGlsZHJlbih0aGlzLiNhbmNob3IpKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5lcnJvcihlcnJvcik7XG5cdFx0fVxuXHR9XG5cblx0I2h5ZHJhdGVfcGVuZGluZ19jb250ZW50KCkge1xuXHRcdGNvbnN0IHBlbmRpbmcgPSB0aGlzLiNwcm9wcy5wZW5kaW5nO1xuXHRcdGlmICghcGVuZGluZykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiBwZW5kaW5nKHRoaXMuI2FuY2hvcikpO1xuXG5cdFx0QmF0Y2guZW5xdWV1ZSgoKSA9PiB7XG5cdFx0XHR2YXIgYW5jaG9yID0gdGhpcy4jZ2V0X2FuY2hvcigpO1xuXG5cdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IHRoaXMuI3J1bigoKSA9PiB7XG5cdFx0XHRcdEJhdGNoLmVuc3VyZSgpO1xuXHRcdFx0XHRyZXR1cm4gYnJhbmNoKCgpID0+IHRoaXMuI2NoaWxkcmVuKGFuY2hvcikpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID4gMCkge1xuXHRcdFx0XHR0aGlzLiNzaG93X3BlbmRpbmdfc25pcHBldCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF1c2VfZWZmZWN0KC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAodGhpcy4jcGVuZGluZ19lZmZlY3QpLCAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmlzX3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdCNnZXRfYW5jaG9yKCkge1xuXHRcdHZhciBhbmNob3IgPSB0aGlzLiNhbmNob3I7XG5cblx0XHRpZiAodGhpcy5pc19wZW5kaW5nKSB7XG5cdFx0XHR0aGlzLiNwZW5kaW5nX2FuY2hvciA9IGNyZWF0ZV90ZXh0KCk7XG5cdFx0XHR0aGlzLiNhbmNob3IuYmVmb3JlKHRoaXMuI3BlbmRpbmdfYW5jaG9yKTtcblxuXHRcdFx0YW5jaG9yID0gdGhpcy4jcGVuZGluZ19hbmNob3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFuY2hvcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZlciBhbiBlZmZlY3QgaW5zaWRlIGEgcGVuZGluZyBib3VuZGFyeSB1bnRpbCB0aGUgYm91bmRhcnkgcmVzb2x2ZXNcblx0ICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuXHQgKi9cblx0ZGVmZXJfZWZmZWN0KGVmZmVjdCkge1xuXHRcdGRlZmVyX2VmZmVjdChlZmZlY3QsIHRoaXMuI2RpcnR5X2VmZmVjdHMsIHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYGZhbHNlYCBpZiB0aGUgZWZmZWN0IGV4aXN0cyBpbnNpZGUgYSBib3VuZGFyeSB3aG9zZSBwZW5kaW5nIHNuaXBwZXQgaXMgc2hvd25cblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRpc19yZW5kZXJlZCgpIHtcblx0XHRyZXR1cm4gIXRoaXMuaXNfcGVuZGluZyAmJiAoIXRoaXMucGFyZW50IHx8IHRoaXMucGFyZW50LmlzX3JlbmRlcmVkKCkpO1xuXHR9XG5cblx0aGFzX3BlbmRpbmdfc25pcHBldCgpIHtcblx0XHRyZXR1cm4gISF0aGlzLiNwcm9wcy5wZW5kaW5nO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7KCkgPT4gRWZmZWN0IHwgbnVsbH0gZm5cblx0ICovXG5cdCNydW4oZm4pIHtcblx0XHR2YXIgcHJldmlvdXNfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblx0XHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdFx0dmFyIHByZXZpb3VzX2N0eCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QodGhpcy4jZWZmZWN0KTtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHRoaXMuI2VmZmVjdCk7XG5cdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHRoaXMuI2VmZmVjdC5jdHgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBmbigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGhhbmRsZV9lcnJvcihlKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0XHRzZXRfY29tcG9uZW50X2NvbnRleHQocHJldmlvdXNfY3R4KTtcblx0XHR9XG5cdH1cblxuXHQjc2hvd19wZW5kaW5nX3NuaXBwZXQoKSB7XG5cdFx0Y29uc3QgcGVuZGluZyA9IC8qKiBAdHlwZSB7KGFuY2hvcjogTm9kZSkgPT4gdm9pZH0gKi8gKHRoaXMuI3Byb3BzLnBlbmRpbmcpO1xuXG5cdFx0aWYgKHRoaXMuI21haW5fZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQuYXBwZW5kKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAodGhpcy4jcGVuZGluZ19hbmNob3IpKTtcblx0XHRcdG1vdmVfZWZmZWN0KHRoaXMuI21haW5fZWZmZWN0LCB0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nX2VmZmVjdCA9PT0gbnVsbCkge1xuXHRcdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBicmFuY2goKCkgPT4gcGVuZGluZyh0aGlzLiNhbmNob3IpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgcGVuZGluZyBjb3VudCBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBlbmRpbmcgc25pcHBldCxcblx0ICogaWYgYW55LCBzdWNoIHRoYXQgd2UgY2FuIHJlcGxhY2UgdGhlIHNuaXBwZXQgd2l0aCBjb250ZW50IG9uY2Ugd29yayBpcyBkb25lXG5cdCAqIEBwYXJhbSB7MSB8IC0xfSBkXG5cdCAqL1xuXHQjdXBkYXRlX3BlbmRpbmdfY291bnQoZCkge1xuXHRcdGlmICghdGhpcy5oYXNfcGVuZGluZ19zbmlwcGV0KCkpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCkge1xuXHRcdFx0XHR0aGlzLnBhcmVudC4jdXBkYXRlX3BlbmRpbmdfY291bnQoZCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIHRoZXJlJ3Mgbm8gcGFyZW50LCB3ZSdyZSBpbiBhIHNjb3BlIHdpdGggbm8gcGVuZGluZyBzbmlwcGV0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy4jcGVuZGluZ19jb3VudCArPSBkO1xuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPT09IDApIHtcblx0XHRcdHRoaXMuaXNfcGVuZGluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBhbnkgZWZmZWN0cyB0aGF0IHdlcmUgZW5jb3VudGVyZWQgYW5kIGRlZmVycmVkIGR1cmluZyB0cmF2ZXJzYWxcblx0XHRcdC8vIHNob3VsZCBiZSByZXNjaGVkdWxlZCBcdTIwMTQgYWZ0ZXIgdGhlIG5leHQgdHJhdmVyc2FsICh3aGljaCB3aWxsIGhhcHBlblxuXHRcdFx0Ly8gaW1tZWRpYXRlbHksIGR1ZSB0byB0aGUgc2FtZSB1cGRhdGUgdGhhdCBicm91Z2h0IHVzIGhlcmUpXG5cdFx0XHQvLyB0aGUgZWZmZWN0cyB3aWxsIGJlIGZsdXNoZWRcblx0XHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNkaXJ0eV9lZmZlY3RzKSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGUsIERJUlRZKTtcblx0XHRcdFx0c2NoZWR1bGVfZWZmZWN0KGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGUgb2YgdGhpcy4jbWF5YmVfZGlydHlfZWZmZWN0cykge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHRcdHNjaGVkdWxlX2VmZmVjdChlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy4jZGlydHlfZWZmZWN0cy5jbGVhcigpO1xuXHRcdFx0dGhpcy4jbWF5YmVfZGlydHlfZWZmZWN0cy5jbGVhcigpO1xuXG5cdFx0XHRpZiAodGhpcy4jcGVuZGluZ19lZmZlY3QpIHtcblx0XHRcdFx0cGF1c2VfZWZmZWN0KHRoaXMuI3BlbmRpbmdfZWZmZWN0LCAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuI29mZnNjcmVlbl9mcmFnbWVudCkge1xuXHRcdFx0XHR0aGlzLiNhbmNob3IuYmVmb3JlKHRoaXMuI29mZnNjcmVlbl9mcmFnbWVudCk7XG5cdFx0XHRcdHRoaXMuI29mZnNjcmVlbl9mcmFnbWVudCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgc291cmNlIHRoYXQgcG93ZXJzIGAkZWZmZWN0LnBlbmRpbmcoKWAgaW5zaWRlIHRoaXMgYm91bmRhcnksXG5cdCAqIGFuZCBjb250cm9scyB3aGVuIHRoZSBjdXJyZW50IGBwZW5kaW5nYCBzbmlwcGV0IChpZiBhbnkpIGlzIHJlbW92ZWQuXG5cdCAqIERvIG5vdCBjYWxsIGZyb20gaW5zaWRlIHRoZSBjbGFzc1xuXHQgKiBAcGFyYW0gezEgfCAtMX0gZFxuXHQgKi9cblx0dXBkYXRlX3BlbmRpbmdfY291bnQoZCkge1xuXHRcdHRoaXMuI3VwZGF0ZV9wZW5kaW5nX2NvdW50KGQpO1xuXG5cdFx0dGhpcy4jbG9jYWxfcGVuZGluZ19jb3VudCArPSBkO1xuXG5cdFx0aWYgKHRoaXMuI2VmZmVjdF9wZW5kaW5nKSB7XG5cdFx0XHRpbnRlcm5hbF9zZXQodGhpcy4jZWZmZWN0X3BlbmRpbmcsIHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQpO1xuXHRcdH1cblx0fVxuXG5cdGdldF9lZmZlY3RfcGVuZGluZygpIHtcblx0XHR0aGlzLiNlZmZlY3RfcGVuZGluZ19zdWJzY3JpYmVyKCk7XG5cdFx0cmV0dXJuIGdldCgvKiogQHR5cGUge1NvdXJjZTxudW1iZXI+fSAqLyAodGhpcy4jZWZmZWN0X3BlbmRpbmcpKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge3Vua25vd259IGVycm9yICovXG5cdGVycm9yKGVycm9yKSB7XG5cdFx0dmFyIG9uZXJyb3IgPSB0aGlzLiNwcm9wcy5vbmVycm9yO1xuXHRcdGxldCBmYWlsZWQgPSB0aGlzLiNwcm9wcy5mYWlsZWQ7XG5cblx0XHQvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgdG8gY2FwdHVyZSB0aGUgZXJyb3IsIG9yIGlmIHdlIGhpdCBhbiBlcnJvciB3aGlsZVxuXHRcdC8vIHJlbmRlcmluZyB0aGUgZmFsbGJhY2ssIHJlLXRocm93IGZvciBhbm90aGVyIGJvdW5kYXJ5IHRvIGhhbmRsZVxuXHRcdGlmICh0aGlzLiNpc19jcmVhdGluZ19mYWxsYmFjayB8fCAoIW9uZXJyb3IgJiYgIWZhaWxlZCkpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNtYWluX2VmZmVjdCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QodGhpcy4jbWFpbl9lZmZlY3QpO1xuXHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nX2VmZmVjdCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QodGhpcy4jcGVuZGluZ19lZmZlY3QpO1xuXHRcdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNmYWlsZWRfZWZmZWN0KSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCh0aGlzLiNmYWlsZWRfZWZmZWN0KTtcblx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdHNldF9oeWRyYXRlX25vZGUoLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovICh0aGlzLiNoeWRyYXRlX29wZW4pKTtcblx0XHRcdG5leHQoKTtcblx0XHRcdHNldF9oeWRyYXRlX25vZGUoc2tpcF9ub2RlcygpKTtcblx0XHR9XG5cblx0XHR2YXIgZGlkX3Jlc2V0ID0gZmFsc2U7XG5cdFx0dmFyIGNhbGxpbmdfb25fZXJyb3IgPSBmYWxzZTtcblxuXHRcdGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuXHRcdFx0aWYgKGRpZF9yZXNldCkge1xuXHRcdFx0XHR3LnN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZGlkX3Jlc2V0ID0gdHJ1ZTtcblxuXHRcdFx0aWYgKGNhbGxpbmdfb25fZXJyb3IpIHtcblx0XHRcdFx0ZS5zdmVsdGVfYm91bmRhcnlfcmVzZXRfb25lcnJvcigpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGUgZmFpbHVyZSBoYXBwZW5lZCB3aGlsZSBmbHVzaGluZyBlZmZlY3RzLCBjdXJyZW50X2JhdGNoIGNhbiBiZSBudWxsXG5cdFx0XHRCYXRjaC5lbnN1cmUoKTtcblxuXHRcdFx0dGhpcy4jbG9jYWxfcGVuZGluZ19jb3VudCA9IDA7XG5cblx0XHRcdGlmICh0aGlzLiNmYWlsZWRfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdCh0aGlzLiNmYWlsZWRfZWZmZWN0LCAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4jZmFpbGVkX2VmZmVjdCA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB3ZSBpbnRlbnRpb25hbGx5IGRvIG5vdCB0cnkgdG8gZmluZCB0aGUgbmVhcmVzdCBwZW5kaW5nIGJvdW5kYXJ5LiBJZiB0aGlzIGJvdW5kYXJ5IGhhcyBvbmUsIHdlJ2xsIHJlbmRlciBpdCBvbiByZXNldFxuXHRcdFx0Ly8gYnV0IGl0IHdvdWxkIGJlIHJlYWxseSB3ZWlyZCB0byBzaG93IHRoZSBwYXJlbnQncyBib3VuZGFyeSBvbiBhIGNoaWxkIHJlc2V0LlxuXHRcdFx0dGhpcy5pc19wZW5kaW5nID0gdGhpcy5oYXNfcGVuZGluZ19zbmlwcGV0KCk7XG5cblx0XHRcdHRoaXMuI21haW5fZWZmZWN0ID0gdGhpcy4jcnVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGJyYW5jaCgoKSA9PiB0aGlzLiNjaGlsZHJlbih0aGlzLiNhbmNob3IpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodGhpcy4jcGVuZGluZ19jb3VudCA+IDApIHtcblx0XHRcdFx0dGhpcy4jc2hvd19wZW5kaW5nX3NuaXBwZXQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuaXNfcGVuZGluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cblx0XHR0cnkge1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHRcdGNhbGxpbmdfb25fZXJyb3IgPSB0cnVlO1xuXHRcdFx0b25lcnJvcj8uKGVycm9yLCByZXNldCk7XG5cdFx0XHRjYWxsaW5nX29uX2Vycm9yID0gZmFsc2U7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgdGhpcy4jZWZmZWN0ICYmIHRoaXMuI2VmZmVjdC5wYXJlbnQpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHR9XG5cblx0XHRpZiAoZmFpbGVkKSB7XG5cdFx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdFx0dGhpcy4jZmFpbGVkX2VmZmVjdCA9IHRoaXMuI3J1bigoKSA9PiB7XG5cdFx0XHRcdFx0QmF0Y2guZW5zdXJlKCk7XG5cdFx0XHRcdFx0dGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSB0cnVlO1xuXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHJldHVybiBicmFuY2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRmYWlsZWQoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4jYW5jaG9yLFxuXHRcdFx0XHRcdFx0XHRcdCgpID0+IGVycm9yLFxuXHRcdFx0XHRcdFx0XHRcdCgpID0+IHJlc2V0XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCAvKiogQHR5cGUge0VmZmVjdH0gKi8gKHRoaXMuI2VmZmVjdC5wYXJlbnQpKTtcblx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHR0aGlzLiNpc19jcmVhdGluZ19mYWxsYmFjayA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9ib3VuZGFyeSgpIHtcblx0cmV0dXJuIC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovICgvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGVuZGluZygpIHtcblx0aWYgKGFjdGl2ZV9lZmZlY3QgPT09IG51bGwpIHtcblx0XHRlLmVmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb24oKTtcblx0fVxuXG5cdHZhciBib3VuZGFyeSA9IGFjdGl2ZV9lZmZlY3QuYjtcblxuXHRpZiAoYm91bmRhcnkgPT09IG51bGwpIHtcblx0XHRyZXR1cm4gMDsgLy8gVE9ETyBldmVudHVhbGx5IHdlIHdpbGwgbmVlZCB0aGlzIHRvIGJlIGdsb2JhbFxuXHR9XG5cblx0cmV0dXJuIGJvdW5kYXJ5LmdldF9lZmZlY3RfcGVuZGluZygpO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFU1RST1lFRCwgU1RBTEVfUkVBQ1RJT04gfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7XG5cdGNvbXBvbmVudF9jb250ZXh0LFxuXHRkZXZfc3RhY2ssXG5cdGlzX3J1bmVzLFxuXHRzZXRfY29tcG9uZW50X2NvbnRleHQsXG5cdHNldF9kZXZfc3RhY2tcbn0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBnZXRfYm91bmRhcnkgfSBmcm9tICcuLi9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzJztcbmltcG9ydCB7IGludm9rZV9lcnJvcl9ib3VuZGFyeSB9IGZyb20gJy4uL2Vycm9yLWhhbmRsaW5nLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgY3VycmVudF9iYXRjaCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHtcblx0YXN5bmNfZGVyaXZlZCxcblx0Y3VycmVudF9hc3luY19lZmZlY3QsXG5cdGRlcml2ZWQsXG5cdGRlcml2ZWRfc2FmZV9lcXVhbCxcblx0c2V0X2Zyb21fYXN5bmNfZGVyaXZlZFxufSBmcm9tICcuL2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IGFib3J0ZWQgfSBmcm9tICcuL2VmZmVjdHMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTx2b2lkPj59IGJsb2NrZXJzXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IGFueT59IHN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+Pn0gYXN5bmNcbiAqIEBwYXJhbSB7KHZhbHVlczogVmFsdWVbXSkgPT4gYW55fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbihibG9ja2Vycywgc3luYywgYXN5bmMsIGZuKSB7XG5cdGNvbnN0IGQgPSBpc19ydW5lcygpID8gZGVyaXZlZCA6IGRlcml2ZWRfc2FmZV9lcXVhbDtcblxuXHRpZiAoYXN5bmMubGVuZ3RoID09PSAwICYmIGJsb2NrZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGZuKHN5bmMubWFwKGQpKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgYmF0Y2ggPSBjdXJyZW50X2JhdGNoO1xuXHR2YXIgcGFyZW50ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHR2YXIgcmVzdG9yZSA9IGNhcHR1cmUoKTtcblxuXHRmdW5jdGlvbiBydW4oKSB7XG5cdFx0UHJvbWlzZS5hbGwoYXN5bmMubWFwKChleHByZXNzaW9uKSA9PiBhc3luY19kZXJpdmVkKGV4cHJlc3Npb24pKSlcblx0XHRcdC50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0cmVzdG9yZSgpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm4oWy4uLnN5bmMubWFwKGQpLCAuLi5yZXN1bHRdKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHQvLyBpZ25vcmUgZXJyb3JzIGluIGJsb2NrcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxuXHRcdFx0XHRcdGlmICgocGFyZW50LmYgJiBERVNUUk9ZRUQpID09PSAwKSB7XG5cdFx0XHRcdFx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIHBhcmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmF0Y2g/LmRlYWN0aXZhdGUoKTtcblx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBwYXJlbnQpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRpZiAoYmxvY2tlcnMubGVuZ3RoID4gMCkge1xuXHRcdFByb21pc2UuYWxsKGJsb2NrZXJzKS50aGVuKCgpID0+IHtcblx0XHRcdHJlc3RvcmUoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIHJ1bigpO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YmF0Y2g/LmRlYWN0aXZhdGUoKTtcblx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHJ1bigpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQcm9taXNlPHZvaWQ+Pn0gYmxvY2tlcnNcbiAqIEBwYXJhbSB7KHZhbHVlczogVmFsdWVbXSkgPT4gYW55fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FmdGVyX2Jsb2NrZXJzKGJsb2NrZXJzLCBmbikge1xuXHRmbGF0dGVuKGJsb2NrZXJzLCBbXSwgW10sIGZuKTtcbn1cblxuLyoqXG4gKiBDYXB0dXJlcyB0aGUgY3VycmVudCBlZmZlY3QgY29udGV4dCBzbyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IGFmdGVyXG4gKiBzb21lIGFzeW5jaHJvbm91cyB3b3JrIGhhcyBoYXBwZW5lZCAoc28gdGhhdCBlLmcuIGBhd2FpdCBhICsgYmBcbiAqIGNhdXNlcyBgYmAgdG8gYmUgcmVnaXN0ZXJlZCBhcyBhIGRlcGVuZGVuY3kpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZSgpIHtcblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdHZhciBwcmV2aW91c19iYXRjaCA9IGN1cnJlbnRfYmF0Y2g7XG5cblx0aWYgKERFVikge1xuXHRcdHZhciBwcmV2aW91c19kZXZfc3RhY2sgPSBkZXZfc3RhY2s7XG5cdH1cblxuXHRyZXR1cm4gZnVuY3Rpb24gcmVzdG9yZShhY3RpdmF0ZV9iYXRjaCA9IHRydWUpIHtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9jb21wb25lbnRfY29udGV4dChwcmV2aW91c19jb21wb25lbnRfY29udGV4dCk7XG5cdFx0aWYgKGFjdGl2YXRlX2JhdGNoKSBwcmV2aW91c19iYXRjaD8uYWN0aXZhdGUoKTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQobnVsbCk7XG5cdFx0XHRzZXRfZGV2X3N0YWNrKHByZXZpb3VzX2Rldl9zdGFjayk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGBhd2FpdGAgZXhwcmVzc2lvbiBpbiBzdWNoIGEgd2F5IHRoYXQgdGhlIGVmZmVjdCBjb250ZXh0IHRoYXQgd2FzXG4gKiBhY3RpdmUgYmVmb3JlIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlZCBjYW4gYmUgcmVhcHBsaWVkIGFmdGVyd2FyZHMgXHUyMDE0XG4gKiBgYXdhaXQgYSArIGJgIGJlY29tZXMgYChhd2FpdCAkLnNhdmUoYSkpKCkgKyBiYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gcHJvbWlzZVxuICogQHJldHVybnMge1Byb21pc2U8KCkgPT4gVD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKHByb21pc2UpIHtcblx0dmFyIHJlc3RvcmUgPSBjYXB0dXJlKCk7XG5cdHZhciB2YWx1ZSA9IGF3YWl0IHByb21pc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRyZXN0b3JlKCk7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJlc2V0IGBjdXJyZW50X2FzeW5jX2VmZmVjdGAgYWZ0ZXIgdGhlIGBwcm9taXNlYCByZXNvbHZlcywgc29cbiAqIHRoYXQgd2UgY2FuIGVtaXQgYGF3YWl0X3JlYWN0aXZpdHlfbG9zc2Agd2FybmluZ3NcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPCgpID0+IFQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJhY2tfcmVhY3Rpdml0eV9sb3NzKHByb21pc2UpIHtcblx0dmFyIHByZXZpb3VzX2FzeW5jX2VmZmVjdCA9IGN1cnJlbnRfYXN5bmNfZWZmZWN0O1xuXHR2YXIgdmFsdWUgPSBhd2FpdCBwcm9taXNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0c2V0X2Zyb21fYXN5bmNfZGVyaXZlZChwcmV2aW91c19hc3luY19lZmZlY3QpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBVc2VkIGluIGBmb3IgYXdhaXRgIGxvb3BzIGluIERFViwgc29cbiAqIHRoYXQgd2UgY2FuIGVtaXQgYGF3YWl0X3JlYWN0aXZpdHlfbG9zc2Agd2FybmluZ3NcbiAqIGFmdGVyIGVhY2ggYGFzeW5jX2l0ZXJhdG9yYCByZXN1bHQgcmVzb2x2ZXMgYW5kXG4gKiBhZnRlciB0aGUgYGFzeW5jX2l0ZXJhdG9yYCByZXR1cm4gcmVzb2x2ZXMgKGlmIGl0IHJ1bnMpXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFRSZXR1cm5cbiAqIEBwYXJhbSB7SXRlcmFibGU8VD4gfCBBc3luY0l0ZXJhYmxlPFQ+fSBpdGVyYWJsZVxuICogQHJldHVybnMge0FzeW5jR2VuZXJhdG9yPFQsIFRSZXR1cm4gfCB1bmRlZmluZWQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIGZvcl9hd2FpdF90cmFja19yZWFjdGl2aXR5X2xvc3MoaXRlcmFibGUpIHtcblx0Ly8gVGhpcyBpcyBiYXNlZCBvbiB0aGUgYWxnb3JpdGhtcyBkZXNjcmliZWQgaW4gRUNNQS0yNjI6XG5cdC8vIEZvckluL09mQm9keUV2YWx1YXRpb25cblx0Ly8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvbXVsdGlwYWdlL2VjbWFzY3JpcHQtbGFuZ3VhZ2Utc3RhdGVtZW50cy1hbmQtZGVjbGFyYXRpb25zLmh0bWwjc2VjLXJ1bnRpbWUtc2VtYW50aWNzLWZvcmluLWRpdi1vZmJvZHlldmFsdWF0aW9uLWxocy1zdG10LWl0ZXJhdG9yLWxoc2tpbmQtbGFiZWxzZXRcblx0Ly8gQXN5bmNJdGVyYXRvckNsb3NlXG5cdC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyL211bHRpcGFnZS9hYnN0cmFjdC1vcGVyYXRpb25zLmh0bWwjc2VjLWFzeW5jaXRlcmF0b3JjbG9zZVxuXG5cdC8qKiBAdHlwZSB7QXN5bmNJdGVyYXRvcjxULCBUUmV0dXJuPn0gKi9cblx0Ly8gQHRzLWlnbm9yZVxuXHRjb25zdCBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT8uKCkgPz8gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXT8uKCk7XG5cblx0aWYgKGl0ZXJhdG9yID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWx1ZSBpcyBub3QgYXN5bmMgaXRlcmFibGUnKTtcblx0fVxuXG5cdC8qKiBXaGV0aGVyIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBpdGVyYXRvciB3YXMgXCJub3JtYWxcIiwgbWVhbmluZyBpdCB3YXNuJ3QgZW5kZWQgdmlhIGBicmVha2Agb3IgYSBzaW1pbGFyIG1ldGhvZCAqL1xuXHRsZXQgbm9ybWFsX2NvbXBsZXRpb24gPSBmYWxzZTtcblx0dHJ5IHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gKGF3YWl0IHRyYWNrX3JlYWN0aXZpdHlfbG9zcyhpdGVyYXRvci5uZXh0KCkpKSgpO1xuXHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0bm9ybWFsX2NvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHlpZWxkIHZhbHVlO1xuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHQvLyBJZiB0aGUgaXRlcmF0b3IgaGFkIGEgbm9ybWFsIGNvbXBsZXRpb24gYW5kIGByZXR1cm5gIGlzIGRlZmluZWQgb24gdGhlIGl0ZXJhdG9yLCBjYWxsIGl0IGFuZCByZXR1cm4gdGhlIHZhbHVlXG5cdFx0aWYgKG5vcm1hbF9jb21wbGV0aW9uICYmIGl0ZXJhdG9yLnJldHVybiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcblx0XHRcdHJldHVybiAvKiogQHR5cGUge1RSZXR1cm59ICovICgoYXdhaXQgdHJhY2tfcmVhY3Rpdml0eV9sb3NzKGl0ZXJhdG9yLnJldHVybigpKSkoKS52YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNldF9jb250ZXh0KCkge1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0KG51bGwpO1xuXG5cdGlmIChERVYpIHtcblx0XHRzZXRfZnJvbV9hc3luY19kZXJpdmVkKG51bGwpO1xuXHRcdHNldF9kZXZfc3RhY2sobnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+Pn0gdGh1bmtzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW4odGh1bmtzKSB7XG5cdGNvbnN0IHJlc3RvcmUgPSBjYXB0dXJlKCk7XG5cblx0dmFyIGJvdW5kYXJ5ID0gZ2V0X2JvdW5kYXJ5KCk7XG5cdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0dmFyIGJsb2NraW5nID0gYm91bmRhcnkuaXNfcmVuZGVyZWQoKTtcblxuXHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgxKTtcblx0YmF0Y2guaW5jcmVtZW50KGJsb2NraW5nKTtcblxuXHR2YXIgYWN0aXZlID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHQvKiogQHR5cGUge251bGwgfCB7IGVycm9yOiBhbnkgfX0gKi9cblx0dmFyIGVycm9yZWQgPSBudWxsO1xuXG5cdC8qKiBAcGFyYW0ge2FueX0gZXJyb3IgKi9cblx0Y29uc3QgaGFuZGxlX2Vycm9yID0gKGVycm9yKSA9PiB7XG5cdFx0ZXJyb3JlZCA9IHsgZXJyb3IgfTsgLy8gd3JhcCBpbiBvYmplY3QgaW4gY2FzZSBhIHByb21pc2UgcmVqZWN0cyB3aXRoIGEgZmFsc3kgdmFsdWVcblxuXHRcdGlmICghYWJvcnRlZChhY3RpdmUpKSB7XG5cdFx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIGFjdGl2ZSk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRodW5rc1swXSgpKS5jYXRjaChoYW5kbGVfZXJyb3IpO1xuXG5cdHZhciBwcm9taXNlcyA9IFtwcm9taXNlXTtcblxuXHRmb3IgKGNvbnN0IGZuIG9mIHRodW5rcy5zbGljZSgxKSkge1xuXHRcdHByb21pc2UgPSBwcm9taXNlXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvcmVkKSB7XG5cdFx0XHRcdFx0dGhyb3cgZXJyb3JlZC5lcnJvcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhYm9ydGVkKGFjdGl2ZSkpIHtcblx0XHRcdFx0XHR0aHJvdyBTVEFMRV9SRUFDVElPTjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3RvcmUoKTtcblx0XHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGhhbmRsZV9lcnJvcilcblx0XHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0XHRjdXJyZW50X2JhdGNoPy5kZWFjdGl2YXRlKCk7XG5cdFx0XHR9KTtcblxuXHRcdHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG5cdH1cblxuXHRwcm9taXNlXG5cdFx0Ly8gd2FpdCBvbmUgbW9yZSB0aWNrLCBzbyB0aGF0IHRlbXBsYXRlIGVmZmVjdHMgYXJlXG5cdFx0Ly8gZ3VhcmFudGVlZCB0byBydW4gYmVmb3JlIGAkZWZmZWN0KC4uLilgXG5cdFx0LnRoZW4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCkpXG5cdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoLTEpO1xuXHRcdFx0YmF0Y2guZGVjcmVtZW50KGJsb2NraW5nKTtcblx0XHR9KTtcblxuXHRyZXR1cm4gcHJvbWlzZXM7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFNvdXJjZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEJhdGNoIH0gZnJvbSAnLi9iYXRjaC5qcyc7ICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7XG5cdEVSUk9SX1ZBTFVFLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0RUZGRUNUX1BSRVNFUlZFRCxcblx0U1RBTEVfUkVBQ1RJT04sXG5cdEFTWU5DLFxuXHRXQVNfTUFSS0VELFxuXHRERVNUUk9ZRUQsXG5cdENMRUFOXG59IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0YWN0aXZlX2VmZmVjdCxcblx0dXBkYXRlX3JlYWN0aW9uLFxuXHRpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbixcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHB1c2hfcmVhY3Rpb25fdmFsdWUsXG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0XG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgZXF1YWxzLCBzYWZlX2VxdWFscyB9IGZyb20gJy4vZXF1YWxpdHkuanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBhc3luY19lZmZlY3QsIGRlc3Ryb3lfZWZmZWN0LCBlZmZlY3RfdHJhY2tpbmcsIHRlYXJkb3duIH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGVhZ2VyX2VmZmVjdHMsIGludGVybmFsX3NldCwgc2V0X2VhZ2VyX2VmZmVjdHMsIHNvdXJjZSB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBnZXRfZXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvZGV2LmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgdHJhY2luZ19tb2RlX2ZsYWcgfSBmcm9tICcuLi8uLi9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyBCb3VuZGFyeSB9IGZyb20gJy4uL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IFVOSU5JVElBTElaRUQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYmF0Y2hfdmFsdWVzLCBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi9iYXRjaC5qcyc7XG5pbXBvcnQgeyB1bnNldF9jb250ZXh0IH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyBkZWZlcnJlZCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBzZXRfc2lnbmFsX3N0YXR1cywgdXBkYXRlX2Rlcml2ZWRfc3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMuanMnO1xuXG4vKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGN1cnJlbnRfYXN5bmNfZWZmZWN0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gdiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQodikge1xuXHRjdXJyZW50X2FzeW5jX2VmZmVjdCA9IHY7XG59XG5cbmV4cG9ydCBjb25zdCByZWNlbnRfYXN5bmNfZGVyaXZlZHMgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7KCkgPT4gVn0gZm5cbiAqIEByZXR1cm5zIHtEZXJpdmVkPFY+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkKGZuKSB7XG5cdHZhciBmbGFncyA9IERFUklWRUQgfCBESVJUWTtcblx0dmFyIHBhcmVudF9kZXJpdmVkID1cblx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiYgKGFjdGl2ZV9yZWFjdGlvbi5mICYgREVSSVZFRCkgIT09IDBcblx0XHRcdD8gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoYWN0aXZlX3JlYWN0aW9uKVxuXHRcdFx0OiBudWxsO1xuXG5cdGlmIChhY3RpdmVfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0Ly8gU2luY2UgZGVyaXZlZHMgYXJlIGV2YWx1YXRlZCBsYXppbHksIGFueSBlZmZlY3RzIGNyZWF0ZWQgaW5zaWRlIHRoZW0gYXJlXG5cdFx0Ly8gY3JlYXRlZCB0b28gbGF0ZSB0byBlbnN1cmUgdGhhdCB0aGUgcGFyZW50IGVmZmVjdCBpcyBhZGRlZCB0byB0aGUgdHJlZVxuXHRcdGFjdGl2ZV9lZmZlY3QuZiB8PSBFRkZFQ1RfUFJFU0VSVkVEO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtEZXJpdmVkPFY+fSAqL1xuXHRjb25zdCBzaWduYWwgPSB7XG5cdFx0Y3R4OiBjb21wb25lbnRfY29udGV4dCxcblx0XHRkZXBzOiBudWxsLFxuXHRcdGVmZmVjdHM6IG51bGwsXG5cdFx0ZXF1YWxzLFxuXHRcdGY6IGZsYWdzLFxuXHRcdGZuLFxuXHRcdHJlYWN0aW9uczogbnVsbCxcblx0XHRydjogMCxcblx0XHR2OiAvKiogQHR5cGUge1Z9ICovIChVTklOSVRJQUxJWkVEKSxcblx0XHR3djogMCxcblx0XHRwYXJlbnQ6IHBhcmVudF9kZXJpdmVkID8/IGFjdGl2ZV9lZmZlY3QsXG5cdFx0YWM6IG51bGxcblx0fTtcblxuXHRpZiAoREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnKSB7XG5cdFx0c2lnbmFsLmNyZWF0ZWQgPSBnZXRfZXJyb3IoJ2NyZWF0ZWQgYXQnKTtcblx0fVxuXG5cdHJldHVybiBzaWduYWw7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7KCkgPT4gViB8IFByb21pc2U8Vj59IGZuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXVxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhdGlvbl0gSWYgcHJvdmlkZWQsIHByaW50IGEgd2FybmluZyBpZiB0aGUgdmFsdWUgaXMgbm90IHJlYWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdXBkYXRlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxTb3VyY2U8Vj4+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3luY19kZXJpdmVkKGZuLCBsYWJlbCwgbG9jYXRpb24pIHtcblx0bGV0IHBhcmVudCA9IC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdGlmIChwYXJlbnQgPT09IG51bGwpIHtcblx0XHRlLmFzeW5jX2Rlcml2ZWRfb3JwaGFuKCk7XG5cdH1cblxuXHR2YXIgYm91bmRhcnkgPSAvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAocGFyZW50LmIpO1xuXG5cdHZhciBwcm9taXNlID0gLyoqIEB0eXBlIHtQcm9taXNlPFY+fSAqLyAoLyoqIEB0eXBlIHt1bmtub3dufSAqLyAodW5kZWZpbmVkKSk7XG5cdHZhciBzaWduYWwgPSBzb3VyY2UoLyoqIEB0eXBlIHtWfSAqLyAoVU5JTklUSUFMSVpFRCkpO1xuXG5cdGlmIChERVYpIHNpZ25hbC5sYWJlbCA9IGxhYmVsO1xuXG5cdC8vIG9ubHkgc3VzcGVuZCBpbiBhc3luYyBkZXJpdmVkcyBjcmVhdGVkIG9uIGluaXRpYWxpc2F0aW9uXG5cdHZhciBzaG91bGRfc3VzcGVuZCA9ICFhY3RpdmVfcmVhY3Rpb247XG5cblx0LyoqIEB0eXBlIHtNYXA8QmF0Y2gsIFJldHVyblR5cGU8dHlwZW9mIGRlZmVycmVkPFY+Pj59ICovXG5cdHZhciBkZWZlcnJlZHMgPSBuZXcgTWFwKCk7XG5cblx0YXN5bmNfZWZmZWN0KCgpID0+IHtcblx0XHRpZiAoREVWKSBjdXJyZW50X2FzeW5jX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0XHQvKiogQHR5cGUge1JldHVyblR5cGU8dHlwZW9mIGRlZmVycmVkPFY+Pn0gKi9cblx0XHR2YXIgZCA9IGRlZmVycmVkKCk7XG5cdFx0cHJvbWlzZSA9IGQucHJvbWlzZTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBJZiB0aGlzIGNvZGUgaXMgY2hhbmdlZCBhdCBzb21lIHBvaW50LCBtYWtlIHN1cmUgdG8gc3RpbGwgYWNjZXNzIHRoZSB0aGVuIHByb3BlcnR5XG5cdFx0XHQvLyBvZiBmbigpIHRvIHJlYWQgYW55IHNpZ25hbHMgaXQgbWlnaHQgYWNjZXNzLCBzbyB0aGF0IHdlIHRyYWNrIHRoZW0gYXMgZGVwZW5kZW5jaWVzLlxuXHRcdFx0Ly8gV2UgY2FsbCBgdW5zZXRfY29udGV4dGAgdG8gdW5kbyBhbnkgYHNhdmVgIGNhbGxzIHRoYXQgaGFwcGVuIGluc2lkZSBgZm4oKWBcblx0XHRcdFByb21pc2UucmVzb2x2ZShmbigpKVxuXHRcdFx0XHQudGhlbihkLnJlc29sdmUsIGQucmVqZWN0KVxuXHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGJhdGNoID09PSBjdXJyZW50X2JhdGNoICYmIGJhdGNoLmNvbW1pdHRlZCkge1xuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGJhdGNoIHdhcyByZWplY3RlZCBhcyBzdGFsZSwgd2UgbmVlZCB0byBjbGVhbnVwXG5cdFx0XHRcdFx0XHQvLyBhZnRlciBhbnkgYCQuc2F2ZSguLi4pYCBjYWxscyBpbnNpZGUgYGZuKClgXG5cdFx0XHRcdFx0XHRiYXRjaC5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0ZC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdH1cblxuXHRcdGlmIChERVYpIGN1cnJlbnRfYXN5bmNfZWZmZWN0ID0gbnVsbDtcblxuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblxuXHRcdGlmIChzaG91bGRfc3VzcGVuZCkge1xuXHRcdFx0dmFyIGJsb2NraW5nID0gYm91bmRhcnkuaXNfcmVuZGVyZWQoKTtcblxuXHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoMSk7XG5cdFx0XHRiYXRjaC5pbmNyZW1lbnQoYmxvY2tpbmcpO1xuXG5cdFx0XHRkZWZlcnJlZHMuZ2V0KGJhdGNoKT8ucmVqZWN0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHRcdGRlZmVycmVkcy5kZWxldGUoYmF0Y2gpOyAvLyBkZWxldGUgdG8gZW5zdXJlIGNvcnJlY3Qgb3JkZXIgaW4gTWFwIGl0ZXJhdGlvbiBiZWxvd1xuXHRcdFx0ZGVmZXJyZWRzLnNldChiYXRjaCwgZCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHthbnl9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuXHRcdCAqL1xuXHRcdGNvbnN0IGhhbmRsZXIgPSAodmFsdWUsIGVycm9yID0gdW5kZWZpbmVkKSA9PiB7XG5cdFx0XHRjdXJyZW50X2FzeW5jX2VmZmVjdCA9IG51bGw7XG5cblx0XHRcdGJhdGNoLmFjdGl2YXRlKCk7XG5cblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRpZiAoZXJyb3IgIT09IFNUQUxFX1JFQUNUSU9OKSB7XG5cdFx0XHRcdFx0c2lnbmFsLmYgfD0gRVJST1JfVkFMVUU7XG5cblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoZSBlcnJvciBpcyB0aGUgd3JvbmcgdHlwZSwgYnV0IHdlIGRvbid0IGNhcmVcblx0XHRcdFx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgoc2lnbmFsLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHRcdFx0XHRzaWduYWwuZiBePSBFUlJPUl9WQUxVRTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGludGVybmFsX3NldChzaWduYWwsIHZhbHVlKTtcblxuXHRcdFx0XHQvLyBBbGwgcHJpb3IgYXN5bmMgZGVyaXZlZCBydW5zIGFyZSBub3cgc3RhbGVcblx0XHRcdFx0Zm9yIChjb25zdCBbYiwgZF0gb2YgZGVmZXJyZWRzKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWRzLmRlbGV0ZShiKTtcblx0XHRcdFx0XHRpZiAoYiA9PT0gYmF0Y2gpIGJyZWFrO1xuXHRcdFx0XHRcdGQucmVqZWN0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChERVYgJiYgbG9jYXRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5hZGQoc2lnbmFsKTtcblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHJlY2VudF9hc3luY19kZXJpdmVkcy5oYXMoc2lnbmFsKSkge1xuXHRcdFx0XHRcdFx0XHR3LmF3YWl0X3dhdGVyZmFsbCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHNpZ25hbC5sYWJlbCksIGxvY2F0aW9uKTtcblx0XHRcdFx0XHRcdFx0cmVjZW50X2FzeW5jX2Rlcml2ZWRzLmRlbGV0ZShzaWduYWwpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzaG91bGRfc3VzcGVuZCkge1xuXHRcdFx0XHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgtMSk7XG5cdFx0XHRcdGJhdGNoLmRlY3JlbWVudChibG9ja2luZyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGQucHJvbWlzZS50aGVuKGhhbmRsZXIsIChlKSA9PiBoYW5kbGVyKG51bGwsIGUgfHwgJ3Vua25vd24nKSk7XG5cdH0pO1xuXG5cdHRlYXJkb3duKCgpID0+IHtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGVmZXJyZWRzLnZhbHVlcygpKSB7XG5cdFx0XHRkLnJlamVjdChTVEFMRV9SRUFDVElPTik7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoREVWKSB7XG5cdFx0Ly8gYWRkIGEgZmxhZyB0aGF0IGxldHMgdGhpcyBiZSBwcmludGVkIGFzIGEgZGVyaXZlZFxuXHRcdC8vIHdoZW4gdXNpbmcgYCRpbnNwZWN0LnRyYWNlKClgXG5cdFx0c2lnbmFsLmYgfD0gQVNZTkM7XG5cdH1cblxuXHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCkgPT4ge1xuXHRcdC8qKiBAcGFyYW0ge1Byb21pc2U8Vj59IHAgKi9cblx0XHRmdW5jdGlvbiBuZXh0KHApIHtcblx0XHRcdGZ1bmN0aW9uIGdvKCkge1xuXHRcdFx0XHRpZiAocCA9PT0gcHJvbWlzZSkge1xuXHRcdFx0XHRcdGZ1bGZpbChzaWduYWwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGlmIHRoZSBlZmZlY3QgcmUtcnVucyBiZWZvcmUgdGhlIGluaXRpYWwgcHJvbWlzZVxuXHRcdFx0XHRcdC8vIHJlc29sdmVzLCBkZWxheSByZXNvbHV0aW9uIHVudGlsIHdlIGhhdmUgYSB2YWx1ZVxuXHRcdFx0XHRcdG5leHQocHJvbWlzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cC50aGVuKGdvLCBnbyk7XG5cdFx0fVxuXG5cdFx0bmV4dChwcm9taXNlKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7KCkgPT4gVn0gZm5cbiAqIEByZXR1cm5zIHtEZXJpdmVkPFY+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyX2Rlcml2ZWQoZm4pIHtcblx0Y29uc3QgZCA9IGRlcml2ZWQoZm4pO1xuXG5cdGlmICghYXN5bmNfbW9kZV9mbGFnKSBwdXNoX3JlYWN0aW9uX3ZhbHVlKGQpO1xuXG5cdHJldHVybiBkO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZF9zYWZlX2VxdWFsKGZuKSB7XG5cdGNvbnN0IHNpZ25hbCA9IGRlcml2ZWQoZm4pO1xuXHRzaWduYWwuZXF1YWxzID0gc2FmZV9lcXVhbHM7XG5cdHJldHVybiBzaWduYWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpIHtcblx0dmFyIGVmZmVjdHMgPSBkZXJpdmVkLmVmZmVjdHM7XG5cblx0aWYgKGVmZmVjdHMgIT09IG51bGwpIHtcblx0XHRkZXJpdmVkLmVmZmVjdHMgPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKGVmZmVjdHNbaV0pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IHVwZGF0aW5nIGRlcml2ZWRzLCB1c2VkIHRvIGRldGVjdCBpbmZpbml0ZSByZWN1cnNpb25cbiAqIGluIGRldiBtb2RlIGFuZCBwcm92aWRlIGEgbmljZXIgZXJyb3IgdGhhbiAndG9vIG11Y2ggcmVjdXJzaW9uJ1xuICogQHR5cGUge0Rlcml2ZWRbXX1cbiAqL1xubGV0IHN0YWNrID0gW107XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7RWZmZWN0IHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gZ2V0X2Rlcml2ZWRfcGFyZW50X2VmZmVjdChkZXJpdmVkKSB7XG5cdHZhciBwYXJlbnQgPSBkZXJpdmVkLnBhcmVudDtcblx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGlmICgocGFyZW50LmYgJiBERVJJVkVEKSA9PT0gMCkge1xuXHRcdFx0Ly8gVGhlIG9yaWdpbmFsIHBhcmVudCBlZmZlY3QgbWlnaHQndmUgYmVlbiBkZXN0cm95ZWQgYnV0IHRoZSBkZXJpdmVkXG5cdFx0XHQvLyBpcyB1c2VkIGVsc2V3aGVyZSBub3cgLSBkbyBub3QgcmV0dXJuIHRoZSBkZXN0cm95ZWQgZWZmZWN0IGluIHRoYXQgY2FzZVxuXHRcdFx0cmV0dXJuIChwYXJlbnQuZiAmIERFU1RST1lFRCkgPT09IDAgPyAvKiogQHR5cGUge0VmZmVjdH0gKi8gKHBhcmVudCkgOiBudWxsO1xuXHRcdH1cblx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHR9XG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZV9kZXJpdmVkKGRlcml2ZWQpIHtcblx0dmFyIHZhbHVlO1xuXHR2YXIgcHJldl9hY3RpdmVfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHRzZXRfYWN0aXZlX2VmZmVjdChnZXRfZGVyaXZlZF9wYXJlbnRfZWZmZWN0KGRlcml2ZWQpKTtcblxuXHRpZiAoREVWKSB7XG5cdFx0bGV0IHByZXZfZWFnZXJfZWZmZWN0cyA9IGVhZ2VyX2VmZmVjdHM7XG5cdFx0c2V0X2VhZ2VyX2VmZmVjdHMobmV3IFNldCgpKTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHN0YWNrLmluY2x1ZGVzKGRlcml2ZWQpKSB7XG5cdFx0XHRcdGUuZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGYoKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhY2sucHVzaChkZXJpdmVkKTtcblxuXHRcdFx0ZGVyaXZlZC5mICY9IH5XQVNfTUFSS0VEO1xuXHRcdFx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMoZGVyaXZlZCk7XG5cdFx0XHR2YWx1ZSA9IHVwZGF0ZV9yZWFjdGlvbihkZXJpdmVkKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldl9hY3RpdmVfZWZmZWN0KTtcblx0XHRcdHNldF9lYWdlcl9lZmZlY3RzKHByZXZfZWFnZXJfZWZmZWN0cyk7XG5cdFx0XHRzdGFjay5wb3AoKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0dHJ5IHtcblx0XHRcdGRlcml2ZWQuZiAmPSB+V0FTX01BUktFRDtcblx0XHRcdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpO1xuXHRcdFx0dmFsdWUgPSB1cGRhdGVfcmVhY3Rpb24oZGVyaXZlZCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZfYWN0aXZlX2VmZmVjdCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZGVyaXZlZChkZXJpdmVkKSB7XG5cdHZhciB2YWx1ZSA9IGV4ZWN1dGVfZGVyaXZlZChkZXJpdmVkKTtcblxuXHRpZiAoIWRlcml2ZWQuZXF1YWxzKHZhbHVlKSkge1xuXHRcdGRlcml2ZWQud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXG5cdFx0Ly8gaW4gYSBmb3JrLCB3ZSBkb24ndCB1cGRhdGUgdGhlIHVuZGVybHlpbmcgdmFsdWUsIGp1c3QgYGJhdGNoX3ZhbHVlc2AuXG5cdFx0Ly8gdGhlIHVuZGVybHlpbmcgdmFsdWUgd2lsbCBiZSB1cGRhdGVkIHdoZW4gdGhlIGZvcmsgaXMgY29tbWl0dGVkLlxuXHRcdC8vIG90aGVyd2lzZSwgdGhlIG5leHQgdGltZSB3ZSBnZXQgaGVyZSBhZnRlciBhICdyZWFsIHdvcmxkJyBzdGF0ZVxuXHRcdC8vIGNoYW5nZSwgYGRlcml2ZWQuZXF1YWxzYCBtYXkgaW5jb3JyZWN0bHkgcmV0dXJuIGB0cnVlYFxuXHRcdGlmICghY3VycmVudF9iYXRjaD8uaXNfZm9yayB8fCBkZXJpdmVkLmRlcHMgPT09IG51bGwpIHtcblx0XHRcdGRlcml2ZWQudiA9IHZhbHVlO1xuXG5cdFx0XHQvLyBkZXJpdmVkcyB3aXRob3V0IGRlcGVuZGVuY2llcyBzaG91bGQgbmV2ZXIgYmUgcmVjb21wdXRlZFxuXHRcdFx0aWYgKGRlcml2ZWQuZGVwcyA9PT0gbnVsbCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhkZXJpdmVkLCBDTEVBTik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBkb24ndCBtYXJrIGRlcml2ZWQgY2xlYW4gaWYgd2UncmUgcmVhZGluZyBpdCBpbnNpZGUgYVxuXHQvLyBjbGVhbnVwIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhY2hlIGEgc3RhbGUgdmFsdWVcblx0aWYgKGlzX2Rlc3Ryb3lpbmdfZWZmZWN0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gRHVyaW5nIHRpbWUgdHJhdmVsaW5nIHdlIGRvbid0IHdhbnQgdG8gcmVzZXQgdGhlIHN0YXR1cyBzbyB0aGF0XG5cdC8vIHRyYXZlcnNhbCBvZiB0aGUgZ3JhcGggaW4gdGhlIG90aGVyIGJhdGNoZXMgc3RpbGwgaGFwcGVuc1xuXHRpZiAoYmF0Y2hfdmFsdWVzICE9PSBudWxsKSB7XG5cdFx0Ly8gb25seSBjYWNoZSB0aGUgdmFsdWUgaWYgd2UncmUgaW4gYSB0cmFja2luZyBjb250ZXh0LCBvdGhlcndpc2Ugd2Ugd29uJ3Rcblx0XHQvLyBjbGVhciB0aGUgY2FjaGUgaW4gYG1hcmtfcmVhY3Rpb25zYCB3aGVuIGRlcGVuZGVuY2llcyBhcmUgdXBkYXRlZFxuXHRcdGlmIChlZmZlY3RfdHJhY2tpbmcoKSB8fCBjdXJyZW50X2JhdGNoPy5pc19mb3JrKSB7XG5cdFx0XHRiYXRjaF92YWx1ZXMuc2V0KGRlcml2ZWQsIHZhbHVlKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0dXBkYXRlX2Rlcml2ZWRfc3RhdHVzKGRlcml2ZWQpO1xuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFNvdXJjZSwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVudHJhY2tlZF93cml0ZXMsXG5cdGdldCxcblx0c2V0X3VudHJhY2tlZF93cml0ZXMsXG5cdHVudHJhY2ssXG5cdGluY3JlbWVudF93cml0ZV92ZXJzaW9uLFxuXHR1cGRhdGVfZWZmZWN0LFxuXHRjdXJyZW50X3NvdXJjZXMsXG5cdGlzX2RpcnR5LFxuXHR1bnRyYWNraW5nLFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdCxcblx0cHVzaF9yZWFjdGlvbl92YWx1ZSxcblx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdCxcblx0aXNfdXBkYXRpbmdfZWZmZWN0XG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgZXF1YWxzLCBzYWZlX2VxdWFscyB9IGZyb20gJy4vZXF1YWxpdHkuanMnO1xuaW1wb3J0IHtcblx0Q0xFQU4sXG5cdERFUklWRUQsXG5cdERJUlRZLFxuXHRCUkFOQ0hfRUZGRUNULFxuXHRFQUdFUl9FRkZFQ1QsXG5cdE1BWUJFX0RJUlRZLFxuXHRCTE9DS19FRkZFQ1QsXG5cdFJPT1RfRUZGRUNULFxuXHRBU1lOQyxcblx0V0FTX01BUktFRCxcblx0Q09OTkVDVEVEXG59IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGxlZ2FjeV9tb2RlX2ZsYWcsIHRyYWNpbmdfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgdGFnX3Byb3h5IH0gZnJvbSAnLi4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgZ2V0X2Vycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2Rldi5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCwgaXNfcnVuZXMgfSBmcm9tICcuLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IEJhdGNoLCBiYXRjaF92YWx1ZXMsIGVhZ2VyX2Jsb2NrX2VmZmVjdHMsIHNjaGVkdWxlX2VmZmVjdCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgcHJveHkgfSBmcm9tICcuLi9wcm94eS5qcyc7XG5pbXBvcnQgeyBleGVjdXRlX2Rlcml2ZWQgfSBmcm9tICcuL2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzLCB1cGRhdGVfZGVyaXZlZF9zdGF0dXMgfSBmcm9tICcuL3N0YXR1cy5qcyc7XG5cbi8qKiBAdHlwZSB7U2V0PGFueT59ICovXG5leHBvcnQgbGV0IGVhZ2VyX2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cbi8qKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn0gKi9cbmV4cG9ydCBjb25zdCBvbGRfdmFsdWVzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7U2V0PGFueT59IHZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9lYWdlcl9lZmZlY3RzKHYpIHtcblx0ZWFnZXJfZWZmZWN0cyA9IHY7XG59XG5cbmxldCBlYWdlcl9lZmZlY3RzX2RlZmVycmVkID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZWFnZXJfZWZmZWN0c19kZWZlcnJlZCgpIHtcblx0ZWFnZXJfZWZmZWN0c19kZWZlcnJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gdlxuICogQHBhcmFtIHtFcnJvciB8IG51bGx9IFtzdGFja11cbiAqIEByZXR1cm5zIHtTb3VyY2U8Vj59XG4gKi9cbi8vIFRPRE8gcmVuYW1lIHRoaXMgdG8gYHN0YXRlYCB0aHJvdWdob3V0IHRoZSBjb2RlYmFzZVxuZXhwb3J0IGZ1bmN0aW9uIHNvdXJjZSh2LCBzdGFjaykge1xuXHQvKiogQHR5cGUge1ZhbHVlfSAqL1xuXHR2YXIgc2lnbmFsID0ge1xuXHRcdGY6IDAsIC8vIFRPRE8gaWRlYWxseSB3ZSBjb3VsZCBza2lwIHRoaXMgYWx0b2dldGhlciwgYnV0IGl0IGNhdXNlcyB0eXBlIGVycm9yc1xuXHRcdHYsXG5cdFx0cmVhY3Rpb25zOiBudWxsLFxuXHRcdGVxdWFscyxcblx0XHRydjogMCxcblx0XHR3djogMFxuXHR9O1xuXG5cdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcpIHtcblx0XHRzaWduYWwuY3JlYXRlZCA9IHN0YWNrID8/IGdldF9lcnJvcignY3JlYXRlZCBhdCcpO1xuXHRcdHNpZ25hbC51cGRhdGVkID0gbnVsbDtcblx0XHRzaWduYWwuc2V0X2R1cmluZ19lZmZlY3QgPSBmYWxzZTtcblx0XHRzaWduYWwudHJhY2UgPSBudWxsO1xuXHR9XG5cblx0cmV0dXJuIHNpZ25hbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWfSB2XG4gKiBAcGFyYW0ge0Vycm9yIHwgbnVsbH0gW3N0YWNrXVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZSh2LCBzdGFjaykge1xuXHRjb25zdCBzID0gc291cmNlKHYsIHN0YWNrKTtcblxuXHRwdXNoX3JlYWN0aW9uX3ZhbHVlKHMpO1xuXG5cdHJldHVybiBzO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IGluaXRpYWxfdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltbXV0YWJsZV1cbiAqIEByZXR1cm5zIHtTb3VyY2U8Vj59XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIG11dGFibGVfc291cmNlKGluaXRpYWxfdmFsdWUsIGltbXV0YWJsZSA9IGZhbHNlLCB0cmFja2FibGUgPSB0cnVlKSB7XG5cdGNvbnN0IHMgPSBzb3VyY2UoaW5pdGlhbF92YWx1ZSk7XG5cdGlmICghaW1tdXRhYmxlKSB7XG5cdFx0cy5lcXVhbHMgPSBzYWZlX2VxdWFscztcblx0fVxuXG5cdC8vIGJpbmQgdGhlIHNpZ25hbCB0byB0aGUgY29tcG9uZW50IGNvbnRleHQsIGluIGNhc2Ugd2UgbmVlZCB0b1xuXHQvLyB0cmFjayB1cGRhdGVzIHRvIHRyaWdnZXIgYmVmb3JlVXBkYXRlL2FmdGVyVXBkYXRlIGNhbGxiYWNrc1xuXHRpZiAobGVnYWN5X21vZGVfZmxhZyAmJiB0cmFja2FibGUgJiYgY29tcG9uZW50X2NvbnRleHQgIT09IG51bGwgJiYgY29tcG9uZW50X2NvbnRleHQubCAhPT0gbnVsbCkge1xuXHRcdChjb21wb25lbnRfY29udGV4dC5sLnMgPz89IFtdKS5wdXNoKHMpO1xuXHR9XG5cblx0cmV0dXJuIHM7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7VmFsdWU8Vj59IHNvdXJjZVxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbXV0YXRlKHNvdXJjZSwgdmFsdWUpIHtcblx0c2V0KFxuXHRcdHNvdXJjZSxcblx0XHR1bnRyYWNrKCgpID0+IGdldChzb3VyY2UpKVxuXHQpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U291cmNlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZF9wcm94eV1cbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHNvdXJjZSwgdmFsdWUsIHNob3VsZF9wcm94eSA9IGZhbHNlKSB7XG5cdGlmIChcblx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiZcblx0XHQvLyBzaW5jZSB3ZSBhcmUgdW50cmFja2luZyB0aGUgZnVuY3Rpb24gaW5zaWRlIGAkaW5zcGVjdC53aXRoYCB3ZSBuZWVkIHRvIGFkZCB0aGlzIGNoZWNrXG5cdFx0Ly8gdG8gZW5zdXJlIHdlIGVycm9yIGlmIHN0YXRlIGlzIHNldCBpbnNpZGUgYW4gaW5zcGVjdCBlZmZlY3Rcblx0XHQoIXVudHJhY2tpbmcgfHwgKGFjdGl2ZV9yZWFjdGlvbi5mICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkgJiZcblx0XHRpc19ydW5lcygpICYmXG5cdFx0KGFjdGl2ZV9yZWFjdGlvbi5mICYgKERFUklWRUQgfCBCTE9DS19FRkZFQ1QgfCBBU1lOQyB8IEVBR0VSX0VGRkVDVCkpICE9PSAwICYmXG5cdFx0IWN1cnJlbnRfc291cmNlcz8uaW5jbHVkZXMoc291cmNlKVxuXHQpIHtcblx0XHRlLnN0YXRlX3Vuc2FmZV9tdXRhdGlvbigpO1xuXHR9XG5cblx0bGV0IG5ld192YWx1ZSA9IHNob3VsZF9wcm94eSA/IHByb3h5KHZhbHVlKSA6IHZhbHVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR0YWdfcHJveHkobmV3X3ZhbHVlLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNvdXJjZS5sYWJlbCkpO1xuXHR9XG5cblx0cmV0dXJuIGludGVybmFsX3NldChzb3VyY2UsIG5ld192YWx1ZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U291cmNlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxfc2V0KHNvdXJjZSwgdmFsdWUpIHtcblx0aWYgKCFzb3VyY2UuZXF1YWxzKHZhbHVlKSkge1xuXHRcdHZhciBvbGRfdmFsdWUgPSBzb3VyY2UudjtcblxuXHRcdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdFx0b2xkX3ZhbHVlcy5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZF92YWx1ZXMuc2V0KHNvdXJjZSwgb2xkX3ZhbHVlKTtcblx0XHR9XG5cblx0XHRzb3VyY2UudiA9IHZhbHVlO1xuXG5cdFx0dmFyIGJhdGNoID0gQmF0Y2guZW5zdXJlKCk7XG5cdFx0YmF0Y2guY2FwdHVyZShzb3VyY2UsIG9sZF92YWx1ZSk7XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHRpZiAodHJhY2luZ19tb2RlX2ZsYWcgfHwgYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRzb3VyY2UudXBkYXRlZCA/Pz0gbmV3IE1hcCgpO1xuXG5cdFx0XHRcdC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3aGVuIG5vdCB1c2luZyAkaW5zcGVjdC50cmFjZSwgd2Ugb25seSBzdGFydCBjb2xsZWN0aW5nIHN0YWNrIHRyYWNlc1xuXHRcdFx0XHQvLyBhZnRlciB0aGUgc2FtZSBzb3VyY2UgaGFzIGJlZW4gdXBkYXRlZCBtb3JlIHRoYW4gNSB0aW1lcyBpbiB0aGUgc2FtZSBmbHVzaCBjeWNsZS5cblx0XHRcdFx0Y29uc3QgY291bnQgPSAoc291cmNlLnVwZGF0ZWQuZ2V0KCcnKT8uY291bnQgPz8gMCkgKyAxO1xuXHRcdFx0XHRzb3VyY2UudXBkYXRlZC5zZXQoJycsIHsgZXJyb3I6IC8qKiBAdHlwZSB7YW55fSAqLyAobnVsbCksIGNvdW50IH0pO1xuXG5cdFx0XHRcdGlmICh0cmFjaW5nX21vZGVfZmxhZyB8fCBjb3VudCA+IDUpIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvciA9IGdldF9lcnJvcigndXBkYXRlZCBhdCcpO1xuXG5cdFx0XHRcdFx0aWYgKGVycm9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRsZXQgZW50cnkgPSBzb3VyY2UudXBkYXRlZC5nZXQoZXJyb3Iuc3RhY2spO1xuXG5cdFx0XHRcdFx0XHRpZiAoIWVudHJ5KSB7XG5cdFx0XHRcdFx0XHRcdGVudHJ5ID0geyBlcnJvciwgY291bnQ6IDAgfTtcblx0XHRcdFx0XHRcdFx0c291cmNlLnVwZGF0ZWQuc2V0KGVycm9yLnN0YWNrLCBlbnRyeSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGVudHJ5LmNvdW50Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3RpdmVfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHNvdXJjZS5zZXRfZHVyaW5nX2VmZmVjdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChzb3VyY2UuZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHRjb25zdCBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc291cmNlKTtcblxuXHRcdFx0Ly8gaWYgd2UgYXJlIGFzc2lnbmluZyB0byBhIGRpcnR5IGRlcml2ZWQgd2Ugc2V0IGl0IHRvIGNsZWFuL21heWJlIGRpcnR5IGJ1dCB3ZSBhbHNvIGVhZ2VybHkgZXhlY3V0ZSBpdCB0byB0cmFjayB0aGUgZGVwZW5kZW5jaWVzXG5cdFx0XHRpZiAoKHNvdXJjZS5mICYgRElSVFkpICE9PSAwKSB7XG5cdFx0XHRcdGV4ZWN1dGVfZGVyaXZlZChkZXJpdmVkKTtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlX2Rlcml2ZWRfc3RhdHVzKGRlcml2ZWQpO1xuXHRcdH1cblxuXHRcdHNvdXJjZS53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cblx0XHQvLyBGb3IgZGVidWdnaW5nLCBpbiBjYXNlIHlvdSB3YW50IHRvIGtub3cgd2hpY2ggcmVhY3Rpb25zIGFyZSBiZWluZyBzY2hlZHVsZWQ6XG5cdFx0Ly8gbG9nX3JlYWN0aW9ucyhzb3VyY2UpO1xuXHRcdG1hcmtfcmVhY3Rpb25zKHNvdXJjZSwgRElSVFkpO1xuXG5cdFx0Ly8gSXQncyBwb3NzaWJsZSB0aGF0IHRoZSBjdXJyZW50IHJlYWN0aW9uIG1pZ2h0IG5vdCBoYXZlIHVwLXRvLWRhdGUgZGVwZW5kZW5jaWVzXG5cdFx0Ly8gd2hpbHN0IGl0J3MgYWN0aXZlbHkgcnVubmluZy4gU28gaW4gdGhlIGNhc2Ugb2YgZW5zdXJpbmcgaXQgcmVnaXN0ZXJzIHRoZSByZWFjdGlvblxuXHRcdC8vIHByb3Blcmx5IGZvciBpdHNlbGYsIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBjdXJyZW50IGVmZmVjdCBhY3R1YWxseSBnZXRzXG5cdFx0Ly8gc2NoZWR1bGVkLiBpLmU6IGAkZWZmZWN0KCgpID0+IHgrKylgXG5cdFx0aWYgKFxuXHRcdFx0aXNfcnVuZXMoKSAmJlxuXHRcdFx0YWN0aXZlX2VmZmVjdCAhPT0gbnVsbCAmJlxuXHRcdFx0KGFjdGl2ZV9lZmZlY3QuZiAmIENMRUFOKSAhPT0gMCAmJlxuXHRcdFx0KGFjdGl2ZV9lZmZlY3QuZiAmIChCUkFOQ0hfRUZGRUNUIHwgUk9PVF9FRkZFQ1QpKSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0aWYgKHVudHJhY2tlZF93cml0ZXMgPT09IG51bGwpIHtcblx0XHRcdFx0c2V0X3VudHJhY2tlZF93cml0ZXMoW3NvdXJjZV0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dW50cmFja2VkX3dyaXRlcy5wdXNoKHNvdXJjZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCFiYXRjaC5pc19mb3JrICYmIGVhZ2VyX2VmZmVjdHMuc2l6ZSA+IDAgJiYgIWVhZ2VyX2VmZmVjdHNfZGVmZXJyZWQpIHtcblx0XHRcdGZsdXNoX2VhZ2VyX2VmZmVjdHMoKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9lYWdlcl9lZmZlY3RzKCkge1xuXHRlYWdlcl9lZmZlY3RzX2RlZmVycmVkID0gZmFsc2U7XG5cdHZhciBwcmV2X2lzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdCh0cnVlKTtcblxuXHRjb25zdCBpbnNwZWN0cyA9IEFycmF5LmZyb20oZWFnZXJfZWZmZWN0cyk7XG5cblx0dHJ5IHtcblx0XHRmb3IgKGNvbnN0IGVmZmVjdCBvZiBpbnNwZWN0cykge1xuXHRcdFx0Ly8gTWFyayBjbGVhbiBpbnNwZWN0LWVmZmVjdHMgYXMgbWF5YmUgZGlydHkgYW5kIHRoZW4gY2hlY2sgdGhlaXIgZGlydGluZXNzXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIGp1c3QgdXBkYXRpbmcgdGhlIGVmZmVjdHMgLSB0aGlzIHdheSB3ZSBhdm9pZCBvdmVyZmlyaW5nLlxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIENMRUFOKSAhPT0gMCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIE1BWUJFX0RJUlRZKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHByZXZfaXNfdXBkYXRpbmdfZWZmZWN0KTtcblx0fVxuXG5cdGVhZ2VyX2VmZmVjdHMuY2xlYXIoKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge251bWJlciB8IGJpZ2ludH0gVFxuICogQHBhcmFtIHtTb3VyY2U8VD59IHNvdXJjZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoc291cmNlLCBkID0gMSkge1xuXHR2YXIgdmFsdWUgPSBnZXQoc291cmNlKTtcblx0dmFyIHJlc3VsdCA9IGQgPT09IDEgPyB2YWx1ZSsrIDogdmFsdWUtLTtcblxuXHRzZXQoc291cmNlLCB2YWx1ZSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7bnVtYmVyIHwgYmlnaW50fSBUXG4gKiBAcGFyYW0ge1NvdXJjZTxUPn0gc291cmNlXG4gKiBAcGFyYW0gezEgfCAtMX0gW2RdXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9wcmUoc291cmNlLCBkID0gMSkge1xuXHR2YXIgdmFsdWUgPSBnZXQoc291cmNlKTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHJldHVybiBzZXQoc291cmNlLCBkID09PSAxID8gKyt2YWx1ZSA6IC0tdmFsdWUpO1xufVxuXG4vKipcbiAqIFNpbGVudGx5ICh3aXRob3V0IHVzaW5nIGBnZXRgKSBpbmNyZW1lbnQgYSBzb3VyY2VcbiAqIEBwYXJhbSB7U291cmNlPG51bWJlcj59IHNvdXJjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50KHNvdXJjZSkge1xuXHRzZXQoc291cmNlLCBzb3VyY2UudiArIDEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWV9IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1cyBzaG91bGQgYmUgRElSVFkgb3IgTUFZQkVfRElSVFlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBtYXJrX3JlYWN0aW9ucyhzaWduYWwsIHN0YXR1cykge1xuXHR2YXIgcmVhY3Rpb25zID0gc2lnbmFsLnJlYWN0aW9ucztcblx0aWYgKHJlYWN0aW9ucyA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdHZhciBydW5lcyA9IGlzX3J1bmVzKCk7XG5cdHZhciBsZW5ndGggPSByZWFjdGlvbnMubGVuZ3RoO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcmVhY3Rpb24gPSByZWFjdGlvbnNbaV07XG5cdFx0dmFyIGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRcdC8vIEluIGxlZ2FjeSBtb2RlLCBza2lwIHRoZSBjdXJyZW50IGVmZmVjdCB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzXG5cdFx0aWYgKCFydW5lcyAmJiByZWFjdGlvbiA9PT0gYWN0aXZlX2VmZmVjdCkgY29udGludWU7XG5cblx0XHQvLyBJbnNwZWN0IGVmZmVjdHMgbmVlZCB0byBydW4gaW1tZWRpYXRlbHksIHNvIHRoYXQgdGhlIHN0YWNrIHRyYWNlIG1ha2VzIHNlbnNlXG5cdFx0aWYgKERFViAmJiAoZmxhZ3MgJiBFQUdFUl9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRlYWdlcl9lZmZlY3RzLmFkZChyZWFjdGlvbik7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHR2YXIgbm90X2RpcnR5ID0gKGZsYWdzICYgRElSVFkpID09PSAwO1xuXG5cdFx0Ly8gZG9uJ3Qgc2V0IGEgRElSVFkgcmVhY3Rpb24gdG8gTUFZQkVfRElSVFlcblx0XHRpZiAobm90X2RpcnR5KSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgc3RhdHVzKTtcblx0XHR9XG5cblx0XHRpZiAoKGZsYWdzICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAocmVhY3Rpb24pO1xuXG5cdFx0XHRiYXRjaF92YWx1ZXM/LmRlbGV0ZShkZXJpdmVkKTtcblxuXHRcdFx0aWYgKChmbGFncyAmIFdBU19NQVJLRUQpID09PSAwKSB7XG5cdFx0XHRcdC8vIE9ubHkgY29ubmVjdGVkIGRlcml2ZWRzIGNhbiBiZSByZWxpYWJseSB1bm1hcmtlZCByaWdodCBhd2F5XG5cdFx0XHRcdGlmIChmbGFncyAmIENPTk5FQ1RFRCkge1xuXHRcdFx0XHRcdHJlYWN0aW9uLmYgfD0gV0FTX01BUktFRDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1hcmtfcmVhY3Rpb25zKGRlcml2ZWQsIE1BWUJFX0RJUlRZKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG5vdF9kaXJ0eSkge1xuXHRcdFx0aWYgKChmbGFncyAmIEJMT0NLX0VGRkVDVCkgIT09IDAgJiYgZWFnZXJfYmxvY2tfZWZmZWN0cyAhPT0gbnVsbCkge1xuXHRcdFx0XHRlYWdlcl9ibG9ja19lZmZlY3RzLmFkZCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKSk7XG5cdFx0XHR9XG5cblx0XHRcdHNjaGVkdWxlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKSk7XG5cdFx0fVxuXHR9XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBTb3VyY2UgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRnZXQsXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVwZGF0ZV92ZXJzaW9uLFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF91cGRhdGVfdmVyc2lvbixcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0YXJyYXlfcHJvdG90eXBlLFxuXHRnZXRfZGVzY3JpcHRvcixcblx0Z2V0X3Byb3RvdHlwZV9vZixcblx0aXNfYXJyYXksXG5cdG9iamVjdF9wcm90b3R5cGVcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdHN0YXRlIGFzIHNvdXJjZSxcblx0c2V0LFxuXHRpbmNyZW1lbnQsXG5cdGZsdXNoX2VhZ2VyX2VmZmVjdHMsXG5cdHNldF9lYWdlcl9lZmZlY3RzX2RlZmVycmVkXG59IGZyb20gJy4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IFBST1hZX1BBVEhfU1lNQk9MLCBTVEFURV9TWU1CT0wgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgdGFnIH0gZnJvbSAnLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBnZXRfZXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZGV2LmpzJztcbmltcG9ydCB7IHRyYWNpbmdfbW9kZV9mbGFnIH0gZnJvbSAnLi4vZmxhZ3MvaW5kZXguanMnO1xuXG4vLyBUT0RPIG1vdmUgYWxsIHJlZ2V4ZXMgaW50byBzaGFyZWQgbW9kdWxlP1xuY29uc3QgcmVnZXhfaXNfdmFsaWRfaWRlbnRpZmllciA9IC9eW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qJC87XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gdmFsdWVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJveHkodmFsdWUpIHtcblx0Ly8gaWYgbm9uLXByb3h5YWJsZSwgb3IgaXMgYWxyZWFkeSBhIHByb3h5LCByZXR1cm4gYHZhbHVlYFxuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCBTVEFURV9TWU1CT0wgaW4gdmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRjb25zdCBwcm90b3R5cGUgPSBnZXRfcHJvdG90eXBlX29mKHZhbHVlKTtcblxuXHRpZiAocHJvdG90eXBlICE9PSBvYmplY3RfcHJvdG90eXBlICYmIHByb3RvdHlwZSAhPT0gYXJyYXlfcHJvdG90eXBlKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtNYXA8YW55LCBTb3VyY2U8YW55Pj59ICovXG5cdHZhciBzb3VyY2VzID0gbmV3IE1hcCgpO1xuXHR2YXIgaXNfcHJveGllZF9hcnJheSA9IGlzX2FycmF5KHZhbHVlKTtcblx0dmFyIHZlcnNpb24gPSBzb3VyY2UoMCk7XG5cblx0dmFyIHN0YWNrID0gREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnID8gZ2V0X2Vycm9yKCdjcmVhdGVkIGF0JykgOiBudWxsO1xuXHR2YXIgcGFyZW50X3ZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHQvKipcblx0ICogRXhlY3V0ZXMgdGhlIHByb3h5IGluIHRoZSBjb250ZXh0IG9mIHRoZSByZWFjdGlvbiBpdCB3YXMgb3JpZ2luYWxseSBjcmVhdGVkIGluLCBpZiBhbnlcblx0ICogQHRlbXBsYXRlIFRcblx0ICogQHBhcmFtIHsoKSA9PiBUfSBmblxuXHQgKi9cblx0dmFyIHdpdGhfcGFyZW50ID0gKGZuKSA9PiB7XG5cdFx0aWYgKHVwZGF0ZV92ZXJzaW9uID09PSBwYXJlbnRfdmVyc2lvbikge1xuXHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hpbGQgc291cmNlIGlzIGJlaW5nIGNyZWF0ZWQgYWZ0ZXIgdGhlIGluaXRpYWwgcHJveHkgXHUyMDE0XG5cdFx0Ly8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCByZWFjdGlvblxuXHRcdHZhciByZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0XHR2YXIgdmVyc2lvbiA9IHVwZGF0ZV92ZXJzaW9uO1xuXG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24ocGFyZW50X3ZlcnNpb24pO1xuXG5cdFx0dmFyIHJlc3VsdCA9IGZuKCk7XG5cblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHJlYWN0aW9uKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24odmVyc2lvbik7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGlmIChpc19wcm94aWVkX2FycmF5KSB7XG5cdFx0Ly8gV2UgbmVlZCB0byBjcmVhdGUgdGhlIGxlbmd0aCBzb3VyY2UgZWFnZXJseSB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIG11dGF0aW9ucyB0byB0aGUgYXJyYXkgYXJlIHByb3Blcmx5IHN5bmNlZCB3aXRoIG91ciBwcm94eVxuXHRcdHNvdXJjZXMuc2V0KCdsZW5ndGgnLCBzb3VyY2UoLyoqIEB0eXBlIHthbnlbXX0gKi8gKHZhbHVlKS5sZW5ndGgsIHN0YWNrKSk7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0dmFsdWUgPSAvKiogQHR5cGUge2FueX0gKi8gKGluc3BlY3RhYmxlX2FycmF5KC8qKiBAdHlwZSB7YW55W119ICovICh2YWx1ZSkpKTtcblx0XHR9XG5cdH1cblxuXHQvKiogVXNlZCBpbiBkZXYgZm9yICRpbnNwZWN0LnRyYWNlKCkgKi9cblx0dmFyIHBhdGggPSAnJztcblx0bGV0IHVwZGF0aW5nID0gZmFsc2U7XG5cdC8qKiBAcGFyYW0ge3N0cmluZ30gbmV3X3BhdGggKi9cblx0ZnVuY3Rpb24gdXBkYXRlX3BhdGgobmV3X3BhdGgpIHtcblx0XHRpZiAodXBkYXRpbmcpIHJldHVybjtcblx0XHR1cGRhdGluZyA9IHRydWU7XG5cdFx0cGF0aCA9IG5ld19wYXRoO1xuXG5cdFx0dGFnKHZlcnNpb24sIGAke3BhdGh9IHZlcnNpb25gKTtcblxuXHRcdC8vIHJlbmFtZSBhbGwgY2hpbGQgc291cmNlcyBhbmQgY2hpbGQgcHJveGllc1xuXHRcdGZvciAoY29uc3QgW3Byb3AsIHNvdXJjZV0gb2Ygc291cmNlcykge1xuXHRcdFx0dGFnKHNvdXJjZSwgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHR9XG5cdFx0dXBkYXRpbmcgPSBmYWxzZTtcblx0fVxuXG5cdHJldHVybiBuZXcgUHJveHkoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSksIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShfLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCEoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSB8fFxuXHRcdFx0XHRkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci5lbnVtZXJhYmxlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRkZXNjcmlwdG9yLndyaXRhYmxlID09PSBmYWxzZVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIHdlIGRpc2FsbG93IG5vbi1iYXNpYyBkZXNjcmlwdG9ycywgYmVjYXVzZSB1bmxlc3MgdGhleSBhcmUgYXBwbGllZCB0byB0aGVcblx0XHRcdFx0Ly8gdGFyZ2V0IG9iamVjdCBcdTIwMTQgd2hpY2ggd2UgYXZvaWQsIHNvIHRoYXQgc3RhdGUgY2FuIGJlIGZvcmtlZCBcdTIwMTQgd2Ugd2lsbCBydW5cblx0XHRcdFx0Ly8gYWZvdWwgb2YgdGhlIHZhcmlvdXMgaW52YXJpYW50c1xuXHRcdFx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm94eS9Qcm94eS9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IjaW52YXJpYW50c1xuXHRcdFx0XHRlLnN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4ge1xuXHRcdFx0XHRcdHZhciBzID0gc291cmNlKGRlc2NyaXB0b3IudmFsdWUsIHN0YWNrKTtcblx0XHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdFx0XHRpZiAoREVWICYmIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldChzLCBkZXNjcmlwdG9yLnZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblxuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZiAocHJvcCBpbiB0YXJnZXQpIHtcblx0XHRcdFx0XHRjb25zdCBzID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKFVOSU5JVElBTElaRUQsIHN0YWNrKSk7XG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXG5cdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXQocywgVU5JTklUSUFMSVpFRCk7XG5cdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG5cdFx0XHRpZiAocHJvcCA9PT0gU1RBVEVfU1lNQk9MKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKERFViAmJiBwcm9wID09PSBQUk9YWV9QQVRIX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdXBkYXRlX3BhdGg7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgZXhpc3RzID0gcHJvcCBpbiB0YXJnZXQ7XG5cblx0XHRcdC8vIGNyZWF0ZSBhIHNvdXJjZSwgYnV0IG9ubHkgaWYgaXQncyBhbiBvd24gcHJvcGVydHkgYW5kIG5vdCBhIHByb3RvdHlwZSBwcm9wZXJ0eVxuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCAmJiAoIWV4aXN0cyB8fCBnZXRfZGVzY3JpcHRvcih0YXJnZXQsIHByb3ApPy53cml0YWJsZSkpIHtcblx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHR2YXIgcCA9IHByb3h5KGV4aXN0cyA/IHRhcmdldFtwcm9wXSA6IFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRcdHZhciBzID0gc291cmNlKHAsIHN0YWNrKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR2YXIgdiA9IGdldChzKTtcblx0XHRcdFx0cmV0dXJuIHYgPT09IFVOSU5JVElBTElaRUQgPyB1bmRlZmluZWQgOiB2O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG5cdFx0fSxcblxuXHRcdGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApIHtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0aWYgKGRlc2NyaXB0b3IgJiYgJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHRcdGlmIChzKSBkZXNjcmlwdG9yLnZhbHVlID0gZ2V0KHMpO1xuXHRcdFx0fSBlbHNlIGlmIChkZXNjcmlwdG9yID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBzb3VyY2U/LnY7XG5cblx0XHRcdFx0aWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBVTklOSVRJQUxJWkVEKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGVzY3JpcHRvcjtcblx0XHR9LFxuXG5cdFx0aGFzKHRhcmdldCwgcHJvcCkge1xuXHRcdFx0aWYgKHByb3AgPT09IFNUQVRFX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdHZhciBoYXMgPSAocyAhPT0gdW5kZWZpbmVkICYmIHMudiAhPT0gVU5JTklUSUFMSVpFRCkgfHwgUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRzICE9PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiYgKCFoYXMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0dmFyIHAgPSBoYXMgPyBwcm94eSh0YXJnZXRbcHJvcF0pIDogVU5JTklUSUFMSVpFRDtcblx0XHRcdFx0XHRcdHZhciBzID0gc291cmNlKHAsIHN0YWNrKTtcblxuXHRcdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0XHR0YWcocywgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHM7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGdldChzKTtcblx0XHRcdFx0aWYgKHZhbHVlID09PSBVTklOSVRJQUxJWkVEKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBoYXM7XG5cdFx0fSxcblxuXHRcdHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdHZhciBoYXMgPSBwcm9wIGluIHRhcmdldDtcblxuXHRcdFx0Ly8gdmFyaWFibGUubGVuZ3RoID0gdmFsdWUgLT4gY2xlYXIgYWxsIHNpZ25hbHMgd2l0aCBpbmRleCA+PSB2YWx1ZVxuXHRcdFx0aWYgKGlzX3Byb3hpZWRfYXJyYXkgJiYgcHJvcCA9PT0gJ2xlbmd0aCcpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHZhbHVlOyBpIDwgLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPn0gKi8gKHMpLnY7IGkgKz0gMSkge1xuXHRcdFx0XHRcdHZhciBvdGhlcl9zID0gc291cmNlcy5nZXQoaSArICcnKTtcblx0XHRcdFx0XHRpZiAob3RoZXJfcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRzZXQob3RoZXJfcywgVU5JTklUSUFMSVpFRCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpIGluIHRhcmdldCkge1xuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIGl0ZW0gZXhpc3RzIGluIHRoZSBvcmlnaW5hbCwgd2UgbmVlZCB0byBjcmVhdGUgYW4gdW5pbml0aWFsaXplZCBzb3VyY2UsXG5cdFx0XHRcdFx0XHQvLyBlbHNlIGEgbGF0ZXIgcmVhZCBvZiB0aGUgcHJvcGVydHkgd291bGQgcmVzdWx0IGluIGEgc291cmNlIGJlaW5nIGNyZWF0ZWQgd2l0aFxuXHRcdFx0XHRcdFx0Ly8gdGhlIHZhbHVlIG9mIHRoZSBvcmlnaW5hbCBpdGVtIGF0IHRoYXQgaW5kZXguXG5cdFx0XHRcdFx0XHRvdGhlcl9zID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKFVOSU5JVElBTElaRUQsIHN0YWNrKSk7XG5cdFx0XHRcdFx0XHRzb3VyY2VzLnNldChpICsgJycsIG90aGVyX3MpO1xuXG5cdFx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHRcdHRhZyhvdGhlcl9zLCBnZXRfbGFiZWwocGF0aCwgaSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSBoYXZlbid0IHlldCBjcmVhdGVkIGEgc291cmNlIGZvciB0aGlzIHByb3BlcnR5LCB3ZSBuZWVkIHRvIGVuc3VyZVxuXHRcdFx0Ly8gd2UgZG8gc28gb3RoZXJ3aXNlIGlmIHdlIHJlYWQgaXQgbGF0ZXIsIHRoZW4gdGhlIHdyaXRlIHdvbid0IGJlIHRyYWNrZWQgYW5kXG5cdFx0XHQvLyB0aGUgaGV1cmlzdGljcyBvZiBlZmZlY3RzIHdpbGwgYmUgZGlmZmVyZW50IHZzIGlmIHdlIGhhZCByZWFkIHRoZSBwcm94aWVkXG5cdFx0XHQvLyBvYmplY3QgcHJvcGVydHkgYmVmb3JlIHdyaXRpbmcgdG8gdGhhdCBwcm9wZXJ0eS5cblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKCFoYXMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKHVuZGVmaW5lZCwgc3RhY2spKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZXQocywgcHJveHkodmFsdWUpKTtcblxuXHRcdFx0XHRcdHNvdXJjZXMuc2V0KHByb3AsIHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYXMgPSBzLnYgIT09IFVOSU5JVElBTElaRUQ7XG5cblx0XHRcdFx0dmFyIHAgPSB3aXRoX3BhcmVudCgoKSA9PiBwcm94eSh2YWx1ZSkpO1xuXHRcdFx0XHRzZXQocywgcCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBuZXcgdmFsdWUgYmVmb3JlIHVwZGF0aW5nIGFueSBzaWduYWxzIHNvIHRoYXQgYW55IGxpc3RlbmVycyBnZXQgdGhlIG5ldyB2YWx1ZVxuXHRcdFx0aWYgKGRlc2NyaXB0b3I/LnNldCkge1xuXHRcdFx0XHRkZXNjcmlwdG9yLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaGFzKSB7XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgbXV0YXRlZCBhbiBhcnJheSBkaXJlY3RseSwgd2UgbWlnaHQgbmVlZCB0b1xuXHRcdFx0XHQvLyBzaWduYWwgdGhhdCBsZW5ndGggaGFzIGFsc28gY2hhbmdlZC4gRG8gaXQgYmVmb3JlIHVwZGF0aW5nIG1ldGFkYXRhXG5cdFx0XHRcdC8vIHRvIGVuc3VyZSB0aGF0IGl0ZXJhdGluZyBvdmVyIHRoZSBhcnJheSBhcyBhIHJlc3VsdCBvZiBhIG1ldGFkYXRhIHVwZGF0ZVxuXHRcdFx0XHQvLyB3aWxsIG5vdCBjYXVzZSB0aGUgbGVuZ3RoIHRvIGJlIG91dCBvZiBzeW5jLlxuXHRcdFx0XHRpZiAoaXNfcHJveGllZF9hcnJheSAmJiB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHR2YXIgbHMgPSAvKiogQHR5cGUge1NvdXJjZTxudW1iZXI+fSAqLyAoc291cmNlcy5nZXQoJ2xlbmd0aCcpKTtcblx0XHRcdFx0XHR2YXIgbiA9IE51bWJlcihwcm9wKTtcblxuXHRcdFx0XHRcdGlmIChOdW1iZXIuaXNJbnRlZ2VyKG4pICYmIG4gPj0gbHMudikge1xuXHRcdFx0XHRcdFx0c2V0KGxzLCBuICsgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0b3duS2V5cyh0YXJnZXQpIHtcblx0XHRcdGdldCh2ZXJzaW9uKTtcblxuXHRcdFx0dmFyIG93bl9rZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZmlsdGVyKChrZXkpID0+IHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXMuZ2V0KGtleSk7XG5cdFx0XHRcdHJldHVybiBzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UudiAhPT0gVU5JTklUSUFMSVpFRDtcblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKHZhciBba2V5LCBzb3VyY2VdIG9mIHNvdXJjZXMpIHtcblx0XHRcdFx0aWYgKHNvdXJjZS52ICE9PSBVTklOSVRJQUxJWkVEICYmICEoa2V5IGluIHRhcmdldCkpIHtcblx0XHRcdFx0XHRvd25fa2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG93bl9rZXlzO1xuXHRcdH0sXG5cblx0XHRzZXRQcm90b3R5cGVPZigpIHtcblx0XHRcdGUuc3RhdGVfcHJvdG90eXBlX2ZpeGVkKCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtzdHJpbmcgfCBzeW1ib2x9IHByb3BcbiAqL1xuZnVuY3Rpb24gZ2V0X2xhYmVsKHBhdGgsIHByb3ApIHtcblx0aWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykgcmV0dXJuIGAke3BhdGh9W1N5bWJvbCgke3Byb3AuZGVzY3JpcHRpb24gPz8gJyd9KV1gO1xuXHRpZiAocmVnZXhfaXNfdmFsaWRfaWRlbnRpZmllci50ZXN0KHByb3ApKSByZXR1cm4gYCR7cGF0aH0uJHtwcm9wfWA7XG5cdHJldHVybiAvXlxcZCskLy50ZXN0KHByb3ApID8gYCR7cGF0aH1bJHtwcm9wfV1gIDogYCR7cGF0aH1bJyR7cHJvcH0nXWA7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcHJveGllZF92YWx1ZSh2YWx1ZSkge1xuXHR0cnkge1xuXHRcdGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFNUQVRFX1NZTUJPTCBpbiB2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlW1NUQVRFX1NZTUJPTF07XG5cdFx0fVxuXHR9IGNhdGNoIHtcblx0XHQvLyB0aGUgYWJvdmUgaWYgY2hlY2sgY2FuIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YWx1ZSBpbiBxdWVzdGlvblxuXHRcdC8vIGlzIHRoZSBjb250ZW50V2luZG93IG9mIGFuIGlmcmFtZSBvbiBhbm90aGVyIGRvbWFpbiwgaW4gd2hpY2hcblx0XHQvLyBjYXNlIHdlIHdhbnQgdG8ganVzdCByZXR1cm4gdGhlIHZhbHVlIChiZWNhdXNlIGl0J3MgZGVmaW5pdGVseVxuXHRcdC8vIG5vdCBhIHByb3hpZWQgdmFsdWUpIHNvIHdlIGRvbid0IGJyZWFrIGFueSBKYXZhU2NyaXB0IGludGVyYWN0aW5nXG5cdFx0Ly8gd2l0aCB0aGF0IGlmcmFtZSAoc3VjaCBhcyB2YXJpb3VzIHBheW1lbnQgY29tcGFuaWVzIGNsaWVudCBzaWRlXG5cdFx0Ly8gSmF2YVNjcmlwdCBsaWJyYXJpZXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGVpciBpZnJhbWVzIG9uIHRoZSBzYW1lXG5cdFx0Ly8gZG9tYWluKVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoYSwgYikge1xuXHRyZXR1cm4gT2JqZWN0LmlzKGdldF9wcm94aWVkX3ZhbHVlKGEpLCBnZXRfcHJveGllZF92YWx1ZShiKSk7XG59XG5cbmNvbnN0IEFSUkFZX01VVEFUSU5HX01FVEhPRFMgPSBuZXcgU2V0KFtcblx0J2NvcHlXaXRoaW4nLFxuXHQnZmlsbCcsXG5cdCdwb3AnLFxuXHQncHVzaCcsXG5cdCdyZXZlcnNlJyxcblx0J3NoaWZ0Jyxcblx0J3NvcnQnLFxuXHQnc3BsaWNlJyxcblx0J3Vuc2hpZnQnXG5dKTtcblxuLyoqXG4gKiBXcmFwIGFycmF5IG11dGF0aW5nIG1ldGhvZHMgc28gJGluc3BlY3QgaXMgdHJpZ2dlcmVkIG9ubHkgb25jZSBhbmRcbiAqIHRvIHByZXZlbnQgbG9nZ2luZyBhbiBhcnJheSBpbiBpbnRlcm1lZGlhdGUgc3RhdGUgKGUuZy4gd2l0aCBhbiBlbXB0eSBzbG90KVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqL1xuZnVuY3Rpb24gaW5zcGVjdGFibGVfYXJyYXkoYXJyYXkpIHtcblx0cmV0dXJuIG5ldyBQcm94eShhcnJheSwge1xuXHRcdGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcblx0XHRcdGlmICghQVJSQVlfTVVUQVRJTkdfTUVUSE9EUy5oYXMoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwcm9wKSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEB0aGlzIHthbnlbXX1cblx0XHRcdCAqIEBwYXJhbSB7YW55W119IGFyZ3Ncblx0XHRcdCAqL1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0XHRcdHNldF9lYWdlcl9lZmZlY3RzX2RlZmVycmVkKCk7XG5cdFx0XHRcdHZhciByZXN1bHQgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0XHRcdFx0Zmx1c2hfZWFnZXJfZWZmZWN0cygpO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0fTtcblx0XHR9XG5cdH0pO1xufVxuIiwgImltcG9ydCAqIGFzIHcgZnJvbSAnLi4vd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgZ2V0X3Byb3hpZWRfdmFsdWUgfSBmcm9tICcuLi9wcm94eS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2FycmF5X3Byb3RvdHlwZV93YXJuaW5ncygpIHtcblx0Y29uc3QgYXJyYXlfcHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXHQvLyBUaGUgUkVQTCBlbmRzIHVwIGhlcmUgb3ZlciBhbmQgb3ZlciwgYW5kIHRoaXMgcHJldmVudHMgaXQgZnJvbSBhZGRpbmcgbW9yZSBhbmQgbW9yZSBwYXRjaGVzXG5cdC8vIG9mIHRoZSBzYW1lIGtpbmQgdG8gdGhlIHByb3RvdHlwZSwgd2hpY2ggd291bGQgc2xvdyBkb3duIGV2ZXJ5dGhpbmcgb3ZlciB0aW1lLlxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGNvbnN0IGNsZWFudXAgPSBBcnJheS5fX3N2ZWx0ZV9jbGVhbnVwO1xuXHRpZiAoY2xlYW51cCkge1xuXHRcdGNsZWFudXAoKTtcblx0fVxuXG5cdGNvbnN0IHsgaW5kZXhPZiwgbGFzdEluZGV4T2YsIGluY2x1ZGVzIH0gPSBhcnJheV9wcm90b3R5cGU7XG5cblx0YXJyYXlfcHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoaXRlbSwgZnJvbV9pbmRleCkge1xuXHRcdGNvbnN0IGluZGV4ID0gaW5kZXhPZi5jYWxsKHRoaXMsIGl0ZW0sIGZyb21faW5kZXgpO1xuXG5cdFx0aWYgKGluZGV4ID09PSAtMSkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IGZyb21faW5kZXggPz8gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0aWYgKGdldF9wcm94aWVkX3ZhbHVlKHRoaXNbaV0pID09PSBpdGVtKSB7XG5cdFx0XHRcdFx0dy5zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaCgnYXJyYXkuaW5kZXhPZiguLi4pJyk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH07XG5cblx0YXJyYXlfcHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gKGl0ZW0sIGZyb21faW5kZXgpIHtcblx0XHQvLyB3ZSBuZWVkIHRvIHNwZWNpZnkgdGhpcy5sZW5ndGggLSAxIGJlY2F1c2UgaXQncyBwcm9iYWJseSB1c2luZyBzb21ldGhpbmcgbGlrZVxuXHRcdC8vIGBhcmd1bWVudHNgIGluc2lkZSBzbyBwYXNzaW5nIHVuZGVmaW5lZCBpcyBkaWZmZXJlbnQgZnJvbSBub3QgcGFzc2luZyBhbnl0aGluZ1xuXHRcdGNvbnN0IGluZGV4ID0gbGFzdEluZGV4T2YuY2FsbCh0aGlzLCBpdGVtLCBmcm9tX2luZGV4ID8/IHRoaXMubGVuZ3RoIC0gMSk7XG5cblx0XHRpZiAoaW5kZXggPT09IC0xKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8PSAoZnJvbV9pbmRleCA/PyB0aGlzLmxlbmd0aCAtIDEpOyBpICs9IDEpIHtcblx0XHRcdFx0aWYgKGdldF9wcm94aWVkX3ZhbHVlKHRoaXNbaV0pID09PSBpdGVtKSB7XG5cdFx0XHRcdFx0dy5zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaCgnYXJyYXkubGFzdEluZGV4T2YoLi4uKScpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9O1xuXG5cdGFycmF5X3Byb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tX2luZGV4KSB7XG5cdFx0Y29uc3QgaGFzID0gaW5jbHVkZXMuY2FsbCh0aGlzLCBpdGVtLCBmcm9tX2luZGV4KTtcblxuXHRcdGlmICghaGFzKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0aWYgKGdldF9wcm94aWVkX3ZhbHVlKHRoaXNbaV0pID09PSBpdGVtKSB7XG5cdFx0XHRcdFx0dy5zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaCgnYXJyYXkuaW5jbHVkZXMoLi4uKScpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhcztcblx0fTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdEFycmF5Ll9fc3ZlbHRlX2NsZWFudXAgPSAoKSA9PiB7XG5cdFx0YXJyYXlfcHJvdG90eXBlLmluZGV4T2YgPSBpbmRleE9mO1xuXHRcdGFycmF5X3Byb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuXHRcdGFycmF5X3Byb3RvdHlwZS5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICogQHBhcmFtIHtib29sZWFufSBlcXVhbFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpY3RfZXF1YWxzKGEsIGIsIGVxdWFsID0gdHJ1ZSkge1xuXHQvLyB0cnktY2F0Y2ggbmVlZGVkIGJlY2F1c2UgdGhpcyB0cmllcyB0byByZWFkIHByb3BlcnRpZXMgb2YgYGFgIGFuZCBgYmAsXG5cdC8vIHdoaWNoIGNvdWxkIGJlIGRpc2FsbG93ZWQgZm9yIGV4YW1wbGUgaW4gYSBzZWN1cmUgY29udGV4dFxuXHR0cnkge1xuXHRcdGlmICgoYSA9PT0gYikgIT09IChnZXRfcHJveGllZF92YWx1ZShhKSA9PT0gZ2V0X3Byb3hpZWRfdmFsdWUoYikpKSB7XG5cdFx0XHR3LnN0YXRlX3Byb3h5X2VxdWFsaXR5X21pc21hdGNoKGVxdWFsID8gJz09PScgOiAnIT09Jyk7XG5cdFx0fVxuXHR9IGNhdGNoIHt9XG5cblx0cmV0dXJuIChhID09PSBiKSA9PT0gZXF1YWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IGFcbiAqIEBwYXJhbSB7YW55fSBiXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVxdWFsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiLCBlcXVhbCA9IHRydWUpIHtcblx0aWYgKChhID09IGIpICE9PSAoZ2V0X3Byb3hpZWRfdmFsdWUoYSkgPT0gZ2V0X3Byb3hpZWRfdmFsdWUoYikpKSB7XG5cdFx0dy5zdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaChlcXVhbCA/ICc9PScgOiAnIT0nKTtcblx0fVxuXG5cdHJldHVybiAoYSA9PSBiKSA9PT0gZXF1YWw7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSB9IGZyb20gJy4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaW5pdF9hcnJheV9wcm90b3R5cGVfd2FybmluZ3MgfSBmcm9tICcuLi9kZXYvZXF1YWxpdHkuanMnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3IsIGlzX2V4dGVuc2libGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgVEVYVF9OT0RFLCBFRkZFQ1RfUkFOIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgZWFnZXJfYmxvY2tfZWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuXG4vLyBleHBvcnQgdGhlc2UgZm9yIHJlZmVyZW5jZSBpbiB0aGUgY29tcGlsZWQgY29kZSwgbWFraW5nIGdsb2JhbCBuYW1lIGRlZHVwbGljYXRpb24gdW5uZWNlc3Nhcnlcbi8qKiBAdHlwZSB7V2luZG93fSAqL1xuZXhwb3J0IHZhciAkd2luZG93O1xuXG4vKiogQHR5cGUge0RvY3VtZW50fSAqL1xuZXhwb3J0IHZhciAkZG9jdW1lbnQ7XG5cbi8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmV4cG9ydCB2YXIgaXNfZmlyZWZveDtcblxuLyoqIEB0eXBlIHsoKSA9PiBOb2RlIHwgbnVsbH0gKi9cbnZhciBmaXJzdF9jaGlsZF9nZXR0ZXI7XG4vKiogQHR5cGUgeygpID0+IE5vZGUgfCBudWxsfSAqL1xudmFyIG5leHRfc2libGluZ19nZXR0ZXI7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGVzZSBsYXppbHkgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdXNpbmcgdGhlIHJ1bnRpbWUgaW4gYSBzZXJ2ZXIgY29udGV4dFxuICogd2hlcmUgdGhlc2UgZ2xvYmFscyBhcmUgbm90IGF2YWlsYWJsZSB3aGlsZSBhdm9pZGluZyBhIHNlcGFyYXRlIHNlcnZlciBlbnRyeSBwb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9vcGVyYXRpb25zKCkge1xuXHRpZiAoJHdpbmRvdyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0JHdpbmRvdyA9IHdpbmRvdztcblx0JGRvY3VtZW50ID0gZG9jdW1lbnQ7XG5cdGlzX2ZpcmVmb3ggPSAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXHR2YXIgZWxlbWVudF9wcm90b3R5cGUgPSBFbGVtZW50LnByb3RvdHlwZTtcblx0dmFyIG5vZGVfcHJvdG90eXBlID0gTm9kZS5wcm90b3R5cGU7XG5cdHZhciB0ZXh0X3Byb3RvdHlwZSA9IFRleHQucHJvdG90eXBlO1xuXG5cdC8vIEB0cy1pZ25vcmVcblx0Zmlyc3RfY2hpbGRfZ2V0dGVyID0gZ2V0X2Rlc2NyaXB0b3Iobm9kZV9wcm90b3R5cGUsICdmaXJzdENoaWxkJykuZ2V0O1xuXHQvLyBAdHMtaWdub3JlXG5cdG5leHRfc2libGluZ19nZXR0ZXIgPSBnZXRfZGVzY3JpcHRvcihub2RlX3Byb3RvdHlwZSwgJ25leHRTaWJsaW5nJykuZ2V0O1xuXG5cdGlmIChpc19leHRlbnNpYmxlKGVsZW1lbnRfcHJvdG90eXBlKSkge1xuXHRcdC8vIHRoZSBmb2xsb3dpbmcgYXNzaWdubWVudHMgaW1wcm92ZSBwZXJmIG9mIGxvb2t1cHMgb24gRE9NIG5vZGVzXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnRfcHJvdG90eXBlLl9fY2xpY2sgPSB1bmRlZmluZWQ7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnRfcHJvdG90eXBlLl9fY2xhc3NOYW1lID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2F0dHJpYnV0ZXMgPSBudWxsO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX3N0eWxlID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2UgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoaXNfZXh0ZW5zaWJsZSh0ZXh0X3Byb3RvdHlwZSkpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0dGV4dF9wcm90b3R5cGUuX190ID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX3N2ZWx0ZV9tZXRhID0gbnVsbDtcblxuXHRcdGluaXRfYXJyYXlfcHJvdG90eXBlX3dhcm5pbmdzKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3RleHQodmFsdWUgPSAnJykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gTlxuICogQHBhcmFtIHtOfSBub2RlXG4gKi9cbi8qQF9fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9maXJzdF9jaGlsZChub2RlKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovIChmaXJzdF9jaGlsZF9nZXR0ZXIuY2FsbChub2RlKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtOb2RlfSBOXG4gKiBAcGFyYW0ge059IG5vZGVcbiAqL1xuLypAX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X25leHRfc2libGluZyhub2RlKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovIChuZXh0X3NpYmxpbmdfZ2V0dGVyLmNhbGwobm9kZSkpO1xufVxuXG4vKipcbiAqIERvbid0IG1hcmsgdGhpcyBhcyBzaWRlLWVmZmVjdC1mcmVlLCBoeWRyYXRpb24gbmVlZHMgdG8gd2FsayBhbGwgbm9kZXNcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gTlxuICogQHBhcmFtIHtOfSBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3RleHRcbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGQobm9kZSwgaXNfdGV4dCkge1xuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHJldHVybiBnZXRfZmlyc3RfY2hpbGQobm9kZSk7XG5cdH1cblxuXHR2YXIgY2hpbGQgPSBnZXRfZmlyc3RfY2hpbGQoaHlkcmF0ZV9ub2RlKTtcblxuXHQvLyBDaGlsZCBjYW4gYmUgbnVsbCBpZiB3ZSBoYXZlIGFuIGVsZW1lbnQgd2l0aCBhIHNpbmdsZSBjaGlsZCwgbGlrZSBgPHA+e3RleHR9PC9wPmAsIHdoZXJlIGB0ZXh0YCBpcyBlbXB0eVxuXHRpZiAoY2hpbGQgPT09IG51bGwpIHtcblx0XHRjaGlsZCA9IGh5ZHJhdGVfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fSBlbHNlIGlmIChpc190ZXh0ICYmIGNoaWxkLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHR2YXIgdGV4dCA9IGNyZWF0ZV90ZXh0KCk7XG5cdFx0Y2hpbGQ/LmJlZm9yZSh0ZXh0KTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKHRleHQpO1xuXHRcdHJldHVybiB0ZXh0O1xuXHR9XG5cblx0c2V0X2h5ZHJhdGVfbm9kZShjaGlsZCk7XG5cdHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBbaXNfdGV4dF1cbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RfY2hpbGQobm9kZSwgaXNfdGV4dCA9IGZhbHNlKSB7XG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0dmFyIGZpcnN0ID0gZ2V0X2ZpcnN0X2NoaWxkKG5vZGUpO1xuXG5cdFx0Ly8gVE9ETyBwcmV2ZW50IHVzZXIgY29tbWVudHMgd2l0aCB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gcHJlc2VydmVDb21tZW50cyBpcyB0cnVlXG5cdFx0aWYgKGZpcnN0IGluc3RhbmNlb2YgQ29tbWVudCAmJiBmaXJzdC5kYXRhID09PSAnJykgcmV0dXJuIGdldF9uZXh0X3NpYmxpbmcoZmlyc3QpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9XG5cblx0Ly8gaWYgYW4ge2V4cHJlc3Npb259IGlzIGVtcHR5IGR1cmluZyBTU1IsIHRoZXJlIG1pZ2h0IGJlIG5vXG5cdC8vIHRleHQgbm9kZSB0byBoeWRyYXRlIFx1MjAxNCB3ZSBtdXN0IHRoZXJlZm9yZSBjcmVhdGUgb25lXG5cdGlmIChpc190ZXh0ICYmIGh5ZHJhdGVfbm9kZT8ubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuXHRcdHZhciB0ZXh0ID0gY3JlYXRlX3RleHQoKTtcblxuXHRcdGh5ZHJhdGVfbm9kZT8uYmVmb3JlKHRleHQpO1xuXHRcdHNldF9oeWRyYXRlX25vZGUodGV4dCk7XG5cdFx0cmV0dXJuIHRleHQ7XG5cdH1cblxuXHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xufVxuXG4vKipcbiAqIERvbid0IG1hcmsgdGhpcyBhcyBzaWRlLWVmZmVjdC1mcmVlLCBoeWRyYXRpb24gbmVlZHMgdG8gd2FsayBhbGwgbm9kZXNcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfdGV4dFxuICogQHJldHVybnMge1RlbXBsYXRlTm9kZSB8IG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWJsaW5nKG5vZGUsIGNvdW50ID0gMSwgaXNfdGV4dCA9IGZhbHNlKSB7XG5cdGxldCBuZXh0X3NpYmxpbmcgPSBoeWRyYXRpbmcgPyBoeWRyYXRlX25vZGUgOiBub2RlO1xuXHR2YXIgbGFzdF9zaWJsaW5nO1xuXG5cdHdoaWxlIChjb3VudC0tKSB7XG5cdFx0bGFzdF9zaWJsaW5nID0gbmV4dF9zaWJsaW5nO1xuXHRcdG5leHRfc2libGluZyA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhuZXh0X3NpYmxpbmcpKTtcblx0fVxuXG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0cmV0dXJuIG5leHRfc2libGluZztcblx0fVxuXG5cdC8vIGlmIGEgc2libGluZyB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgdGhlcmUgbWlnaHQgYmUgbm9cblx0Ly8gdGV4dCBub2RlIHRvIGh5ZHJhdGUgXHUyMDE0IHdlIG11c3QgdGhlcmVmb3JlIGNyZWF0ZSBvbmVcblx0aWYgKGlzX3RleHQgJiYgbmV4dF9zaWJsaW5nPy5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0dmFyIHRleHQgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdC8vIElmIHRoZSBuZXh0IHNpYmxpbmcgaXMgYG51bGxgIGFuZCB3ZSdyZSBoYW5kbGluZyB0ZXh0IHRoZW4gaXQncyBiZWNhdXNlXG5cdFx0Ly8gdGhlIFNTUiBjb250ZW50IHdhcyBlbXB0eSBmb3IgdGhlIHRleHQsIHNvIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYSBuZXcgdGV4dFxuXHRcdC8vIG5vZGUgYW5kIGluc2VydCBpdCBhZnRlciB0aGUgbGFzdCBzaWJsaW5nXG5cdFx0aWYgKG5leHRfc2libGluZyA9PT0gbnVsbCkge1xuXHRcdFx0bGFzdF9zaWJsaW5nPy5hZnRlcih0ZXh0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV4dF9zaWJsaW5nLmJlZm9yZSh0ZXh0KTtcblx0XHR9XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSh0ZXh0KTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdHNldF9oeWRyYXRlX25vZGUobmV4dF9zaWJsaW5nKTtcblx0cmV0dXJuIG5leHRfc2libGluZztcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcl90ZXh0X2NvbnRlbnQobm9kZSkge1xuXHRub2RlLnRleHRDb250ZW50ID0gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgd2UncmUgdXBkYXRpbmcgdGhlIGN1cnJlbnQgYmxvY2ssIGZvciBleGFtcGxlIGBjb25kaXRpb25gIGluXG4gKiBhbiBgeyNpZiBjb25kaXRpb259YCBibG9jayBqdXN0IGNoYW5nZWQuIEluIHRoaXMgY2FzZSwgdGhlIGJyYW5jaCBzaG91bGQgYmVcbiAqIGFwcGVuZGVkIChvciByZW1vdmVkKSBhdCB0aGUgc2FtZSB0aW1lIGFzIG90aGVyIHVwZGF0ZXMgd2l0aGluIHRoZVxuICogY3VycmVudCBgPHN2ZWx0ZTpib3VuZGFyeT5gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRfZGVmZXJfYXBwZW5kKCkge1xuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykgcmV0dXJuIGZhbHNlO1xuXHRpZiAoZWFnZXJfYmxvY2tfZWZmZWN0cyAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG5cdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0cmV0dXJuIChmbGFncyAmIEVGRkVDVF9SQU4pICE9PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVzcGFjZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaXNdXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2VsZW1lbnQodGFnLCBuYW1lc3BhY2UsIGlzKSB7XG5cdGxldCBvcHRpb25zID0gaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQ7XG5cdGlmIChuYW1lc3BhY2UpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZSwgdGFnLCBvcHRpb25zKTtcblx0fVxuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbW1lbnQoZGF0YSA9ICcnKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbHVlID0gJycpIHtcblx0aWYgKGtleS5zdGFydHNXaXRoKCd4bGluazonKSkge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBrZXksIHZhbHVlKTtcblx0XHRyZXR1cm47XG5cdH1cblx0cmV0dXJuIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xufVxuIiwgImltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBjbGVhcl90ZXh0X2NvbnRlbnQsIGdldF9maXJzdF9jaGlsZCB9IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvZm9jdXMoZG9tLCB2YWx1ZSkge1xuXHRpZiAodmFsdWUpIHtcblx0XHRjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcblx0XHRkb20uYXV0b2ZvY3VzID0gdHJ1ZTtcblxuXHRcdHF1ZXVlX21pY3JvX3Rhc2soKCkgPT4ge1xuXHRcdFx0aWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGJvZHkpIHtcblx0XHRcdFx0ZG9tLmZvY3VzKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgY2hpbGQgb2YgYSB0ZXh0YXJlYSBhY3R1YWxseSBjb3JyZXNwb25kcyB0byB0aGUgZGVmYXVsdFZhbHVlIHByb3BlcnR5LCBzbyB3ZSBuZWVkXG4gKiB0byByZW1vdmUgaXQgdXBvbiBoeWRyYXRpb24gdG8gYXZvaWQgYSBidWcgd2hlbiBzb21lb25lIHJlc2V0cyB0aGUgZm9ybSB2YWx1ZS5cbiAqIEBwYXJhbSB7SFRNTFRleHRBcmVhRWxlbWVudH0gZG9tXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV90ZXh0YXJlYV9jaGlsZChkb20pIHtcblx0aWYgKGh5ZHJhdGluZyAmJiBnZXRfZmlyc3RfY2hpbGQoZG9tKSAhPT0gbnVsbCkge1xuXHRcdGNsZWFyX3RleHRfY29udGVudChkb20pO1xuXHR9XG59XG5cbmxldCBsaXN0ZW5pbmdfdG9fZm9ybV9yZXNldCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIoKSB7XG5cdGlmICghbGlzdGVuaW5nX3RvX2Zvcm1fcmVzZXQpIHtcblx0XHRsaXN0ZW5pbmdfdG9fZm9ybV9yZXNldCA9IHRydWU7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdCdyZXNldCcsXG5cdFx0XHQoZXZ0KSA9PiB7XG5cdFx0XHRcdC8vIE5lZWRzIHRvIGhhcHBlbiBvbmUgdGljayBsYXRlciBvciBlbHNlIHRoZSBkb20gcHJvcGVydGllcyBvZiB0aGUgZm9ybVxuXHRcdFx0XHQvLyBlbGVtZW50cyBoYXZlIG5vdCB1cGRhdGVkIHRvIHRoZWlyIHJlc2V0IHZhbHVlcyB5ZXRcblx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCFldnQuZGVmYXVsdFByZXZlbnRlZCkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBlIG9mIC8qKkB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovIChldnQudGFyZ2V0KS5lbGVtZW50cykge1xuXHRcdFx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRcdFx0XHRcdGUuX19vbl9yPy4oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdC8vIEluIHRoZSBjYXB0dXJlIHBoYXNlIHRvIGd1YXJhbnRlZSB3ZSBnZXQgbm90aWNlZCBvZiBpdCAobm8gcG9zc2liaWxpdHkgb2Ygc3RvcFByb3BhZ2F0aW9uKVxuXHRcdFx0eyBjYXB0dXJlOiB0cnVlIH1cblx0XHQpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuLi8uLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGFkZF9mb3JtX3Jlc2V0X2xpc3RlbmVyIH0gZnJvbSAnLi4vbWlzYy5qcyc7XG5cbi8qKlxuICogRmlyZXMgdGhlIGhhbmRsZXIgb25jZSBpbW1lZGlhdGVseSAodW5sZXNzIGNvcnJlc3BvbmRpbmcgYXJnIGlzIHNldCB0byBgZmFsc2VgKSxcbiAqIHRoZW4gbGlzdGVucyB0byB0aGUgZ2l2ZW4gZXZlbnRzIHVudGlsIHRoZSByZW5kZXIgZWZmZWN0IGNvbnRleHQgaXMgZGVzdHJveWVkXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZXZlbnRzXG4gKiBAcGFyYW0geyhldmVudD86IEV2ZW50KSA9PiB2b2lkfSBoYW5kbGVyXG4gKiBAcGFyYW0ge2FueX0gY2FsbF9oYW5kbGVyX2ltbWVkaWF0ZWx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCBldmVudHMsIGhhbmRsZXIsIGNhbGxfaGFuZGxlcl9pbW1lZGlhdGVseSA9IHRydWUpIHtcblx0aWYgKGNhbGxfaGFuZGxlcl9pbW1lZGlhdGVseSkge1xuXHRcdGhhbmRsZXIoKTtcblx0fVxuXG5cdGZvciAodmFyIG5hbWUgb2YgZXZlbnRzKSB7XG5cdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG5cdH1cblxuXHR0ZWFyZG93bigoKSA9PiB7XG5cdFx0Zm9yICh2YXIgbmFtZSBvZiBldmVudHMpIHtcblx0XHRcdHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dChmbikge1xuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZm4oKTtcblx0fSBmaW5hbGx5IHtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHR9XG59XG5cbi8qKlxuICogTGlzdGVuIHRvIHRoZSBnaXZlbiBldmVudCwgYW5kIHRoZW4gaW5zdGFudGlhdGUgYSBnbG9iYWwgZm9ybSByZXNldCBsaXN0ZW5lciBpZiBub3QgYWxyZWFkeSBkb25lLFxuICogdG8gbm90aWZ5IGFsbCBiaW5kaW5ncyB3aGVuIHRoZSBmb3JtIGlzIHJlc2V0XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7KGlzX3Jlc2V0PzogdHJ1ZSkgPT4gdm9pZH0gaGFuZGxlclxuICogQHBhcmFtIHsoaXNfcmVzZXQ/OiB0cnVlKSA9PiB2b2lkfSBbb25fcmVzZXRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBvbl9yZXNldCA9IGhhbmRsZXIpIHtcblx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKSA9PiB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQoaGFuZGxlcikpO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGNvbnN0IHByZXYgPSBlbGVtZW50Ll9fb25fcjtcblx0aWYgKHByZXYpIHtcblx0XHQvLyBzcGVjaWFsIGNhc2UgZm9yIGNoZWNrYm94IHRoYXQgY2FuIGhhdmUgbXVsdGlwbGUgYmluZHMgKGdyb3VwICYgY2hlY2tlZClcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudC5fX29uX3IgPSAoKSA9PiB7XG5cdFx0XHRwcmV2KCk7XG5cdFx0XHRvbl9yZXNldCh0cnVlKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50Ll9fb25fciA9ICgpID0+IG9uX3Jlc2V0KHRydWUpO1xuXHR9XG5cblx0YWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIoKTtcbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIENvbXBvbmVudENvbnRleHRMZWdhY3ksIERlcml2ZWQsIEVmZmVjdCwgVGVtcGxhdGVOb2RlLCBUcmFuc2l0aW9uTWFuYWdlciB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQge1xuXHRpc19kaXJ0eSxcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHR1cGRhdGVfZWZmZWN0LFxuXHRnZXQsXG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0LFxuXHRyZW1vdmVfcmVhY3Rpb25zLFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QsXG5cdHVudHJhY2ssXG5cdHVudHJhY2tpbmdcbn0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQge1xuXHRESVJUWSxcblx0QlJBTkNIX0VGRkVDVCxcblx0UkVOREVSX0VGRkVDVCxcblx0RUZGRUNULFxuXHRERVNUUk9ZRUQsXG5cdElORVJULFxuXHRFRkZFQ1RfUkFOLFxuXHRCTE9DS19FRkZFQ1QsXG5cdFJPT1RfRUZGRUNULFxuXHRFRkZFQ1RfVFJBTlNQQVJFTlQsXG5cdERFUklWRUQsXG5cdENMRUFOLFxuXHRFQUdFUl9FRkZFQ1QsXG5cdEhFQURfRUZGRUNULFxuXHRNQVlCRV9ESVJUWSxcblx0RUZGRUNUX1BSRVNFUlZFRCxcblx0U1RBTEVfUkVBQ1RJT04sXG5cdFVTRVJfRUZGRUNULFxuXHRBU1lOQyxcblx0Q09OTkVDVEVELFxuXHRNQU5BR0VEX0VGRkVDVFxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXRfbmV4dF9zaWJsaW5nIH0gZnJvbSAnLi4vZG9tL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQsIGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiwgZGV2X3N0YWNrIH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgY3VycmVudF9iYXRjaCwgc2NoZWR1bGVfZWZmZWN0IH0gZnJvbSAnLi9iYXRjaC5qcyc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQgfSBmcm9tICcuLi9kb20vZWxlbWVudHMvYmluZGluZ3Mvc2hhcmVkLmpzJztcbmltcG9ydCB7IHNldF9zaWduYWxfc3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7JyRlZmZlY3QnIHwgJyRlZmZlY3QucHJlJyB8ICckaW5zcGVjdCd9IHJ1bmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VmZmVjdChydW5lKSB7XG5cdGlmIChhY3RpdmVfZWZmZWN0ID09PSBudWxsKSB7XG5cdFx0aWYgKGFjdGl2ZV9yZWFjdGlvbiA9PT0gbnVsbCkge1xuXHRcdFx0ZS5lZmZlY3Rfb3JwaGFuKHJ1bmUpO1xuXHRcdH1cblxuXHRcdGUuZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZCgpO1xuXHR9XG5cblx0aWYgKGlzX2Rlc3Ryb3lpbmdfZWZmZWN0KSB7XG5cdFx0ZS5lZmZlY3RfaW5fdGVhcmRvd24ocnVuZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge0VmZmVjdH0gcGFyZW50X2VmZmVjdFxuICovXG5mdW5jdGlvbiBwdXNoX2VmZmVjdChlZmZlY3QsIHBhcmVudF9lZmZlY3QpIHtcblx0dmFyIHBhcmVudF9sYXN0ID0gcGFyZW50X2VmZmVjdC5sYXN0O1xuXHRpZiAocGFyZW50X2xhc3QgPT09IG51bGwpIHtcblx0XHRwYXJlbnRfZWZmZWN0Lmxhc3QgPSBwYXJlbnRfZWZmZWN0LmZpcnN0ID0gZWZmZWN0O1xuXHR9IGVsc2Uge1xuXHRcdHBhcmVudF9sYXN0Lm5leHQgPSBlZmZlY3Q7XG5cdFx0ZWZmZWN0LnByZXYgPSBwYXJlbnRfbGFzdDtcblx0XHRwYXJlbnRfZWZmZWN0Lmxhc3QgPSBlZmZlY3Q7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHBhcmFtIHtudWxsIHwgKCgpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkpfSBmblxuICogQHBhcmFtIHtib29sZWFufSBzeW5jXG4gKiBAcmV0dXJucyB7RWZmZWN0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVfZWZmZWN0KHR5cGUsIGZuLCBzeW5jKSB7XG5cdHZhciBwYXJlbnQgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdGlmIChERVYpIHtcblx0XHQvLyBFbnN1cmUgdGhlIHBhcmVudCBpcyBuZXZlciBhbiBpbnNwZWN0IGVmZmVjdFxuXHRcdHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC5mICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudDtcblx0XHR9XG5cdH1cblxuXHRpZiAocGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuZiAmIElORVJUKSAhPT0gMCkge1xuXHRcdHR5cGUgfD0gSU5FUlQ7XG5cdH1cblxuXHQvKiogQHR5cGUge0VmZmVjdH0gKi9cblx0dmFyIGVmZmVjdCA9IHtcblx0XHRjdHg6IGNvbXBvbmVudF9jb250ZXh0LFxuXHRcdGRlcHM6IG51bGwsXG5cdFx0bm9kZXM6IG51bGwsXG5cdFx0ZjogdHlwZSB8IERJUlRZIHwgQ09OTkVDVEVELFxuXHRcdGZpcnN0OiBudWxsLFxuXHRcdGZuLFxuXHRcdGxhc3Q6IG51bGwsXG5cdFx0bmV4dDogbnVsbCxcblx0XHRwYXJlbnQsXG5cdFx0YjogcGFyZW50ICYmIHBhcmVudC5iLFxuXHRcdHByZXY6IG51bGwsXG5cdFx0dGVhcmRvd246IG51bGwsXG5cdFx0d3Y6IDAsXG5cdFx0YWM6IG51bGxcblx0fTtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbiA9IGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbjtcblx0fVxuXG5cdGlmIChzeW5jKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdGVmZmVjdC5mIHw9IEVGRkVDVF9SQU47XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKGZuICE9PSBudWxsKSB7XG5cdFx0c2NoZWR1bGVfZWZmZWN0KGVmZmVjdCk7XG5cdH1cblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdHZhciBlID0gZWZmZWN0O1xuXG5cdC8vIGlmIGFuIGVmZmVjdCBoYXMgYWxyZWFkeSByYW4gYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSBrZXB0IGluIHRoZSB0cmVlXG5cdC8vIChiZWNhdXNlIGl0IHdvbid0IHJlLXJ1biwgaGFzIG5vIERPTSwgYW5kIGhhcyBubyB0ZWFyZG93biBldGMpXG5cdC8vIHRoZW4gd2Ugc2tpcCBpdCBhbmQgZ28gdG8gaXRzIGNoaWxkIChpZiBhbnkpXG5cdGlmIChcblx0XHRzeW5jICYmXG5cdFx0ZS5kZXBzID09PSBudWxsICYmXG5cdFx0ZS50ZWFyZG93biA9PT0gbnVsbCAmJlxuXHRcdGUubm9kZXMgPT09IG51bGwgJiZcblx0XHRlLmZpcnN0ID09PSBlLmxhc3QgJiYgLy8gZWl0aGVyIGBudWxsYCwgb3IgYSBzaW5ndWxhciBjaGlsZFxuXHRcdChlLmYgJiBFRkZFQ1RfUFJFU0VSVkVEKSA9PT0gMFxuXHQpIHtcblx0XHRlID0gZS5maXJzdDtcblx0XHRpZiAoKHR5cGUgJiBCTE9DS19FRkZFQ1QpICE9PSAwICYmICh0eXBlICYgRUZGRUNUX1RSQU5TUEFSRU5UKSAhPT0gMCAmJiBlICE9PSBudWxsKSB7XG5cdFx0XHRlLmYgfD0gRUZGRUNUX1RSQU5TUEFSRU5UO1xuXHRcdH1cblx0fVxuXG5cdGlmIChlICE9PSBudWxsKSB7XG5cdFx0ZS5wYXJlbnQgPSBwYXJlbnQ7XG5cblx0XHRpZiAocGFyZW50ICE9PSBudWxsKSB7XG5cdFx0XHRwdXNoX2VmZmVjdChlLCBwYXJlbnQpO1xuXHRcdH1cblxuXHRcdC8vIGlmIHdlJ3JlIGluIGEgZGVyaXZlZCwgYWRkIHRoZSBlZmZlY3QgdGhlcmUgdG9vXG5cdFx0aWYgKFxuXHRcdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmXG5cdFx0XHQoYWN0aXZlX3JlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMCAmJlxuXHRcdFx0KHR5cGUgJiBST09UX0VGRkVDVCkgPT09IDBcblx0XHQpIHtcblx0XHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoYWN0aXZlX3JlYWN0aW9uKTtcblx0XHRcdChkZXJpdmVkLmVmZmVjdHMgPz89IFtdKS5wdXNoKGUpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3QudHJhY2tpbmcoKWBcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3RyYWNraW5nKCkge1xuXHRyZXR1cm4gYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICF1bnRyYWNraW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlYXJkb3duKGZuKSB7XG5cdGNvbnN0IGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCwgbnVsbCwgZmFsc2UpO1xuXHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIENMRUFOKTtcblx0ZWZmZWN0LnRlYXJkb3duID0gZm47XG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3QoLi4uKWBcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZXJfZWZmZWN0KGZuKSB7XG5cdHZhbGlkYXRlX2VmZmVjdCgnJGVmZmVjdCcpO1xuXG5cdGlmIChERVYpIHtcblx0XHRkZWZpbmVfcHJvcGVydHkoZm4sICduYW1lJywge1xuXHRcdFx0dmFsdWU6ICckZWZmZWN0J1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gTm9uLW5lc3RlZCBgJGVmZmVjdCguLi4pYCBpbiBhIGNvbXBvbmVudCBzaG91bGQgYmUgZGVmZXJyZWRcblx0Ly8gdW50aWwgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG5cdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0dmFyIGRlZmVyID0gIWFjdGl2ZV9yZWFjdGlvbiAmJiAoZmxhZ3MgJiBCUkFOQ0hfRUZGRUNUKSAhPT0gMCAmJiAoZmxhZ3MgJiBFRkZFQ1RfUkFOKSA9PT0gMDtcblxuXHRpZiAoZGVmZXIpIHtcblx0XHQvLyBUb3AtbGV2ZWwgYCRlZmZlY3QoLi4uKWAgaW4gYW4gdW5tb3VudGVkIGNvbXBvbmVudCBcdTIwMTQgZGVmZXIgdW50aWwgbW91bnRcblx0XHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblx0XHQoY29udGV4dC5lID8/PSBbXSkucHVzaChmbik7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gRXZlcnl0aGluZyBlbHNlIFx1MjAxNCBjcmVhdGUgaW1tZWRpYXRlbHlcblx0XHRyZXR1cm4gY3JlYXRlX3VzZXJfZWZmZWN0KGZuKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV91c2VyX2VmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChFRkZFQ1QgfCBVU0VSX0VGRkVDVCwgZm4sIGZhbHNlKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdC5wcmUoLi4uKWBcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyX3ByZV9lZmZlY3QoZm4pIHtcblx0dmFsaWRhdGVfZWZmZWN0KCckZWZmZWN0LnByZScpO1xuXHRpZiAoREVWKSB7XG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGZuLCAnbmFtZScsIHtcblx0XHRcdHZhbHVlOiAnJGVmZmVjdC5wcmUnXG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCB8IFVTRVJfRUZGRUNULCBmbiwgdHJ1ZSk7XG59XG5cbi8qKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuICovXG5leHBvcnQgZnVuY3Rpb24gZWFnZXJfZWZmZWN0KGZuKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEVBR0VSX0VGRkVDVCwgZm4sIHRydWUpO1xufVxuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGAkZWZmZWN0LnJvb3QoLi4uKWBcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3Jvb3QoZm4pIHtcblx0QmF0Y2guZW5zdXJlKCk7XG5cdGNvbnN0IGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoUk9PVF9FRkZFQ1QgfCBFRkZFQ1RfUFJFU0VSVkVELCBmbiwgdHJ1ZSk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHR9O1xufVxuXG4vKipcbiAqIEFuIGVmZmVjdCByb290IHdob3NlIGNoaWxkcmVuIGNhbiB0cmFuc2l0aW9uIG91dFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeyhvcHRpb25zPzogeyBvdXRybz86IGJvb2xlYW4gfSkgPT4gUHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9yb290KGZuKSB7XG5cdEJhdGNoLmVuc3VyZSgpO1xuXHRjb25zdCBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KFJPT1RfRUZGRUNUIHwgRUZGRUNUX1BSRVNFUlZFRCwgZm4sIHRydWUpO1xuXG5cdHJldHVybiAob3B0aW9ucyA9IHt9KSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChmdWxmaWwpID0+IHtcblx0XHRcdGlmIChvcHRpb25zLm91dHJvKSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdChlZmZlY3QsICgpID0+IHtcblx0XHRcdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0XHRcdGZ1bGZpbCh1bmRlZmluZWQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdGZ1bGZpbCh1bmRlZmluZWQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoRUZGRUNULCBmbiwgZmFsc2UpO1xufVxuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGAkOiAuLmBcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBkZXBzXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfcHJlX2VmZmVjdChkZXBzLCBmbikge1xuXHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblxuXHQvKiogQHR5cGUge3sgZWZmZWN0OiBudWxsIHwgRWZmZWN0LCByYW46IGJvb2xlYW4sIGRlcHM6ICgpID0+IGFueSB9fSAqL1xuXHR2YXIgdG9rZW4gPSB7IGVmZmVjdDogbnVsbCwgcmFuOiBmYWxzZSwgZGVwcyB9O1xuXG5cdGNvbnRleHQubC4kLnB1c2godG9rZW4pO1xuXG5cdHRva2VuLmVmZmVjdCA9IHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdGRlcHMoKTtcblxuXHRcdC8vIElmIHRoaXMgbGVnYWN5IHByZSBlZmZlY3QgaGFzIGFscmVhZHkgcnVuIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSByZXNldCwgdGhlblxuXHRcdC8vIGJhaWwgb3V0IHRvIGVtdWxhdGUgdGhlIHNhbWUgYmVoYXZpb3IuXG5cdFx0aWYgKHRva2VuLnJhbikgcmV0dXJuO1xuXG5cdFx0dG9rZW4ucmFuID0gdHJ1ZTtcblx0XHR1bnRyYWNrKGZuKTtcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfcHJlX2VmZmVjdF9yZXNldCgpIHtcblx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cblx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0Ly8gUnVuIGRpcnR5IGAkOmAgc3RhdGVtZW50c1xuXHRcdGZvciAodmFyIHRva2VuIG9mIGNvbnRleHQubC4kKSB7XG5cdFx0XHR0b2tlbi5kZXBzKCk7XG5cblx0XHRcdHZhciBlZmZlY3QgPSB0b2tlbi5lZmZlY3Q7XG5cblx0XHRcdC8vIElmIHRoZSBlZmZlY3QgaXMgQ0xFQU4sIHRoZW4gbWFrZSBpdCBNQVlCRV9ESVJUWS4gVGhpcyBlbnN1cmVzIHdlIHRyYXZlcnNlIHRocm91Z2hcblx0XHRcdC8vIHRoZSBlZmZlY3RzIGRlcGVuZGVuY2llcyBhbmQgY29ycmVjdGx5IGVuc3VyZSBlYWNoIGRlcGVuZGVuY3kgaXMgdXAtdG8tZGF0ZS5cblx0XHRcdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgIT09IDAgJiYgZWZmZWN0LmRlcHMgIT09IG51bGwpIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc19kaXJ0eShlZmZlY3QpKSB7XG5cdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdH1cblxuXHRcdFx0dG9rZW4ucmFuID0gZmFsc2U7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7RWZmZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZWZmZWN0KGZuKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEFTWU5DIHwgRUZGRUNUX1BSRVNFUlZFRCwgZm4sIHRydWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJfZWZmZWN0KGZuLCBmbGFncyA9IDApIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCB8IGZsYWdzLCBmbiwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoLi4uZXhwcmVzc2lvbnM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gYW55Pn0gc3luY1xuICogQHBhcmFtIHtBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+fSBhc3luY1xuICogQHBhcmFtIHtBcnJheTxQcm9taXNlPHZvaWQ+Pn0gYmxvY2tlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlX2VmZmVjdChmbiwgc3luYyA9IFtdLCBhc3luYyA9IFtdLCBibG9ja2VycyA9IFtdKSB7XG5cdGZsYXR0ZW4oYmxvY2tlcnMsIHN5bmMsIGFzeW5jLCAodmFsdWVzKSA9PiB7XG5cdFx0Y3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNULCAoKSA9PiBmbiguLi52YWx1ZXMubWFwKGdldCkpLCB0cnVlKTtcblx0fSk7XG59XG5cbi8qKlxuICogTGlrZSBgdGVtcGxhdGVfZWZmZWN0YCwgYnV0IHdpdGggYW4gZWZmZWN0IHdoaWNoIGlzIGRlZmVycmVkIHVudGlsIHRoZSBiYXRjaCBjb21taXRzXG4gKiBAcGFyYW0geyguLi5leHByZXNzaW9uczogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHBhcmFtIHtBcnJheTwoKSA9PiBhbnk+fSBzeW5jXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IFByb21pc2U8YW55Pj59IGFzeW5jXG4gKiBAcGFyYW0ge0FycmF5PFByb21pc2U8dm9pZD4+fSBibG9ja2Vyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmZXJyZWRfdGVtcGxhdGVfZWZmZWN0KGZuLCBzeW5jID0gW10sIGFzeW5jID0gW10sIGJsb2NrZXJzID0gW10pIHtcblx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKGN1cnJlbnRfYmF0Y2gpO1xuXHR2YXIgaXNfYXN5bmMgPSBhc3luYy5sZW5ndGggPiAwIHx8IGJsb2NrZXJzLmxlbmd0aCA+IDA7XG5cblx0aWYgKGlzX2FzeW5jKSBiYXRjaC5pbmNyZW1lbnQodHJ1ZSk7XG5cblx0ZmxhdHRlbihibG9ja2Vycywgc3luYywgYXN5bmMsICh2YWx1ZXMpID0+IHtcblx0XHRjcmVhdGVfZWZmZWN0KEVGRkVDVCwgKCkgPT4gZm4oLi4udmFsdWVzLm1hcChnZXQpKSwgZmFsc2UpO1xuXHRcdGlmIChpc19hc3luYykgYmF0Y2guZGVjcmVtZW50KHRydWUpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKX0gZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYmxvY2soZm4sIGZsYWdzID0gMCkge1xuXHR2YXIgZWZmZWN0ID0gY3JlYXRlX2VmZmVjdChCTE9DS19FRkZFQ1QgfCBmbGFncywgZm4sIHRydWUpO1xuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmRldl9zdGFjayA9IGRldl9zdGFjaztcblx0fVxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCgpID0+IHZvaWQpfSBmblxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYW5hZ2VkKGZuLCBmbGFncyA9IDApIHtcblx0dmFyIGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoTUFOQUdFRF9FRkZFQ1QgfCBmbGFncywgZm4sIHRydWUpO1xuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmRldl9zdGFjayA9IGRldl9zdGFjaztcblx0fVxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCgpID0+IHZvaWQpfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gYnJhbmNoKGZuKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEJSQU5DSF9FRkZFQ1QgfCBFRkZFQ1RfUFJFU0VSVkVELCBmbiwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd24oZWZmZWN0KSB7XG5cdHZhciB0ZWFyZG93biA9IGVmZmVjdC50ZWFyZG93bjtcblx0aWYgKHRlYXJkb3duICE9PSBudWxsKSB7XG5cdFx0Y29uc3QgcHJldmlvdXNseV9kZXN0cm95aW5nX2VmZmVjdCA9IGlzX2Rlc3Ryb3lpbmdfZWZmZWN0O1xuXHRcdGNvbnN0IHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHRcdHNldF9pc19kZXN0cm95aW5nX2VmZmVjdCh0cnVlKTtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRcdHRyeSB7XG5cdFx0XHR0ZWFyZG93bi5jYWxsKG51bGwpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QocHJldmlvdXNseV9kZXN0cm95aW5nX2VmZmVjdCk7XG5cdFx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlbW92ZV9kb21cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9lZmZlY3RfY2hpbGRyZW4oc2lnbmFsLCByZW1vdmVfZG9tID0gZmFsc2UpIHtcblx0dmFyIGVmZmVjdCA9IHNpZ25hbC5maXJzdDtcblx0c2lnbmFsLmZpcnN0ID0gc2lnbmFsLmxhc3QgPSBudWxsO1xuXG5cdHdoaWxlIChlZmZlY3QgIT09IG51bGwpIHtcblx0XHRjb25zdCBjb250cm9sbGVyID0gZWZmZWN0LmFjO1xuXG5cdFx0aWYgKGNvbnRyb2xsZXIgIT09IG51bGwpIHtcblx0XHRcdHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dCgoKSA9PiB7XG5cdFx0XHRcdGNvbnRyb2xsZXIuYWJvcnQoU1RBTEVfUkVBQ1RJT04pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIG5leHQgPSBlZmZlY3QubmV4dDtcblxuXHRcdGlmICgoZWZmZWN0LmYgJiBST09UX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdC8vIHRoaXMgaXMgbm93IGFuIGluZGVwZW5kZW50IHJvb3Rcblx0XHRcdGVmZmVjdC5wYXJlbnQgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QsIHJlbW92ZV9kb20pO1xuXHRcdH1cblxuXHRcdGVmZmVjdCA9IG5leHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2tfZWZmZWN0X2NoaWxkcmVuKHNpZ25hbCkge1xuXHR2YXIgZWZmZWN0ID0gc2lnbmFsLmZpcnN0O1xuXG5cdHdoaWxlIChlZmZlY3QgIT09IG51bGwpIHtcblx0XHR2YXIgbmV4dCA9IGVmZmVjdC5uZXh0O1xuXHRcdGlmICgoZWZmZWN0LmYgJiBCUkFOQ0hfRUZGRUNUKSA9PT0gMCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHR9XG5cdFx0ZWZmZWN0ID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZV9kb21dXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCwgcmVtb3ZlX2RvbSA9IHRydWUpIHtcblx0dmFyIHJlbW92ZWQgPSBmYWxzZTtcblxuXHRpZiAoXG5cdFx0KHJlbW92ZV9kb20gfHwgKGVmZmVjdC5mICYgSEVBRF9FRkZFQ1QpICE9PSAwKSAmJlxuXHRcdGVmZmVjdC5ub2RlcyAhPT0gbnVsbCAmJlxuXHRcdGVmZmVjdC5ub2Rlcy5lbmQgIT09IG51bGxcblx0KSB7XG5cdFx0cmVtb3ZlX2VmZmVjdF9kb20oZWZmZWN0Lm5vZGVzLnN0YXJ0LCAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGVmZmVjdC5ub2Rlcy5lbmQpKTtcblx0XHRyZW1vdmVkID0gdHJ1ZTtcblx0fVxuXG5cdGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCwgcmVtb3ZlX2RvbSAmJiAhcmVtb3ZlZCk7XG5cdHJlbW92ZV9yZWFjdGlvbnMoZWZmZWN0LCAwKTtcblx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBERVNUUk9ZRUQpO1xuXG5cdHZhciB0cmFuc2l0aW9ucyA9IGVmZmVjdC5ub2RlcyAmJiBlZmZlY3Qubm9kZXMudDtcblxuXHRpZiAodHJhbnNpdGlvbnMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHRyYW5zaXRpb24gb2YgdHJhbnNpdGlvbnMpIHtcblx0XHRcdHRyYW5zaXRpb24uc3RvcCgpO1xuXHRcdH1cblx0fVxuXG5cdGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duKGVmZmVjdCk7XG5cblx0dmFyIHBhcmVudCA9IGVmZmVjdC5wYXJlbnQ7XG5cblx0Ly8gSWYgdGhlIHBhcmVudCBkb2Vzbid0IGhhdmUgYW55IGNoaWxkcmVuLCB0aGVuIHNraXAgdGhpcyB3b3JrIGFsdG9nZXRoZXJcblx0aWYgKHBhcmVudCAhPT0gbnVsbCAmJiBwYXJlbnQuZmlyc3QgIT09IG51bGwpIHtcblx0XHR1bmxpbmtfZWZmZWN0KGVmZmVjdCk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbiA9IG51bGw7XG5cdH1cblxuXHQvLyBgZmlyc3RgIGFuZCBgY2hpbGRgIGFyZSBudWxsZWQgb3V0IGluIGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuXG5cdC8vIHdlIGRvbid0IG51bGwgb3V0IGBwYXJlbnRgIHNvIHRoYXQgZXJyb3IgcHJvcGFnYXRpb24gY2FuIHdvcmsgY29ycmVjdGx5XG5cdGVmZmVjdC5uZXh0ID1cblx0XHRlZmZlY3QucHJldiA9XG5cdFx0ZWZmZWN0LnRlYXJkb3duID1cblx0XHRlZmZlY3QuY3R4ID1cblx0XHRlZmZlY3QuZGVwcyA9XG5cdFx0ZWZmZWN0LmZuID1cblx0XHRlZmZlY3Qubm9kZXMgPVxuXHRcdGVmZmVjdC5hYyA9XG5cdFx0XHRudWxsO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZSB8IG51bGx9IG5vZGVcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBlbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9lZmZlY3RfZG9tKG5vZGUsIGVuZCkge1xuXHR3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0XHR2YXIgbmV4dCA9IG5vZGUgPT09IGVuZCA/IG51bGwgOiBnZXRfbmV4dF9zaWJsaW5nKG5vZGUpO1xuXG5cdFx0bm9kZS5yZW1vdmUoKTtcblx0XHRub2RlID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqIERldGFjaCBhbiBlZmZlY3QgZnJvbSB0aGUgZWZmZWN0IHRyZWUsIGZyZWVpbmcgdXAgbWVtb3J5IGFuZFxuICogcmVkdWNpbmcgdGhlIGFtb3VudCBvZiB3b3JrIHRoYXQgaGFwcGVucyBvbiBzdWJzZXF1ZW50IHRyYXZlcnNhbHNcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubGlua19lZmZlY3QoZWZmZWN0KSB7XG5cdHZhciBwYXJlbnQgPSBlZmZlY3QucGFyZW50O1xuXHR2YXIgcHJldiA9IGVmZmVjdC5wcmV2O1xuXHR2YXIgbmV4dCA9IGVmZmVjdC5uZXh0O1xuXG5cdGlmIChwcmV2ICE9PSBudWxsKSBwcmV2Lm5leHQgPSBuZXh0O1xuXHRpZiAobmV4dCAhPT0gbnVsbCkgbmV4dC5wcmV2ID0gcHJldjtcblxuXHRpZiAocGFyZW50ICE9PSBudWxsKSB7XG5cdFx0aWYgKHBhcmVudC5maXJzdCA9PT0gZWZmZWN0KSBwYXJlbnQuZmlyc3QgPSBuZXh0O1xuXHRcdGlmIChwYXJlbnQubGFzdCA9PT0gZWZmZWN0KSBwYXJlbnQubGFzdCA9IHByZXY7XG5cdH1cbn1cblxuLyoqXG4gKiBXaGVuIGEgYmxvY2sgZWZmZWN0IGlzIHJlbW92ZWQsIHdlIGRvbid0IGltbWVkaWF0ZWx5IGRlc3Ryb3kgaXQgb3IgeWFuayBpdFxuICogb3V0IG9mIHRoZSBET00sIGJlY2F1c2UgaXQgbWlnaHQgaGF2ZSB0cmFuc2l0aW9ucy4gSW5zdGVhZCwgd2UgJ3BhdXNlJyBpdC5cbiAqIEl0IHN0YXlzIGFyb3VuZCAoaW4gbWVtb3J5LCBhbmQgaW4gdGhlIERPTSkgdW50aWwgb3V0cm8gdHJhbnNpdGlvbnMgaGF2ZVxuICogY29tcGxldGVkLCBhbmQgaWYgdGhlIHN0YXRlIGNoYW5nZSBpcyByZXZlcnNlZCB0aGVuIHdlIF9yZXN1bWVfIGl0LlxuICogQSBwYXVzZWQgZWZmZWN0IGRvZXMgbm90IHVwZGF0ZSwgYW5kIHRoZSBET00gc3VidHJlZSBiZWNvbWVzIGluZXJ0LlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95XVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF1c2VfZWZmZWN0KGVmZmVjdCwgY2FsbGJhY2ssIGRlc3Ryb3kgPSB0cnVlKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk1hbmFnZXJbXX0gKi9cblx0dmFyIHRyYW5zaXRpb25zID0gW107XG5cblx0cGF1c2VfY2hpbGRyZW4oZWZmZWN0LCB0cmFuc2l0aW9ucywgdHJ1ZSk7XG5cblx0dmFyIGZuID0gKCkgPT4ge1xuXHRcdGlmIChkZXN0cm95KSBkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcblx0fTtcblxuXHR2YXIgcmVtYWluaW5nID0gdHJhbnNpdGlvbnMubGVuZ3RoO1xuXHRpZiAocmVtYWluaW5nID4gMCkge1xuXHRcdHZhciBjaGVjayA9ICgpID0+IC0tcmVtYWluaW5nIHx8IGZuKCk7XG5cdFx0Zm9yICh2YXIgdHJhbnNpdGlvbiBvZiB0cmFuc2l0aW9ucykge1xuXHRcdFx0dHJhbnNpdGlvbi5vdXQoY2hlY2spO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmbigpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtUcmFuc2l0aW9uTWFuYWdlcltdfSB0cmFuc2l0aW9uc1xuICogQHBhcmFtIHtib29sZWFufSBsb2NhbFxuICovXG5mdW5jdGlvbiBwYXVzZV9jaGlsZHJlbihlZmZlY3QsIHRyYW5zaXRpb25zLCBsb2NhbCkge1xuXHRpZiAoKGVmZmVjdC5mICYgSU5FUlQpICE9PSAwKSByZXR1cm47XG5cdGVmZmVjdC5mIF49IElORVJUO1xuXG5cdHZhciB0ID0gZWZmZWN0Lm5vZGVzICYmIGVmZmVjdC5ub2Rlcy50O1xuXG5cdGlmICh0ICE9PSBudWxsKSB7XG5cdFx0Zm9yIChjb25zdCB0cmFuc2l0aW9uIG9mIHQpIHtcblx0XHRcdGlmICh0cmFuc2l0aW9uLmlzX2dsb2JhbCB8fCBsb2NhbCkge1xuXHRcdFx0XHR0cmFuc2l0aW9ucy5wdXNoKHRyYW5zaXRpb24pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBjaGlsZCA9IGVmZmVjdC5maXJzdDtcblxuXHR3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcblx0XHR2YXIgc2libGluZyA9IGNoaWxkLm5leHQ7XG5cdFx0dmFyIHRyYW5zcGFyZW50ID1cblx0XHRcdChjaGlsZC5mICYgRUZGRUNUX1RSQU5TUEFSRU5UKSAhPT0gMCB8fFxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIGJyYW5jaCBlZmZlY3Qgd2l0aG91dCBhIGJsb2NrIGVmZmVjdCBwYXJlbnQsXG5cdFx0XHQvLyBpdCBtZWFucyB0aGUgcGFyZW50IGJsb2NrIGVmZmVjdCB3YXMgcHJ1bmVkLiBJbiB0aGF0IGNhc2UsXG5cdFx0XHQvLyB0cmFuc3BhcmVuY3kgaW5mb3JtYXRpb24gd2FzIHRyYW5zZmVycmVkIHRvIHRoZSBicmFuY2ggZWZmZWN0LlxuXHRcdFx0KChjaGlsZC5mICYgQlJBTkNIX0VGRkVDVCkgIT09IDAgJiYgKGVmZmVjdC5mICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCk7XG5cdFx0Ly8gVE9ETyB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgcGF1c2VfY2hpbGRyZW4gcmVjdXJzaXZlbHkgd2l0aCBhIGxpbmtlZCBsaXN0IGluIHBsYWNlXG5cdFx0Ly8gaXQncyBzbGlnaHRseSBtb3JlIGludm9sdmVkIHRob3VnaCBhcyB3ZSBoYXZlIHRvIGFjY291bnQgZm9yIGB0cmFuc3BhcmVudGAgY2hhbmdpbmdcblx0XHQvLyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRcdHBhdXNlX2NoaWxkcmVuKGNoaWxkLCB0cmFuc2l0aW9ucywgdHJhbnNwYXJlbnQgPyBsb2NhbCA6IGZhbHNlKTtcblx0XHRjaGlsZCA9IHNpYmxpbmc7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgb3Bwb3NpdGUgb2YgYHBhdXNlX2VmZmVjdGAuIFdlIGNhbGwgdGhpcyBpZiAoZm9yIGV4YW1wbGUpXG4gKiBgeGAgYmVjb21lcyBmYWxzeSB0aGVuIHRydXRoeTogYHsjaWYgeH0uLi57L2lmfWBcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZV9lZmZlY3QoZWZmZWN0KSB7XG5cdHJlc3VtZV9jaGlsZHJlbihlZmZlY3QsIHRydWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jYWxcbiAqL1xuZnVuY3Rpb24gcmVzdW1lX2NoaWxkcmVuKGVmZmVjdCwgbG9jYWwpIHtcblx0aWYgKChlZmZlY3QuZiAmIElORVJUKSA9PT0gMCkgcmV0dXJuO1xuXHRlZmZlY3QuZiBePSBJTkVSVDtcblxuXHQvLyBJZiBhIGRlcGVuZGVuY3kgb2YgdGhpcyBlZmZlY3QgY2hhbmdlZCB3aGlsZSBpdCB3YXMgcGF1c2VkLFxuXHQvLyBzY2hlZHVsZSB0aGUgZWZmZWN0IHRvIHVwZGF0ZS4gd2UgZG9uJ3QgdXNlIGBpc19kaXJ0eWBcblx0Ly8gaGVyZSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gZWFnZXJseSByZWNvbXB1dGUgYSBkZXJpdmVkIGxpa2Vcblx0Ly8gYHsjaWYgZm9vfXtmb28uYmFyKCl9ey9pZn1gIGlmIGBmb29gIGlzIG5vdyBgdW5kZWZpbmVkXG5cdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgPT09IDApIHtcblx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIERJUlRZKTtcblx0XHRzY2hlZHVsZV9lZmZlY3QoZWZmZWN0KTtcblx0fVxuXG5cdHZhciBjaGlsZCA9IGVmZmVjdC5maXJzdDtcblxuXHR3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcblx0XHR2YXIgc2libGluZyA9IGNoaWxkLm5leHQ7XG5cdFx0dmFyIHRyYW5zcGFyZW50ID0gKGNoaWxkLmYgJiBFRkZFQ1RfVFJBTlNQQVJFTlQpICE9PSAwIHx8IChjaGlsZC5mICYgQlJBTkNIX0VGRkVDVCkgIT09IDA7XG5cdFx0Ly8gVE9ETyB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgcmVzdW1lX2NoaWxkcmVuIHJlY3Vyc2l2ZWx5IHdpdGggYSBsaW5rZWQgbGlzdCBpbiBwbGFjZVxuXHRcdC8vIGl0J3Mgc2xpZ2h0bHkgbW9yZSBpbnZvbHZlZCB0aG91Z2ggYXMgd2UgaGF2ZSB0byBhY2NvdW50IGZvciBgdHJhbnNwYXJlbnRgIGNoYW5naW5nXG5cdFx0Ly8gdGhyb3VnaCB0aGUgdHJlZS5cblx0XHRyZXN1bWVfY2hpbGRyZW4oY2hpbGQsIHRyYW5zcGFyZW50ID8gbG9jYWwgOiBmYWxzZSk7XG5cdFx0Y2hpbGQgPSBzaWJsaW5nO1xuXHR9XG5cblx0dmFyIHQgPSBlZmZlY3Qubm9kZXMgJiYgZWZmZWN0Lm5vZGVzLnQ7XG5cblx0aWYgKHQgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHRyYW5zaXRpb24gb2YgdCkge1xuXHRcdFx0aWYgKHRyYW5zaXRpb24uaXNfZ2xvYmFsIHx8IGxvY2FsKSB7XG5cdFx0XHRcdHRyYW5zaXRpb24uaW4oKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFib3J0ZWQoZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KSkge1xuXHRyZXR1cm4gKGVmZmVjdC5mICYgREVTVFJPWUVEKSAhPT0gMDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnR9IGZyYWdtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlX2VmZmVjdChlZmZlY3QsIGZyYWdtZW50KSB7XG5cdGlmICghZWZmZWN0Lm5vZGVzKSByZXR1cm47XG5cblx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqL1xuXHR2YXIgbm9kZSA9IGVmZmVjdC5ub2Rlcy5zdGFydDtcblx0dmFyIGVuZCA9IGVmZmVjdC5ub2Rlcy5lbmQ7XG5cblx0d2hpbGUgKG5vZGUgIT09IG51bGwpIHtcblx0XHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdFx0dmFyIG5leHQgPSBub2RlID09PSBlbmQgPyBudWxsIDogZ2V0X25leHRfc2libGluZyhub2RlKTtcblxuXHRcdGZyYWdtZW50LmFwcGVuZChub2RlKTtcblx0XHRub2RlID0gbmV4dDtcblx0fVxufVxuIiwgIi8qKiBAaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgaW50ZXJuYWxfc2V0IH0gZnJvbSAnLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgdW50cmFjayB9IGZyb20gJy4vcnVudGltZS5qcyc7XG5cbi8qKlxuICogQHR5cGUge1NldDxWYWx1ZT4gfCBudWxsfVxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGxldCBjYXB0dXJlZF9zaWduYWxzID0gbnVsbDtcblxuLyoqXG4gKiBDYXB0dXJlIGFuIGFycmF5IG9mIGFsbCB0aGUgc2lnbmFscyB0aGF0IGFyZSByZWFkIHdoZW4gYGZuYCBpcyBjYWxsZWRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IFR9IGZuXG4gKi9cbmZ1bmN0aW9uIGNhcHR1cmVfc2lnbmFscyhmbikge1xuXHR2YXIgcHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscyA9IGNhcHR1cmVkX3NpZ25hbHM7XG5cblx0dHJ5IHtcblx0XHRjYXB0dXJlZF9zaWduYWxzID0gbmV3IFNldCgpO1xuXG5cdFx0dW50cmFjayhmbik7XG5cblx0XHRpZiAocHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscyAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgc2lnbmFsIG9mIGNhcHR1cmVkX3NpZ25hbHMpIHtcblx0XHRcdFx0cHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscy5hZGQoc2lnbmFsKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2FwdHVyZWRfc2lnbmFscztcblx0fSBmaW5hbGx5IHtcblx0XHRjYXB0dXJlZF9zaWduYWxzID0gcHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscztcblx0fVxufVxuXG4vKipcbiAqIEludm9rZXMgYSBmdW5jdGlvbiBhbmQgY2FwdHVyZXMgYWxsIHNpZ25hbHMgdGhhdCBhcmUgcmVhZCBkdXJpbmcgdGhlIGludm9jYXRpb24sXG4gKiB0aGVuIGludmFsaWRhdGVzIHRoZW0uXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlX2lubmVyX3NpZ25hbHMoZm4pIHtcblx0Zm9yICh2YXIgc2lnbmFsIG9mIGNhcHR1cmVfc2lnbmFscyhmbikpIHtcblx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCBzaWduYWwudik7XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgUmVhY3Rpb24sIFNvdXJjZSwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBnZXRfZGVzY3JpcHRvcnMsIGdldF9wcm90b3R5cGVfb2YsIGluZGV4X29mIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGRlc3Ryb3lfYmxvY2tfZWZmZWN0X2NoaWxkcmVuLFxuXHRkZXN0cm95X2VmZmVjdF9jaGlsZHJlbixcblx0ZWZmZWN0X3RyYWNraW5nLFxuXHRleGVjdXRlX2VmZmVjdF90ZWFyZG93blxufSBmcm9tICcuL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQge1xuXHRESVJUWSxcblx0TUFZQkVfRElSVFksXG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRERVNUUk9ZRUQsXG5cdEJSQU5DSF9FRkZFQ1QsXG5cdFNUQVRFX1NZTUJPTCxcblx0QkxPQ0tfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0Q09OTkVDVEVELFxuXHRSRUFDVElPTl9JU19VUERBVElORyxcblx0U1RBTEVfUkVBQ1RJT04sXG5cdEVSUk9SX1ZBTFVFLFxuXHRXQVNfTUFSS0VELFxuXHRNQU5BR0VEX0VGRkVDVFxufSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBvbGRfdmFsdWVzIH0gZnJvbSAnLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHtcblx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMsXG5cdGV4ZWN1dGVfZGVyaXZlZCxcblx0cmVjZW50X2FzeW5jX2Rlcml2ZWRzLFxuXHR1cGRhdGVfZGVyaXZlZFxufSBmcm9tICcuL3JlYWN0aXZpdHkvZGVyaXZlZHMuanMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnLCB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IHRyYWNpbmdfZXhwcmVzc2lvbnMgfSBmcm9tICcuL2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7IGdldF9lcnJvciB9IGZyb20gJy4uL3NoYXJlZC9kZXYuanMnO1xuaW1wb3J0IHtcblx0Y29tcG9uZW50X2NvbnRleHQsXG5cdGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbixcblx0ZGV2X3N0YWNrLFxuXHRpc19ydW5lcyxcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0LFxuXHRzZXRfZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uLFxuXHRzZXRfZGV2X3N0YWNrXG59IGZyb20gJy4vY29udGV4dC5qcyc7XG5pbXBvcnQge1xuXHRCYXRjaCxcblx0YmF0Y2hfdmFsdWVzLFxuXHRjdXJyZW50X2JhdGNoLFxuXHRmbHVzaFN5bmMsXG5cdHNjaGVkdWxlX2VmZmVjdFxufSBmcm9tICcuL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgaGFuZGxlX2Vycm9yIH0gZnJvbSAnLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGNhcHR1cmVkX3NpZ25hbHMgfSBmcm9tICcuL2xlZ2FjeS5qcyc7XG5pbXBvcnQgeyB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQgfSBmcm9tICcuL2RvbS9lbGVtZW50cy9iaW5kaW5ncy9zaGFyZWQuanMnO1xuaW1wb3J0IHsgc2V0X3NpZ25hbF9zdGF0dXMsIHVwZGF0ZV9kZXJpdmVkX3N0YXR1cyB9IGZyb20gJy4vcmVhY3Rpdml0eS9zdGF0dXMuanMnO1xuXG5leHBvcnQgbGV0IGlzX3VwZGF0aW5nX2VmZmVjdCA9IGZhbHNlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pc191cGRhdGluZ19lZmZlY3QodmFsdWUpIHtcblx0aXNfdXBkYXRpbmdfZWZmZWN0ID0gdmFsdWU7XG59XG5cbmV4cG9ydCBsZXQgaXNfZGVzdHJveWluZ19lZmZlY3QgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QodmFsdWUpIHtcblx0aXNfZGVzdHJveWluZ19lZmZlY3QgPSB2YWx1ZTtcbn1cblxuLyoqIEB0eXBlIHtudWxsIHwgUmVhY3Rpb259ICovXG5leHBvcnQgbGV0IGFjdGl2ZV9yZWFjdGlvbiA9IG51bGw7XG5cbmV4cG9ydCBsZXQgdW50cmFja2luZyA9IGZhbHNlO1xuXG4vKiogQHBhcmFtIHtudWxsIHwgUmVhY3Rpb259IHJlYWN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2FjdGl2ZV9yZWFjdGlvbihyZWFjdGlvbikge1xuXHRhY3RpdmVfcmVhY3Rpb24gPSByZWFjdGlvbjtcbn1cblxuLyoqIEB0eXBlIHtudWxsIHwgRWZmZWN0fSAqL1xuZXhwb3J0IGxldCBhY3RpdmVfZWZmZWN0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IEVmZmVjdH0gZWZmZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2FjdGl2ZV9lZmZlY3QoZWZmZWN0KSB7XG5cdGFjdGl2ZV9lZmZlY3QgPSBlZmZlY3Q7XG59XG5cbi8qKlxuICogV2hlbiBzb3VyY2VzIGFyZSBjcmVhdGVkIHdpdGhpbiBhIHJlYWN0aW9uLCByZWFkaW5nIGFuZCB3cml0aW5nXG4gKiB0aGVtIHdpdGhpbiB0aGF0IHJlYWN0aW9uIHNob3VsZCBub3QgY2F1c2UgYSByZS1ydW5cbiAqIEB0eXBlIHtudWxsIHwgU291cmNlW119XG4gKi9cbmV4cG9ydCBsZXQgY3VycmVudF9zb3VyY2VzID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7VmFsdWV9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaF9yZWFjdGlvbl92YWx1ZSh2YWx1ZSkge1xuXHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICghYXN5bmNfbW9kZV9mbGFnIHx8IChhY3RpdmVfcmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwKSkge1xuXHRcdGlmIChjdXJyZW50X3NvdXJjZXMgPT09IG51bGwpIHtcblx0XHRcdGN1cnJlbnRfc291cmNlcyA9IFt2YWx1ZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1cnJlbnRfc291cmNlcy5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgZGVwZW5kZW5jaWVzIG9mIHRoZSByZWFjdGlvbiB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZC4gSW4gbWFueSBjYXNlcyxcbiAqIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHVuY2hhbmdlZCBiZXR3ZWVuIHJ1bnMsIGFuZCBzbyB0aGlzIHdpbGwgYmUgYG51bGxgIHVubGVzc1xuICogYW5kIHVudGlsIGEgbmV3IGRlcGVuZGVuY3kgaXMgYWNjZXNzZWQgXHUyMDE0IHdlIHRyYWNrIHRoaXMgdmlhIGBza2lwcGVkX2RlcHNgXG4gKiBAdHlwZSB7bnVsbCB8IFZhbHVlW119XG4gKi9cbmxldCBuZXdfZGVwcyA9IG51bGw7XG5cbmxldCBza2lwcGVkX2RlcHMgPSAwO1xuXG4vKipcbiAqIFRyYWNrcyB3cml0ZXMgdGhhdCB0aGUgZWZmZWN0IGl0J3MgZXhlY3V0ZWQgaW4gZG9lc24ndCBsaXN0ZW4gdG8geWV0LFxuICogc28gdGhhdCB0aGUgZGVwZW5kZW5jeSBjYW4gYmUgYWRkZWQgdG8gdGhlIGVmZmVjdCBsYXRlciBvbiBpZiBpdCB0aGVuIHJlYWRzIGl0XG4gKiBAdHlwZSB7bnVsbCB8IFNvdXJjZVtdfVxuICovXG5leHBvcnQgbGV0IHVudHJhY2tlZF93cml0ZXMgPSBudWxsO1xuXG4vKiogQHBhcmFtIHtudWxsIHwgU291cmNlW119IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3VudHJhY2tlZF93cml0ZXModmFsdWUpIHtcblx0dW50cmFja2VkX3dyaXRlcyA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9IFVzZWQgYnkgc291cmNlcyBhbmQgZGVyaXZlZHMgZm9yIGhhbmRsaW5nIHVwZGF0ZXMuXG4gKiBWZXJzaW9uIHN0YXJ0cyBmcm9tIDEgc28gdGhhdCB1bm93bmVkIGRlcml2ZWRzIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBhIGNyZWF0ZWQgZWZmZWN0IGFuZCBhIHJ1biBvbmUgZm9yIHRyYWNpbmdcbiAqKi9cbmV4cG9ydCBsZXQgd3JpdGVfdmVyc2lvbiA9IDE7XG5cbi8qKiBAdHlwZSB7bnVtYmVyfSBVc2VkIHRvIHZlcnNpb24gZWFjaCByZWFkIG9mIGEgc291cmNlIG9mIGRlcml2ZWQgdG8gYXZvaWQgZHVwbGljYXRpbmcgZGVwZWRlbmNpZXMgaW5zaWRlIGEgcmVhY3Rpb24gKi9cbmxldCByZWFkX3ZlcnNpb24gPSAwO1xuXG5leHBvcnQgbGV0IHVwZGF0ZV92ZXJzaW9uID0gcmVhZF92ZXJzaW9uO1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3VwZGF0ZV92ZXJzaW9uKHZhbHVlKSB7XG5cdHVwZGF0ZV92ZXJzaW9uID0gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpIHtcblx0cmV0dXJuICsrd3JpdGVfdmVyc2lvbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBkZXJpdmVkIG9yIGVmZmVjdCBpcyBkaXJ0eS5cbiAqIElmIGl0IGlzIE1BWUJFX0RJUlRZLCB3aWxsIHNldCB0aGUgc3RhdHVzIHRvIENMRUFOXG4gKiBAcGFyYW0ge1JlYWN0aW9ufSByZWFjdGlvblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19kaXJ0eShyZWFjdGlvbikge1xuXHR2YXIgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdGlmICgoZmxhZ3MgJiBESVJUWSkgIT09IDApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmIChmbGFncyAmIERFUklWRUQpIHtcblx0XHRyZWFjdGlvbi5mICY9IH5XQVNfTUFSS0VEO1xuXHR9XG5cblx0aWYgKChmbGFncyAmIE1BWUJFX0RJUlRZKSAhPT0gMCkge1xuXHRcdHZhciBkZXBlbmRlbmNpZXMgPSAvKiogQHR5cGUge1ZhbHVlW119ICovIChyZWFjdGlvbi5kZXBzKTtcblx0XHR2YXIgbGVuZ3RoID0gZGVwZW5kZW5jaWVzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuXG5cdFx0XHRpZiAoaXNfZGlydHkoLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoZGVwZW5kZW5jeSkpKSB7XG5cdFx0XHRcdHVwZGF0ZV9kZXJpdmVkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRlcGVuZGVuY3kud3YgPiByZWFjdGlvbi53dikge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHQoZmxhZ3MgJiBDT05ORUNURUQpICE9PSAwICYmXG5cdFx0XHQvLyBEdXJpbmcgdGltZSB0cmF2ZWxpbmcgd2UgZG9uJ3Qgd2FudCB0byByZXNldCB0aGUgc3RhdHVzIHNvIHRoYXRcblx0XHRcdC8vIHRyYXZlcnNhbCBvZiB0aGUgZ3JhcGggaW4gdGhlIG90aGVyIGJhdGNoZXMgc3RpbGwgaGFwcGVuc1xuXHRcdFx0YmF0Y2hfdmFsdWVzID09PSBudWxsXG5cdFx0KSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgQ0xFQU4pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzaWduYWxcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3RdXG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlX3Bvc3NpYmxlX2VmZmVjdF9zZWxmX2ludmFsaWRhdGlvbihzaWduYWwsIGVmZmVjdCwgcm9vdCA9IHRydWUpIHtcblx0dmFyIHJlYWN0aW9ucyA9IHNpZ25hbC5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHRpZiAoIWFzeW5jX21vZGVfZmxhZyAmJiBjdXJyZW50X3NvdXJjZXM/LmluY2x1ZGVzKHNpZ25hbCkpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHJlYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciByZWFjdGlvbiA9IHJlYWN0aW9uc1tpXTtcblxuXHRcdGlmICgocmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHRzY2hlZHVsZV9wb3NzaWJsZV9lZmZlY3Rfc2VsZl9pbnZhbGlkYXRpb24oLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAocmVhY3Rpb24pLCBlZmZlY3QsIGZhbHNlKTtcblx0XHR9IGVsc2UgaWYgKGVmZmVjdCA9PT0gcmVhY3Rpb24pIHtcblx0XHRcdGlmIChyb290KSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHJlYWN0aW9uLCBESVJUWSk7XG5cdFx0XHR9IGVsc2UgaWYgKChyZWFjdGlvbi5mICYgQ0xFQU4pICE9PSAwKSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHJlYWN0aW9uLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cdFx0XHRzY2hlZHVsZV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdH1cblx0fVxufVxuXG4vKiogQHBhcmFtIHtSZWFjdGlvbn0gcmVhY3Rpb24gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcmVhY3Rpb24ocmVhY3Rpb24pIHtcblx0dmFyIHByZXZpb3VzX2RlcHMgPSBuZXdfZGVwcztcblx0dmFyIHByZXZpb3VzX3NraXBwZWRfZGVwcyA9IHNraXBwZWRfZGVwcztcblx0dmFyIHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXMgPSB1bnRyYWNrZWRfd3JpdGVzO1xuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19zb3VyY2VzID0gY3VycmVudF9zb3VyY2VzO1xuXHR2YXIgcHJldmlvdXNfY29tcG9uZW50X2NvbnRleHQgPSBjb21wb25lbnRfY29udGV4dDtcblx0dmFyIHByZXZpb3VzX3VudHJhY2tpbmcgPSB1bnRyYWNraW5nO1xuXHR2YXIgcHJldmlvdXNfdXBkYXRlX3ZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHR2YXIgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdG5ld19kZXBzID0gLyoqIEB0eXBlIHtudWxsIHwgVmFsdWVbXX0gKi8gKG51bGwpO1xuXHRza2lwcGVkX2RlcHMgPSAwO1xuXHR1bnRyYWNrZWRfd3JpdGVzID0gbnVsbDtcblx0YWN0aXZlX3JlYWN0aW9uID0gKGZsYWdzICYgKEJSQU5DSF9FRkZFQ1QgfCBST09UX0VGRkVDVCkpID09PSAwID8gcmVhY3Rpb24gOiBudWxsO1xuXG5cdGN1cnJlbnRfc291cmNlcyA9IG51bGw7XG5cdHNldF9jb21wb25lbnRfY29udGV4dChyZWFjdGlvbi5jdHgpO1xuXHR1bnRyYWNraW5nID0gZmFsc2U7XG5cdHVwZGF0ZV92ZXJzaW9uID0gKytyZWFkX3ZlcnNpb247XG5cblx0aWYgKHJlYWN0aW9uLmFjICE9PSBudWxsKSB7XG5cdFx0d2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0KCgpID0+IHtcblx0XHRcdC8qKiBAdHlwZSB7QWJvcnRDb250cm9sbGVyfSAqLyAocmVhY3Rpb24uYWMpLmFib3J0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHR9KTtcblxuXHRcdHJlYWN0aW9uLmFjID0gbnVsbDtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmVhY3Rpb24uZiB8PSBSRUFDVElPTl9JU19VUERBVElORztcblx0XHR2YXIgZm4gPSAvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyAocmVhY3Rpb24uZm4pO1xuXHRcdHZhciByZXN1bHQgPSBmbigpO1xuXHRcdHZhciBkZXBzID0gcmVhY3Rpb24uZGVwcztcblxuXHRcdGlmIChuZXdfZGVwcyAhPT0gbnVsbCkge1xuXHRcdFx0dmFyIGk7XG5cblx0XHRcdHJlbW92ZV9yZWFjdGlvbnMocmVhY3Rpb24sIHNraXBwZWRfZGVwcyk7XG5cblx0XHRcdGlmIChkZXBzICE9PSBudWxsICYmIHNraXBwZWRfZGVwcyA+IDApIHtcblx0XHRcdFx0ZGVwcy5sZW5ndGggPSBza2lwcGVkX2RlcHMgKyBuZXdfZGVwcy5sZW5ndGg7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBuZXdfZGVwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGRlcHNbc2tpcHBlZF9kZXBzICsgaV0gPSBuZXdfZGVwc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVhY3Rpb24uZGVwcyA9IGRlcHMgPSBuZXdfZGVwcztcblx0XHRcdH1cblxuXHRcdFx0aWYgKGVmZmVjdF90cmFja2luZygpICYmIChyZWFjdGlvbi5mICYgQ09OTkVDVEVEKSAhPT0gMCkge1xuXHRcdFx0XHRmb3IgKGkgPSBza2lwcGVkX2RlcHM7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0KGRlcHNbaV0ucmVhY3Rpb25zID8/PSBbXSkucHVzaChyZWFjdGlvbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGRlcHMgIT09IG51bGwgJiYgc2tpcHBlZF9kZXBzIDwgZGVwcy5sZW5ndGgpIHtcblx0XHRcdHJlbW92ZV9yZWFjdGlvbnMocmVhY3Rpb24sIHNraXBwZWRfZGVwcyk7XG5cdFx0XHRkZXBzLmxlbmd0aCA9IHNraXBwZWRfZGVwcztcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSdyZSBpbnNpZGUgYW4gZWZmZWN0IGFuZCB3ZSBoYXZlIHVudHJhY2tlZCB3cml0ZXMsIHRoZW4gd2UgbmVlZCB0b1xuXHRcdC8vIGVuc3VyZSB0aGF0IGlmIGFueSBvZiB0aG9zZSB1bnRyYWNrZWQgd3JpdGVzIHJlc3VsdCBpbiByZS1pbnZhbGlkYXRpb25cblx0XHQvLyBvZiB0aGUgY3VycmVudCBlZmZlY3QsIHRoZW4gdGhhdCBoYXBwZW5zIGFjY29yZGluZ2x5XG5cdFx0aWYgKFxuXHRcdFx0aXNfcnVuZXMoKSAmJlxuXHRcdFx0dW50cmFja2VkX3dyaXRlcyAhPT0gbnVsbCAmJlxuXHRcdFx0IXVudHJhY2tpbmcgJiZcblx0XHRcdGRlcHMgIT09IG51bGwgJiZcblx0XHRcdChyZWFjdGlvbi5mICYgKERFUklWRUQgfCBNQVlCRV9ESVJUWSB8IERJUlRZKSkgPT09IDBcblx0XHQpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCAvKiogQHR5cGUge1NvdXJjZVtdfSAqLyAodW50cmFja2VkX3dyaXRlcykubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0c2NoZWR1bGVfcG9zc2libGVfZWZmZWN0X3NlbGZfaW52YWxpZGF0aW9uKFxuXHRcdFx0XHRcdHVudHJhY2tlZF93cml0ZXNbaV0sXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbilcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBhcmUgcmV0dXJuaW5nIHRvIGFuIHByZXZpb3VzIHJlYWN0aW9uIHRoZW5cblx0XHQvLyB3ZSBuZWVkIHRvIGluY3JlbWVudCB0aGUgcmVhZCB2ZXJzaW9uIHRvIGVuc3VyZSB0aGF0XG5cdFx0Ly8gYW55IGRlcGVuZGVuY2llcyBpbiB0aGlzIHJlYWN0aW9uIGFyZW4ndCBtYXJrZWQgd2l0aFxuXHRcdC8vIHRoZSBzYW1lIHZlcnNpb25cblx0XHRpZiAocHJldmlvdXNfcmVhY3Rpb24gIT09IG51bGwgJiYgcHJldmlvdXNfcmVhY3Rpb24gIT09IHJlYWN0aW9uKSB7XG5cdFx0XHRyZWFkX3ZlcnNpb24rKztcblxuXHRcdFx0aWYgKHVudHJhY2tlZF93cml0ZXMgIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzID0gdW50cmFja2VkX3dyaXRlcztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzLnB1c2goLi4uLyoqIEB0eXBlIHtTb3VyY2VbXX0gKi8gKHVudHJhY2tlZF93cml0ZXMpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgocmVhY3Rpb24uZiAmIEVSUk9SX1ZBTFVFKSAhPT0gMCkge1xuXHRcdFx0cmVhY3Rpb24uZiBePSBFUlJPUl9WQUxVRTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiBoYW5kbGVfZXJyb3IoZXJyb3IpO1xuXHR9IGZpbmFsbHkge1xuXHRcdHJlYWN0aW9uLmYgXj0gUkVBQ1RJT05fSVNfVVBEQVRJTkc7XG5cdFx0bmV3X2RlcHMgPSBwcmV2aW91c19kZXBzO1xuXHRcdHNraXBwZWRfZGVwcyA9IHByZXZpb3VzX3NraXBwZWRfZGVwcztcblx0XHR1bnRyYWNrZWRfd3JpdGVzID0gcHJldmlvdXNfdW50cmFja2VkX3dyaXRlcztcblx0XHRhY3RpdmVfcmVhY3Rpb24gPSBwcmV2aW91c19yZWFjdGlvbjtcblx0XHRjdXJyZW50X3NvdXJjZXMgPSBwcmV2aW91c19zb3VyY2VzO1xuXHRcdHNldF9jb21wb25lbnRfY29udGV4dChwcmV2aW91c19jb21wb25lbnRfY29udGV4dCk7XG5cdFx0dW50cmFja2luZyA9IHByZXZpb3VzX3VudHJhY2tpbmc7XG5cdFx0dXBkYXRlX3ZlcnNpb24gPSBwcmV2aW91c191cGRhdGVfdmVyc2lvbjtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1JlYWN0aW9ufSBzaWduYWxcbiAqIEBwYXJhbSB7VmFsdWU8Vj59IGRlcGVuZGVuY3lcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiByZW1vdmVfcmVhY3Rpb24oc2lnbmFsLCBkZXBlbmRlbmN5KSB7XG5cdGxldCByZWFjdGlvbnMgPSBkZXBlbmRlbmN5LnJlYWN0aW9ucztcblx0aWYgKHJlYWN0aW9ucyAhPT0gbnVsbCkge1xuXHRcdHZhciBpbmRleCA9IGluZGV4X29mLmNhbGwocmVhY3Rpb25zLCBzaWduYWwpO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHZhciBuZXdfbGVuZ3RoID0gcmVhY3Rpb25zLmxlbmd0aCAtIDE7XG5cdFx0XHRpZiAobmV3X2xlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRyZWFjdGlvbnMgPSBkZXBlbmRlbmN5LnJlYWN0aW9ucyA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBTd2FwIHdpdGggbGFzdCBlbGVtZW50IGFuZCB0aGVuIHJlbW92ZS5cblx0XHRcdFx0cmVhY3Rpb25zW2luZGV4XSA9IHJlYWN0aW9uc1tuZXdfbGVuZ3RoXTtcblx0XHRcdFx0cmVhY3Rpb25zLnBvcCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIElmIHRoZSBkZXJpdmVkIGhhcyBubyByZWFjdGlvbnMsIHRoZW4gd2UgY2FuIGRpc2Nvbm5lY3QgaXQgZnJvbSB0aGUgZ3JhcGgsXG5cdC8vIGFsbG93aW5nIGl0IHRvIGVpdGhlciByZWNvbm5lY3QgaW4gdGhlIGZ1dHVyZSwgb3IgYmUgR0MnZCBieSB0aGUgVk0uXG5cdGlmIChcblx0XHRyZWFjdGlvbnMgPT09IG51bGwgJiZcblx0XHQoZGVwZW5kZW5jeS5mICYgREVSSVZFRCkgIT09IDAgJiZcblx0XHQvLyBEZXN0cm95aW5nIGEgY2hpbGQgZWZmZWN0IHdoaWxlIHVwZGF0aW5nIGEgcGFyZW50IGVmZmVjdCBjYW4gY2F1c2UgYSBkZXBlbmRlbmN5IHRvIGFwcGVhclxuXHRcdC8vIHRvIGJlIHVudXNlZCwgd2hlbiBpbiBmYWN0IGl0IGlzIHVzZWQgYnkgdGhlIGN1cnJlbnRseS11cGRhdGluZyBwYXJlbnQuIENoZWNraW5nIGBuZXdfZGVwc2Bcblx0XHQvLyBhbGxvd3MgdXMgdG8gc2tpcCB0aGUgZXhwZW5zaXZlIHdvcmsgb2YgZGlzY29ubmVjdGluZyBhbmQgaW1tZWRpYXRlbHkgcmVjb25uZWN0aW5nIGl0XG5cdFx0KG5ld19kZXBzID09PSBudWxsIHx8ICFuZXdfZGVwcy5pbmNsdWRlcyhkZXBlbmRlbmN5KSlcblx0KSB7XG5cdFx0dmFyIGRlcml2ZWQgPSAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXBlbmRlbmN5KTtcblxuXHRcdC8vIElmIHdlIGFyZSB3b3JraW5nIHdpdGggYSBkZXJpdmVkIHRoYXQgaXMgb3duZWQgYnkgYW4gZWZmZWN0LCB0aGVuIG1hcmsgaXQgYXMgYmVpbmdcblx0XHQvLyBkaXNjb25uZWN0ZWQgYW5kIHJlbW92ZSB0aGUgbWFyayBmbGFnLCBhcyBpdCBjYW5ub3QgYmUgcmVsaWFibHkgcmVtb3ZlZCBvdGhlcndpc2Vcblx0XHRpZiAoKGRlcml2ZWQuZiAmIENPTk5FQ1RFRCkgIT09IDApIHtcblx0XHRcdGRlcml2ZWQuZiBePSBDT05ORUNURUQ7XG5cdFx0XHRkZXJpdmVkLmYgJj0gfldBU19NQVJLRUQ7XG5cdFx0fVxuXG5cdFx0dXBkYXRlX2Rlcml2ZWRfc3RhdHVzKGRlcml2ZWQpO1xuXG5cdFx0Ly8gRGlzY29ubmVjdCBhbnkgcmVhY3Rpb25zIG93bmVkIGJ5IHRoaXMgcmVhY3Rpb25cblx0XHRkZXN0cm95X2Rlcml2ZWRfZWZmZWN0cyhkZXJpdmVkKTtcblx0XHRyZW1vdmVfcmVhY3Rpb25zKGRlcml2ZWQsIDApO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWFjdGlvbn0gc2lnbmFsXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRfaW5kZXhcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlX3JlYWN0aW9ucyhzaWduYWwsIHN0YXJ0X2luZGV4KSB7XG5cdHZhciBkZXBlbmRlbmNpZXMgPSBzaWduYWwuZGVwcztcblx0aWYgKGRlcGVuZGVuY2llcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdGZvciAodmFyIGkgPSBzdGFydF9pbmRleDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuXHRcdHJlbW92ZV9yZWFjdGlvbihzaWduYWwsIGRlcGVuZGVuY2llc1tpXSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9lZmZlY3QoZWZmZWN0KSB7XG5cdHZhciBmbGFncyA9IGVmZmVjdC5mO1xuXG5cdGlmICgoZmxhZ3MgJiBERVNUUk9ZRUQpICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBDTEVBTik7XG5cblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdHZhciB3YXNfdXBkYXRpbmdfZWZmZWN0ID0gaXNfdXBkYXRpbmdfZWZmZWN0O1xuXG5cdGFjdGl2ZV9lZmZlY3QgPSBlZmZlY3Q7XG5cdGlzX3VwZGF0aW5nX2VmZmVjdCA9IHRydWU7XG5cblx0aWYgKERFVikge1xuXHRcdHZhciBwcmV2aW91c19jb21wb25lbnRfZm4gPSBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb247XG5cdFx0c2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbihlZmZlY3QuY29tcG9uZW50X2Z1bmN0aW9uKTtcblx0XHR2YXIgcHJldmlvdXNfc3RhY2sgPSAvKiogQHR5cGUge2FueX0gKi8gKGRldl9zdGFjayk7XG5cdFx0Ly8gb25seSBibG9jayBlZmZlY3RzIGhhdmUgYSBkZXYgc3RhY2ssIGtlZXAgdGhlIGN1cnJlbnQgb25lIG90aGVyd2lzZVxuXHRcdHNldF9kZXZfc3RhY2soZWZmZWN0LmRldl9zdGFjayA/PyBkZXZfc3RhY2spO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRpZiAoKGZsYWdzICYgKEJMT0NLX0VGRkVDVCB8IE1BTkFHRURfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdGRlc3Ryb3lfYmxvY2tfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCk7XG5cdFx0fVxuXG5cdFx0ZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd24oZWZmZWN0KTtcblx0XHR2YXIgdGVhcmRvd24gPSB1cGRhdGVfcmVhY3Rpb24oZWZmZWN0KTtcblx0XHRlZmZlY3QudGVhcmRvd24gPSB0eXBlb2YgdGVhcmRvd24gPT09ICdmdW5jdGlvbicgPyB0ZWFyZG93biA6IG51bGw7XG5cdFx0ZWZmZWN0Lnd2ID0gd3JpdGVfdmVyc2lvbjtcblxuXHRcdC8vIEluIERFViwgaW5jcmVtZW50IHZlcnNpb25zIG9mIGFueSBzb3VyY2VzIHRoYXQgd2VyZSB3cml0dGVuIHRvIGR1cmluZyB0aGUgZWZmZWN0LFxuXHRcdC8vIHNvIHRoYXQgdGhleSBhcmUgY29ycmVjdGx5IG1hcmtlZCBhcyBkaXJ0eSB3aGVuIHRoZSBlZmZlY3QgcmUtcnVuc1xuXHRcdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcgJiYgKGVmZmVjdC5mICYgRElSVFkpICE9PSAwICYmIGVmZmVjdC5kZXBzICE9PSBudWxsKSB7XG5cdFx0XHRmb3IgKHZhciBkZXAgb2YgZWZmZWN0LmRlcHMpIHtcblx0XHRcdFx0aWYgKGRlcC5zZXRfZHVyaW5nX2VmZmVjdCkge1xuXHRcdFx0XHRcdGRlcC53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cdFx0XHRcdFx0ZGVwLnNldF9kdXJpbmdfZWZmZWN0ID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfdXBkYXRpbmdfZWZmZWN0ID0gd2FzX3VwZGF0aW5nX2VmZmVjdDtcblx0XHRhY3RpdmVfZWZmZWN0ID0gcHJldmlvdXNfZWZmZWN0O1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0c2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbihwcmV2aW91c19jb21wb25lbnRfZm4pO1xuXHRcdFx0c2V0X2Rldl9zdGFjayhwcmV2aW91c19zdGFjayk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFueSBwZW5kaW5nIHN0YXRlIGNoYW5nZXMgaGF2ZSBiZWVuIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRpY2soKSB7XG5cdGlmIChhc3luY19tb2RlX2ZsYWcpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGYpID0+IHtcblx0XHRcdC8vIFJhY2UgdGhlbSBhZ2FpbnN0IGVhY2ggb3RoZXIgLSBpbiBhbG1vc3QgYWxsIGNhc2VzIHJlcXVlc3RBbmltYXRpb25GcmFtZSB3aWxsIGZpcmUgZmlyc3QsXG5cdFx0XHQvLyBidXQgZS5nLiBpbiBjYXNlIHRoZSB3aW5kb3cgaXMgbm90IGZvY3VzZWQgb3IgYSB2aWV3IHRyYW5zaXRpb24gaGFwcGVucywgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0XHQvLyB3aWxsIGJlIGRlbGF5ZWQgYW5kIHNldFRpbWVvdXQgaGVscHMgdXMgcmVzb2x2ZSBmYXN0IGVub3VnaCBpbiB0aGF0IGNhc2Vcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmKCkpO1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiBmKCkpO1xuXHRcdH0pO1xuXHR9XG5cblx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0Ly8gQnkgY2FsbGluZyBmbHVzaFN5bmMgd2UgZ3VhcmFudGVlIHRoYXQgYW55IHBlbmRpbmcgc3RhdGUgY2hhbmdlcyBhcmUgYXBwbGllZCBhZnRlciBvbmUgdGljay5cblx0Ly8gVE9ETyBsb29rIGludG8gd2hldGhlciB3ZSBjYW4gbWFrZSBmbHVzaGluZyBzdWJzZXF1ZW50IHVwZGF0ZXMgc3luY2hyb25vdXNseSBpbiB0aGUgZnV0dXJlLlxuXHRmbHVzaFN5bmMoKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgYW55IHN0YXRlIGNoYW5nZXMsIGFuZCBhc3luY2hyb25vdXMgd29yayByZXN1bHRpbmcgZnJvbSB0aGVtLFxuICogaGF2ZSByZXNvbHZlZCBhbmQgdGhlIERPTSBoYXMgYmVlbiB1cGRhdGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqIEBzaW5jZSA1LjM2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXR0bGVkKCkge1xuXHRyZXR1cm4gQmF0Y2guZW5zdXJlKCkuc2V0dGxlZCgpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1ZhbHVlPFY+fSBzaWduYWxcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHNpZ25hbCkge1xuXHR2YXIgZmxhZ3MgPSBzaWduYWwuZjtcblx0dmFyIGlzX2Rlcml2ZWQgPSAoZmxhZ3MgJiBERVJJVkVEKSAhPT0gMDtcblxuXHRjYXB0dXJlZF9zaWduYWxzPy5hZGQoc2lnbmFsKTtcblxuXHQvLyBSZWdpc3RlciB0aGUgZGVwZW5kZW5jeSBvbiB0aGUgY3VycmVudCByZWFjdGlvbiBzaWduYWwuXG5cdGlmIChhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiYgIXVudHJhY2tpbmcpIHtcblx0XHQvLyBpZiB3ZSdyZSBpbiBhIGRlcml2ZWQgdGhhdCBpcyBiZWluZyByZWFkIGluc2lkZSBhbiBfYXN5bmNfIGRlcml2ZWQsXG5cdFx0Ly8gaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBlZmZlY3Qgd2FzIGFscmVhZHkgZGVzdHJveWVkLiBJbiB0aGlzIGNhc2UsXG5cdFx0Ly8gd2UgZG9uJ3QgYWRkIHRoZSBkZXBlbmRlbmN5LCBiZWNhdXNlIHRoYXQgd291bGQgY3JlYXRlIGEgbWVtb3J5IGxlYWtcblx0XHR2YXIgZGVzdHJveWVkID0gYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCAmJiAoYWN0aXZlX2VmZmVjdC5mICYgREVTVFJPWUVEKSAhPT0gMDtcblxuXHRcdGlmICghZGVzdHJveWVkICYmICFjdXJyZW50X3NvdXJjZXM/LmluY2x1ZGVzKHNpZ25hbCkpIHtcblx0XHRcdHZhciBkZXBzID0gYWN0aXZlX3JlYWN0aW9uLmRlcHM7XG5cblx0XHRcdGlmICgoYWN0aXZlX3JlYWN0aW9uLmYgJiBSRUFDVElPTl9JU19VUERBVElORykgIT09IDApIHtcblx0XHRcdFx0Ly8gd2UncmUgaW4gdGhlIGVmZmVjdCBpbml0L3VwZGF0ZSBjeWNsZVxuXHRcdFx0XHRpZiAoc2lnbmFsLnJ2IDwgcmVhZF92ZXJzaW9uKSB7XG5cdFx0XHRcdFx0c2lnbmFsLnJ2ID0gcmVhZF92ZXJzaW9uO1xuXG5cdFx0XHRcdFx0Ly8gSWYgdGhlIHNpZ25hbCBpcyBhY2Nlc3NpbmcgdGhlIHNhbWUgZGVwZW5kZW5jaWVzIGluIHRoZSBzYW1lXG5cdFx0XHRcdFx0Ly8gb3JkZXIgYXMgaXQgZGlkIGxhc3QgdGltZSwgaW5jcmVtZW50IGBza2lwcGVkX2RlcHNgXG5cdFx0XHRcdFx0Ly8gcmF0aGVyIHRoYW4gdXBkYXRpbmcgYG5ld19kZXBzYCwgd2hpY2ggY3JlYXRlcyBHQyBjb3N0XG5cdFx0XHRcdFx0aWYgKG5ld19kZXBzID09PSBudWxsICYmIGRlcHMgIT09IG51bGwgJiYgZGVwc1tza2lwcGVkX2RlcHNdID09PSBzaWduYWwpIHtcblx0XHRcdFx0XHRcdHNraXBwZWRfZGVwcysrO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobmV3X2RlcHMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdG5ld19kZXBzID0gW3NpZ25hbF07XG5cdFx0XHRcdFx0fSBlbHNlIGlmICghbmV3X2RlcHMuaW5jbHVkZXMoc2lnbmFsKSkge1xuXHRcdFx0XHRcdFx0bmV3X2RlcHMucHVzaChzaWduYWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gd2UncmUgYWRkaW5nIGEgZGVwZW5kZW5jeSBvdXRzaWRlIHRoZSBpbml0L3VwZGF0ZSBjeWNsZVxuXHRcdFx0XHQvLyAoaS5lLiBhZnRlciBhbiBgYXdhaXRgKVxuXHRcdFx0XHQoYWN0aXZlX3JlYWN0aW9uLmRlcHMgPz89IFtdKS5wdXNoKHNpZ25hbCk7XG5cblx0XHRcdFx0dmFyIHJlYWN0aW9ucyA9IHNpZ25hbC5yZWFjdGlvbnM7XG5cblx0XHRcdFx0aWYgKHJlYWN0aW9ucyA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHNpZ25hbC5yZWFjdGlvbnMgPSBbYWN0aXZlX3JlYWN0aW9uXTtcblx0XHRcdFx0fSBlbHNlIGlmICghcmVhY3Rpb25zLmluY2x1ZGVzKGFjdGl2ZV9yZWFjdGlvbikpIHtcblx0XHRcdFx0XHRyZWFjdGlvbnMucHVzaChhY3RpdmVfcmVhY3Rpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdC8vIFRPRE8gcmVpbnN0YXRlIHRoaXMsIGJ1dCBtYWtlIGl0IGFjdHVhbGx5IHdvcmtcblx0XHQvLyBpZiAoY3VycmVudF9hc3luY19lZmZlY3QpIHtcblx0XHQvLyBcdHZhciB0cmFja2luZyA9IChjdXJyZW50X2FzeW5jX2VmZmVjdC5mICYgUkVBQ1RJT05fSVNfVVBEQVRJTkcpICE9PSAwO1xuXHRcdC8vIFx0dmFyIHdhc19yZWFkID0gY3VycmVudF9hc3luY19lZmZlY3QuZGVwcz8uaW5jbHVkZXMoc2lnbmFsKTtcblxuXHRcdC8vIFx0aWYgKCF0cmFja2luZyAmJiAhdW50cmFja2luZyAmJiAhd2FzX3JlYWQpIHtcblx0XHQvLyBcdFx0dy5hd2FpdF9yZWFjdGl2aXR5X2xvc3MoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzaWduYWwubGFiZWwpKTtcblxuXHRcdC8vIFx0XHR2YXIgdHJhY2UgPSBnZXRfZXJyb3IoJ3RyYWNlZCBhdCcpO1xuXHRcdC8vIFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRcdC8vIFx0XHRpZiAodHJhY2UpIGNvbnNvbGUud2Fybih0cmFjZSk7XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfVxuXG5cdFx0cmVjZW50X2FzeW5jX2Rlcml2ZWRzLmRlbGV0ZShzaWduYWwpO1xuXG5cdFx0aWYgKFxuXHRcdFx0dHJhY2luZ19tb2RlX2ZsYWcgJiZcblx0XHRcdCF1bnRyYWNraW5nICYmXG5cdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zICE9PSBudWxsICYmXG5cdFx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiZcblx0XHRcdHRyYWNpbmdfZXhwcmVzc2lvbnMucmVhY3Rpb24gPT09IGFjdGl2ZV9yZWFjdGlvblxuXHRcdCkge1xuXHRcdFx0Ly8gVXNlZCB3aGVuIG1hcHBpbmcgc3RhdGUgYmV0d2VlbiBzcGVjaWFsIGJsb2NrcyBsaWtlIGBlYWNoYFxuXHRcdFx0aWYgKHNpZ25hbC50cmFjZSkge1xuXHRcdFx0XHRzaWduYWwudHJhY2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciB0cmFjZSA9IGdldF9lcnJvcigndHJhY2VkIGF0Jyk7XG5cblx0XHRcdFx0aWYgKHRyYWNlKSB7XG5cdFx0XHRcdFx0dmFyIGVudHJ5ID0gdHJhY2luZ19leHByZXNzaW9ucy5lbnRyaWVzLmdldChzaWduYWwpO1xuXG5cdFx0XHRcdFx0aWYgKGVudHJ5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGVudHJ5ID0geyB0cmFjZXM6IFtdIH07XG5cdFx0XHRcdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zLmVudHJpZXMuc2V0KHNpZ25hbCwgZW50cnkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBsYXN0ID0gZW50cnkudHJhY2VzW2VudHJ5LnRyYWNlcy5sZW5ndGggLSAxXTtcblxuXHRcdFx0XHRcdC8vIHRyYWNlcyBjYW4gYmUgZHVwbGljYXRlZCwgZS5nLiBieSBgc25hcHNob3RgIGludm9raW5nIGJvdGhcblx0XHRcdFx0XHQvLyBib3RoIGBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIGFuZCBgZ2V0YCB0cmFwcyBhdCBvbmNlXG5cdFx0XHRcdFx0aWYgKHRyYWNlLnN0YWNrICE9PSBsYXN0Py5zdGFjaykge1xuXHRcdFx0XHRcdFx0ZW50cnkudHJhY2VzLnB1c2godHJhY2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCAmJiBvbGRfdmFsdWVzLmhhcyhzaWduYWwpKSB7XG5cdFx0cmV0dXJuIG9sZF92YWx1ZXMuZ2V0KHNpZ25hbCk7XG5cdH1cblxuXHRpZiAoaXNfZGVyaXZlZCkge1xuXHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKTtcblxuXHRcdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdFx0dmFyIHZhbHVlID0gZGVyaXZlZC52O1xuXG5cdFx0XHQvLyBpZiB0aGUgZGVyaXZlZCBpcyBkaXJ0eSBhbmQgaGFzIHJlYWN0aW9ucywgb3IgZGVwZW5kcyBvbiB0aGUgdmFsdWVzIHRoYXQganVzdCBjaGFuZ2VkLCByZS1leGVjdXRlXG5cdFx0XHQvLyAoYSBkZXJpdmVkIGNhbiBiZSBtYXliZV9kaXJ0eSBkdWUgdG8gdGhlIGVmZmVjdCBkZXN0cm95IHJlbW92aW5nIGl0cyBsYXN0IHJlYWN0aW9uKVxuXHRcdFx0aWYgKFxuXHRcdFx0XHQoKGRlcml2ZWQuZiAmIENMRUFOKSA9PT0gMCAmJiBkZXJpdmVkLnJlYWN0aW9ucyAhPT0gbnVsbCkgfHxcblx0XHRcdFx0ZGVwZW5kc19vbl9vbGRfdmFsdWVzKGRlcml2ZWQpXG5cdFx0XHQpIHtcblx0XHRcdFx0dmFsdWUgPSBleGVjdXRlX2Rlcml2ZWQoZGVyaXZlZCk7XG5cdFx0XHR9XG5cblx0XHRcdG9sZF92YWx1ZXMuc2V0KGRlcml2ZWQsIHZhbHVlKTtcblxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIGNvbm5lY3QgZGlzY29ubmVjdGVkIGRlcml2ZWRzIGlmIHdlIGFyZSByZWFkaW5nIHRoZW0gaW5zaWRlIGFuIGVmZmVjdCxcblx0XHQvLyBvciBpbnNpZGUgYW5vdGhlciBkZXJpdmVkIHRoYXQgaXMgYWxyZWFkeSBjb25uZWN0ZWRcblx0XHR2YXIgc2hvdWxkX2Nvbm5lY3QgPVxuXHRcdFx0KGRlcml2ZWQuZiAmIENPTk5FQ1RFRCkgPT09IDAgJiZcblx0XHRcdCF1bnRyYWNraW5nICYmXG5cdFx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiZcblx0XHRcdChpc191cGRhdGluZ19lZmZlY3QgfHwgKGFjdGl2ZV9yZWFjdGlvbi5mICYgQ09OTkVDVEVEKSAhPT0gMCk7XG5cblx0XHR2YXIgaXNfbmV3ID0gZGVyaXZlZC5kZXBzID09PSBudWxsO1xuXG5cdFx0aWYgKGlzX2RpcnR5KGRlcml2ZWQpKSB7XG5cdFx0XHRpZiAoc2hvdWxkX2Nvbm5lY3QpIHtcblx0XHRcdFx0Ly8gc2V0IHRoZSBmbGFnIGJlZm9yZSBgdXBkYXRlX2Rlcml2ZWRgLCBzbyB0aGF0IHRoZSBkZXJpdmVkXG5cdFx0XHRcdC8vIGlzIGFkZGVkIGFzIGEgcmVhY3Rpb24gdG8gaXRzIGRlcGVuZGVuY2llc1xuXHRcdFx0XHRkZXJpdmVkLmYgfD0gQ09OTkVDVEVEO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGVfZGVyaXZlZChkZXJpdmVkKTtcblx0XHR9XG5cblx0XHRpZiAoc2hvdWxkX2Nvbm5lY3QgJiYgIWlzX25ldykge1xuXHRcdFx0cmVjb25uZWN0KGRlcml2ZWQpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChiYXRjaF92YWx1ZXM/LmhhcyhzaWduYWwpKSB7XG5cdFx0cmV0dXJuIGJhdGNoX3ZhbHVlcy5nZXQoc2lnbmFsKTtcblx0fVxuXG5cdGlmICgoc2lnbmFsLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHR0aHJvdyBzaWduYWwudjtcblx0fVxuXG5cdHJldHVybiBzaWduYWwudjtcbn1cblxuLyoqXG4gKiAoUmUpY29ubmVjdCBhIGRpc2Nvbm5lY3RlZCBkZXJpdmVkLCBzbyB0aGF0IGl0IGlzIG5vdGlmaWVkXG4gKiBvZiBjaGFuZ2VzIGluIGBtYXJrX3JlYWN0aW9uc2BcbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICovXG5mdW5jdGlvbiByZWNvbm5lY3QoZGVyaXZlZCkge1xuXHRpZiAoZGVyaXZlZC5kZXBzID09PSBudWxsKSByZXR1cm47XG5cblx0ZGVyaXZlZC5mIHw9IENPTk5FQ1RFRDtcblxuXHRmb3IgKGNvbnN0IGRlcCBvZiBkZXJpdmVkLmRlcHMpIHtcblx0XHQoZGVwLnJlYWN0aW9ucyA/Pz0gW10pLnB1c2goZGVyaXZlZCk7XG5cblx0XHRpZiAoKGRlcC5mICYgREVSSVZFRCkgIT09IDAgJiYgKGRlcC5mICYgQ09OTkVDVEVEKSA9PT0gMCkge1xuXHRcdFx0cmVjb25uZWN0KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCkpO1xuXHRcdH1cblx0fVxufVxuXG4vKiogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkICovXG5mdW5jdGlvbiBkZXBlbmRzX29uX29sZF92YWx1ZXMoZGVyaXZlZCkge1xuXHRpZiAoZGVyaXZlZC52ID09PSBVTklOSVRJQUxJWkVEKSByZXR1cm4gdHJ1ZTsgLy8gd2UgZG9uJ3Qga25vdywgc28gYXNzdW1lIHRoZSB3b3JzdFxuXHRpZiAoZGVyaXZlZC5kZXBzID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cblx0Zm9yIChjb25zdCBkZXAgb2YgZGVyaXZlZC5kZXBzKSB7XG5cdFx0aWYgKG9sZF92YWx1ZXMuaGFzKGRlcCkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICgoZGVwLmYgJiBERVJJVkVEKSAhPT0gMCAmJiBkZXBlbmRzX29uX29sZF92YWx1ZXMoLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoZGVwKSkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBMaWtlIGBnZXRgLCBidXQgY2hlY2tzIGZvciBgdW5kZWZpbmVkYC4gVXNlZCBmb3IgYHZhcmAgZGVjbGFyYXRpb25zIGJlY2F1c2UgdGhleSBjYW4gYmUgYWNjZXNzZWQgYmVmb3JlIGJlaW5nIGRlY2xhcmVkXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWYWx1ZTxWPiB8IHVuZGVmaW5lZH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7ViB8IHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfZ2V0KHNpZ25hbCkge1xuXHRyZXR1cm4gc2lnbmFsICYmIGdldChzaWduYWwpO1xufVxuXG4vKipcbiAqIFdoZW4gdXNlZCBpbnNpZGUgYSBbYCRkZXJpdmVkYF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRkZXJpdmVkKSBvciBbYCRlZmZlY3RgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCksXG4gKiBhbnkgc3RhdGUgcmVhZCBpbnNpZGUgYGZuYCB3aWxsIG5vdCBiZSB0cmVhdGVkIGFzIGEgZGVwZW5kZW5jeS5cbiAqXG4gKiBgYGB0c1xuICogJGVmZmVjdCgoKSA9PiB7XG4gKiAgIC8vIHRoaXMgd2lsbCBydW4gd2hlbiBgZGF0YWAgY2hhbmdlcywgYnV0IG5vdCB3aGVuIGB0aW1lYCBjaGFuZ2VzXG4gKiAgIHNhdmUoZGF0YSwge1xuICogICAgIHRpbWVzdGFtcDogdW50cmFjaygoKSA9PiB0aW1lKVxuICogICB9KTtcbiAqIH0pO1xuICogYGBgXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnRyYWNrKGZuKSB7XG5cdHZhciBwcmV2aW91c191bnRyYWNraW5nID0gdW50cmFja2luZztcblx0dHJ5IHtcblx0XHR1bnRyYWNraW5nID0gdHJ1ZTtcblx0XHRyZXR1cm4gZm4oKTtcblx0fSBmaW5hbGx5IHtcblx0XHR1bnRyYWNraW5nID0gcHJldmlvdXNfdW50cmFja2luZztcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj59IG9ialxuICogQHBhcmFtIHtBcnJheTxzdHJpbmcgfCBzeW1ib2w+fSBrZXlzXG4gKiBAcmV0dXJucyB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2Zyb21fb2JqZWN0KG9iaiwga2V5cykge1xuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+fSAqL1xuXHR2YXIgcmVzdWx0ID0ge307XG5cblx0Zm9yICh2YXIga2V5IGluIG9iaikge1xuXHRcdGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSB7XG5cdFx0XHRyZXN1bHRba2V5XSA9IG9ialtrZXldO1xuXHRcdH1cblx0fVxuXG5cdGZvciAodmFyIHN5bWJvbCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iaikpIHtcblx0XHRpZiAoT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqLCBzeW1ib2wpICYmICFrZXlzLmluY2x1ZGVzKHN5bWJvbCkpIHtcblx0XHRcdHJlc3VsdFtzeW1ib2xdID0gb2JqW3N5bWJvbF07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBQb3NzaWJseSB0cmF2ZXJzZSBhbiBvYmplY3QgYW5kIHJlYWQgYWxsIGl0cyBwcm9wZXJ0aWVzIHNvIHRoYXQgdGhleSdyZSBhbGwgcmVhY3RpdmUgaW4gY2FzZSB0aGlzIGlzIGAkc3RhdGVgLlxuICogRG9lcyBvbmx5IGNoZWNrIGZpcnN0IGxldmVsIG9mIGFuIG9iamVjdCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoaGV1cmlzdGljIHNob3VsZCBiZSBnb29kIGZvciA5OSUgb2YgYWxsIGNhc2VzKS5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwX3JlYWRfc3RhdGUodmFsdWUpIHtcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgIXZhbHVlIHx8IHZhbHVlIGluc3RhbmNlb2YgRXZlbnRUYXJnZXQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoU1RBVEVfU1lNQk9MIGluIHZhbHVlKSB7XG5cdFx0ZGVlcF9yZWFkKHZhbHVlKTtcblx0fSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdGNvbnN0IHByb3AgPSB2YWx1ZVtrZXldO1xuXHRcdFx0aWYgKHR5cGVvZiBwcm9wID09PSAnb2JqZWN0JyAmJiBwcm9wICYmIFNUQVRFX1NZTUJPTCBpbiBwcm9wKSB7XG5cdFx0XHRcdGRlZXBfcmVhZChwcm9wKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBEZWVwbHkgdHJhdmVyc2UgYW4gb2JqZWN0IGFuZCByZWFkIGFsbCBpdHMgcHJvcGVydGllc1xuICogc28gdGhhdCB0aGV5J3JlIGFsbCByZWFjdGl2ZSBpbiBjYXNlIHRoaXMgaXMgYCRzdGF0ZWBcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtTZXQ8YW55Pn0gdmlzaXRlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwX3JlYWQodmFsdWUsIHZpc2l0ZWQgPSBuZXcgU2V0KCkpIHtcblx0aWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdC8vIFdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2UgRE9NIGVsZW1lbnRzXG5cdFx0ISh2YWx1ZSBpbnN0YW5jZW9mIEV2ZW50VGFyZ2V0KSAmJlxuXHRcdCF2aXNpdGVkLmhhcyh2YWx1ZSlcblx0KSB7XG5cdFx0dmlzaXRlZC5hZGQodmFsdWUpO1xuXHRcdC8vIFdoZW4gd29ya2luZyB3aXRoIGEgcG9zc2libGUgU3ZlbHRlRGF0ZSwgdGhpc1xuXHRcdC8vIHdpbGwgZW5zdXJlIHdlIGNhcHR1cmUgY2hhbmdlcyB0byBpdC5cblx0XHRpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdFx0XHR2YWx1ZS5nZXRUaW1lKCk7XG5cdFx0fVxuXHRcdGZvciAobGV0IGtleSBpbiB2YWx1ZSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGVlcF9yZWFkKHZhbHVlW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjb250aW51ZVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBwcm90byA9IGdldF9wcm90b3R5cGVfb2YodmFsdWUpO1xuXHRcdGlmIChcblx0XHRcdHByb3RvICE9PSBPYmplY3QucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gQXJyYXkucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gTWFwLnByb3RvdHlwZSAmJlxuXHRcdFx0cHJvdG8gIT09IFNldC5wcm90b3R5cGUgJiZcblx0XHRcdHByb3RvICE9PSBEYXRlLnByb3RvdHlwZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRvcnMgPSBnZXRfZGVzY3JpcHRvcnMocHJvdG8pO1xuXHRcdFx0Zm9yIChsZXQga2V5IGluIGRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdGNvbnN0IGdldCA9IGRlc2NyaXB0b3JzW2tleV0uZ2V0O1xuXHRcdFx0XHRpZiAoZ2V0KSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGdldC5jYWxsKHZhbHVlKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHQvLyBjb250aW51ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwgImNvbnN0IHJlZ2V4X3JldHVybl9jaGFyYWN0ZXJzID0gL1xcci9nO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKHN0cikge1xuXHRzdHIgPSBzdHIucmVwbGFjZShyZWdleF9yZXR1cm5fY2hhcmFjdGVycywgJycpO1xuXHRsZXQgaGFzaCA9IDUzODE7XG5cdGxldCBpID0gc3RyLmxlbmd0aDtcblxuXHR3aGlsZSAoaS0tKSBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcblx0cmV0dXJuIChoYXNoID4+PiAwKS50b1N0cmluZygzNik7XG59XG5cbmNvbnN0IFZPSURfRUxFTUVOVF9OQU1FUyA9IFtcblx0J2FyZWEnLFxuXHQnYmFzZScsXG5cdCdicicsXG5cdCdjb2wnLFxuXHQnY29tbWFuZCcsXG5cdCdlbWJlZCcsXG5cdCdocicsXG5cdCdpbWcnLFxuXHQnaW5wdXQnLFxuXHQna2V5Z2VuJyxcblx0J2xpbmsnLFxuXHQnbWV0YScsXG5cdCdwYXJhbScsXG5cdCdzb3VyY2UnLFxuXHQndHJhY2snLFxuXHQnd2JyJ1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgbmFtZWAgaXMgb2YgYSB2b2lkIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc192b2lkKG5hbWUpIHtcblx0cmV0dXJuIFZPSURfRUxFTUVOVF9OQU1FUy5pbmNsdWRlcyhuYW1lKSB8fCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICchZG9jdHlwZSc7XG59XG5cbmNvbnN0IFJFU0VSVkVEX1dPUkRTID0gW1xuXHQnYXJndW1lbnRzJyxcblx0J2F3YWl0Jyxcblx0J2JyZWFrJyxcblx0J2Nhc2UnLFxuXHQnY2F0Y2gnLFxuXHQnY2xhc3MnLFxuXHQnY29uc3QnLFxuXHQnY29udGludWUnLFxuXHQnZGVidWdnZXInLFxuXHQnZGVmYXVsdCcsXG5cdCdkZWxldGUnLFxuXHQnZG8nLFxuXHQnZWxzZScsXG5cdCdlbnVtJyxcblx0J2V2YWwnLFxuXHQnZXhwb3J0Jyxcblx0J2V4dGVuZHMnLFxuXHQnZmFsc2UnLFxuXHQnZmluYWxseScsXG5cdCdmb3InLFxuXHQnZnVuY3Rpb24nLFxuXHQnaWYnLFxuXHQnaW1wbGVtZW50cycsXG5cdCdpbXBvcnQnLFxuXHQnaW4nLFxuXHQnaW5zdGFuY2VvZicsXG5cdCdpbnRlcmZhY2UnLFxuXHQnbGV0Jyxcblx0J25ldycsXG5cdCdudWxsJyxcblx0J3BhY2thZ2UnLFxuXHQncHJpdmF0ZScsXG5cdCdwcm90ZWN0ZWQnLFxuXHQncHVibGljJyxcblx0J3JldHVybicsXG5cdCdzdGF0aWMnLFxuXHQnc3VwZXInLFxuXHQnc3dpdGNoJyxcblx0J3RoaXMnLFxuXHQndGhyb3cnLFxuXHQndHJ1ZScsXG5cdCd0cnknLFxuXHQndHlwZW9mJyxcblx0J3ZhcicsXG5cdCd2b2lkJyxcblx0J3doaWxlJyxcblx0J3dpdGgnLFxuXHQneWllbGQnXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGB3b3JkYCBpcyBhIHJlc2VydmVkIEphdmFTY3JpcHQga2V5d29yZFxuICogQHBhcmFtIHtzdHJpbmd9IHdvcmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Jlc2VydmVkKHdvcmQpIHtcblx0cmV0dXJuIFJFU0VSVkVEX1dPUkRTLmluY2x1ZGVzKHdvcmQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jYXB0dXJlX2V2ZW50KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuZW5kc1dpdGgoJ2NhcHR1cmUnKSAmJiBuYW1lICE9PSAnZ290cG9pbnRlcmNhcHR1cmUnICYmIG5hbWUgIT09ICdsb3N0cG9pbnRlcmNhcHR1cmUnO1xufVxuXG4vKiogTGlzdCBvZiBFbGVtZW50IGV2ZW50cyB0aGF0IHdpbGwgYmUgZGVsZWdhdGVkICovXG5jb25zdCBERUxFR0FURURfRVZFTlRTID0gW1xuXHQnYmVmb3JlaW5wdXQnLFxuXHQnY2xpY2snLFxuXHQnY2hhbmdlJyxcblx0J2RibGNsaWNrJyxcblx0J2NvbnRleHRtZW51Jyxcblx0J2ZvY3VzaW4nLFxuXHQnZm9jdXNvdXQnLFxuXHQnaW5wdXQnLFxuXHQna2V5ZG93bicsXG5cdCdrZXl1cCcsXG5cdCdtb3VzZWRvd24nLFxuXHQnbW91c2Vtb3ZlJyxcblx0J21vdXNlb3V0Jyxcblx0J21vdXNlb3ZlcicsXG5cdCdtb3VzZXVwJyxcblx0J3BvaW50ZXJkb3duJyxcblx0J3BvaW50ZXJtb3ZlJyxcblx0J3BvaW50ZXJvdXQnLFxuXHQncG9pbnRlcm92ZXInLFxuXHQncG9pbnRlcnVwJyxcblx0J3RvdWNoZW5kJyxcblx0J3RvdWNobW92ZScsXG5cdCd0b3VjaHN0YXJ0J1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZXZlbnRfbmFtZWAgaXMgYSBkZWxlZ2F0ZWQgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5fZGVsZWdhdGVfZXZlbnQoZXZlbnRfbmFtZSkge1xuXHRyZXR1cm4gREVMRUdBVEVEX0VWRU5UUy5pbmNsdWRlcyhldmVudF9uYW1lKTtcbn1cblxuLyoqXG4gKiBBdHRyaWJ1dGVzIHRoYXQgYXJlIGJvb2xlYW4sIGkuZS4gdGhleSBhcmUgcHJlc2VudCBvciBub3QgcHJlc2VudC5cbiAqL1xuY29uc3QgRE9NX0JPT0xFQU5fQVRUUklCVVRFUyA9IFtcblx0J2FsbG93ZnVsbHNjcmVlbicsXG5cdCdhc3luYycsXG5cdCdhdXRvZm9jdXMnLFxuXHQnYXV0b3BsYXknLFxuXHQnY2hlY2tlZCcsXG5cdCdjb250cm9scycsXG5cdCdkZWZhdWx0Jyxcblx0J2Rpc2FibGVkJyxcblx0J2Zvcm1ub3ZhbGlkYXRlJyxcblx0J2luZGV0ZXJtaW5hdGUnLFxuXHQnaW5lcnQnLFxuXHQnaXNtYXAnLFxuXHQnbG9vcCcsXG5cdCdtdWx0aXBsZScsXG5cdCdtdXRlZCcsXG5cdCdub21vZHVsZScsXG5cdCdub3ZhbGlkYXRlJyxcblx0J29wZW4nLFxuXHQncGxheXNpbmxpbmUnLFxuXHQncmVhZG9ubHknLFxuXHQncmVxdWlyZWQnLFxuXHQncmV2ZXJzZWQnLFxuXHQnc2VhbWxlc3MnLFxuXHQnc2VsZWN0ZWQnLFxuXHQnd2Via2l0ZGlyZWN0b3J5Jyxcblx0J2RlZmVyJyxcblx0J2Rpc2FibGVwaWN0dXJlaW5waWN0dXJlJyxcblx0J2Rpc2FibGVyZW1vdGVwbGF5YmFjaydcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYG5hbWVgIGlzIGEgYm9vbGVhbiBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19ib29sZWFuX2F0dHJpYnV0ZShuYW1lKSB7XG5cdHJldHVybiBET01fQk9PTEVBTl9BVFRSSUJVVEVTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG4vKipcbiAqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fVxuICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdGhhdCBzaG91bGQgYmUgYWxpYXNlZCB0byB0aGVpciBwcm9wZXJ0eSBuYW1lc1xuICogYmVjYXVzZSB0aGV5IGJlaGF2ZSBkaWZmZXJlbnRseSBiZXR3ZWVuIHNldHRpbmcgdGhlbSBhcyBhbiBhdHRyaWJ1dGUgYW5kXG4gKiBzZXR0aW5nIHRoZW0gYXMgYSBwcm9wZXJ0eS5cbiAqL1xuY29uc3QgQVRUUklCVVRFX0FMSUFTRVMgPSB7XG5cdC8vIG5vIGBjbGFzczogJ2NsYXNzTmFtZSdgIGJlY2F1c2Ugd2UgaGFuZGxlIHRoYXQgc2VwYXJhdGVseVxuXHRmb3Jtbm92YWxpZGF0ZTogJ2Zvcm1Ob1ZhbGlkYXRlJyxcblx0aXNtYXA6ICdpc01hcCcsXG5cdG5vbW9kdWxlOiAnbm9Nb2R1bGUnLFxuXHRwbGF5c2lubGluZTogJ3BsYXlzSW5saW5lJyxcblx0cmVhZG9ubHk6ICdyZWFkT25seScsXG5cdGRlZmF1bHR2YWx1ZTogJ2RlZmF1bHRWYWx1ZScsXG5cdGRlZmF1bHRjaGVja2VkOiAnZGVmYXVsdENoZWNrZWQnLFxuXHRzcmNvYmplY3Q6ICdzcmNPYmplY3QnLFxuXHRub3ZhbGlkYXRlOiAnbm9WYWxpZGF0ZScsXG5cdGFsbG93ZnVsbHNjcmVlbjogJ2FsbG93RnVsbHNjcmVlbicsXG5cdGRpc2FibGVwaWN0dXJlaW5waWN0dXJlOiAnZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUnLFxuXHRkaXNhYmxlcmVtb3RlcGxheWJhY2s6ICdkaXNhYmxlUmVtb3RlUGxheWJhY2snXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVfYXR0cmlidXRlKG5hbWUpIHtcblx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0cmV0dXJuIEFUVFJJQlVURV9BTElBU0VTW25hbWVdID8/IG5hbWU7XG59XG5cbmNvbnN0IERPTV9QUk9QRVJUSUVTID0gW1xuXHQuLi5ET01fQk9PTEVBTl9BVFRSSUJVVEVTLFxuXHQnZm9ybU5vVmFsaWRhdGUnLFxuXHQnaXNNYXAnLFxuXHQnbm9Nb2R1bGUnLFxuXHQncGxheXNJbmxpbmUnLFxuXHQncmVhZE9ubHknLFxuXHQndmFsdWUnLFxuXHQndm9sdW1lJyxcblx0J2RlZmF1bHRWYWx1ZScsXG5cdCdkZWZhdWx0Q2hlY2tlZCcsXG5cdCdzcmNPYmplY3QnLFxuXHQnbm9WYWxpZGF0ZScsXG5cdCdhbGxvd0Z1bGxzY3JlZW4nLFxuXHQnZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUnLFxuXHQnZGlzYWJsZVJlbW90ZVBsYXliYWNrJ1xuXTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZG9tX3Byb3BlcnR5KG5hbWUpIHtcblx0cmV0dXJuIERPTV9QUk9QRVJUSUVTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG5jb25zdCBOT05fU1RBVElDX1BST1BFUlRJRVMgPSBbJ2F1dG9mb2N1cycsICdtdXRlZCcsICdkZWZhdWx0VmFsdWUnLCAnZGVmYXVsdENoZWNrZWQnXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gYXR0cmlidXRlIGNhbm5vdCBiZSBzZXQgdGhyb3VnaCB0aGUgdGVtcGxhdGVcbiAqIHN0cmluZywgaS5lLiBuZWVkcyBzb21lIGtpbmQgb2YgSmF2YVNjcmlwdCBoYW5kbGluZyB0byB3b3JrLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbm5vdF9iZV9zZXRfc3RhdGljYWxseShuYW1lKSB7XG5cdHJldHVybiBOT05fU1RBVElDX1BST1BFUlRJRVMuaW5jbHVkZXMobmFtZSk7XG59XG5cbi8qKlxuICogU3Vic2V0IG9mIGRlbGVnYXRlZCBldmVudHMgd2hpY2ggc2hvdWxkIGJlIHBhc3NpdmUgYnkgZGVmYXVsdC5cbiAqIFRoZXNlIHR3byBhcmUgYWxyZWFkeSBwYXNzaXZlIHZpYSBicm93c2VyIGRlZmF1bHRzIG9uIHdpbmRvdywgZG9jdW1lbnQgYW5kIGJvZHkuXG4gKiBCdXQgc2luY2VcbiAqIC0gd2UncmUgZGVsZWdhdGluZyB0aGVtXG4gKiAtIHRoZXkgaGFwcGVuIG9mdGVuXG4gKiAtIHRoZXkgYXBwbHkgdG8gbW9iaWxlIHdoaWNoIGlzIGdlbmVyYWxseSBsZXNzIHBlcmZvcm1hbnRcbiAqIHdlJ3JlIG1hcmtpbmcgdGhlbSBhcyBwYXNzaXZlIGJ5IGRlZmF1bHQgZm9yIG90aGVyIGVsZW1lbnRzLCB0b28uXG4gKi9cbmNvbnN0IFBBU1NJVkVfRVZFTlRTID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZSddO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGBuYW1lYCBpcyBhIHBhc3NpdmUgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wYXNzaXZlX2V2ZW50KG5hbWUpIHtcblx0cmV0dXJuIFBBU1NJVkVfRVZFTlRTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG5jb25zdCBDT05URU5UX0VESVRBQkxFX0JJTkRJTkdTID0gWyd0ZXh0Q29udGVudCcsICdpbm5lckhUTUwnLCAnaW5uZXJUZXh0J107XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2NvbnRlbnRfZWRpdGFibGVfYmluZGluZyhuYW1lKSB7XG5cdHJldHVybiBDT05URU5UX0VESVRBQkxFX0JJTkRJTkdTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG5jb25zdCBMT0FEX0VSUk9SX0VMRU1FTlRTID0gW1xuXHQnYm9keScsXG5cdCdlbWJlZCcsXG5cdCdpZnJhbWUnLFxuXHQnaW1nJyxcblx0J2xpbmsnLFxuXHQnb2JqZWN0Jyxcblx0J3NjcmlwdCcsXG5cdCdzdHlsZScsXG5cdCd0cmFjaydcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgZW1pdHMgYGxvYWRgIGFuZCBgZXJyb3JgIGV2ZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2xvYWRfZXJyb3JfZWxlbWVudChuYW1lKSB7XG5cdHJldHVybiBMT0FEX0VSUk9SX0VMRU1FTlRTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG5jb25zdCBTVkdfRUxFTUVOVFMgPSBbXG5cdCdhbHRHbHlwaCcsXG5cdCdhbHRHbHlwaERlZicsXG5cdCdhbHRHbHlwaEl0ZW0nLFxuXHQnYW5pbWF0ZScsXG5cdCdhbmltYXRlQ29sb3InLFxuXHQnYW5pbWF0ZU1vdGlvbicsXG5cdCdhbmltYXRlVHJhbnNmb3JtJyxcblx0J2NpcmNsZScsXG5cdCdjbGlwUGF0aCcsXG5cdCdjb2xvci1wcm9maWxlJyxcblx0J2N1cnNvcicsXG5cdCdkZWZzJyxcblx0J2Rlc2MnLFxuXHQnZGlzY2FyZCcsXG5cdCdlbGxpcHNlJyxcblx0J2ZlQmxlbmQnLFxuXHQnZmVDb2xvck1hdHJpeCcsXG5cdCdmZUNvbXBvbmVudFRyYW5zZmVyJyxcblx0J2ZlQ29tcG9zaXRlJyxcblx0J2ZlQ29udm9sdmVNYXRyaXgnLFxuXHQnZmVEaWZmdXNlTGlnaHRpbmcnLFxuXHQnZmVEaXNwbGFjZW1lbnRNYXAnLFxuXHQnZmVEaXN0YW50TGlnaHQnLFxuXHQnZmVEcm9wU2hhZG93Jyxcblx0J2ZlRmxvb2QnLFxuXHQnZmVGdW5jQScsXG5cdCdmZUZ1bmNCJyxcblx0J2ZlRnVuY0cnLFxuXHQnZmVGdW5jUicsXG5cdCdmZUdhdXNzaWFuQmx1cicsXG5cdCdmZUltYWdlJyxcblx0J2ZlTWVyZ2UnLFxuXHQnZmVNZXJnZU5vZGUnLFxuXHQnZmVNb3JwaG9sb2d5Jyxcblx0J2ZlT2Zmc2V0Jyxcblx0J2ZlUG9pbnRMaWdodCcsXG5cdCdmZVNwZWN1bGFyTGlnaHRpbmcnLFxuXHQnZmVTcG90TGlnaHQnLFxuXHQnZmVUaWxlJyxcblx0J2ZlVHVyYnVsZW5jZScsXG5cdCdmaWx0ZXInLFxuXHQnZm9udCcsXG5cdCdmb250LWZhY2UnLFxuXHQnZm9udC1mYWNlLWZvcm1hdCcsXG5cdCdmb250LWZhY2UtbmFtZScsXG5cdCdmb250LWZhY2Utc3JjJyxcblx0J2ZvbnQtZmFjZS11cmknLFxuXHQnZm9yZWlnbk9iamVjdCcsXG5cdCdnJyxcblx0J2dseXBoJyxcblx0J2dseXBoUmVmJyxcblx0J2hhdGNoJyxcblx0J2hhdGNocGF0aCcsXG5cdCdoa2VybicsXG5cdCdpbWFnZScsXG5cdCdsaW5lJyxcblx0J2xpbmVhckdyYWRpZW50Jyxcblx0J21hcmtlcicsXG5cdCdtYXNrJyxcblx0J21lc2gnLFxuXHQnbWVzaGdyYWRpZW50Jyxcblx0J21lc2hwYXRjaCcsXG5cdCdtZXNocm93Jyxcblx0J21ldGFkYXRhJyxcblx0J21pc3NpbmctZ2x5cGgnLFxuXHQnbXBhdGgnLFxuXHQncGF0aCcsXG5cdCdwYXR0ZXJuJyxcblx0J3BvbHlnb24nLFxuXHQncG9seWxpbmUnLFxuXHQncmFkaWFsR3JhZGllbnQnLFxuXHQncmVjdCcsXG5cdCdzZXQnLFxuXHQnc29saWRjb2xvcicsXG5cdCdzdG9wJyxcblx0J3N2ZycsXG5cdCdzd2l0Y2gnLFxuXHQnc3ltYm9sJyxcblx0J3RleHQnLFxuXHQndGV4dFBhdGgnLFxuXHQndHJlZicsXG5cdCd0c3BhbicsXG5cdCd1bmtub3duJyxcblx0J3VzZScsXG5cdCd2aWV3Jyxcblx0J3ZrZXJuJ1xuXTtcblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICovXG5leHBvcnQgZnVuY3Rpb24gaXNfc3ZnKG5hbWUpIHtcblx0cmV0dXJuIFNWR19FTEVNRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTUFUSE1MX0VMRU1FTlRTID0gW1xuXHQnYW5ub3RhdGlvbicsXG5cdCdhbm5vdGF0aW9uLXhtbCcsXG5cdCdtYWN0aW9uJyxcblx0J21hdGgnLFxuXHQnbWVycm9yJyxcblx0J21mcmFjJyxcblx0J21pJyxcblx0J21tdWx0aXNjcmlwdHMnLFxuXHQnbW4nLFxuXHQnbW8nLFxuXHQnbW92ZXInLFxuXHQnbXBhZGRlZCcsXG5cdCdtcGhhbnRvbScsXG5cdCdtcHJlc2NyaXB0cycsXG5cdCdtcm9vdCcsXG5cdCdtcm93Jyxcblx0J21zJyxcblx0J21zcGFjZScsXG5cdCdtc3FydCcsXG5cdCdtc3R5bGUnLFxuXHQnbXN1YicsXG5cdCdtc3Vic3VwJyxcblx0J21zdXAnLFxuXHQnbXRhYmxlJyxcblx0J210ZCcsXG5cdCdtdGV4dCcsXG5cdCdtdHInLFxuXHQnbXVuZGVyJyxcblx0J211bmRlcm92ZXInLFxuXHQnc2VtYW50aWNzJ1xuXTtcblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICovXG5leHBvcnQgZnVuY3Rpb24gaXNfbWF0aG1sKG5hbWUpIHtcblx0cmV0dXJuIE1BVEhNTF9FTEVNRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgU1RBVEVfQ1JFQVRJT05fUlVORVMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoW1xuXHQnJHN0YXRlJyxcblx0JyRzdGF0ZS5yYXcnLFxuXHQnJGRlcml2ZWQnLFxuXHQnJGRlcml2ZWQuYnknXG5dKTtcblxuY29uc3QgUlVORVMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoW1xuXHQuLi5TVEFURV9DUkVBVElPTl9SVU5FUyxcblx0JyRzdGF0ZS5lYWdlcicsXG5cdCckc3RhdGUuc25hcHNob3QnLFxuXHQnJHByb3BzJyxcblx0JyRwcm9wcy5pZCcsXG5cdCckYmluZGFibGUnLFxuXHQnJGVmZmVjdCcsXG5cdCckZWZmZWN0LnByZScsXG5cdCckZWZmZWN0LnRyYWNraW5nJyxcblx0JyRlZmZlY3Qucm9vdCcsXG5cdCckZWZmZWN0LnBlbmRpbmcnLFxuXHQnJGluc3BlY3QnLFxuXHQnJGluc3BlY3QoKS53aXRoJyxcblx0JyRpbnNwZWN0LnRyYWNlJyxcblx0JyRob3N0J1xuXSk7XG5cbi8qKiBAdHlwZWRlZiB7dHlwZW9mIFJVTkVTW251bWJlcl19IFJ1bmVOYW1lICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuYW1lIGlzIFJ1bmVOYW1lfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcnVuZShuYW1lKSB7XG5cdHJldHVybiBSVU5FUy5pbmNsdWRlcygvKiogQHR5cGUge1J1bmVOYW1lfSAqLyAobmFtZSkpO1xufVxuXG4vKiogQHR5cGVkZWYge3R5cGVvZiBTVEFURV9DUkVBVElPTl9SVU5FU1tudW1iZXJdfSBTdGF0ZUNyZWF0aW9uUnVuZU5hbWUgKi9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25hbWUgaXMgU3RhdGVDcmVhdGlvblJ1bmVOYW1lfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfc3RhdGVfY3JlYXRpb25fcnVuZShuYW1lKSB7XG5cdHJldHVybiBTVEFURV9DUkVBVElPTl9SVU5FUy5pbmNsdWRlcygvKiogQHR5cGUge1N0YXRlQ3JlYXRpb25SdW5lTmFtZX0gKi8gKG5hbWUpKTtcbn1cblxuLyoqIExpc3Qgb2YgZWxlbWVudHMgdGhhdCByZXF1aXJlIHJhdyBjb250ZW50cyBhbmQgc2hvdWxkIG5vdCBoYXZlIFNTUiBjb21tZW50cyBwdXQgaW4gdGhlbSAqL1xuY29uc3QgUkFXX1RFWFRfRUxFTUVOVFMgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoWyd0ZXh0YXJlYScsICdzY3JpcHQnLCAnc3R5bGUnLCAndGl0bGUnXSk7XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Jhd190ZXh0X2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gUkFXX1RFWFRfRUxFTUVOVFMuaW5jbHVkZXMoLyoqIEB0eXBlIHt0eXBlb2YgUkFXX1RFWFRfRUxFTUVOVFNbbnVtYmVyXX0gKi8gKG5hbWUpKTtcbn1cblxuLyoqXG4gKiBQcmV2ZW50IGRldnRvb2xzIHRyeWluZyB0byBtYWtlIGBsb2NhdGlvbmAgYSBjbGlja2FibGUgbGluayBieSBpbnNlcnRpbmcgYSB6ZXJvLXdpZHRoIHNwYWNlXG4gKiBAdGVtcGxhdGUge3N0cmluZyB8IHVuZGVmaW5lZH0gVFxuICogQHBhcmFtIHtUfSBsb2NhdGlvblxuICogQHJldHVybnMge1R9O1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVfbG9jYXRpb24obG9jYXRpb24pIHtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKGxvY2F0aW9uPy5yZXBsYWNlKC9cXC8vZywgJy9cXHUyMDBiJykpO1xufVxuIiwgIi8qKiBAdHlwZSB7TWFwPFN0cmluZywgU2V0PEhUTUxTdHlsZUVsZW1lbnQ+Pn0gKi9cbnZhciBhbGxfc3R5bGVzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBoYXNoXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlcl9zdHlsZShoYXNoLCBzdHlsZSkge1xuXHR2YXIgc3R5bGVzID0gYWxsX3N0eWxlcy5nZXQoaGFzaCk7XG5cblx0aWYgKCFzdHlsZXMpIHtcblx0XHRzdHlsZXMgPSBuZXcgU2V0KCk7XG5cdFx0YWxsX3N0eWxlcy5zZXQoaGFzaCwgc3R5bGVzKTtcblx0fVxuXG5cdHN0eWxlcy5hZGQoc3R5bGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwX3N0eWxlcyhoYXNoKSB7XG5cdHZhciBzdHlsZXMgPSBhbGxfc3R5bGVzLmdldChoYXNoKTtcblx0aWYgKCFzdHlsZXMpIHJldHVybjtcblxuXHRmb3IgKGNvbnN0IHN0eWxlIG9mIHN0eWxlcykge1xuXHRcdHN0eWxlLnJlbW92ZSgpO1xuXHR9XG5cblx0YWxsX3N0eWxlcy5kZWxldGUoaGFzaCk7XG59XG4iLCAiaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgeyBGSUxFTkFNRSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uLy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQgfSBmcm9tICcuL2JpbmRpbmdzL3NoYXJlZC5qcyc7XG5cbi8qKiBAdHlwZSB7U2V0PHN0cmluZz59ICovXG5leHBvcnQgY29uc3QgYWxsX3JlZ2lzdGVyZWRfZXZlbnRzID0gbmV3IFNldCgpO1xuXG4vKiogQHR5cGUge1NldDwoZXZlbnRzOiBBcnJheTxzdHJpbmc+KSA9PiB2b2lkPn0gKi9cbmV4cG9ydCBjb25zdCByb290X2V2ZW50X2hhbmRsZXMgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogU1NSIGFkZHMgb25sb2FkIGFuZCBvbmVycm9yIGF0dHJpYnV0ZXMgdG8gY2F0Y2ggdGhvc2UgZXZlbnRzIGJlZm9yZSB0aGUgaHlkcmF0aW9uLlxuICogVGhpcyBmdW5jdGlvbiBkZXRlY3RzIHRob3NlIGNhc2VzLCByZW1vdmVzIHRoZSBhdHRyaWJ1dGVzIGFuZCByZXBsYXlzIHRoZSBldmVudHMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxheV9ldmVudHMoZG9tKSB7XG5cdGlmICghaHlkcmF0aW5nKSByZXR1cm47XG5cblx0ZG9tLnJlbW92ZUF0dHJpYnV0ZSgnb25sb2FkJyk7XG5cdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ29uZXJyb3InKTtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRjb25zdCBldmVudCA9IGRvbS5fX2U7XG5cdGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGRvbS5fX2UgPSB1bmRlZmluZWQ7XG5cdFx0cXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuXHRcdFx0aWYgKGRvbS5pc0Nvbm5lY3RlZCkge1xuXHRcdFx0XHRkb20uZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRfbmFtZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZG9tXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJ9IFtoYW5kbGVyXVxuICogQHBhcmFtIHtBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfZXZlbnQoZXZlbnRfbmFtZSwgZG9tLCBoYW5kbGVyLCBvcHRpb25zID0ge30pIHtcblx0LyoqXG5cdCAqIEB0aGlzIHtFdmVudFRhcmdldH1cblx0ICovXG5cdGZ1bmN0aW9uIHRhcmdldF9oYW5kbGVyKC8qKiBAdHlwZSB7RXZlbnR9ICovIGV2ZW50KSB7XG5cdFx0aWYgKCFvcHRpb25zLmNhcHR1cmUpIHtcblx0XHRcdC8vIE9ubHkgY2FsbCBpbiB0aGUgYnViYmxlIHBoYXNlLCBlbHNlIGRlbGVnYXRlZCBldmVudHMgd291bGQgYmUgY2FsbGVkIGJlZm9yZSB0aGUgY2FwdHVyaW5nIGV2ZW50c1xuXHRcdFx0aGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLmNhbGwoZG9tLCBldmVudCk7XG5cdFx0fVxuXHRcdGlmICghZXZlbnQuY2FuY2VsQnViYmxlKSB7XG5cdFx0XHRyZXR1cm4gd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0KCgpID0+IHtcblx0XHRcdFx0cmV0dXJuIGhhbmRsZXI/LmNhbGwodGhpcywgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hyb21lIGhhcyBhIGJ1ZyB3aGVyZSBwb2ludGVyIGV2ZW50cyBkb24ndCB3b3JrIHdoZW4gYXR0YWNoZWQgdG8gYSBET00gZWxlbWVudCB0aGF0IGhhcyBiZWVuIGNsb25lZFxuXHQvLyB3aXRoIGNsb25lTm9kZSgpIGFuZCB0aGUgRE9NIGVsZW1lbnQgaXMgZGlzY29ubmVjdGVkIGZyb20gdGhlIGRvY3VtZW50LiBUbyBlbnN1cmUgdGhlIGV2ZW50IHdvcmtzLCB3ZVxuXHQvLyBkZWZlciB0aGUgYXR0YWNobWVudCB0aWxsIGFmdGVyIGl0J3MgYmVlbiBhcHBlbmRlZCB0byB0aGUgZG9jdW1lbnQuIFRPRE86IHJlbW92ZSB0aGlzIG9uY2UgQ2hyb21lIGZpeGVzXG5cdC8vIHRoaXMgYnVnLiBUaGUgc2FtZSBhcHBsaWVzIHRvIHdoZWVsIGV2ZW50cyBhbmQgdG91Y2ggZXZlbnRzLlxuXHRpZiAoXG5cdFx0ZXZlbnRfbmFtZS5zdGFydHNXaXRoKCdwb2ludGVyJykgfHxcblx0XHRldmVudF9uYW1lLnN0YXJ0c1dpdGgoJ3RvdWNoJykgfHxcblx0XHRldmVudF9uYW1lID09PSAnd2hlZWwnXG5cdCkge1xuXHRcdHF1ZXVlX21pY3JvX3Rhc2soKCkgPT4ge1xuXHRcdFx0ZG9tLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRhcmdldF9oYW5kbGVyLCBvcHRpb25zKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXRfaGFuZGxlcjtcbn1cblxuLyoqXG4gKiBBdHRhY2hlcyBhbiBldmVudCBoYW5kbGVyIHRvIGFuIGVsZW1lbnQgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJlbW92ZXMgdGhlIGhhbmRsZXIuIFVzaW5nIHRoaXNcbiAqIHJhdGhlciB0aGFuIGBhZGRFdmVudExpc3RlbmVyYCB3aWxsIHByZXNlcnZlIHRoZSBjb3JyZWN0IG9yZGVyIHJlbGF0aXZlIHRvIGhhbmRsZXJzIGFkZGVkIGRlY2xhcmF0aXZlbHlcbiAqICh3aXRoIGF0dHJpYnV0ZXMgbGlrZSBgb25jbGlja2ApLCB3aGljaCB1c2UgZXZlbnQgZGVsZWdhdGlvbiBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJ9IGhhbmRsZXJcbiAqIEBwYXJhbSB7QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICovXG5leHBvcnQgZnVuY3Rpb24gb24oZWxlbWVudCwgdHlwZSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG5cdHZhciB0YXJnZXRfaGFuZGxlciA9IGNyZWF0ZV9ldmVudCh0eXBlLCBlbGVtZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0YXJnZXRfaGFuZGxlciwgb3B0aW9ucyk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50X25hbWVcbiAqIEBwYXJhbSB7RWxlbWVudH0gZG9tXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJ9IFtoYW5kbGVyXVxuICogQHBhcmFtIHtib29sZWFufSBbY2FwdHVyZV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Bhc3NpdmVdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgY2FwdHVyZSwgcGFzc2l2ZSkge1xuXHR2YXIgb3B0aW9ucyA9IHsgY2FwdHVyZSwgcGFzc2l2ZSB9O1xuXHR2YXIgdGFyZ2V0X2hhbmRsZXIgPSBjcmVhdGVfZXZlbnQoZXZlbnRfbmFtZSwgZG9tLCBoYW5kbGVyLCBvcHRpb25zKTtcblxuXHRpZiAoXG5cdFx0ZG9tID09PSBkb2N1bWVudC5ib2R5IHx8XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGRvbSA9PT0gd2luZG93IHx8XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGRvbSA9PT0gZG9jdW1lbnQgfHxcblx0XHQvLyBGaXJlZm94IGhhcyBxdWlya3kgYmVoYXZpb3IsIGl0IGNhbiBoYXBwZW4gdGhhdCB3ZSBzdGlsbCBnZXQgXCJjYW5wbGF5XCIgZXZlbnRzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSByZW1vdmVkXG5cdFx0ZG9tIGluc3RhbmNlb2YgSFRNTE1lZGlhRWxlbWVudFxuXHQpIHtcblx0XHR0ZWFyZG93bigoKSA9PiB7XG5cdFx0XHRkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCB0YXJnZXRfaGFuZGxlciwgb3B0aW9ucyk7XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGV2ZW50c1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxlZ2F0ZShldmVudHMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRhbGxfcmVnaXN0ZXJlZF9ldmVudHMuYWRkKGV2ZW50c1tpXSk7XG5cdH1cblxuXHRmb3IgKHZhciBmbiBvZiByb290X2V2ZW50X2hhbmRsZXMpIHtcblx0XHRmbihldmVudHMpO1xuXHR9XG59XG5cbi8vIHVzZWQgdG8gc3RvcmUgdGhlIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudGx5IHByb3BhZ2F0ZWQgZXZlbnRcbi8vIHRvIHByZXZlbnQgZ2FyYmFnZSBjb2xsZWN0aW9uIGJldHdlZW4gbWljcm90YXNrcyBpbiBGaXJlZm94XG4vLyBJZiB0aGUgZXZlbnQgb2JqZWN0IGlzIEdDZWQgdG9vIGVhcmx5LCB0aGUgZXhwYW5kbyBfX3Jvb3QgcHJvcGVydHlcbi8vIHNldCBvbiB0aGUgZXZlbnQgb2JqZWN0IGlzIGxvc3QsIGNhdXNpbmcgdGhlIGV2ZW50IGRlbGVnYXRpb25cbi8vIHRvIHByb2Nlc3MgdGhlIGV2ZW50IHR3aWNlXG5sZXQgbGFzdF9wcm9wYWdhdGVkX2V2ZW50ID0gbnVsbDtcblxuLyoqXG4gKiBAdGhpcyB7RXZlbnRUYXJnZXR9XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24oZXZlbnQpIHtcblx0dmFyIGhhbmRsZXJfZWxlbWVudCA9IHRoaXM7XG5cdHZhciBvd25lcl9kb2N1bWVudCA9IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKGhhbmRsZXJfZWxlbWVudCkub3duZXJEb2N1bWVudDtcblx0dmFyIGV2ZW50X25hbWUgPSBldmVudC50eXBlO1xuXHR2YXIgcGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aD8uKCkgfHwgW107XG5cdHZhciBjdXJyZW50X3RhcmdldCA9IC8qKiBAdHlwZSB7bnVsbCB8IEVsZW1lbnR9ICovIChwYXRoWzBdIHx8IGV2ZW50LnRhcmdldCk7XG5cblx0bGFzdF9wcm9wYWdhdGVkX2V2ZW50ID0gZXZlbnQ7XG5cblx0Ly8gY29tcG9zZWRQYXRoIGNvbnRhaW5zIGxpc3Qgb2Ygbm9kZXMgdGhlIGV2ZW50IGhhcyBwcm9wYWdhdGVkIHRocm91Z2guXG5cdC8vIFdlIGNoZWNrIF9fcm9vdCB0byBza2lwIGFsbCBub2RlcyBiZWxvdyBpdCBpbiBjYXNlIHRoaXMgaXMgYVxuXHQvLyBwYXJlbnQgb2YgdGhlIF9fcm9vdCBub2RlLCB3aGljaCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSdzIG5lc3RlZFxuXHQvLyBtb3VudGVkIGFwcHMuIEluIHRoaXMgY2FzZSB3ZSBkb24ndCB3YW50IHRvIHRyaWdnZXIgZXZlbnRzIG11bHRpcGxlIHRpbWVzLlxuXHR2YXIgcGF0aF9pZHggPSAwO1xuXG5cdC8vIHRoZSBgbGFzdF9wcm9wYWdhdGVkX2V2ZW50ID09PSBldmVudGAgY2hlY2sgaXMgcmVkdW5kYW50LCBidXRcblx0Ly8gd2l0aG91dCBpdCB0aGUgdmFyaWFibGUgd2lsbCBiZSBEQ0UnZCBhbmQgdGhpbmdzIHdpbGxcblx0Ly8gZmFpbCBteXN0ZXJpb3VzbHkgaW4gRmlyZWZveFxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIGlzIGFkZGVkIGJlbG93XG5cdHZhciBoYW5kbGVkX2F0ID0gbGFzdF9wcm9wYWdhdGVkX2V2ZW50ID09PSBldmVudCAmJiBldmVudC5fX3Jvb3Q7XG5cblx0aWYgKGhhbmRsZWRfYXQpIHtcblx0XHR2YXIgYXRfaWR4ID0gcGF0aC5pbmRleE9mKGhhbmRsZWRfYXQpO1xuXHRcdGlmIChcblx0XHRcdGF0X2lkeCAhPT0gLTEgJiZcblx0XHRcdChoYW5kbGVyX2VsZW1lbnQgPT09IGRvY3VtZW50IHx8IGhhbmRsZXJfZWxlbWVudCA9PT0gLyoqIEB0eXBlIHthbnl9ICovICh3aW5kb3cpKVxuXHRcdCkge1xuXHRcdFx0Ly8gVGhpcyBpcyB0aGUgZmFsbGJhY2sgZG9jdW1lbnQgbGlzdGVuZXIgb3IgYSB3aW5kb3cgbGlzdGVuZXIsIGJ1dCB0aGUgZXZlbnQgd2FzIGFscmVhZHkgaGFuZGxlZFxuXHRcdFx0Ly8gLT4gaWdub3JlLCBidXQgc2V0IGhhbmRsZV9hdCB0byBkb2N1bWVudC93aW5kb3cgc28gdGhhdCB3ZSdyZSByZXNldHRpbmcgdGhlIGV2ZW50XG5cdFx0XHQvLyBjaGFpbiBpbiBjYXNlIHNvbWVvbmUgbWFudWFsbHkgZGlzcGF0Y2hlcyB0aGUgc2FtZSBldmVudCBvYmplY3QgYWdhaW4uXG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRldmVudC5fX3Jvb3QgPSBoYW5kbGVyX2VsZW1lbnQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gV2UncmUgZGVsaWJlcmF0ZWx5IG5vdCBza2lwcGluZyBpZiB0aGUgaW5kZXggaXMgaGlnaGVyLCBiZWNhdXNlXG5cdFx0Ly8gc29tZW9uZSBjb3VsZCBjcmVhdGUgYW4gZXZlbnQgcHJvZ3JhbW1hdGljYWxseSBhbmQgZW1pdCBpdCBtdWx0aXBsZSB0aW1lcyxcblx0XHQvLyBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8gaGFuZGxlIHRoZSB3aG9sZSBwcm9wYWdhdGlvbiBjaGFpbiBwcm9wZXJseSBlYWNoIHRpbWUuXG5cdFx0Ly8gKHRoaXMgd2lsbCBvbmx5IGJlIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlIGV2ZW50IGlzIGRpc3BhdGNoZWQgbXVsdGlwbGUgdGltZXMgYW5kXG5cdFx0Ly8gdGhlIGZhbGxiYWNrIGRvY3VtZW50IGxpc3RlbmVyIGlzbid0IHJlYWNoZWQgaW4gYmV0d2VlbiwgYnV0IHRoYXQncyBzdXBlciByYXJlKVxuXHRcdHZhciBoYW5kbGVyX2lkeCA9IHBhdGguaW5kZXhPZihoYW5kbGVyX2VsZW1lbnQpO1xuXHRcdGlmIChoYW5kbGVyX2lkeCA9PT0gLTEpIHtcblx0XHRcdC8vIGhhbmRsZV9pZHggY2FuIHRoZW9yZXRpY2FsbHkgYmUgLTEgKGhhcHBlbmVkIGluIHNvbWUgSlNET00gdGVzdGluZyBzY2VuYXJpb3Mgd2l0aCBhbiBldmVudCBsaXN0ZW5lciBvbiB0aGUgd2luZG93IG9iamVjdClcblx0XHRcdC8vIHNvIGd1YXJkIGFnYWluc3QgdGhhdCwgdG9vLCBhbmQgYXNzdW1lIHRoYXQgZXZlcnl0aGluZyB3YXMgaGFuZGxlZCBhdCB0aGlzIHBvaW50LlxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChhdF9pZHggPD0gaGFuZGxlcl9pZHgpIHtcblx0XHRcdHBhdGhfaWR4ID0gYXRfaWR4O1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnRfdGFyZ2V0ID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAocGF0aFtwYXRoX2lkeF0gfHwgZXZlbnQudGFyZ2V0KTtcblx0Ly8gdGhlcmUgY2FuIG9ubHkgYmUgb25lIGRlbGVnYXRlZCBldmVudCBwZXIgZWxlbWVudCwgYW5kIHdlIGVpdGhlciBhbHJlYWR5IGhhbmRsZWQgdGhlIGN1cnJlbnQgdGFyZ2V0LFxuXHQvLyBvciB0aGlzIGlzIHRoZSB2ZXJ5IGZpcnN0IHRhcmdldCBpbiB0aGUgY2hhaW4gd2hpY2ggaGFzIGEgbm9uLWRlbGVnYXRlZCBsaXN0ZW5lciwgaW4gd2hpY2ggY2FzZSBpdCdzIHNhZmVcblx0Ly8gdG8gaGFuZGxlIGEgcG9zc2libGUgZGVsZWdhdGVkIGV2ZW50IG9uIGl0IGxhdGVyICh0aHJvdWdoIHRoZSByb290IGRlbGVnYXRpb24gbGlzdGVuZXIgZm9yIGV4YW1wbGUpLlxuXHRpZiAoY3VycmVudF90YXJnZXQgPT09IGhhbmRsZXJfZWxlbWVudCkgcmV0dXJuO1xuXG5cdC8vIFByb3h5IGN1cnJlbnRUYXJnZXQgdG8gY29ycmVjdCB0YXJnZXRcblx0ZGVmaW5lX3Byb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0Z2V0KCkge1xuXHRcdFx0cmV0dXJuIGN1cnJlbnRfdGFyZ2V0IHx8IG93bmVyX2RvY3VtZW50O1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gVGhpcyBzdGFydGVkIGJlY2F1c2Ugb2YgQ2hyb21pdW0gaXNzdWUgaHR0cHM6Ly9jaHJvbWVzdGF0dXMuY29tL2ZlYXR1cmUvNTEyODY5NjgyMzU0NTg1Nixcblx0Ly8gd2hlcmUgcmVtb3ZhbCBvciBtb3Zpbmcgb2Ygb2YgdGhlIERPTSBjYW4gY2F1c2Ugc3luYyBgYmx1cmAgZXZlbnRzIHRvIGZpcmUsIHdoaWNoIGNhbiBjYXVzZSBsb2dpY1xuXHQvLyB0byBydW4gaW5zaWRlIHRoZSBjdXJyZW50IGBhY3RpdmVfcmVhY3Rpb25gLCB3aGljaCBpc24ndCB3aGF0IHdlIHdhbnQgYXQgYWxsLiBIb3dldmVyLCBvbiByZWZsZWN0aW9uLFxuXHQvLyBpdCdzIHByb2JhYmx5IGJlc3QgdGhhdCBhbGwgZXZlbnQgaGFuZGxlZCBieSBTdmVsdGUgaGF2ZSB0aGlzIGJlaGF2aW91ciwgYXMgd2UgZG9uJ3QgcmVhbGx5IHdhbnRcblx0Ly8gYW4gZXZlbnQgaGFuZGxlciB0byBydW4gaW4gdGhlIGNvbnRleHQgb2YgYW5vdGhlciByZWFjdGlvbiBvciBlZmZlY3QuXG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdHNldF9hY3RpdmVfZWZmZWN0KG51bGwpO1xuXG5cdHRyeSB7XG5cdFx0LyoqXG5cdFx0ICogQHR5cGUge3Vua25vd259XG5cdFx0ICovXG5cdFx0dmFyIHRocm93X2Vycm9yO1xuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHt1bmtub3duW119XG5cdFx0ICovXG5cdFx0dmFyIG90aGVyX2Vycm9ycyA9IFtdO1xuXG5cdFx0d2hpbGUgKGN1cnJlbnRfdGFyZ2V0ICE9PSBudWxsKSB7XG5cdFx0XHQvKiogQHR5cGUge251bGwgfCBFbGVtZW50fSAqL1xuXHRcdFx0dmFyIHBhcmVudF9lbGVtZW50ID1cblx0XHRcdFx0Y3VycmVudF90YXJnZXQuYXNzaWduZWRTbG90IHx8XG5cdFx0XHRcdGN1cnJlbnRfdGFyZ2V0LnBhcmVudE5vZGUgfHxcblx0XHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChjdXJyZW50X3RhcmdldCkuaG9zdCB8fFxuXHRcdFx0XHRudWxsO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRcdHZhciBkZWxlZ2F0ZWQgPSBjdXJyZW50X3RhcmdldFsnX18nICsgZXZlbnRfbmFtZV07XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGRlbGVnYXRlZCAhPSBudWxsICYmXG5cdFx0XHRcdFx0KCEoLyoqIEB0eXBlIHthbnl9ICovIChjdXJyZW50X3RhcmdldCkuZGlzYWJsZWQpIHx8XG5cdFx0XHRcdFx0XHQvLyBET00gY291bGQndmUgYmVlbiB1cGRhdGVkIGFscmVhZHkgYnkgdGhlIHRpbWUgdGhpcyBpcyByZWFjaGVkLCBzbyB3ZSBjaGVjayB0aGlzIGFzIHdlbGxcblx0XHRcdFx0XHRcdC8vIC0+IHRoZSB0YXJnZXQgY291bGQgbm90IGhhdmUgYmVlbiBkaXNhYmxlZCBiZWNhdXNlIGl0IGVtaXRzIHRoZSBldmVudCBpbiB0aGUgZmlyc3QgcGxhY2Vcblx0XHRcdFx0XHRcdGV2ZW50LnRhcmdldCA9PT0gY3VycmVudF90YXJnZXQpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGRlbGVnYXRlZC5jYWxsKGN1cnJlbnRfdGFyZ2V0LCBldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGlmICh0aHJvd19lcnJvcikge1xuXHRcdFx0XHRcdG90aGVyX2Vycm9ycy5wdXNoKGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvd19lcnJvciA9IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoZXZlbnQuY2FuY2VsQnViYmxlIHx8IHBhcmVudF9lbGVtZW50ID09PSBoYW5kbGVyX2VsZW1lbnQgfHwgcGFyZW50X2VsZW1lbnQgPT09IG51bGwpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRjdXJyZW50X3RhcmdldCA9IHBhcmVudF9lbGVtZW50O1xuXHRcdH1cblxuXHRcdGlmICh0aHJvd19lcnJvcikge1xuXHRcdFx0Zm9yIChsZXQgZXJyb3Igb2Ygb3RoZXJfZXJyb3JzKSB7XG5cdFx0XHRcdC8vIFRocm93IHRoZSByZXN0IG9mIHRoZSBlcnJvcnMsIG9uZS1ieS1vbmUgb24gYSBtaWNyb3Rhc2tcblx0XHRcdFx0cXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHRocm93IHRocm93X2Vycm9yO1xuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIGlzIHVzZWQgYWJvdmVcblx0XHRldmVudC5fX3Jvb3QgPSBoYW5kbGVyX2VsZW1lbnQ7XG5cdFx0Ly8gQHRzLWlnbm9yZSByZW1vdmUgcHJveHkgb24gY3VycmVudFRhcmdldFxuXHRcdGRlbGV0ZSBldmVudC5jdXJyZW50VGFyZ2V0O1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZpb3VzX2VmZmVjdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBJbiBkZXYsIHdhcm4gaWYgYW4gZXZlbnQgaGFuZGxlciBpcyBub3QgYSBmdW5jdGlvbiwgYXMgaXQgbWVhbnMgdGhlXG4gKiB1c2VyIHByb2JhYmx5IGNhbGxlZCB0aGUgaGFuZGxlciBvciBmb3Jnb3QgdG8gYWRkIGEgYCgpID0+YFxuICogQHBhcmFtIHsoKSA9PiAoZXZlbnQ6IEV2ZW50LCAuLi5hcmdzOiBhbnkpID0+IHZvaWR9IHRodW5rXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge1tFdmVudCwgLi4uYW55XX0gYXJnc1xuICogQHBhcmFtIHthbnl9IGNvbXBvbmVudFxuICogQHBhcmFtIHtbbnVtYmVyLCBudW1iZXJdfSBbbG9jXVxuICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlX3BhcmVuc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5KFxuXHR0aHVuayxcblx0ZWxlbWVudCxcblx0YXJncyxcblx0Y29tcG9uZW50LFxuXHRsb2MsXG5cdGhhc19zaWRlX2VmZmVjdHMgPSBmYWxzZSxcblx0cmVtb3ZlX3BhcmVucyA9IGZhbHNlXG4pIHtcblx0bGV0IGhhbmRsZXI7XG5cdGxldCBlcnJvcjtcblxuXHR0cnkge1xuXHRcdGhhbmRsZXIgPSB0aHVuaygpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0ZXJyb3IgPSBlO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nICYmIChoYXNfc2lkZV9lZmZlY3RzIHx8IGhhbmRsZXIgIT0gbnVsbCB8fCBlcnJvcikpIHtcblx0XHRjb25zdCBmaWxlbmFtZSA9IGNvbXBvbmVudD8uW0ZJTEVOQU1FXTtcblx0XHRjb25zdCBsb2NhdGlvbiA9IGxvYyA/IGAgYXQgJHtmaWxlbmFtZX06JHtsb2NbMF19OiR7bG9jWzFdfWAgOiBgIGluICR7ZmlsZW5hbWV9YDtcblx0XHRjb25zdCBwaGFzZSA9IGFyZ3NbMF0/LmV2ZW50UGhhc2UgPCBFdmVudC5CVUJCTElOR19QSEFTRSA/ICdjYXB0dXJlJyA6ICcnO1xuXHRcdGNvbnN0IGV2ZW50X25hbWUgPSBhcmdzWzBdPy50eXBlICsgcGhhc2U7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBgXFxgJHtldmVudF9uYW1lfVxcYCBoYW5kbGVyJHtsb2NhdGlvbn1gO1xuXHRcdGNvbnN0IHN1Z2dlc3Rpb24gPSByZW1vdmVfcGFyZW5zID8gJ3JlbW92ZSB0aGUgdHJhaWxpbmcgYCgpYCcgOiAnYWRkIGEgbGVhZGluZyBgKCkgPT5gJztcblxuXHRcdHcuZXZlbnRfaGFuZGxlcl9pbnZhbGlkKGRlc2NyaXB0aW9uLCBzdWdnZXN0aW9uKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cdGhhbmRsZXI/LmFwcGx5KGVsZW1lbnQsIGFyZ3MpO1xufVxuIiwgIi8qKiBAcGFyYW0ge3N0cmluZ30gaHRtbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwoaHRtbCkge1xuXHR2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cdGVsZW0uaW5uZXJIVE1MID0gaHRtbC5yZXBsYWNlQWxsKCc8IT4nLCAnPCEtLS0tPicpOyAvLyBYSFRNTCBjb21wbGlhbmNlXG5cdHJldHVybiBlbGVtLmNvbnRlbnQ7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIEVmZmVjdE5vZGVzLCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBUZW1wbGF0ZVN0cnVjdHVyZSB9IGZyb20gJy4vdHlwZXMnICovXG5pbXBvcnQgeyBoeWRyYXRlX25leHQsIGh5ZHJhdGVfbm9kZSwgaHlkcmF0aW5nLCBzZXRfaHlkcmF0ZV9ub2RlIH0gZnJvbSAnLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHtcblx0Y3JlYXRlX3RleHQsXG5cdGdldF9maXJzdF9jaGlsZCxcblx0aXNfZmlyZWZveCxcblx0Y3JlYXRlX2VsZW1lbnQsXG5cdGNyZWF0ZV9mcmFnbWVudCxcblx0Y3JlYXRlX2NvbW1lbnQsXG5cdHNldF9hdHRyaWJ1dGVcbn0gZnJvbSAnLi9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwgfSBmcm9tICcuL3JlY29uY2lsZXIuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0TkFNRVNQQUNFX01BVEhNTCxcblx0TkFNRVNQQUNFX1NWRyxcblx0VEVNUExBVEVfRlJBR01FTlQsXG5cdFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSxcblx0VEVNUExBVEVfVVNFX01BVEhNTCxcblx0VEVNUExBVEVfVVNFX1NWR1xufSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQ09NTUVOVF9OT0RFLCBET0NVTUVOVF9GUkFHTUVOVF9OT0RFLCBFRkZFQ1RfUkFOLCBURVhUX05PREUgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IHN0YXJ0XG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZSB8IG51bGx9IGVuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduX25vZGVzKHN0YXJ0LCBlbmQpIHtcblx0dmFyIGVmZmVjdCA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cdGlmIChlZmZlY3Qubm9kZXMgPT09IG51bGwpIHtcblx0XHRlZmZlY3Qubm9kZXMgPSB7IHN0YXJ0LCBlbmQsIGE6IG51bGwsIHQ6IG51bGwgfTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqIEByZXR1cm5zIHsoKSA9PiBOb2RlIHwgTm9kZVtdfVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tX2h0bWwoY29udGVudCwgZmxhZ3MpIHtcblx0dmFyIGlzX2ZyYWdtZW50ID0gKGZsYWdzICYgVEVNUExBVEVfRlJBR01FTlQpICE9PSAwO1xuXHR2YXIgdXNlX2ltcG9ydF9ub2RlID0gKGZsYWdzICYgVEVNUExBVEVfVVNFX0lNUE9SVF9OT0RFKSAhPT0gMDtcblxuXHQvKiogQHR5cGUge05vZGV9ICovXG5cdHZhciBub2RlO1xuXG5cdC8qKlxuXHQgKiBXaGV0aGVyIG9yIG5vdCB0aGUgZmlyc3QgaXRlbSBpcyBhIHRleHQvZWxlbWVudCBub2RlLiBJZiBub3QsIHdlIG5lZWQgdG9cblx0ICogY3JlYXRlIGFuIGFkZGl0aW9uYWwgY29tbWVudCBub2RlIHRvIGFjdCBhcyBgZWZmZWN0Lm5vZGVzLnN0YXJ0YFxuXHQgKi9cblx0dmFyIGhhc19zdGFydCA9ICFjb250ZW50LnN0YXJ0c1dpdGgoJzwhPicpO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0YXNzaWduX25vZGVzKGh5ZHJhdGVfbm9kZSwgbnVsbCk7XG5cdFx0XHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblxuXHRcdGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vZGUgPSBjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sKGhhc19zdGFydCA/IGNvbnRlbnQgOiAnPCE+JyArIGNvbnRlbnQpO1xuXHRcdFx0aWYgKCFpc19mcmFnbWVudCkgbm9kZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKG5vZGUpKTtcblx0XHR9XG5cblx0XHR2YXIgY2xvbmUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKFxuXHRcdFx0dXNlX2ltcG9ydF9ub2RlIHx8IGlzX2ZpcmVmb3ggPyBkb2N1bWVudC5pbXBvcnROb2RlKG5vZGUsIHRydWUpIDogbm9kZS5jbG9uZU5vZGUodHJ1ZSlcblx0XHQpO1xuXG5cdFx0aWYgKGlzX2ZyYWdtZW50KSB7XG5cdFx0XHR2YXIgc3RhcnQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChjbG9uZSkpO1xuXHRcdFx0dmFyIGVuZCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoY2xvbmUubGFzdENoaWxkKTtcblxuXHRcdFx0YXNzaWduX25vZGVzKHN0YXJ0LCBlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoY2xvbmUsIGNsb25lKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2xvbmU7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsnc3ZnJyB8ICdtYXRoJ30gbnNcbiAqIEByZXR1cm5zIHsoKSA9PiBOb2RlIHwgTm9kZVtdfVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmZ1bmN0aW9uIGZyb21fbmFtZXNwYWNlKGNvbnRlbnQsIGZsYWdzLCBucyA9ICdzdmcnKSB7XG5cdC8qKlxuXHQgKiBXaGV0aGVyIG9yIG5vdCB0aGUgZmlyc3QgaXRlbSBpcyBhIHRleHQvZWxlbWVudCBub2RlLiBJZiBub3QsIHdlIG5lZWQgdG9cblx0ICogY3JlYXRlIGFuIGFkZGl0aW9uYWwgY29tbWVudCBub2RlIHRvIGFjdCBhcyBgZWZmZWN0Lm5vZGVzLnN0YXJ0YFxuXHQgKi9cblx0dmFyIGhhc19zdGFydCA9ICFjb250ZW50LnN0YXJ0c1dpdGgoJzwhPicpO1xuXG5cdHZhciBpc19mcmFnbWVudCA9IChmbGFncyAmIFRFTVBMQVRFX0ZSQUdNRU5UKSAhPT0gMDtcblx0dmFyIHdyYXBwZWQgPSBgPCR7bnN9PiR7aGFzX3N0YXJ0ID8gY29udGVudCA6ICc8IT4nICsgY29udGVudH08LyR7bnN9PmA7XG5cblx0LyoqIEB0eXBlIHtFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudH0gKi9cblx0dmFyIG5vZGU7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoaHlkcmF0ZV9ub2RlLCBudWxsKTtcblx0XHRcdHJldHVybiBoeWRyYXRlX25vZGU7XG5cdFx0fVxuXG5cdFx0aWYgKCFub2RlKSB7XG5cdFx0XHR2YXIgZnJhZ21lbnQgPSAvKiogQHR5cGUge0RvY3VtZW50RnJhZ21lbnR9ICovIChjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sKHdyYXBwZWQpKTtcblx0XHRcdHZhciByb290ID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKGZyYWdtZW50KSk7XG5cblx0XHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0XHRub2RlID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRcdFx0XHR3aGlsZSAoZ2V0X2ZpcnN0X2NoaWxkKHJvb3QpKSB7XG5cdFx0XHRcdFx0bm9kZS5hcHBlbmRDaGlsZCgvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChyb290KSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKHJvb3QpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgY2xvbmUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcblxuXHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQoY2xvbmUpKTtcblx0XHRcdHZhciBlbmQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGNsb25lLmxhc3RDaGlsZCk7XG5cblx0XHRcdGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXNzaWduX25vZGVzKGNsb25lLCBjbG9uZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV9zdmcoY29udGVudCwgZmxhZ3MpIHtcblx0cmV0dXJuIGZyb21fbmFtZXNwYWNlKGNvbnRlbnQsIGZsYWdzLCAnc3ZnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tX21hdGhtbChjb250ZW50LCBmbGFncykge1xuXHRyZXR1cm4gZnJvbV9uYW1lc3BhY2UoY29udGVudCwgZmxhZ3MsICdtYXRoJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZVN0cnVjdHVyZVtdfSBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7dHlwZW9mIE5BTUVTUEFDRV9TVkcgfCB0eXBlb2YgTkFNRVNQQUNFX01BVEhNTCB8IHVuZGVmaW5lZH0gW25zXVxuICovXG5mdW5jdGlvbiBmcmFnbWVudF9mcm9tX3RyZWUoc3RydWN0dXJlLCBucykge1xuXHR2YXIgZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQoKTtcblxuXHRmb3IgKHZhciBpdGVtIG9mIHN0cnVjdHVyZSkge1xuXHRcdGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGZyYWdtZW50LmFwcGVuZChjcmVhdGVfdGV4dChpdGVtKSk7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHQvLyBpZiBgcHJlc2VydmVDb21tZW50cyA9PT0gdHJ1ZWAsIGNvbW1lbnRzIGFyZSByZXByZXNlbnRlZCBhcyBgWycvLyA8ZGF0YT4nXWBcblx0XHRpZiAoaXRlbSA9PT0gdW5kZWZpbmVkIHx8IGl0ZW1bMF1bMF0gPT09ICcvJykge1xuXHRcdFx0ZnJhZ21lbnQuYXBwZW5kKGNyZWF0ZV9jb21tZW50KGl0ZW0gPyBpdGVtWzBdLnNsaWNlKDMpIDogJycpKTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IFtuYW1lLCBhdHRyaWJ1dGVzLCAuLi5jaGlsZHJlbl0gPSBpdGVtO1xuXG5cdFx0Y29uc3QgbmFtZXNwYWNlID0gbmFtZSA9PT0gJ3N2ZycgPyBOQU1FU1BBQ0VfU1ZHIDogbmFtZSA9PT0gJ21hdGgnID8gTkFNRVNQQUNFX01BVEhNTCA6IG5zO1xuXG5cdFx0dmFyIGVsZW1lbnQgPSBjcmVhdGVfZWxlbWVudChuYW1lLCBuYW1lc3BhY2UsIGF0dHJpYnV0ZXM/LmlzKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRzZXRfYXR0cmlidXRlKGVsZW1lbnQsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0XHR9XG5cblx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHRcdFx0dmFyIHRhcmdldCA9XG5cdFx0XHRcdGVsZW1lbnQudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJ1xuXHRcdFx0XHRcdD8gLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAoZWxlbWVudCkuY29udGVudFxuXHRcdFx0XHRcdDogZWxlbWVudDtcblxuXHRcdFx0dGFyZ2V0LmFwcGVuZChcblx0XHRcdFx0ZnJhZ21lbnRfZnJvbV90cmVlKGNoaWxkcmVuLCBlbGVtZW50LnRhZ05hbWUgPT09ICdmb3JlaWduT2JqZWN0JyA/IHVuZGVmaW5lZCA6IG5hbWVzcGFjZSlcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0ZnJhZ21lbnQuYXBwZW5kKGVsZW1lbnQpO1xuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVTdHJ1Y3R1cmVbXX0gc3RydWN0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqIEByZXR1cm5zIHsoKSA9PiBOb2RlIHwgTm9kZVtdfVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tX3RyZWUoc3RydWN0dXJlLCBmbGFncykge1xuXHR2YXIgaXNfZnJhZ21lbnQgPSAoZmxhZ3MgJiBURU1QTEFURV9GUkFHTUVOVCkgIT09IDA7XG5cdHZhciB1c2VfaW1wb3J0X25vZGUgPSAoZmxhZ3MgJiBURU1QTEFURV9VU0VfSU1QT1JUX05PREUpICE9PSAwO1xuXG5cdC8qKiBAdHlwZSB7Tm9kZX0gKi9cblx0dmFyIG5vZGU7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoaHlkcmF0ZV9ub2RlLCBudWxsKTtcblx0XHRcdHJldHVybiBoeWRyYXRlX25vZGU7XG5cdFx0fVxuXG5cdFx0aWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgbnMgPVxuXHRcdFx0XHQoZmxhZ3MgJiBURU1QTEFURV9VU0VfU1ZHKSAhPT0gMFxuXHRcdFx0XHRcdD8gTkFNRVNQQUNFX1NWR1xuXHRcdFx0XHRcdDogKGZsYWdzICYgVEVNUExBVEVfVVNFX01BVEhNTCkgIT09IDBcblx0XHRcdFx0XHRcdD8gTkFNRVNQQUNFX01BVEhNTFxuXHRcdFx0XHRcdFx0OiB1bmRlZmluZWQ7XG5cblx0XHRcdG5vZGUgPSBmcmFnbWVudF9mcm9tX3RyZWUoc3RydWN0dXJlLCBucyk7XG5cdFx0XHRpZiAoIWlzX2ZyYWdtZW50KSBub2RlID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQobm9kZSkpO1xuXHRcdH1cblxuXHRcdHZhciBjbG9uZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoXG5cdFx0XHR1c2VfaW1wb3J0X25vZGUgfHwgaXNfZmlyZWZveCA/IGRvY3VtZW50LmltcG9ydE5vZGUobm9kZSwgdHJ1ZSkgOiBub2RlLmNsb25lTm9kZSh0cnVlKVxuXHRcdCk7XG5cblx0XHRpZiAoaXNfZnJhZ21lbnQpIHtcblx0XHRcdHZhciBzdGFydCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKGNsb25lKSk7XG5cdFx0XHR2YXIgZW5kID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChjbG9uZS5sYXN0Q2hpbGQpO1xuXG5cdFx0XHRhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhjbG9uZSwgY2xvbmUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjbG9uZTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aF9zY3JpcHQoZm4pIHtcblx0cmV0dXJuICgpID0+IHJ1bl9zY3JpcHRzKGZuKCkpO1xufVxuXG4vKipcbiAqIENyZWF0aW5nIGEgZG9jdW1lbnQgZnJhZ21lbnQgZnJvbSBIVE1MIHRoYXQgY29udGFpbnMgc2NyaXB0IHRhZ3Mgd2lsbCBub3QgZXhlY3V0ZVxuICogdGhlIHNjcmlwdHMuIFdlIG5lZWQgdG8gcmVwbGFjZSB0aGUgc2NyaXB0IHRhZ3Mgd2l0aCBuZXcgb25lcyBzbyB0aGF0IHRoZXkgYXJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIHtFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudH0gbm9kZVxuICogQHJldHVybnMge05vZGUgfCBOb2RlW119XG4gKi9cbmZ1bmN0aW9uIHJ1bl9zY3JpcHRzKG5vZGUpIHtcblx0Ly8gc2NyaXB0cyB3ZXJlIFNTUidkLCBpbiB3aGljaCBjYXNlIHRoZXkgd2lsbCBydW5cblx0aWYgKGh5ZHJhdGluZykgcmV0dXJuIG5vZGU7XG5cblx0Y29uc3QgaXNfZnJhZ21lbnQgPSBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xuXHRjb25zdCBzY3JpcHRzID1cblx0XHQvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkudGFnTmFtZSA9PT0gJ1NDUklQVCdcblx0XHRcdD8gWy8qKiBAdHlwZSB7SFRNTFNjcmlwdEVsZW1lbnR9ICovIChub2RlKV1cblx0XHRcdDogbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKTtcblxuXHRjb25zdCBlZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdCAmIHsgbm9kZXM6IEVmZmVjdE5vZGVzIH19ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHRmb3IgKGNvbnN0IHNjcmlwdCBvZiBzY3JpcHRzKSB7XG5cdFx0Y29uc3QgY2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0XHRmb3IgKHZhciBhdHRyaWJ1dGUgb2Ygc2NyaXB0LmF0dHJpYnV0ZXMpIHtcblx0XHRcdGNsb25lLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUubmFtZSwgYXR0cmlidXRlLnZhbHVlKTtcblx0XHR9XG5cblx0XHRjbG9uZS50ZXh0Q29udGVudCA9IHNjcmlwdC50ZXh0Q29udGVudDtcblxuXHRcdC8vIFRoZSBzY3JpcHQgaGFzIGNoYW5nZWQgLSBpZiBpdCdzIGF0IHRoZSBlZGdlcywgdGhlIGVmZmVjdCBub3cgcG9pbnRzIGF0IGRlYWQgbm9kZXNcblx0XHRpZiAoaXNfZnJhZ21lbnQgPyBub2RlLmZpcnN0Q2hpbGQgPT09IHNjcmlwdCA6IG5vZGUgPT09IHNjcmlwdCkge1xuXHRcdFx0ZWZmZWN0Lm5vZGVzLnN0YXJ0ID0gY2xvbmU7XG5cdFx0fVxuXHRcdGlmIChpc19mcmFnbWVudCA/IG5vZGUubGFzdENoaWxkID09PSBzY3JpcHQgOiBub2RlID09PSBzY3JpcHQpIHtcblx0XHRcdGVmZmVjdC5ub2Rlcy5lbmQgPSBjbG9uZTtcblx0XHR9XG5cblx0XHRzY3JpcHQucmVwbGFjZVdpdGgoY2xvbmUpO1xuXHR9XG5cdHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIERvbid0IG1hcmsgdGhpcyBhcyBzaWRlLWVmZmVjdC1mcmVlLCBoeWRyYXRpb24gbmVlZHMgdG8gd2FsayBhbGwgbm9kZXNcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGV4dCh2YWx1ZSA9ICcnKSB7XG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0dmFyIHQgPSBjcmVhdGVfdGV4dCh2YWx1ZSArICcnKTtcblx0XHRhc3NpZ25fbm9kZXModCwgdCk7XG5cdFx0cmV0dXJuIHQ7XG5cdH1cblxuXHR2YXIgbm9kZSA9IGh5ZHJhdGVfbm9kZTtcblxuXHRpZiAobm9kZS5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0Ly8gaWYgYW4ge2V4cHJlc3Npb259IGlzIGVtcHR5IGR1cmluZyBTU1IsIHdlIG5lZWQgdG8gaW5zZXJ0IGFuIGVtcHR5IHRleHQgbm9kZVxuXHRcdG5vZGUuYmVmb3JlKChub2RlID0gY3JlYXRlX3RleHQoKSkpO1xuXHRcdHNldF9oeWRyYXRlX25vZGUobm9kZSk7XG5cdH1cblxuXHRhc3NpZ25fbm9kZXMobm9kZSwgbm9kZSk7XG5cdHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBEb2N1bWVudEZyYWdtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudCgpIHtcblx0Ly8gd2UncmUgbm90IGRlbGVnYXRpbmcgdG8gYHRlbXBsYXRlYCBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRhc3NpZ25fbm9kZXMoaHlkcmF0ZV9ub2RlLCBudWxsKTtcblx0XHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xuXHR9XG5cblx0dmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdHZhciBzdGFydCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXHR2YXIgYW5jaG9yID0gY3JlYXRlX3RleHQoKTtcblx0ZnJhZy5hcHBlbmQoc3RhcnQsIGFuY2hvcik7XG5cblx0YXNzaWduX25vZGVzKHN0YXJ0LCBhbmNob3IpO1xuXG5cdHJldHVybiBmcmFnO1xufVxuXG4vKipcbiAqIEFzc2lnbiB0aGUgY3JlYXRlZCAob3IgaW4gaHlkcmF0aW9uIG1vZGUsIHRyYXZlcnNlZCkgZG9tIGVsZW1lbnRzIHRvIHRoZSBjdXJyZW50IGJsb2NrXG4gKiBhbmQgaW5zZXJ0IHRoZSBlbGVtZW50cyBpbnRvIHRoZSBkb20gKGluIGNsaWVudCBtb2RlKS5cbiAqIEBwYXJhbSB7VGV4dCB8IENvbW1lbnQgfCBFbGVtZW50fSBhbmNob3JcbiAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudCB8IEVsZW1lbnR9IGRvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGFuY2hvciwgZG9tKSB7XG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHR2YXIgZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3QgJiB7IG5vZGVzOiBFZmZlY3ROb2RlcyB9fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cblx0XHQvLyBXaGVuIGh5ZHJhdGluZyBhbmQgb3V0ZXIgY29tcG9uZW50IGFuZCBhbiBpbm5lciBjb21wb25lbnQgaXMgYXN5bmMsIGkuZS4gYmxvY2tlZCBvbiBhIHByb21pc2UsXG5cdFx0Ly8gdGhlbiBieSB0aGUgdGltZSB0aGUgaW5uZXIgcmVzb2x2ZXMgd2UgaGF2ZSBhbHJlYWR5IGFkdmFuY2VkIHRvIHRoZSBlbmQgb2YgdGhlIGh5ZHJhdGVkIG5vZGVzXG5cdFx0Ly8gb2YgdGhlIHBhcmVudCBjb21wb25lbnQuIENoZWNrIGZvciBkZWZpbmVkIGZvciB0aGF0IHJlYXNvbiB0byBhdm9pZCByZXdpbmRpbmcgdGhlIHBhcmVudCdzIGVuZCBtYXJrZXIuXG5cdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9SQU4pID09PSAwIHx8IGVmZmVjdC5ub2Rlcy5lbmQgPT09IG51bGwpIHtcblx0XHRcdGVmZmVjdC5ub2Rlcy5lbmQgPSBoeWRyYXRlX25vZGU7XG5cdFx0fVxuXG5cdFx0aHlkcmF0ZV9uZXh0KCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGFuY2hvciA9PT0gbnVsbCkge1xuXHRcdC8vIGVkZ2UgY2FzZSBcdTIwMTQgdm9pZCBgPHN2ZWx0ZTplbGVtZW50PmAgd2l0aCBjb250ZW50XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YW5jaG9yLmJlZm9yZSgvKiogQHR5cGUge05vZGV9ICovIChkb20pKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgKG9yIGh5ZHJhdGUpIGFuIHVuaXF1ZSBVSUQgZm9yIHRoZSBjb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wc19pZCgpIHtcblx0aWYgKFxuXHRcdGh5ZHJhdGluZyAmJlxuXHRcdGh5ZHJhdGVfbm9kZSAmJlxuXHRcdGh5ZHJhdGVfbm9kZS5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFICYmXG5cdFx0aHlkcmF0ZV9ub2RlLnRleHRDb250ZW50Py5zdGFydHNXaXRoKGAkYClcblx0KSB7XG5cdFx0Y29uc3QgaWQgPSBoeWRyYXRlX25vZGUudGV4dENvbnRlbnQuc3Vic3RyaW5nKDEpO1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHRcdHJldHVybiBpZDtcblx0fVxuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyB3YXkgd2UgZW5zdXJlIHRoZSBpZCBpcyB1bmlxdWUgZXZlbiBhY3Jvc3MgU3ZlbHRlIHJ1bnRpbWVzXG5cdCh3aW5kb3cuX19zdmVsdGUgPz89IHt9KS51aWQgPz89IDE7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gYGMke3dpbmRvdy5fX3N2ZWx0ZS51aWQrK31gO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50Q29udGV4dCwgRWZmZWN0LCBFZmZlY3ROb2RlcywgVGVtcGxhdGVOb2RlIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRUeXBlLCBTdmVsdGVDb21wb25lbnQsIE1vdW50T3B0aW9ucyB9IGZyb20gJy4uLy4uL2luZGV4LmpzJyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRjbGVhcl90ZXh0X2NvbnRlbnQsXG5cdGNyZWF0ZV90ZXh0LFxuXHRnZXRfZmlyc3RfY2hpbGQsXG5cdGdldF9uZXh0X3NpYmxpbmcsXG5cdGluaXRfb3BlcmF0aW9uc1xufSBmcm9tICcuL2RvbS9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IEhZRFJBVElPTl9FTkQsIEhZRFJBVElPTl9FUlJPUiwgSFlEUkFUSU9OX1NUQVJUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QgfSBmcm9tICcuL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgcHVzaCwgcG9wLCBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfcm9vdCB9IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGVfbm9kZSwgaHlkcmF0aW5nLCBzZXRfaHlkcmF0ZV9ub2RlLCBzZXRfaHlkcmF0aW5nIH0gZnJvbSAnLi9kb20vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGFycmF5X2Zyb20gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0YWxsX3JlZ2lzdGVyZWRfZXZlbnRzLFxuXHRoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sXG5cdHJvb3RfZXZlbnRfaGFuZGxlc1xufSBmcm9tICcuL2RvbS9lbGVtZW50cy9ldmVudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuL3dhcm5pbmdzLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgYXNzaWduX25vZGVzIH0gZnJvbSAnLi9kb20vdGVtcGxhdGUuanMnO1xuaW1wb3J0IHsgaXNfcGFzc2l2ZV9ldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSwgU1RBVEVfU1lNQk9MIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYm91bmRhcnkgfSBmcm9tICcuL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuXG4vKipcbiAqIFRoaXMgaXMgbm9ybWFsbHkgdHJ1ZSBcdTIwMTQgYmxvY2sgZWZmZWN0cyBzaG91bGQgcnVuIHRoZWlyIGludHJvIHRyYW5zaXRpb25zIFx1MjAxNFxuICogYnV0IGlzIGZhbHNlIGR1cmluZyBoeWRyYXRpb24gKHVubGVzcyBgb3B0aW9ucy5pbnRyb2AgaXMgYHRydWVgKSBhbmRcbiAqIHdoZW4gY3JlYXRpbmcgdGhlIGNoaWxkcmVuIG9mIGEgYDxzdmVsdGU6ZWxlbWVudD5gIHRoYXQganVzdCBjaGFuZ2VkIHRhZ1xuICovXG5leHBvcnQgbGV0IHNob3VsZF9pbnRybyA9IHRydWU7XG5cbi8qKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3Nob3VsZF9pbnRybyh2YWx1ZSkge1xuXHRzaG91bGRfaW50cm8gPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfdGV4dCh0ZXh0LCB2YWx1ZSkge1xuXHQvLyBGb3Igb2JqZWN0cywgd2UgYXBwbHkgc3RyaW5nIGNvZXJjaW9uICh3aGljaCBtaWdodCBtYWtlIHRoaW5ncyBsaWtlICRzdGF0ZSBhcnJheSByZWZlcmVuY2VzIGluIHRoZSB0ZW1wbGF0ZSByZWFjdGl2ZSkgYmVmb3JlIGRpZmZpbmdcblx0dmFyIHN0ciA9IHZhbHVlID09IG51bGwgPyAnJyA6IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyB2YWx1ZSArICcnIDogdmFsdWU7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0aWYgKHN0ciAhPT0gKHRleHQuX190ID8/PSB0ZXh0Lm5vZGVWYWx1ZSkpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0dGV4dC5fX3QgPSBzdHI7XG5cdFx0dGV4dC5ub2RlVmFsdWUgPSBzdHIgKyAnJztcblx0fVxufVxuXG4vKipcbiAqIE1vdW50cyBhIGNvbXBvbmVudCB0byB0aGUgZ2l2ZW4gdGFyZ2V0IGFuZCByZXR1cm5zIHRoZSBleHBvcnRzIGFuZCBwb3RlbnRpYWxseSB0aGUgcHJvcHMgKGlmIGNvbXBpbGVkIHdpdGggYGFjY2Vzc29yczogdHJ1ZWApIG9mIHRoZSBjb21wb25lbnQuXG4gKiBUcmFuc2l0aW9ucyB3aWxsIHBsYXkgZHVyaW5nIHRoZSBpbml0aWFsIHJlbmRlciB1bmxlc3MgdGhlIGBpbnRyb2Agb3B0aW9uIGlzIHNldCB0byBgZmFsc2VgLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gUHJvcHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHBhcmFtIHtDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxQcm9wcz4+IHwgQ29tcG9uZW50PFByb3BzLCBFeHBvcnRzLCBhbnk+fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TW91bnRPcHRpb25zPFByb3BzPn0gb3B0aW9uc1xuICogQHJldHVybnMge0V4cG9ydHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0cmV0dXJuIF9tb3VudChjb21wb25lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEh5ZHJhdGVzIGEgY29tcG9uZW50IG9uIHRoZSBnaXZlbiB0YXJnZXQgYW5kIHJldHVybnMgdGhlIGV4cG9ydHMgYW5kIHBvdGVudGlhbGx5IHRoZSBwcm9wcyAoaWYgY29tcGlsZWQgd2l0aCBgYWNjZXNzb3JzOiB0cnVlYCkgb2YgdGhlIGNvbXBvbmVudFxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gUHJvcHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHBhcmFtIHtDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxQcm9wcz4+IHwgQ29tcG9uZW50PFByb3BzLCBFeHBvcnRzLCBhbnk+fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7e30gZXh0ZW5kcyBQcm9wcyA/IHtcbiAqIFx0XHR0YXJnZXQ6IERvY3VtZW50IHwgRWxlbWVudCB8IFNoYWRvd1Jvb3Q7XG4gKiBcdFx0cHJvcHM/OiBQcm9wcztcbiAqIFx0XHRldmVudHM/OiBSZWNvcmQ8c3RyaW5nLCAoZTogYW55KSA9PiBhbnk+O1xuICogIFx0Y29udGV4dD86IE1hcDxhbnksIGFueT47XG4gKiBcdFx0aW50cm8/OiBib29sZWFuO1xuICogXHRcdHJlY292ZXI/OiBib29sZWFuO1xuICogXHR9IDoge1xuICogXHRcdHRhcmdldDogRG9jdW1lbnQgfCBFbGVtZW50IHwgU2hhZG93Um9vdDtcbiAqIFx0XHRwcm9wczogUHJvcHM7XG4gKiBcdFx0ZXZlbnRzPzogUmVjb3JkPHN0cmluZywgKGU6IGFueSkgPT4gYW55PjtcbiAqICBcdGNvbnRleHQ/OiBNYXA8YW55LCBhbnk+O1xuICogXHRcdGludHJvPzogYm9vbGVhbjtcbiAqIFx0XHRyZWNvdmVyPzogYm9vbGVhbjtcbiAqIFx0fX0gb3B0aW9uc1xuICogQHJldHVybnMge0V4cG9ydHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGNvbXBvbmVudCwgb3B0aW9ucykge1xuXHRpbml0X29wZXJhdGlvbnMoKTtcblx0b3B0aW9ucy5pbnRybyA9IG9wdGlvbnMuaW50cm8gPz8gZmFsc2U7XG5cdGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuXHRjb25zdCB3YXNfaHlkcmF0aW5nID0gaHlkcmF0aW5nO1xuXHRjb25zdCBwcmV2aW91c19oeWRyYXRlX25vZGUgPSBoeWRyYXRlX25vZGU7XG5cblx0dHJ5IHtcblx0XHR2YXIgYW5jaG9yID0gZ2V0X2ZpcnN0X2NoaWxkKHRhcmdldCk7XG5cblx0XHR3aGlsZSAoXG5cdFx0XHRhbmNob3IgJiZcblx0XHRcdChhbmNob3Iubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSB8fCAvKiogQHR5cGUge0NvbW1lbnR9ICovIChhbmNob3IpLmRhdGEgIT09IEhZRFJBVElPTl9TVEFSVClcblx0XHQpIHtcblx0XHRcdGFuY2hvciA9IGdldF9uZXh0X3NpYmxpbmcoYW5jaG9yKTtcblx0XHR9XG5cblx0XHRpZiAoIWFuY2hvcikge1xuXHRcdFx0dGhyb3cgSFlEUkFUSU9OX0VSUk9SO1xuXHRcdH1cblxuXHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSgvKiogQHR5cGUge0NvbW1lbnR9ICovIChhbmNob3IpKTtcblxuXHRcdGNvbnN0IGluc3RhbmNlID0gX21vdW50KGNvbXBvbmVudCwgeyAuLi5vcHRpb25zLCBhbmNob3IgfSk7XG5cblx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblxuXHRcdHJldHVybiAvKiogIEB0eXBlIHtFeHBvcnRzfSAqLyAoaW5zdGFuY2UpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIHJlLXRocm93IFN2ZWx0ZSBlcnJvcnMgLSB0aGV5IGFyZSBjZXJ0YWlubHkgbm90IHJlbGF0ZWQgdG8gaHlkcmF0aW9uXG5cdFx0aWYgKFxuXHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0ZXJyb3IubWVzc2FnZS5zcGxpdCgnXFxuJykuc29tZSgobGluZSkgPT4gbGluZS5zdGFydHNXaXRoKCdodHRwczovL3N2ZWx0ZS5kZXYvZS8nKSlcblx0XHQpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0XHRpZiAoZXJyb3IgIT09IEhZRFJBVElPTl9FUlJPUikge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdGNvbnNvbGUud2FybignRmFpbGVkIHRvIGh5ZHJhdGU6ICcsIGVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAob3B0aW9ucy5yZWNvdmVyID09PSBmYWxzZSkge1xuXHRcdFx0ZS5oeWRyYXRpb25fZmFpbGVkKCk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYW4gZXJyb3Igb2NjdXJyZWQgYWJvdmUsIHRoZSBvcGVyYXRpb25zIG1pZ2h0IG5vdCB5ZXQgaGF2ZSBiZWVuIGluaXRpYWxpc2VkLlxuXHRcdGluaXRfb3BlcmF0aW9ucygpO1xuXHRcdGNsZWFyX3RleHRfY29udGVudCh0YXJnZXQpO1xuXG5cdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cdFx0cmV0dXJuIG1vdW50KGNvbXBvbmVudCwgb3B0aW9ucyk7XG5cdH0gZmluYWxseSB7XG5cdFx0c2V0X2h5ZHJhdGluZyh3YXNfaHlkcmF0aW5nKTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKHByZXZpb3VzX2h5ZHJhdGVfbm9kZSk7XG5cdH1cbn1cblxuLyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBudW1iZXI+fSAqL1xuY29uc3QgZG9jdW1lbnRfbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHBhcmFtIHtDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxhbnk+PiB8IENvbXBvbmVudDxhbnk+fSBDb21wb25lbnRcbiAqIEBwYXJhbSB7TW91bnRPcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJucyB7RXhwb3J0c31cbiAqL1xuZnVuY3Rpb24gX21vdW50KENvbXBvbmVudCwgeyB0YXJnZXQsIGFuY2hvciwgcHJvcHMgPSB7fSwgZXZlbnRzLCBjb250ZXh0LCBpbnRybyA9IHRydWUgfSkge1xuXHRpbml0X29wZXJhdGlvbnMoKTtcblxuXHQvKiogQHR5cGUge1NldDxzdHJpbmc+fSAqL1xuXHR2YXIgcmVnaXN0ZXJlZF9ldmVudHMgPSBuZXcgU2V0KCk7XG5cblx0LyoqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZXZlbnRzICovXG5cdHZhciBldmVudF9oYW5kbGUgPSAoZXZlbnRzKSA9PiB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBldmVudF9uYW1lID0gZXZlbnRzW2ldO1xuXG5cdFx0XHRpZiAocmVnaXN0ZXJlZF9ldmVudHMuaGFzKGV2ZW50X25hbWUpKSBjb250aW51ZTtcblx0XHRcdHJlZ2lzdGVyZWRfZXZlbnRzLmFkZChldmVudF9uYW1lKTtcblxuXHRcdFx0dmFyIHBhc3NpdmUgPSBpc19wYXNzaXZlX2V2ZW50KGV2ZW50X25hbWUpO1xuXG5cdFx0XHQvLyBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIGJvdGggdGhlIGNvbnRhaW5lciBhbmQgdGhlIGRvY3VtZW50LlxuXHRcdFx0Ly8gVGhlIGNvbnRhaW5lciBsaXN0ZW5lciBlbnN1cmVzIHdlIGNhdGNoIGV2ZW50cyBmcm9tIHdpdGhpbiBpbiBjYXNlXG5cdFx0XHQvLyB0aGUgb3V0ZXIgY29udGVudCBzdG9wcyBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQuXG5cdFx0XHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sIHsgcGFzc2l2ZSB9KTtcblxuXHRcdFx0dmFyIG4gPSBkb2N1bWVudF9saXN0ZW5lcnMuZ2V0KGV2ZW50X25hbWUpO1xuXG5cdFx0XHRpZiAobiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIFRoZSBkb2N1bWVudCBsaXN0ZW5lciBlbnN1cmVzIHdlIGNhdGNoIGV2ZW50cyB0aGF0IG9yaWdpbmF0ZSBmcm9tIGVsZW1lbnRzIHRoYXQgd2VyZVxuXHRcdFx0XHQvLyBtYW51YWxseSBtb3ZlZCBvdXRzaWRlIG9mIHRoZSBjb250YWluZXIgKGUuZy4gdmlhIG1hbnVhbCBwb3J0YWxzKS5cblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sIHsgcGFzc2l2ZSB9KTtcblx0XHRcdFx0ZG9jdW1lbnRfbGlzdGVuZXJzLnNldChldmVudF9uYW1lLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgbiArIDEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRldmVudF9oYW5kbGUoYXJyYXlfZnJvbShhbGxfcmVnaXN0ZXJlZF9ldmVudHMpKTtcblx0cm9vdF9ldmVudF9oYW5kbGVzLmFkZChldmVudF9oYW5kbGUpO1xuXG5cdC8qKiBAdHlwZSB7RXhwb3J0c30gKi9cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciB3aWxsIGJlIGRlZmluZWQgYmVjYXVzZSB0aGUgcmVuZGVyIGVmZmVjdCBydW5zIHN5bmNocm9ub3VzbHlcblx0dmFyIGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcblxuXHR2YXIgdW5tb3VudCA9IGNvbXBvbmVudF9yb290KCgpID0+IHtcblx0XHR2YXIgYW5jaG9yX25vZGUgPSBhbmNob3IgPz8gdGFyZ2V0LmFwcGVuZENoaWxkKGNyZWF0ZV90ZXh0KCkpO1xuXG5cdFx0Ym91bmRhcnkoXG5cdFx0XHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGFuY2hvcl9ub2RlKSxcblx0XHRcdHtcblx0XHRcdFx0cGVuZGluZzogKCkgPT4ge31cblx0XHRcdH0sXG5cdFx0XHQoYW5jaG9yX25vZGUpID0+IHtcblx0XHRcdFx0aWYgKGNvbnRleHQpIHtcblx0XHRcdFx0XHRwdXNoKHt9KTtcblx0XHRcdFx0XHR2YXIgY3R4ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdFx0XHRcdGN0eC5jID0gY29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChldmVudHMpIHtcblx0XHRcdFx0XHQvLyBXZSBjYW4ndCBzcHJlYWQgdGhlIG9iamVjdCBvciBlbHNlIHdlJ2QgbG9zZSB0aGUgc3RhdGUgcHJveHkgc3R1ZmYsIGlmIGl0IGlzIG9uZVxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAocHJvcHMpLiQkZXZlbnRzID0gZXZlbnRzO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0XHRcdGFzc2lnbl9ub2RlcygvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGFuY2hvcl9ub2RlKSwgbnVsbCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzaG91bGRfaW50cm8gPSBpbnRybztcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciB0aGUgcHVibGljIHR5cGluZ3MgYXJlIG5vdCB3aGF0IHRoZSBhY3R1YWwgZnVuY3Rpb24gbG9va3MgbGlrZVxuXHRcdFx0XHRjb21wb25lbnQgPSBDb21wb25lbnQoYW5jaG9yX25vZGUsIHByb3BzKSB8fCB7fTtcblx0XHRcdFx0c2hvdWxkX2ludHJvID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtFZmZlY3QgJiB7IG5vZGVzOiBFZmZlY3ROb2RlcyB9fSAqLyAoYWN0aXZlX2VmZmVjdCkubm9kZXMuZW5kID0gaHlkcmF0ZV9ub2RlO1xuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0aHlkcmF0ZV9ub2RlID09PSBudWxsIHx8XG5cdFx0XHRcdFx0XHRoeWRyYXRlX25vZGUubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSB8fFxuXHRcdFx0XHRcdFx0LyoqIEB0eXBlIHtDb21tZW50fSAqLyAoaHlkcmF0ZV9ub2RlKS5kYXRhICE9PSBIWURSQVRJT05fRU5EXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHR3Lmh5ZHJhdGlvbl9taXNtYXRjaCgpO1xuXHRcdFx0XHRcdFx0dGhyb3cgSFlEUkFUSU9OX0VSUk9SO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb250ZXh0KSB7XG5cdFx0XHRcdFx0cG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGZvciAodmFyIGV2ZW50X25hbWUgb2YgcmVnaXN0ZXJlZF9ldmVudHMpIHtcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKTtcblxuXHRcdFx0XHR2YXIgbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZG9jdW1lbnRfbGlzdGVuZXJzLmdldChldmVudF9uYW1lKSk7XG5cblx0XHRcdFx0aWYgKC0tbiA9PT0gMCkge1xuXHRcdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKTtcblx0XHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuZGVsZXRlKGV2ZW50X25hbWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cm9vdF9ldmVudF9oYW5kbGVzLmRlbGV0ZShldmVudF9oYW5kbGUpO1xuXG5cdFx0XHRpZiAoYW5jaG9yX25vZGUgIT09IGFuY2hvcikge1xuXHRcdFx0XHRhbmNob3Jfbm9kZS5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChhbmNob3Jfbm9kZSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG5cblx0bW91bnRlZF9jb21wb25lbnRzLnNldChjb21wb25lbnQsIHVubW91bnQpO1xuXHRyZXR1cm4gY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgb2YgdGhlIGNvbXBvbmVudHMgdGhhdCB3ZXJlIG1vdW50ZWQgb3IgaHlkcmF0ZWQuXG4gKiBVc2VzIGEgYFdlYWtNYXBgIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy5cbiAqL1xubGV0IG1vdW50ZWRfY29tcG9uZW50cyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qKlxuICogVW5tb3VudHMgYSBjb21wb25lbnQgdGhhdCB3YXMgcHJldmlvdXNseSBtb3VudGVkIHVzaW5nIGBtb3VudGAgb3IgYGh5ZHJhdGVgLlxuICpcbiAqIFNpbmNlIDUuMTMuMCwgaWYgYG9wdGlvbnMub3V0cm9gIGlzIGB0cnVlYCwgW3RyYW5zaXRpb25zXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvdHJhbnNpdGlvbikgd2lsbCBwbGF5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICpcbiAqIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0cmFuc2l0aW9ucyBoYXZlIGNvbXBsZXRlZCBpZiBgb3B0aW9ucy5vdXRyb2AgaXMgdHJ1ZSwgb3IgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlIChwcmlvciB0byA1LjEzLjAsIHJldHVybnMgYHZvaWRgKS5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgbW91bnQsIHVubW91bnQgfSBmcm9tICdzdmVsdGUnO1xuICogaW1wb3J0IEFwcCBmcm9tICcuL0FwcC5zdmVsdGUnO1xuICpcbiAqIGNvbnN0IGFwcCA9IG1vdW50KEFwcCwgeyB0YXJnZXQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gKlxuICogLy8gbGF0ZXIuLi5cbiAqIHVubW91bnQoYXBwLCB7IG91dHJvOiB0cnVlIH0pO1xuICogYGBgXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IGNvbXBvbmVudFxuICogQHBhcmFtIHt7IG91dHJvPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudChjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0Y29uc3QgZm4gPSBtb3VudGVkX2NvbXBvbmVudHMuZ2V0KGNvbXBvbmVudCk7XG5cblx0aWYgKGZuKSB7XG5cdFx0bW91bnRlZF9jb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xuXHRcdHJldHVybiBmbihvcHRpb25zKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRpZiAoU1RBVEVfU1lNQk9MIGluIGNvbXBvbmVudCkge1xuXHRcdFx0dy5zdGF0ZV9wcm94eV91bm1vdW50KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHcubGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50KCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgQmF0Y2gsIGN1cnJlbnRfYmF0Y2ggfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmltcG9ydCB7XG5cdGJyYW5jaCxcblx0ZGVzdHJveV9lZmZlY3QsXG5cdG1vdmVfZWZmZWN0LFxuXHRwYXVzZV9lZmZlY3QsXG5cdHJlc3VtZV9lZmZlY3Rcbn0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGVfbm9kZSwgaHlkcmF0aW5nIH0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZV90ZXh0LCBzaG91bGRfZGVmZXJfYXBwZW5kIH0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3sgZWZmZWN0OiBFZmZlY3QsIGZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50IH19IEJyYW5jaFxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIEtleVxuICovXG5leHBvcnQgY2xhc3MgQnJhbmNoTWFuYWdlciB7XG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqL1xuXHRhbmNob3I7XG5cblx0LyoqIEB0eXBlIHtNYXA8QmF0Y2gsIEtleT59ICovXG5cdCNiYXRjaGVzID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBNYXAgb2Yga2V5cyB0byBlZmZlY3RzIHRoYXQgYXJlIGN1cnJlbnRseSByZW5kZXJlZCBpbiB0aGUgRE9NLlxuXHQgKiBUaGVzZSBlZmZlY3RzIGFyZSB2aXNpYmxlIGFuZCBhY3RpdmVseSBwYXJ0IG9mIHRoZSBkb2N1bWVudCB0cmVlLlxuXHQgKiBFeGFtcGxlOlxuXHQgKiBgYGBcblx0ICogeyNpZiBjb25kaXRpb259XG5cdCAqIFx0Zm9vXG5cdCAqIHs6ZWxzZX1cblx0ICogXHRiYXJcblx0ICogey9pZn1cblx0ICogYGBgXG5cdCAqIENhbiByZXN1bHQgaW4gdGhlIGVudHJpZXMgYHRydWUtPkVmZmVjdGAgYW5kIGBmYWxzZS0+RWZmZWN0YFxuXHQgKiBAdHlwZSB7TWFwPEtleSwgRWZmZWN0Pn1cblx0ICovXG5cdCNvbnNjcmVlbiA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogU2ltaWxhciB0byAjb25zY3JlZW4gd2l0aCByZXNwZWN0IHRvIHRoZSBrZXlzLCBidXQgY29udGFpbnMgYnJhbmNoZXMgdGhhdCBhcmUgbm90IHlldFxuXHQgKiBpbiB0aGUgRE9NLCBiZWNhdXNlIHRoZWlyIGluc2VydGlvbiBpcyBkZWZlcnJlZC5cblx0ICogQHR5cGUge01hcDxLZXksIEJyYW5jaD59XG5cdCAqL1xuXHQjb2Zmc2NyZWVuID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBLZXlzIG9mIGVmZmVjdHMgdGhhdCBhcmUgY3VycmVudGx5IG91dHJvaW5nXG5cdCAqIEB0eXBlIHtTZXQ8S2V5Pn1cblx0ICovXG5cdCNvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogV2hldGhlciB0byBwYXVzZSAoaS5lLiBvdXRybykgb24gY2hhbmdlLCBvciBkZXN0cm95IGltbWVkaWF0ZWx5LlxuXHQgKiBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgYDxzdmVsdGU6ZWxlbWVudD5gXG5cdCAqL1xuXHQjdHJhbnNpdGlvbiA9IHRydWU7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBhbmNob3Jcblx0ICogQHBhcmFtIHtib29sZWFufSB0cmFuc2l0aW9uXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihhbmNob3IsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG5cdFx0dGhpcy5hbmNob3IgPSBhbmNob3I7XG5cdFx0dGhpcy4jdHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG5cdH1cblxuXHQjY29tbWl0ID0gKCkgPT4ge1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblxuXHRcdC8vIGlmIHRoaXMgYmF0Y2ggd2FzIG1hZGUgb2Jzb2xldGUsIGJhaWxcblx0XHRpZiAoIXRoaXMuI2JhdGNoZXMuaGFzKGJhdGNoKSkgcmV0dXJuO1xuXG5cdFx0dmFyIGtleSA9IC8qKiBAdHlwZSB7S2V5fSAqLyAodGhpcy4jYmF0Y2hlcy5nZXQoYmF0Y2gpKTtcblxuXHRcdHZhciBvbnNjcmVlbiA9IHRoaXMuI29uc2NyZWVuLmdldChrZXkpO1xuXG5cdFx0aWYgKG9uc2NyZWVuKSB7XG5cdFx0XHQvLyBlZmZlY3QgaXMgYWxyZWFkeSBpbiB0aGUgRE9NIFx1MjAxNCBhYm9ydCBhbnkgY3VycmVudCBvdXRyb1xuXHRcdFx0cmVzdW1lX2VmZmVjdChvbnNjcmVlbik7XG5cdFx0XHR0aGlzLiNvdXRyb2luZy5kZWxldGUoa2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZWZmZWN0IGlzIGN1cnJlbnRseSBvZmZzY3JlZW4uIHB1dCBpdCBpbiB0aGUgRE9NXG5cdFx0XHR2YXIgb2Zmc2NyZWVuID0gdGhpcy4jb2Zmc2NyZWVuLmdldChrZXkpO1xuXG5cdFx0XHRpZiAob2Zmc2NyZWVuKSB7XG5cdFx0XHRcdHRoaXMuI29uc2NyZWVuLnNldChrZXksIG9mZnNjcmVlbi5lZmZlY3QpO1xuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW4uZGVsZXRlKGtleSk7XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBhbmNob3IuLi5cblx0XHRcdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChvZmZzY3JlZW4uZnJhZ21lbnQubGFzdENoaWxkKS5yZW1vdmUoKTtcblxuXHRcdFx0XHQvLyAuLi5hbmQgYXBwZW5kIHRoZSBmcmFnbWVudFxuXHRcdFx0XHR0aGlzLmFuY2hvci5iZWZvcmUob2Zmc2NyZWVuLmZyYWdtZW50KTtcblx0XHRcdFx0b25zY3JlZW4gPSBvZmZzY3JlZW4uZWZmZWN0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgW2IsIGtdIG9mIHRoaXMuI2JhdGNoZXMpIHtcblx0XHRcdHRoaXMuI2JhdGNoZXMuZGVsZXRlKGIpO1xuXG5cdFx0XHRpZiAoYiA9PT0gYmF0Y2gpIHtcblx0XHRcdFx0Ly8ga2VlcCB2YWx1ZXMgZm9yIG5ld2VyIGJhdGNoZXNcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG9mZnNjcmVlbiA9IHRoaXMuI29mZnNjcmVlbi5nZXQoayk7XG5cblx0XHRcdGlmIChvZmZzY3JlZW4pIHtcblx0XHRcdFx0Ly8gZm9yIG9sZGVyIGJhdGNoZXMsIGRlc3Ryb3kgb2Zmc2NyZWVuIGVmZmVjdHNcblx0XHRcdFx0Ly8gYXMgdGhleSB3aWxsIG5ldmVyIGJlIGNvbW1pdHRlZFxuXHRcdFx0XHRkZXN0cm95X2VmZmVjdChvZmZzY3JlZW4uZWZmZWN0KTtcblx0XHRcdFx0dGhpcy4jb2Zmc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBvdXRyby9kZXN0cm95IGFsbCBvbnNjcmVlbiBlZmZlY3RzLi4uXG5cdFx0Zm9yIChjb25zdCBbaywgZWZmZWN0XSBvZiB0aGlzLiNvbnNjcmVlbikge1xuXHRcdFx0Ly8gLi4uZXhjZXB0IHRoZSBvbmUgdGhhdCB3YXMganVzdCBjb21taXR0ZWRcblx0XHRcdC8vICAgIG9yIHRob3NlIHRoYXQgYXJlIGFscmVhZHkgb3V0cm9pbmcgKGVsc2UgdGhlIHRyYW5zaXRpb24gaXMgYWJvcnRlZCBhbmQgdGhlIGVmZmVjdCBkZXN0cm95ZWQgcmlnaHQgYXdheSlcblx0XHRcdGlmIChrID09PSBrZXkgfHwgdGhpcy4jb3V0cm9pbmcuaGFzKGspKSBjb250aW51ZTtcblxuXHRcdFx0Y29uc3Qgb25fZGVzdHJveSA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qga2V5cyA9IEFycmF5LmZyb20odGhpcy4jYmF0Y2hlcy52YWx1ZXMoKSk7XG5cblx0XHRcdFx0aWYgKGtleXMuaW5jbHVkZXMoaykpIHtcblx0XHRcdFx0XHQvLyBrZWVwIHRoZSBlZmZlY3Qgb2Zmc2NyZWVuLCBhcyBhbm90aGVyIGJhdGNoIHdpbGwgbmVlZCBpdFxuXHRcdFx0XHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0XHRtb3ZlX2VmZmVjdChlZmZlY3QsIGZyYWdtZW50KTtcblxuXHRcdFx0XHRcdGZyYWdtZW50LmFwcGVuZChjcmVhdGVfdGV4dCgpKTsgLy8gVE9ETyBjYW4gd2UgYXZvaWQgdGhpcz9cblxuXHRcdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5zZXQoaywgeyBlZmZlY3QsIGZyYWdtZW50IH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLiNvdXRyb2luZy5kZWxldGUoayk7XG5cdFx0XHRcdHRoaXMuI29uc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH07XG5cblx0XHRcdGlmICh0aGlzLiN0cmFuc2l0aW9uIHx8ICFvbnNjcmVlbikge1xuXHRcdFx0XHR0aGlzLiNvdXRyb2luZy5hZGQoayk7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdChlZmZlY3QsIG9uX2Rlc3Ryb3ksIGZhbHNlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9uX2Rlc3Ryb3koKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7QmF0Y2h9IGJhdGNoXG5cdCAqL1xuXHQjZGlzY2FyZCA9IChiYXRjaCkgPT4ge1xuXHRcdHRoaXMuI2JhdGNoZXMuZGVsZXRlKGJhdGNoKTtcblxuXHRcdGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHRoaXMuI2JhdGNoZXMudmFsdWVzKCkpO1xuXG5cdFx0Zm9yIChjb25zdCBbaywgYnJhbmNoXSBvZiB0aGlzLiNvZmZzY3JlZW4pIHtcblx0XHRcdGlmICgha2V5cy5pbmNsdWRlcyhrKSkge1xuXHRcdFx0XHRkZXN0cm95X2VmZmVjdChicmFuY2guZWZmZWN0KTtcblx0XHRcdFx0dGhpcy4jb2Zmc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7YW55fSBrZXlcblx0ICogQHBhcmFtIHtudWxsIHwgKCh0YXJnZXQ6IFRlbXBsYXRlTm9kZSkgPT4gdm9pZCl9IGZuXG5cdCAqL1xuXHRlbnN1cmUoa2V5LCBmbikge1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0XHR2YXIgZGVmZXIgPSBzaG91bGRfZGVmZXJfYXBwZW5kKCk7XG5cblx0XHRpZiAoZm4gJiYgIXRoaXMuI29uc2NyZWVuLmhhcyhrZXkpICYmICF0aGlzLiNvZmZzY3JlZW4uaGFzKGtleSkpIHtcblx0XHRcdGlmIChkZWZlcikge1xuXHRcdFx0XHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBjcmVhdGVfdGV4dCgpO1xuXG5cdFx0XHRcdGZyYWdtZW50LmFwcGVuZCh0YXJnZXQpO1xuXG5cdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5zZXQoa2V5LCB7XG5cdFx0XHRcdFx0ZWZmZWN0OiBicmFuY2goKCkgPT4gZm4odGFyZ2V0KSksXG5cdFx0XHRcdFx0ZnJhZ21lbnRcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLiNvbnNjcmVlbi5zZXQoXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGJyYW5jaCgoKSA9PiBmbih0aGlzLmFuY2hvcikpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy4jYmF0Y2hlcy5zZXQoYmF0Y2gsIGtleSk7XG5cblx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdGZvciAoY29uc3QgW2ssIGVmZmVjdF0gb2YgdGhpcy4jb25zY3JlZW4pIHtcblx0XHRcdFx0aWYgKGsgPT09IGtleSkge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuYWRkKGVmZmVjdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBbaywgYnJhbmNoXSBvZiB0aGlzLiNvZmZzY3JlZW4pIHtcblx0XHRcdFx0aWYgKGsgPT09IGtleSkge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoYnJhbmNoLmVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YmF0Y2guc2tpcHBlZF9lZmZlY3RzLmFkZChicmFuY2guZWZmZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRiYXRjaC5vbmNvbW1pdCh0aGlzLiNjb21taXQpO1xuXHRcdFx0YmF0Y2gub25kaXNjYXJkKHRoaXMuI2Rpc2NhcmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRcdHRoaXMuYW5jaG9yID0gaHlkcmF0ZV9ub2RlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLiNjb21taXQoKTtcblx0XHR9XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBFRkZFQ1RfVFJBTlNQQVJFTlQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGluZyxcblx0cmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24sXG5cdHNraXBfbm9kZXMsXG5cdHNldF9oeWRyYXRlX25vZGUsXG5cdHNldF9oeWRyYXRpbmdcbn0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGJsb2NrIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IEhZRFJBVElPTl9TVEFSVF9FTFNFIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJyYW5jaE1hbmFnZXIgfSBmcm9tICcuL2JyYW5jaGVzLmpzJztcblxuLy8gVE9ETyByZWluc3RhdGUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9wdWxsLzE1MjUwXG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7KGJyYW5jaDogKGZuOiAoYW5jaG9yOiBOb2RlKSA9PiB2b2lkLCBmbGFnPzogYm9vbGVhbikgPT4gdm9pZCkgPT4gdm9pZH0gZm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Vsc2VpZl0gVHJ1ZSBpZiB0aGlzIGlzIGFuIGB7OmVsc2UgaWYgLi4ufWAgYmxvY2sgcmF0aGVyIHRoYW4gYW4gYHsjaWYgLi4ufWAsIGFzIHRoYXQgYWZmZWN0cyB3aGljaCB0cmFuc2l0aW9ucyBhcmUgY29uc2lkZXJlZCAnbG9jYWwnXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlmX2Jsb2NrKG5vZGUsIGZuLCBlbHNlaWYgPSBmYWxzZSkge1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0aHlkcmF0ZV9uZXh0KCk7XG5cdH1cblxuXHR2YXIgYnJhbmNoZXMgPSBuZXcgQnJhbmNoTWFuYWdlcihub2RlKTtcblx0dmFyIGZsYWdzID0gZWxzZWlmID8gRUZGRUNUX1RSQU5TUEFSRU5UIDogMDtcblxuXHQvKipcblx0ICogQHBhcmFtIHtib29sZWFufSBjb25kaXRpb24sXG5cdCAqIEBwYXJhbSB7bnVsbCB8ICgoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gZm5cblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZV9icmFuY2goY29uZGl0aW9uLCBmbikge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGNvbnN0IGlzX2Vsc2UgPSByZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbihub2RlKSA9PT0gSFlEUkFUSU9OX1NUQVJUX0VMU0U7XG5cblx0XHRcdGlmIChjb25kaXRpb24gPT09IGlzX2Vsc2UpIHtcblx0XHRcdFx0Ly8gSHlkcmF0aW9uIG1pc21hdGNoOiByZW1vdmUgZXZlcnl0aGluZyBpbnNpZGUgdGhlIGFuY2hvciBhbmQgc3RhcnQgZnJlc2guXG5cdFx0XHRcdC8vIFRoaXMgY291bGQgaGFwcGVuIHdpdGggYHsjaWYgYnJvd3Nlcn0uLi57L2lmfWAsIGZvciBleGFtcGxlXG5cdFx0XHRcdHZhciBhbmNob3IgPSBza2lwX25vZGVzKCk7XG5cblx0XHRcdFx0c2V0X2h5ZHJhdGVfbm9kZShhbmNob3IpO1xuXHRcdFx0XHRicmFuY2hlcy5hbmNob3IgPSBhbmNob3I7XG5cblx0XHRcdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cdFx0XHRcdGJyYW5jaGVzLmVuc3VyZShjb25kaXRpb24sIGZuKTtcblx0XHRcdFx0c2V0X2h5ZHJhdGluZyh0cnVlKTtcblxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YnJhbmNoZXMuZW5zdXJlKGNvbmRpdGlvbiwgZm4pO1xuXHR9XG5cblx0YmxvY2soKCkgPT4ge1xuXHRcdHZhciBoYXNfYnJhbmNoID0gZmFsc2U7XG5cblx0XHRmbigoZm4sIGZsYWcgPSB0cnVlKSA9PiB7XG5cdFx0XHRoYXNfYnJhbmNoID0gdHJ1ZTtcblx0XHRcdHVwZGF0ZV9icmFuY2goZmxhZywgZm4pO1xuXHRcdH0pO1xuXG5cdFx0aWYgKCFoYXNfYnJhbmNoKSB7XG5cdFx0XHR1cGRhdGVfYnJhbmNoKGZhbHNlLCBudWxsKTtcblx0XHR9XG5cdH0sIGZsYWdzKTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEVhY2hJdGVtLCBFYWNoT3V0cm9Hcm91cCwgRWFjaFN0YXRlLCBFZmZlY3QsIEVmZmVjdE5vZGVzLCBNYXliZVNvdXJjZSwgU291cmNlLCBUZW1wbGF0ZU5vZGUsIFRyYW5zaXRpb25NYW5hZ2VyLCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEJhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7ICovXG5pbXBvcnQge1xuXHRFQUNIX0lOREVYX1JFQUNUSVZFLFxuXHRFQUNIX0lTX0FOSU1BVEVELFxuXHRFQUNIX0lTX0NPTlRST0xMRUQsXG5cdEVBQ0hfSVRFTV9JTU1VVEFCTEUsXG5cdEVBQ0hfSVRFTV9SRUFDVElWRSxcblx0SFlEUkFUSU9OX0VORCxcblx0SFlEUkFUSU9OX1NUQVJUX0VMU0Vcbn0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGVfbmV4dCxcblx0aHlkcmF0ZV9ub2RlLFxuXHRoeWRyYXRpbmcsXG5cdHJlYWRfaHlkcmF0aW9uX2luc3RydWN0aW9uLFxuXHRza2lwX25vZGVzLFxuXHRzZXRfaHlkcmF0ZV9ub2RlLFxuXHRzZXRfaHlkcmF0aW5nXG59IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQge1xuXHRjbGVhcl90ZXh0X2NvbnRlbnQsXG5cdGNyZWF0ZV90ZXh0LFxuXHRnZXRfZmlyc3RfY2hpbGQsXG5cdGdldF9uZXh0X3NpYmxpbmcsXG5cdHNob3VsZF9kZWZlcl9hcHBlbmRcbn0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQge1xuXHRibG9jayxcblx0YnJhbmNoLFxuXHRkZXN0cm95X2VmZmVjdCxcblx0cGF1c2VfZWZmZWN0LFxuXHRyZXN1bWVfZWZmZWN0XG59IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBzb3VyY2UsIG11dGFibGVfc291cmNlLCBpbnRlcm5hbF9zZXQgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgYXJyYXlfZnJvbSwgaXNfYXJyYXkgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgQ09NTUVOVF9OT0RFLCBFRkZFQ1RfT0ZGU0NSRUVOLCBJTkVSVCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi90YXNrLmpzJztcbmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBkZXJpdmVkX3NhZmVfZXF1YWwgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfYmF0Y2ggfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcblxuLy8gV2hlbiBtYWtpbmcgc3Vic3RhbnRpdmUgY2hhbmdlcyB0byB0aGlzIGZpbGUsIHZhbGlkYXRlIHRoZW0gd2l0aCB0aGUgZWFjaCBibG9jayBzdHJlc3MgdGVzdDpcbi8vIGh0dHBzOi8vc3ZlbHRlLmRldi9wbGF5Z3JvdW5kLzE5NzJiMmNmNDY1NjQ0NzZhZDhjOGM2NDA1YjIzYjdiXG4vLyBUaGlzIHRlc3QgYWxzbyBleGlzdHMgaW4gdGhpcyByZXBvLCBhcyBgcGFja2FnZXMvc3ZlbHRlL3Rlc3RzL21hbnVhbC9lYWNoLXN0cmVzcy10ZXN0YFxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBfXG4gKiBAcGFyYW0ge251bWJlcn0gaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXgoXywgaSkge1xuXHRyZXR1cm4gaTtcbn1cblxuLyoqXG4gKiBQYXVzZSBtdWx0aXBsZSBlZmZlY3RzIHNpbXVsdGFuZW91c2x5LCBhbmQgY29vcmRpbmF0ZSB0aGVpclxuICogc3Vic2VxdWVudCBkZXN0cnVjdGlvbi4gVXNlZCBpbiBlYWNoIGJsb2Nrc1xuICogQHBhcmFtIHtFYWNoU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge0VmZmVjdFtdfSB0b19kZXN0cm95XG4gKiBAcGFyYW0ge251bGwgfCBOb2RlfSBjb250cm9sbGVkX2FuY2hvclxuICovXG5mdW5jdGlvbiBwYXVzZV9lZmZlY3RzKHN0YXRlLCB0b19kZXN0cm95LCBjb250cm9sbGVkX2FuY2hvcikge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25NYW5hZ2VyW119ICovXG5cdHZhciB0cmFuc2l0aW9ucyA9IFtdO1xuXHR2YXIgbGVuZ3RoID0gdG9fZGVzdHJveS5sZW5ndGg7XG5cblx0LyoqIEB0eXBlIHtFYWNoT3V0cm9Hcm91cH0gKi9cblx0dmFyIGdyb3VwO1xuXHR2YXIgcmVtYWluaW5nID0gdG9fZGVzdHJveS5sZW5ndGg7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdGxldCBlZmZlY3QgPSB0b19kZXN0cm95W2ldO1xuXG5cdFx0cGF1c2VfZWZmZWN0KFxuXHRcdFx0ZWZmZWN0LFxuXHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRpZiAoZ3JvdXApIHtcblx0XHRcdFx0XHRncm91cC5wZW5kaW5nLmRlbGV0ZShlZmZlY3QpO1xuXHRcdFx0XHRcdGdyb3VwLmRvbmUuYWRkKGVmZmVjdCk7XG5cblx0XHRcdFx0XHRpZiAoZ3JvdXAucGVuZGluZy5zaXplID09PSAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgZ3JvdXBzID0gLyoqIEB0eXBlIHtTZXQ8RWFjaE91dHJvR3JvdXA+fSAqLyAoc3RhdGUub3V0cm9ncm91cHMpO1xuXG5cdFx0XHRcdFx0XHRkZXN0cm95X2VmZmVjdHMoYXJyYXlfZnJvbShncm91cC5kb25lKSk7XG5cdFx0XHRcdFx0XHRncm91cHMuZGVsZXRlKGdyb3VwKTtcblxuXHRcdFx0XHRcdFx0aWYgKGdyb3Vwcy5zaXplID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHN0YXRlLm91dHJvZ3JvdXBzID0gbnVsbDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVtYWluaW5nIC09IDE7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRmYWxzZVxuXHRcdCk7XG5cdH1cblxuXHRpZiAocmVtYWluaW5nID09PSAwKSB7XG5cdFx0Ly8gSWYgd2UncmUgaW4gYSBjb250cm9sbGVkIGVhY2ggYmxvY2sgKGkuZS4gdGhlIGJsb2NrIGlzIHRoZSBvbmx5IGNoaWxkIG9mIGFuXG5cdFx0Ly8gZWxlbWVudCksIGFuZCB3ZSBhcmUgcmVtb3ZpbmcgYWxsIGl0ZW1zLCBfYW5kXyB0aGVyZSBhcmUgbm8gb3V0IHRyYW5zaXRpb25zLFxuXHRcdC8vIHdlIGNhbiB1c2UgdGhlIGZhc3QgcGF0aCBcdTIwMTQgZW1wdHlpbmcgdGhlIGVsZW1lbnQgYW5kIHJlcGxhY2luZyB0aGUgYW5jaG9yXG5cdFx0dmFyIGZhc3RfcGF0aCA9IHRyYW5zaXRpb25zLmxlbmd0aCA9PT0gMCAmJiBjb250cm9sbGVkX2FuY2hvciAhPT0gbnVsbDtcblxuXHRcdGlmIChmYXN0X3BhdGgpIHtcblx0XHRcdHZhciBhbmNob3IgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChjb250cm9sbGVkX2FuY2hvcik7XG5cdFx0XHR2YXIgcGFyZW50X25vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChhbmNob3IucGFyZW50Tm9kZSk7XG5cblx0XHRcdGNsZWFyX3RleHRfY29udGVudChwYXJlbnRfbm9kZSk7XG5cdFx0XHRwYXJlbnRfbm9kZS5hcHBlbmQoYW5jaG9yKTtcblxuXHRcdFx0c3RhdGUuaXRlbXMuY2xlYXIoKTtcblx0XHR9XG5cblx0XHRkZXN0cm95X2VmZmVjdHModG9fZGVzdHJveSwgIWZhc3RfcGF0aCk7XG5cdH0gZWxzZSB7XG5cdFx0Z3JvdXAgPSB7XG5cdFx0XHRwZW5kaW5nOiBuZXcgU2V0KHRvX2Rlc3Ryb3kpLFxuXHRcdFx0ZG9uZTogbmV3IFNldCgpXG5cdFx0fTtcblxuXHRcdChzdGF0ZS5vdXRyb2dyb3VwcyA/Pz0gbmV3IFNldCgpKS5hZGQoZ3JvdXApO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3RbXX0gdG9fZGVzdHJveVxuICogQHBhcmFtIHtib29sZWFufSByZW1vdmVfZG9tXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lfZWZmZWN0cyh0b19kZXN0cm95LCByZW1vdmVfZG9tID0gdHJ1ZSkge1xuXHQvLyBUT0RPIG9ubHkgZGVzdHJveSBlZmZlY3RzIGlmIG5vIHBlbmRpbmcgYmF0Y2ggbmVlZHMgdGhlbS4gb3RoZXJ3aXNlLFxuXHQvLyBqdXN0IHJlLWFkZCB0aGUgYEVGRkVDVF9PRkZTQ1JFRU5gIGZsYWdcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0b19kZXN0cm95Lmxlbmd0aDsgaSsrKSB7XG5cdFx0ZGVzdHJveV9lZmZlY3QodG9fZGVzdHJveVtpXSwgcmVtb3ZlX2RvbSk7XG5cdH1cbn1cblxuLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovXG52YXIgb2Zmc2NyZWVuX2FuY2hvcjtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtFbGVtZW50IHwgQ29tbWVudH0gbm9kZSBUaGUgbmV4dCBzaWJsaW5nIG5vZGUsIG9yIHRoZSBwYXJlbnQgbm9kZSBpZiB0aGlzIGlzIGEgJ2NvbnRyb2xsZWQnIGJsb2NrXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqIEBwYXJhbSB7KCkgPT4gVltdfSBnZXRfY29sbGVjdGlvblxuICogQHBhcmFtIHsodmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IGFueX0gZ2V0X2tleVxuICogQHBhcmFtIHsoYW5jaG9yOiBOb2RlLCBpdGVtOiBNYXliZVNvdXJjZTxWPiwgaW5kZXg6IE1heWJlU291cmNlPG51bWJlcj4pID0+IHZvaWR9IHJlbmRlcl9mblxuICogQHBhcmFtIHtudWxsIHwgKChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSBmYWxsYmFja19mblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoKG5vZGUsIGZsYWdzLCBnZXRfY29sbGVjdGlvbiwgZ2V0X2tleSwgcmVuZGVyX2ZuLCBmYWxsYmFja19mbiA9IG51bGwpIHtcblx0dmFyIGFuY2hvciA9IG5vZGU7XG5cblx0LyoqIEB0eXBlIHtNYXA8YW55LCBFYWNoSXRlbT59ICovXG5cdHZhciBpdGVtcyA9IG5ldyBNYXAoKTtcblxuXHR2YXIgaXNfY29udHJvbGxlZCA9IChmbGFncyAmIEVBQ0hfSVNfQ09OVFJPTExFRCkgIT09IDA7XG5cblx0aWYgKGlzX2NvbnRyb2xsZWQpIHtcblx0XHR2YXIgcGFyZW50X25vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlKTtcblxuXHRcdGFuY2hvciA9IGh5ZHJhdGluZ1xuXHRcdFx0PyBzZXRfaHlkcmF0ZV9ub2RlKGdldF9maXJzdF9jaGlsZChwYXJlbnRfbm9kZSkpXG5cdFx0XHQ6IHBhcmVudF9ub2RlLmFwcGVuZENoaWxkKGNyZWF0ZV90ZXh0KCkpO1xuXHR9XG5cblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHR2YXIgZmFsbGJhY2sgPSBudWxsO1xuXG5cdC8vIFRPRE86IGlkZWFsbHkgd2UgY291bGQgdXNlIGRlcml2ZWQgZm9yIHJ1bmVzIG1vZGUgYnV0IGJlY2F1c2Ugb2YgdGhlIGFiaWxpdHlcblx0Ly8gdG8gdXNlIGEgc3RvcmUgd2hpY2ggY2FuIGJlIG11dGF0ZWQsIHdlIGNhbid0IGRvIHRoYXQgaGVyZSBhcyBtdXRhdGluZyBhIHN0b3JlXG5cdC8vIHdpbGwgc3RpbGwgcmVzdWx0IGluIHRoZSBjb2xsZWN0aW9uIGFycmF5IGJlaW5nIHRoZSBzYW1lIGZyb20gdGhlIHN0b3JlXG5cdHZhciBlYWNoX2FycmF5ID0gZGVyaXZlZF9zYWZlX2VxdWFsKCgpID0+IHtcblx0XHR2YXIgY29sbGVjdGlvbiA9IGdldF9jb2xsZWN0aW9uKCk7XG5cblx0XHRyZXR1cm4gaXNfYXJyYXkoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogY29sbGVjdGlvbiA9PSBudWxsID8gW10gOiBhcnJheV9mcm9tKGNvbGxlY3Rpb24pO1xuXHR9KTtcblxuXHQvKiogQHR5cGUge1ZbXX0gKi9cblx0dmFyIGFycmF5O1xuXG5cdHZhciBmaXJzdF9ydW4gPSB0cnVlO1xuXG5cdGZ1bmN0aW9uIGNvbW1pdCgpIHtcblx0XHRzdGF0ZS5mYWxsYmFjayA9IGZhbGxiYWNrO1xuXHRcdHJlY29uY2lsZShzdGF0ZSwgYXJyYXksIGFuY2hvciwgZmxhZ3MsIGdldF9rZXkpO1xuXG5cdFx0aWYgKGZhbGxiYWNrICE9PSBudWxsKSB7XG5cdFx0XHRpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGlmICgoZmFsbGJhY2suZiAmIEVGRkVDVF9PRkZTQ1JFRU4pID09PSAwKSB7XG5cdFx0XHRcdFx0cmVzdW1lX2VmZmVjdChmYWxsYmFjayk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmFsbGJhY2suZiBePSBFRkZFQ1RfT0ZGU0NSRUVOO1xuXHRcdFx0XHRcdG1vdmUoZmFsbGJhY2ssIG51bGwsIGFuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdChmYWxsYmFjaywgKCkgPT4ge1xuXHRcdFx0XHRcdC8vIFRPRE8gb25seSBudWxsIG91dCBpZiBubyBwZW5kaW5nIGJhdGNoIG5lZWRzIGl0LFxuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSByZS1hZGQgYGZhbGxiYWNrLmZyYWdtZW50YCBhbmQgbW92ZSB0aGVcblx0XHRcdFx0XHQvLyBlZmZlY3QgaW50byBpdFxuXHRcdFx0XHRcdGZhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dmFyIGVmZmVjdCA9IGJsb2NrKCgpID0+IHtcblx0XHRhcnJheSA9IC8qKiBAdHlwZSB7VltdfSAqLyAoZ2V0KGVhY2hfYXJyYXkpKTtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG5cdFx0LyoqIGB0cnVlYCBpZiB0aGVyZSB3YXMgYSBoeWRyYXRpb24gbWlzbWF0Y2guIE5lZWRzIHRvIGJlIGEgYGxldGAgb3IgZWxzZSBpdCBpc24ndCB0cmVlc2hha2VuIG91dCAqL1xuXHRcdGxldCBtaXNtYXRjaCA9IGZhbHNlO1xuXG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0dmFyIGlzX2Vsc2UgPSByZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbihhbmNob3IpID09PSBIWURSQVRJT05fU1RBUlRfRUxTRTtcblxuXHRcdFx0aWYgKGlzX2Vsc2UgIT09IChsZW5ndGggPT09IDApKSB7XG5cdFx0XHRcdC8vIGh5ZHJhdGlvbiBtaXNtYXRjaCBcdTIwMTQgcmVtb3ZlIHRoZSBzZXJ2ZXItcmVuZGVyZWQgRE9NIGFuZCBzdGFydCBvdmVyXG5cdFx0XHRcdGFuY2hvciA9IHNraXBfbm9kZXMoKTtcblxuXHRcdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKGFuY2hvcik7XG5cdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRtaXNtYXRjaCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGtleXMgPSBuZXcgU2V0KCk7XG5cdFx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKGN1cnJlbnRfYmF0Y2gpO1xuXHRcdHZhciBkZWZlciA9IHNob3VsZF9kZWZlcl9hcHBlbmQoKTtcblxuXHRcdGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0aHlkcmF0aW5nICYmXG5cdFx0XHRcdGh5ZHJhdGVfbm9kZS5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFICYmXG5cdFx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSkuZGF0YSA9PT0gSFlEUkFUSU9OX0VORFxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIFRoZSBzZXJ2ZXIgcmVuZGVyZWQgZmV3ZXIgaXRlbXMgdGhhbiBleHBlY3RlZCxcblx0XHRcdFx0Ly8gc28gYnJlYWsgb3V0IGFuZCBjb250aW51ZSBhcHBlbmRpbmcgbm9uLWh5ZHJhdGVkIGl0ZW1zXG5cdFx0XHRcdGFuY2hvciA9IC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSk7XG5cdFx0XHRcdG1pc21hdGNoID0gdHJ1ZTtcblx0XHRcdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XHRcdHZhciBrZXkgPSBnZXRfa2V5KHZhbHVlLCBpbmRleCk7XG5cblx0XHRcdHZhciBpdGVtID0gZmlyc3RfcnVuID8gbnVsbCA6IGl0ZW1zLmdldChrZXkpO1xuXG5cdFx0XHRpZiAoaXRlbSkge1xuXHRcdFx0XHQvLyB1cGRhdGUgYmVmb3JlIHJlY29uY2lsaWF0aW9uLCB0byB0cmlnZ2VyIGFueSBhc3luYyB1cGRhdGVzXG5cdFx0XHRcdGlmIChpdGVtLnYpIGludGVybmFsX3NldChpdGVtLnYsIHZhbHVlKTtcblx0XHRcdFx0aWYgKGl0ZW0uaSkgaW50ZXJuYWxfc2V0KGl0ZW0uaSwgaW5kZXgpO1xuXG5cdFx0XHRcdGlmIChkZWZlcikge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoaXRlbS5lKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXRlbSA9IGNyZWF0ZV9pdGVtKFxuXHRcdFx0XHRcdGl0ZW1zLFxuXHRcdFx0XHRcdGZpcnN0X3J1biA/IGFuY2hvciA6IChvZmZzY3JlZW5fYW5jaG9yID8/PSBjcmVhdGVfdGV4dCgpKSxcblx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0aW5kZXgsXG5cdFx0XHRcdFx0cmVuZGVyX2ZuLFxuXHRcdFx0XHRcdGZsYWdzLFxuXHRcdFx0XHRcdGdldF9jb2xsZWN0aW9uXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKCFmaXJzdF9ydW4pIHtcblx0XHRcdFx0XHRpdGVtLmUuZiB8PSBFRkZFQ1RfT0ZGU0NSRUVOO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aXRlbXMuc2V0KGtleSwgaXRlbSk7XG5cdFx0XHR9XG5cblx0XHRcdGtleXMuYWRkKGtleSk7XG5cdFx0fVxuXG5cdFx0aWYgKGxlbmd0aCA9PT0gMCAmJiBmYWxsYmFja19mbiAmJiAhZmFsbGJhY2spIHtcblx0XHRcdGlmIChmaXJzdF9ydW4pIHtcblx0XHRcdFx0ZmFsbGJhY2sgPSBicmFuY2goKCkgPT4gZmFsbGJhY2tfZm4oYW5jaG9yKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmYWxsYmFjayA9IGJyYW5jaCgoKSA9PiBmYWxsYmFja19mbigob2Zmc2NyZWVuX2FuY2hvciA/Pz0gY3JlYXRlX3RleHQoKSkpKTtcblx0XHRcdFx0ZmFsbGJhY2suZiB8PSBFRkZFQ1RfT0ZGU0NSRUVOO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHJlbW92ZSBleGNlc3Mgbm9kZXNcblx0XHRpZiAoaHlkcmF0aW5nICYmIGxlbmd0aCA+IDApIHtcblx0XHRcdHNldF9oeWRyYXRlX25vZGUoc2tpcF9ub2RlcygpKTtcblx0XHR9XG5cblx0XHRpZiAoIWZpcnN0X3J1bikge1xuXHRcdFx0aWYgKGRlZmVyKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgW2tleSwgaXRlbV0gb2YgaXRlbXMpIHtcblx0XHRcdFx0XHRpZiAoIWtleXMuaGFzKGtleSkpIHtcblx0XHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5hZGQoaXRlbS5lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXRjaC5vbmNvbW1pdChjb21taXQpO1xuXHRcdFx0XHRiYXRjaC5vbmRpc2NhcmQoKCkgPT4ge1xuXHRcdFx0XHRcdC8vIFRPRE8gcHJlc3VtYWJseSB3ZSBuZWVkIHRvIGRvIHNvbWV0aGluZyBoZXJlP1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbW1pdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChtaXNtYXRjaCkge1xuXHRcdFx0Ly8gY29udGludWUgaW4gaHlkcmF0aW9uIG1vZGVcblx0XHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB3ZSBtb3VudCB0aGUgZWFjaCBibG9jayBmb3IgdGhlIGZpcnN0IHRpbWUsIHRoZSBjb2xsZWN0aW9uIHdvbid0IGJlXG5cdFx0Ly8gY29ubmVjdGVkIHRvIHRoaXMgZWZmZWN0IGFzIHRoZSBlZmZlY3QgaGFzbid0IGZpbmlzaGVkIHJ1bm5pbmcgeWV0IGFuZCBpdHMgZGVwc1xuXHRcdC8vIHdvbid0IGJlIGFzc2lnbmVkLiBIb3dldmVyLCBpdCdzIHBvc3NpYmxlIHRoYXQgd2hlbiByZWNvbmNpbGluZyB0aGUgZWFjaCBibG9ja1xuXHRcdC8vIHRoYXQgYSBtdXRhdGlvbiBvY2N1cnJlZCBhbmQgaXQncyBtYWRlIHRoZSBjb2xsZWN0aW9uIE1BWUJFX0RJUlRZLCBzbyByZWFkaW5nIHRoZVxuXHRcdC8vIGNvbGxlY3Rpb24gYWdhaW4gY2FuIHByb3ZpZGUgY29uc2lzdGVuY3kgdG8gdGhlIHJlYWN0aXZlIGdyYXBoIGFnYWluIGFzIHRoZSBkZXJpdmVkc1xuXHRcdC8vIHdpbGwgbm93IGJlIGBDTEVBTmAuXG5cdFx0Z2V0KGVhY2hfYXJyYXkpO1xuXHR9KTtcblxuXHQvKiogQHR5cGUge0VhY2hTdGF0ZX0gKi9cblx0dmFyIHN0YXRlID0geyBlZmZlY3QsIGZsYWdzLCBpdGVtcywgb3V0cm9ncm91cHM6IG51bGwsIGZhbGxiYWNrIH07XG5cblx0Zmlyc3RfcnVuID0gZmFsc2U7XG5cblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGFuY2hvciA9IGh5ZHJhdGVfbm9kZTtcblx0fVxufVxuXG4vKipcbiAqIEFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIGl0ZW1zIG91dHB1dCBieSBhbiBlYWNoIGJsb2NrIGFzIGl0cyBpbnB1dCBjaGFuZ2VzXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtFYWNoU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge0FycmF5PFY+fSBhcnJheVxuICogQHBhcmFtIHtFbGVtZW50IHwgQ29tbWVudCB8IFRleHR9IGFuY2hvclxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geyh2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gYW55fSBnZXRfa2V5XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gcmVjb25jaWxlKHN0YXRlLCBhcnJheSwgYW5jaG9yLCBmbGFncywgZ2V0X2tleSkge1xuXHR2YXIgaXNfYW5pbWF0ZWQgPSAoZmxhZ3MgJiBFQUNIX0lTX0FOSU1BVEVEKSAhPT0gMDtcblxuXHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHR2YXIgaXRlbXMgPSBzdGF0ZS5pdGVtcztcblx0dmFyIGN1cnJlbnQgPSBzdGF0ZS5lZmZlY3QuZmlyc3Q7XG5cblx0LyoqIEB0eXBlIHt1bmRlZmluZWQgfCBTZXQ8RWZmZWN0Pn0gKi9cblx0dmFyIHNlZW47XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHR2YXIgcHJldiA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHt1bmRlZmluZWQgfCBTZXQ8RWZmZWN0Pn0gKi9cblx0dmFyIHRvX2FuaW1hdGU7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHR2YXIgc3Rhc2hlZCA9IFtdO1xuXG5cdC8qKiBAdHlwZSB7Vn0gKi9cblx0dmFyIHZhbHVlO1xuXG5cdC8qKiBAdHlwZSB7YW55fSAqL1xuXHR2YXIga2V5O1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgdW5kZWZpbmVkfSAqL1xuXHR2YXIgZWZmZWN0O1xuXG5cdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuXHR2YXIgaTtcblxuXHRpZiAoaXNfYW5pbWF0ZWQpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdHZhbHVlID0gYXJyYXlbaV07XG5cdFx0XHRrZXkgPSBnZXRfa2V5KHZhbHVlLCBpKTtcblx0XHRcdGVmZmVjdCA9IC8qKiBAdHlwZSB7RWFjaEl0ZW19ICovIChpdGVtcy5nZXQoa2V5KSkuZTtcblxuXHRcdFx0Ly8gb2Zmc2NyZWVuID09IGNvbWluZyBpbiBub3csIG5vIGFuaW1hdGlvbiBpbiB0aGF0IGNhc2UsXG5cdFx0XHQvLyBlbHNlIHRoaXMgd291bGQgaGFwcGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvaXNzdWVzLzE3MTgxXG5cdFx0XHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX09GRlNDUkVFTikgPT09IDApIHtcblx0XHRcdFx0ZWZmZWN0Lm5vZGVzPy5hPy5tZWFzdXJlKCk7XG5cdFx0XHRcdCh0b19hbmltYXRlID8/PSBuZXcgU2V0KCkpLmFkZChlZmZlY3QpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhbHVlID0gYXJyYXlbaV07XG5cdFx0a2V5ID0gZ2V0X2tleSh2YWx1ZSwgaSk7XG5cblx0XHRlZmZlY3QgPSAvKiogQHR5cGUge0VhY2hJdGVtfSAqLyAoaXRlbXMuZ2V0KGtleSkpLmU7XG5cblx0XHRpZiAoc3RhdGUub3V0cm9ncm91cHMgIT09IG51bGwpIHtcblx0XHRcdGZvciAoY29uc3QgZ3JvdXAgb2Ygc3RhdGUub3V0cm9ncm91cHMpIHtcblx0XHRcdFx0Z3JvdXAucGVuZGluZy5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0Z3JvdXAuZG9uZS5kZWxldGUoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX09GRlNDUkVFTikgIT09IDApIHtcblx0XHRcdGVmZmVjdC5mIF49IEVGRkVDVF9PRkZTQ1JFRU47XG5cblx0XHRcdGlmIChlZmZlY3QgPT09IGN1cnJlbnQpIHtcblx0XHRcdFx0bW92ZShlZmZlY3QsIG51bGwsIGFuY2hvcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgbmV4dCA9IHByZXYgPyBwcmV2Lm5leHQgOiBjdXJyZW50O1xuXG5cdFx0XHRcdGlmIChlZmZlY3QgPT09IHN0YXRlLmVmZmVjdC5sYXN0KSB7XG5cdFx0XHRcdFx0c3RhdGUuZWZmZWN0Lmxhc3QgPSBlZmZlY3QucHJldjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChlZmZlY3QucHJldikgZWZmZWN0LnByZXYubmV4dCA9IGVmZmVjdC5uZXh0O1xuXHRcdFx0XHRpZiAoZWZmZWN0Lm5leHQpIGVmZmVjdC5uZXh0LnByZXYgPSBlZmZlY3QucHJldjtcblx0XHRcdFx0bGluayhzdGF0ZSwgcHJldiwgZWZmZWN0KTtcblx0XHRcdFx0bGluayhzdGF0ZSwgZWZmZWN0LCBuZXh0KTtcblxuXHRcdFx0XHRtb3ZlKGVmZmVjdCwgbmV4dCwgYW5jaG9yKTtcblx0XHRcdFx0cHJldiA9IGVmZmVjdDtcblxuXHRcdFx0XHRtYXRjaGVkID0gW107XG5cdFx0XHRcdHN0YXNoZWQgPSBbXTtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldi5uZXh0O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgSU5FUlQpICE9PSAwKSB7XG5cdFx0XHRyZXN1bWVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRpZiAoaXNfYW5pbWF0ZWQpIHtcblx0XHRcdFx0ZWZmZWN0Lm5vZGVzPy5hPy51bmZpeCgpO1xuXHRcdFx0XHQodG9fYW5pbWF0ZSA/Pz0gbmV3IFNldCgpKS5kZWxldGUoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZWZmZWN0ICE9PSBjdXJyZW50KSB7XG5cdFx0XHRpZiAoc2VlbiAhPT0gdW5kZWZpbmVkICYmIHNlZW4uaGFzKGVmZmVjdCkpIHtcblx0XHRcdFx0aWYgKG1hdGNoZWQubGVuZ3RoIDwgc3Rhc2hlZC5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBtb3JlIGVmZmljaWVudCB0byBtb3ZlIGxhdGVyIGl0ZW1zIHRvIHRoZSBmcm9udFxuXHRcdFx0XHRcdHZhciBzdGFydCA9IHN0YXNoZWRbMF07XG5cdFx0XHRcdFx0dmFyIGo7XG5cblx0XHRcdFx0XHRwcmV2ID0gc3RhcnQucHJldjtcblxuXHRcdFx0XHRcdHZhciBhID0gbWF0Y2hlZFswXTtcblx0XHRcdFx0XHR2YXIgYiA9IG1hdGNoZWRbbWF0Y2hlZC5sZW5ndGggLSAxXTtcblxuXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtYXRjaGVkLmxlbmd0aDsgaiArPSAxKSB7XG5cdFx0XHRcdFx0XHRtb3ZlKG1hdGNoZWRbal0sIHN0YXJ0LCBhbmNob3IpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBzdGFzaGVkLmxlbmd0aDsgaiArPSAxKSB7XG5cdFx0XHRcdFx0XHRzZWVuLmRlbGV0ZShzdGFzaGVkW2pdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRsaW5rKHN0YXRlLCBhLnByZXYsIGIubmV4dCk7XG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgcHJldiwgYSk7XG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgYiwgc3RhcnQpO1xuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHN0YXJ0O1xuXHRcdFx0XHRcdHByZXYgPSBiO1xuXHRcdFx0XHRcdGkgLT0gMTtcblxuXHRcdFx0XHRcdG1hdGNoZWQgPSBbXTtcblx0XHRcdFx0XHRzdGFzaGVkID0gW107XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gbW9yZSBlZmZpY2llbnQgdG8gbW92ZSBlYXJsaWVyIGl0ZW1zIHRvIHRoZSBiYWNrXG5cdFx0XHRcdFx0c2Vlbi5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0XHRtb3ZlKGVmZmVjdCwgY3VycmVudCwgYW5jaG9yKTtcblxuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGVmZmVjdC5wcmV2LCBlZmZlY3QubmV4dCk7XG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgZWZmZWN0LCBwcmV2ID09PSBudWxsID8gc3RhdGUuZWZmZWN0LmZpcnN0IDogcHJldi5uZXh0KTtcblx0XHRcdFx0XHRsaW5rKHN0YXRlLCBwcmV2LCBlZmZlY3QpO1xuXG5cdFx0XHRcdFx0cHJldiA9IGVmZmVjdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRtYXRjaGVkID0gW107XG5cdFx0XHRzdGFzaGVkID0gW107XG5cblx0XHRcdHdoaWxlIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQgIT09IGVmZmVjdCkge1xuXHRcdFx0XHQoc2VlbiA/Pz0gbmV3IFNldCgpKS5hZGQoY3VycmVudCk7XG5cdFx0XHRcdHN0YXNoZWQucHVzaChjdXJyZW50KTtcblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQubmV4dDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1cnJlbnQgPT09IG51bGwpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pID09PSAwKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goZWZmZWN0KTtcblx0XHR9XG5cblx0XHRwcmV2ID0gZWZmZWN0O1xuXHRcdGN1cnJlbnQgPSBlZmZlY3QubmV4dDtcblx0fVxuXG5cdGlmIChzdGF0ZS5vdXRyb2dyb3VwcyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgZ3JvdXAgb2Ygc3RhdGUub3V0cm9ncm91cHMpIHtcblx0XHRcdGlmIChncm91cC5wZW5kaW5nLnNpemUgPT09IDApIHtcblx0XHRcdFx0ZGVzdHJveV9lZmZlY3RzKGFycmF5X2Zyb20oZ3JvdXAuZG9uZSkpO1xuXHRcdFx0XHRzdGF0ZS5vdXRyb2dyb3Vwcz8uZGVsZXRlKGdyb3VwKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoc3RhdGUub3V0cm9ncm91cHMuc2l6ZSA9PT0gMCkge1xuXHRcdFx0c3RhdGUub3V0cm9ncm91cHMgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGlmIChjdXJyZW50ICE9PSBudWxsIHx8IHNlZW4gIT09IHVuZGVmaW5lZCkge1xuXHRcdC8qKiBAdHlwZSB7RWZmZWN0W119ICovXG5cdFx0dmFyIHRvX2Rlc3Ryb3kgPSBbXTtcblxuXHRcdGlmIChzZWVuICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGZvciAoZWZmZWN0IG9mIHNlZW4pIHtcblx0XHRcdFx0aWYgKChlZmZlY3QuZiAmIElORVJUKSA9PT0gMCkge1xuXHRcdFx0XHRcdHRvX2Rlc3Ryb3kucHVzaChlZmZlY3QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcblx0XHRcdC8vIElmIHRoZSBlYWNoIGJsb2NrIGlzbid0IGluZXJ0LCB0aGVuIGluZXJ0IGVmZmVjdHMgYXJlIGN1cnJlbnRseSBvdXRyb2luZyBhbmQgd2lsbCBiZSByZW1vdmVkIG9uY2UgdGhlIHRyYW5zaXRpb24gaXMgZmluaXNoZWRcblx0XHRcdGlmICgoY3VycmVudC5mICYgSU5FUlQpID09PSAwICYmIGN1cnJlbnQgIT09IHN0YXRlLmZhbGxiYWNrKSB7XG5cdFx0XHRcdHRvX2Rlc3Ryb3kucHVzaChjdXJyZW50KTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnQubmV4dDtcblx0XHR9XG5cblx0XHR2YXIgZGVzdHJveV9sZW5ndGggPSB0b19kZXN0cm95Lmxlbmd0aDtcblxuXHRcdGlmIChkZXN0cm95X2xlbmd0aCA+IDApIHtcblx0XHRcdHZhciBjb250cm9sbGVkX2FuY2hvciA9IChmbGFncyAmIEVBQ0hfSVNfQ09OVFJPTExFRCkgIT09IDAgJiYgbGVuZ3RoID09PSAwID8gYW5jaG9yIDogbnVsbDtcblxuXHRcdFx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkZXN0cm95X2xlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0dG9fZGVzdHJveVtpXS5ub2Rlcz8uYT8ubWVhc3VyZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRlc3Ryb3lfbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHR0b19kZXN0cm95W2ldLm5vZGVzPy5hPy5maXgoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRwYXVzZV9lZmZlY3RzKHN0YXRlLCB0b19kZXN0cm95LCBjb250cm9sbGVkX2FuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHRpZiAodG9fYW5pbWF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdFx0XHRmb3IgKGVmZmVjdCBvZiB0b19hbmltYXRlKSB7XG5cdFx0XHRcdGVmZmVjdC5ub2Rlcz8uYT8uYXBwbHkoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge01hcDxhbnksIEVhY2hJdGVtPn0gaXRlbXNcbiAqIEBwYXJhbSB7Tm9kZX0gYW5jaG9yXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge3Vua25vd259IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0geyhhbmNob3I6IE5vZGUsIGl0ZW06IFYgfCBTb3VyY2U8Vj4sIGluZGV4OiBudW1iZXIgfCBWYWx1ZTxudW1iZXI+LCBjb2xsZWN0aW9uOiAoKSA9PiBWW10pID0+IHZvaWR9IHJlbmRlcl9mblxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geygpID0+IFZbXX0gZ2V0X2NvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtFYWNoSXRlbX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX2l0ZW0oaXRlbXMsIGFuY2hvciwgdmFsdWUsIGtleSwgaW5kZXgsIHJlbmRlcl9mbiwgZmxhZ3MsIGdldF9jb2xsZWN0aW9uKSB7XG5cdHZhciB2ID1cblx0XHQoZmxhZ3MgJiBFQUNIX0lURU1fUkVBQ1RJVkUpICE9PSAwXG5cdFx0XHQ/IChmbGFncyAmIEVBQ0hfSVRFTV9JTU1VVEFCTEUpID09PSAwXG5cdFx0XHRcdD8gbXV0YWJsZV9zb3VyY2UodmFsdWUsIGZhbHNlLCBmYWxzZSlcblx0XHRcdFx0OiBzb3VyY2UodmFsdWUpXG5cdFx0XHQ6IG51bGw7XG5cblx0dmFyIGkgPSAoZmxhZ3MgJiBFQUNIX0lOREVYX1JFQUNUSVZFKSAhPT0gMCA/IHNvdXJjZShpbmRleCkgOiBudWxsO1xuXG5cdGlmIChERVYgJiYgdikge1xuXHRcdC8vIEZvciB0cmFjaW5nIHB1cnBvc2VzLCB3ZSBuZWVkIHRvIGxpbmsgdGhlIHNvdXJjZSBzaWduYWwgd2UgY3JlYXRlIHdpdGggdGhlXG5cdFx0Ly8gY29sbGVjdGlvbiArIGluZGV4IHNvIHRoYXQgdHJhY2luZyB3b3JrcyBhcyBpbnRlbmRlZFxuXHRcdHYudHJhY2UgPSAoKSA9PiB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuXHRcdFx0Z2V0X2NvbGxlY3Rpb24oKVtpPy52ID8/IGluZGV4XTtcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHR2LFxuXHRcdGksXG5cdFx0ZTogYnJhbmNoKCgpID0+IHtcblx0XHRcdHJlbmRlcl9mbihhbmNob3IsIHYgPz8gdmFsdWUsIGkgPz8gaW5kZXgsIGdldF9jb2xsZWN0aW9uKTtcblxuXHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0aXRlbXMuZGVsZXRlKGtleSk7XG5cdFx0XHR9O1xuXHRcdH0pXG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtFZmZlY3QgfCBudWxsfSBuZXh0XG4gKiBAcGFyYW0ge1RleHQgfCBFbGVtZW50IHwgQ29tbWVudH0gYW5jaG9yXG4gKi9cbmZ1bmN0aW9uIG1vdmUoZWZmZWN0LCBuZXh0LCBhbmNob3IpIHtcblx0aWYgKCFlZmZlY3Qubm9kZXMpIHJldHVybjtcblxuXHR2YXIgbm9kZSA9IGVmZmVjdC5ub2Rlcy5zdGFydDtcblx0dmFyIGVuZCA9IGVmZmVjdC5ub2Rlcy5lbmQ7XG5cblx0dmFyIGRlc3QgPVxuXHRcdG5leHQgJiYgKG5leHQuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pID09PSAwXG5cdFx0XHQ/IC8qKiBAdHlwZSB7RWZmZWN0Tm9kZXN9ICovIChuZXh0Lm5vZGVzKS5zdGFydFxuXHRcdFx0OiBhbmNob3I7XG5cblx0d2hpbGUgKG5vZGUgIT09IG51bGwpIHtcblx0XHR2YXIgbmV4dF9ub2RlID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfbmV4dF9zaWJsaW5nKG5vZGUpKTtcblx0XHRkZXN0LmJlZm9yZShub2RlKTtcblxuXHRcdGlmIChub2RlID09PSBlbmQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRub2RlID0gbmV4dF9ub2RlO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFYWNoU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IHByZXZcbiAqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gbmV4dFxuICovXG5mdW5jdGlvbiBsaW5rKHN0YXRlLCBwcmV2LCBuZXh0KSB7XG5cdGlmIChwcmV2ID09PSBudWxsKSB7XG5cdFx0c3RhdGUuZWZmZWN0LmZpcnN0ID0gbmV4dDtcblx0fSBlbHNlIHtcblx0XHRwcmV2Lm5leHQgPSBuZXh0O1xuXHR9XG5cblx0aWYgKG5leHQgPT09IG51bGwpIHtcblx0XHRzdGF0ZS5lZmZlY3QubGFzdCA9IHByZXY7XG5cdH0gZWxzZSB7XG5cdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0fVxufVxuIiwgImltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgcmVnaXN0ZXJfc3R5bGUgfSBmcm9tICcuLi9kZXYvY3NzLmpzJztcbmltcG9ydCB7IGVmZmVjdCB9IGZyb20gJy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBhbmNob3JcbiAqIEBwYXJhbSB7eyBoYXNoOiBzdHJpbmcsIGNvZGU6IHN0cmluZyB9fSBjc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9zdHlsZXMoYW5jaG9yLCBjc3MpIHtcblx0Ly8gVXNlIGBxdWV1ZV9taWNyb190YXNrYCB0byBlbnN1cmUgYGFuY2hvcmAgaXMgaW4gdGhlIERPTSwgb3RoZXJ3aXNlIGdldFJvb3ROb2RlKCkgd2lsbCB5aWVsZCB3cm9uZyByZXN1bHRzXG5cdGVmZmVjdCgoKSA9PiB7XG5cdFx0dmFyIHJvb3QgPSBhbmNob3IuZ2V0Um9vdE5vZGUoKTtcblxuXHRcdHZhciB0YXJnZXQgPSAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KS5ob3N0XG5cdFx0XHQ/IC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpXG5cdFx0XHQ6IC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChyb290KS5oZWFkID8/IC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChyb290Lm93bmVyRG9jdW1lbnQpLmhlYWQ7XG5cblx0XHQvLyBBbHdheXMgcXVlcnlpbmcgdGhlIERPTSBpcyByb3VnaGx5IHRoZSBzYW1lIHBlcmYgYXMgYWRkaXRpb25hbGx5IGNoZWNraW5nIGZvciBwcmVzZW5jZSBpbiBhIG1hcCBmaXJzdCBhc3N1bWluZ1xuXHRcdC8vIHRoYXQgeW91J2xsIGdldCBjYWNoZSBoaXRzIGhhbGYgb2YgdGhlIHRpbWUsIHNvIHdlIGp1c3QgYWx3YXlzIHF1ZXJ5IHRoZSBkb20gZm9yIHNpbXBsaWNpdHkgYW5kIGNvZGUgc2F2aW5ncy5cblx0XHRpZiAoIXRhcmdldC5xdWVyeVNlbGVjdG9yKCcjJyArIGNzcy5oYXNoKSkge1xuXHRcdFx0Y29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHRcdFx0c3R5bGUuaWQgPSBjc3MuaGFzaDtcblx0XHRcdHN0eWxlLnRleHRDb250ZW50ID0gY3NzLmNvZGU7XG5cblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cblx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0cmVnaXN0ZXJfc3R5bGUoY3NzLmhhc2gsIHN0eWxlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgQWN0aW9uUGF5bG9hZCB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBlZmZlY3QsIHJlbmRlcl9lZmZlY3QgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc2FmZV9ub3RfZXF1YWwgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VxdWFsaXR5LmpzJztcbmltcG9ydCB7IGRlZXBfcmVhZF9zdGF0ZSwgdW50cmFjayB9IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBQXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGRvbVxuICogQHBhcmFtIHsoZG9tOiBFbGVtZW50LCB2YWx1ZT86IFApID0+IEFjdGlvblBheWxvYWQ8UD59IGFjdGlvblxuICogQHBhcmFtIHsoKSA9PiBQfSBbZ2V0X3ZhbHVlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb24oZG9tLCBhY3Rpb24sIGdldF92YWx1ZSkge1xuXHRlZmZlY3QoKCkgPT4ge1xuXHRcdHZhciBwYXlsb2FkID0gdW50cmFjaygoKSA9PiBhY3Rpb24oZG9tLCBnZXRfdmFsdWU/LigpKSB8fCB7fSk7XG5cblx0XHRpZiAoZ2V0X3ZhbHVlICYmIHBheWxvYWQ/LnVwZGF0ZSkge1xuXHRcdFx0dmFyIGluaXRlZCA9IGZhbHNlO1xuXHRcdFx0LyoqIEB0eXBlIHtQfSAqL1xuXHRcdFx0dmFyIHByZXYgPSAvKiogQHR5cGUge2FueX0gKi8gKHt9KTsgLy8gaW5pdGlhbGl6ZSB3aXRoIHNvbWV0aGluZyBzbyBpdCdzIG5ldmVyIGVxdWFsIG9uIGZpcnN0IHJ1blxuXG5cdFx0XHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdFx0dmFyIHZhbHVlID0gZ2V0X3ZhbHVlKCk7XG5cblx0XHRcdFx0Ly8gQWN0aW9uJ3MgdXBkYXRlIG1ldGhvZCBpcyBjb2Fyc2UtZ3JhaW5lZCwgaS5lLiB3aGVuIGFueXRoaW5nIGluIHRoZSBwYXNzZWQgdmFsdWUgY2hhbmdlcywgdXBkYXRlLlxuXHRcdFx0XHQvLyBUaGlzIHdvcmtzIGluIGxlZ2FjeSBtb2RlIGJlY2F1c2Ugb2YgbXV0YWJsZV9zb3VyY2UgYmVpbmcgdXBkYXRlZCBhcyBhIHdob2xlLCBidXQgd2hlbiB1c2luZyAkc3RhdGVcblx0XHRcdFx0Ly8gdG9nZXRoZXIgd2l0aCBhY3Rpb25zIGFuZCBtdXRhdGlvbiwgaXQgd291bGRuJ3Qgbm90aWNlIHRoZSBjaGFuZ2Ugd2l0aG91dCBhIGRlZXAgcmVhZC5cblx0XHRcdFx0ZGVlcF9yZWFkX3N0YXRlKHZhbHVlKTtcblxuXHRcdFx0XHRpZiAoaW5pdGVkICYmIHNhZmVfbm90X2VxdWFsKHByZXYsIHZhbHVlKSkge1xuXHRcdFx0XHRcdHByZXYgPSB2YWx1ZTtcblx0XHRcdFx0XHQvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyAocGF5bG9hZC51cGRhdGUpKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGluaXRlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHBheWxvYWQ/LmRlc3Ryb3kpIHtcblx0XHRcdHJldHVybiAoKSA9PiAvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyAocGF5bG9hZC5kZXN0cm95KSgpO1xuXHRcdH1cblx0fSk7XG59XG4iLCAiaW1wb3J0IHsgZXNjYXBlX2h0bWwgfSBmcm9tICcuLi8uLi9lc2NhcGluZy5qcyc7XG5pbXBvcnQgeyBjbHN4IGFzIF9jbHN4IH0gZnJvbSAnY2xzeCc7XG5cbi8qKlxuICogYDxkaXYgdHJhbnNsYXRlPXtmYWxzZX0+YCBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYDxkaXYgdHJhbnNsYXRlPVwibm9cIj5gIGFuZCBfbm90X1xuICogYDxkaXYgdHJhbnNsYXRlPVwiZmFsc2VcIj5gLCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIGA8ZGl2IHRyYW5zbGF0ZT1cInllc1wiPmAuIFRoZXJlXG4gKiBtYXkgYmUgb3RoZXIgb2RkIGNhc2VzIHRoYXQgbmVlZCB0byBiZSBhZGRlZCB0byB0aGlzIGxpc3QgaW4gZnV0dXJlXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgTWFwPGFueSwgc3RyaW5nPj59XG4gKi9cbmNvbnN0IHJlcGxhY2VtZW50cyA9IHtcblx0dHJhbnNsYXRlOiBuZXcgTWFwKFtcblx0XHRbdHJ1ZSwgJ3llcyddLFxuXHRcdFtmYWxzZSwgJ25vJ11cblx0XSlcbn07XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc19ib29sZWFuXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHIobmFtZSwgdmFsdWUsIGlzX2Jvb2xlYW4gPSBmYWxzZSkge1xuXHQvLyBhdHRyaWJ1dGUgaGlkZGVuIGZvciB2YWx1ZXMgb3RoZXIgdGhhbiBcInVudGlsLWZvdW5kXCIgYmVoYXZlcyBsaWtlIGEgYm9vbGVhbiBhdHRyaWJ1dGVcblx0aWYgKG5hbWUgPT09ICdoaWRkZW4nICYmIHZhbHVlICE9PSAndW50aWwtZm91bmQnKSB7XG5cdFx0aXNfYm9vbGVhbiA9IHRydWU7XG5cdH1cblx0aWYgKHZhbHVlID09IG51bGwgfHwgKCF2YWx1ZSAmJiBpc19ib29sZWFuKSkgcmV0dXJuICcnO1xuXHRjb25zdCBub3JtYWxpemVkID0gKG5hbWUgaW4gcmVwbGFjZW1lbnRzICYmIHJlcGxhY2VtZW50c1tuYW1lXS5nZXQodmFsdWUpKSB8fCB2YWx1ZTtcblx0Y29uc3QgYXNzaWdubWVudCA9IGlzX2Jvb2xlYW4gPyAnJyA6IGA9XCIke2VzY2FwZV9odG1sKG5vcm1hbGl6ZWQsIHRydWUpfVwiYDtcblx0cmV0dXJuIGAgJHtuYW1lfSR7YXNzaWdubWVudH1gO1xufVxuXG4vKipcbiAqIFNtYWxsIHdyYXBwZXIgYXJvdW5kIGNsc3ggdG8gcHJlc2VydmUgU3ZlbHRlJ3MgKHdlaXJkKSBoYW5kbGluZyBvZiBmYWxzeSB2YWx1ZXMuXG4gKiBUT0RPIFN2ZWx0ZSA2IHJldmlzaXQgdGhpcywgYW5kIGxpa2VseSB0dXJuIGFsbCBmYWxzeSB2YWx1ZXMgaW50byB0aGUgZW1wdHkgc3RyaW5nICh3aGF0IGNsc3ggYWxzbyBkb2VzKVxuICogQHBhcmFtICB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xzeCh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiBfY2xzeCh2YWx1ZSk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHZhbHVlID8/ICcnO1xuXHR9XG59XG5cbmNvbnN0IHdoaXRlc3BhY2UgPSBbLi4uJyBcXHRcXG5cXHJcXGZcXHUwMGEwXFx1MDAwYlxcdWZlZmYnXTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW2hhc2hdXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGJvb2xlYW4+fSBbZGlyZWN0aXZlc11cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9fY2xhc3ModmFsdWUsIGhhc2gsIGRpcmVjdGl2ZXMpIHtcblx0dmFyIGNsYXNzbmFtZSA9IHZhbHVlID09IG51bGwgPyAnJyA6ICcnICsgdmFsdWU7XG5cblx0aWYgKGhhc2gpIHtcblx0XHRjbGFzc25hbWUgPSBjbGFzc25hbWUgPyBjbGFzc25hbWUgKyAnICcgKyBoYXNoIDogaGFzaDtcblx0fVxuXG5cdGlmIChkaXJlY3RpdmVzKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIGRpcmVjdGl2ZXMpIHtcblx0XHRcdGlmIChkaXJlY3RpdmVzW2tleV0pIHtcblx0XHRcdFx0Y2xhc3NuYW1lID0gY2xhc3NuYW1lID8gY2xhc3NuYW1lICsgJyAnICsga2V5IDoga2V5O1xuXHRcdFx0fSBlbHNlIGlmIChjbGFzc25hbWUubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBsZW4gPSBrZXkubGVuZ3RoO1xuXHRcdFx0XHR2YXIgYSA9IDA7XG5cblx0XHRcdFx0d2hpbGUgKChhID0gY2xhc3NuYW1lLmluZGV4T2Yoa2V5LCBhKSkgPj0gMCkge1xuXHRcdFx0XHRcdHZhciBiID0gYSArIGxlbjtcblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdChhID09PSAwIHx8IHdoaXRlc3BhY2UuaW5jbHVkZXMoY2xhc3NuYW1lW2EgLSAxXSkpICYmXG5cdFx0XHRcdFx0XHQoYiA9PT0gY2xhc3NuYW1lLmxlbmd0aCB8fCB3aGl0ZXNwYWNlLmluY2x1ZGVzKGNsYXNzbmFtZVtiXSkpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRjbGFzc25hbWUgPSAoYSA9PT0gMCA/ICcnIDogY2xhc3NuYW1lLnN1YnN0cmluZygwLCBhKSkgKyBjbGFzc25hbWUuc3Vic3RyaW5nKGIgKyAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YSA9IGI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNsYXNzbmFtZSA9PT0gJycgPyBudWxsIDogY2xhc3NuYW1lO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsYW55Pn0gc3R5bGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGltcG9ydGFudFxuICovXG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHN0eWxlcywgaW1wb3J0YW50ID0gZmFsc2UpIHtcblx0dmFyIHNlcGFyYXRvciA9IGltcG9ydGFudCA/ICcgIWltcG9ydGFudDsnIDogJzsnO1xuXHR2YXIgY3NzID0gJyc7XG5cblx0Zm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuXHRcdHZhciB2YWx1ZSA9IHN0eWxlc1trZXldO1xuXHRcdGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSAnJykge1xuXHRcdFx0Y3NzICs9ICcgJyArIGtleSArICc6ICcgKyB2YWx1ZSArIHNlcGFyYXRvcjtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY3NzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0b19jc3NfbmFtZShuYW1lKSB7XG5cdGlmIChuYW1lWzBdICE9PSAnLScgfHwgbmFtZVsxXSAhPT0gJy0nKSB7XG5cdFx0cmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKTtcblx0fVxuXHRyZXR1cm4gbmFtZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55PiB8IFtSZWNvcmQ8c3RyaW5nLCBhbnk+LCBSZWNvcmQ8c3RyaW5nLCBhbnk+XX0gW3N0eWxlc11cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9fc3R5bGUodmFsdWUsIHN0eWxlcykge1xuXHRpZiAoc3R5bGVzKSB7XG5cdFx0dmFyIG5ld19zdHlsZSA9ICcnO1xuXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLGFueT4gfCB1bmRlZmluZWR9ICovXG5cdFx0dmFyIG5vcm1hbF9zdHlsZXM7XG5cblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsYW55PiB8IHVuZGVmaW5lZH0gKi9cblx0XHR2YXIgaW1wb3J0YW50X3N0eWxlcztcblxuXHRcdGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcblx0XHRcdG5vcm1hbF9zdHlsZXMgPSBzdHlsZXNbMF07XG5cdFx0XHRpbXBvcnRhbnRfc3R5bGVzID0gc3R5bGVzWzFdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRub3JtYWxfc3R5bGVzID0gc3R5bGVzO1xuXHRcdH1cblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0dmFsdWUgPSBTdHJpbmcodmFsdWUpXG5cdFx0XHRcdC5yZXBsYWNlQWxsKC9cXHMqXFwvXFwqLio/XFwqXFwvXFxzKi9nLCAnJylcblx0XHRcdFx0LnRyaW0oKTtcblxuXHRcdFx0LyoqIEB0eXBlIHtib29sZWFuIHwgJ1wiJyB8IFwiJ1wifSAqL1xuXHRcdFx0dmFyIGluX3N0ciA9IGZhbHNlO1xuXHRcdFx0dmFyIGluX2FwbyA9IDA7XG5cdFx0XHR2YXIgaW5fY29tbWVudCA9IGZhbHNlO1xuXG5cdFx0XHR2YXIgcmVzZXJ2ZWRfbmFtZXMgPSBbXTtcblxuXHRcdFx0aWYgKG5vcm1hbF9zdHlsZXMpIHtcblx0XHRcdFx0cmVzZXJ2ZWRfbmFtZXMucHVzaCguLi5PYmplY3Qua2V5cyhub3JtYWxfc3R5bGVzKS5tYXAodG9fY3NzX25hbWUpKTtcblx0XHRcdH1cblx0XHRcdGlmIChpbXBvcnRhbnRfc3R5bGVzKSB7XG5cdFx0XHRcdHJlc2VydmVkX25hbWVzLnB1c2goLi4uT2JqZWN0LmtleXMoaW1wb3J0YW50X3N0eWxlcykubWFwKHRvX2Nzc19uYW1lKSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzdGFydF9pbmRleCA9IDA7XG5cdFx0XHR2YXIgbmFtZV9pbmRleCA9IC0xO1xuXG5cdFx0XHRjb25zdCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHZhciBjID0gdmFsdWVbaV07XG5cblx0XHRcdFx0aWYgKGluX2NvbW1lbnQpIHtcblx0XHRcdFx0XHRpZiAoYyA9PT0gJy8nICYmIHZhbHVlW2kgLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0XHRpbl9jb21tZW50ID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGluX3N0cikge1xuXHRcdFx0XHRcdGlmIChpbl9zdHIgPT09IGMpIHtcblx0XHRcdFx0XHRcdGluX3N0ciA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChjID09PSAnLycgJiYgdmFsdWVbaSArIDFdID09PSAnKicpIHtcblx0XHRcdFx0XHRpbl9jb21tZW50ID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmIChjID09PSAnXCInIHx8IGMgPT09IFwiJ1wiKSB7XG5cdFx0XHRcdFx0aW5fc3RyID0gYztcblx0XHRcdFx0fSBlbHNlIGlmIChjID09PSAnKCcpIHtcblx0XHRcdFx0XHRpbl9hcG8rKztcblx0XHRcdFx0fSBlbHNlIGlmIChjID09PSAnKScpIHtcblx0XHRcdFx0XHRpbl9hcG8tLTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghaW5fY29tbWVudCAmJiBpbl9zdHIgPT09IGZhbHNlICYmIGluX2FwbyA9PT0gMCkge1xuXHRcdFx0XHRcdGlmIChjID09PSAnOicgJiYgbmFtZV9pbmRleCA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdG5hbWVfaW5kZXggPSBpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gJzsnIHx8IGkgPT09IGxlbiAtIDEpIHtcblx0XHRcdFx0XHRcdGlmIChuYW1lX2luZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbmFtZSA9IHRvX2Nzc19uYW1lKHZhbHVlLnN1YnN0cmluZyhzdGFydF9pbmRleCwgbmFtZV9pbmRleCkudHJpbSgpKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIXJlc2VydmVkX25hbWVzLmluY2x1ZGVzKG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGMgIT09ICc7Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9IHZhbHVlLnN1YnN0cmluZyhzdGFydF9pbmRleCwgaSkudHJpbSgpO1xuXHRcdFx0XHRcdFx0XHRcdG5ld19zdHlsZSArPSAnICcgKyBwcm9wZXJ0eSArICc7Jztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydF9pbmRleCA9IGkgKyAxO1xuXHRcdFx0XHRcdFx0bmFtZV9pbmRleCA9IC0xO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChub3JtYWxfc3R5bGVzKSB7XG5cdFx0XHRuZXdfc3R5bGUgKz0gYXBwZW5kX3N0eWxlcyhub3JtYWxfc3R5bGVzKTtcblx0XHR9XG5cblx0XHRpZiAoaW1wb3J0YW50X3N0eWxlcykge1xuXHRcdFx0bmV3X3N0eWxlICs9IGFwcGVuZF9zdHlsZXMoaW1wb3J0YW50X3N0eWxlcywgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0bmV3X3N0eWxlID0gbmV3X3N0eWxlLnRyaW0oKTtcblx0XHRyZXR1cm4gbmV3X3N0eWxlID09PSAnJyA/IG51bGwgOiBuZXdfc3R5bGU7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBTdHJpbmcodmFsdWUpO1xufVxuIiwgImltcG9ydCB7IHRvX2NsYXNzIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHsgaHlkcmF0aW5nIH0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtib29sZWFuIHwgbnVtYmVyfSBpc19odG1sXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW2hhc2hdXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IFtwcmV2X2NsYXNzZXNdXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IFtuZXh0X2NsYXNzZXNdXG4gKiBAcmV0dXJucyB7UmVjb3JkPHN0cmluZywgYm9vbGVhbj4gfCB1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY2xhc3MoZG9tLCBpc19odG1sLCB2YWx1ZSwgaGFzaCwgcHJldl9jbGFzc2VzLCBuZXh0X2NsYXNzZXMpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBuZWVkIHRvIGFkZCBfX2NsYXNzTmFtZSB0byBwYXRjaGVkIHByb3RvdHlwZVxuXHR2YXIgcHJldiA9IGRvbS5fX2NsYXNzTmFtZTtcblxuXHRpZiAoXG5cdFx0aHlkcmF0aW5nIHx8XG5cdFx0cHJldiAhPT0gdmFsdWUgfHxcblx0XHRwcmV2ID09PSB1bmRlZmluZWQgLy8gZm9yIGVkZ2UgY2FzZSBvZiBgY2xhc3M9e3VuZGVmaW5lZH1gXG5cdCkge1xuXHRcdHZhciBuZXh0X2NsYXNzX25hbWUgPSB0b19jbGFzcyh2YWx1ZSwgaGFzaCwgbmV4dF9jbGFzc2VzKTtcblxuXHRcdGlmICghaHlkcmF0aW5nIHx8IG5leHRfY2xhc3NfbmFtZSAhPT0gZG9tLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkge1xuXHRcdFx0Ly8gUmVtb3ZpbmcgdGhlIGF0dHJpYnV0ZSB3aGVuIHRoZSB2YWx1ZSBpcyBvbmx5IGFuIGVtcHR5IHN0cmluZyBjYXVzZXNcblx0XHRcdC8vIHBlcmZvcm1hbmNlIGlzc3VlcyB2cyBzaW1wbHkgbWFraW5nIHRoZSBjbGFzc05hbWUgYW4gZW1wdHkgc3RyaW5nLiBTb1xuXHRcdFx0Ly8gd2Ugc2hvdWxkIG9ubHkgcmVtb3ZlIHRoZSBjbGFzcyBpZiB0aGUgdmFsdWUgaXMgbnVsbGlzaFxuXHRcdFx0Ly8gYW5kIHRoZXJlIG5vIGhhc2gvZGlyZWN0aXZlcyA6XG5cdFx0XHRpZiAobmV4dF9jbGFzc19uYW1lID09IG51bGwpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcblx0XHRcdH0gZWxzZSBpZiAoaXNfaHRtbCkge1xuXHRcdFx0XHRkb20uY2xhc3NOYW1lID0gbmV4dF9jbGFzc19uYW1lO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0X2NsYXNzX25hbWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgbmVlZCB0byBhZGQgX19jbGFzc05hbWUgdG8gcGF0Y2hlZCBwcm90b3R5cGVcblx0XHRkb20uX19jbGFzc05hbWUgPSB2YWx1ZTtcblx0fSBlbHNlIGlmIChuZXh0X2NsYXNzZXMgJiYgcHJldl9jbGFzc2VzICE9PSBuZXh0X2NsYXNzZXMpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gbmV4dF9jbGFzc2VzKSB7XG5cdFx0XHR2YXIgaXNfcHJlc2VudCA9ICEhbmV4dF9jbGFzc2VzW2tleV07XG5cblx0XHRcdGlmIChwcmV2X2NsYXNzZXMgPT0gbnVsbCB8fCBpc19wcmVzZW50ICE9PSAhIXByZXZfY2xhc3Nlc1trZXldKSB7XG5cdFx0XHRcdGRvbS5jbGFzc0xpc3QudG9nZ2xlKGtleSwgaXNfcHJlc2VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5leHRfY2xhc3Nlcztcbn1cbiIsICJpbXBvcnQgeyB0b19zdHlsZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBkb21cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gcHJldlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBuZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gW3ByaW9yaXR5XVxuICovXG5mdW5jdGlvbiB1cGRhdGVfc3R5bGVzKGRvbSwgcHJldiA9IHt9LCBuZXh0LCBwcmlvcml0eSkge1xuXHRmb3IgKHZhciBrZXkgaW4gbmV4dCkge1xuXHRcdHZhciB2YWx1ZSA9IG5leHRba2V5XTtcblxuXHRcdGlmIChwcmV2W2tleV0gIT09IHZhbHVlKSB7XG5cdFx0XHRpZiAobmV4dFtrZXldID09IG51bGwpIHtcblx0XHRcdFx0ZG9tLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb20uc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgcHJpb3JpdHkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gZG9tXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT4gfCBbUmVjb3JkPHN0cmluZywgYW55PiwgUmVjb3JkPHN0cmluZywgYW55Pl19IFtwcmV2X3N0eWxlc11cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55PiB8IFtSZWNvcmQ8c3RyaW5nLCBhbnk+LCBSZWNvcmQ8c3RyaW5nLCBhbnk+XX0gW25leHRfc3R5bGVzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKGRvbSwgdmFsdWUsIHByZXZfc3R5bGVzLCBuZXh0X3N0eWxlcykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHZhciBwcmV2ID0gZG9tLl9fc3R5bGU7XG5cblx0aWYgKGh5ZHJhdGluZyB8fCBwcmV2ICE9PSB2YWx1ZSkge1xuXHRcdHZhciBuZXh0X3N0eWxlX2F0dHIgPSB0b19zdHlsZSh2YWx1ZSwgbmV4dF9zdHlsZXMpO1xuXG5cdFx0aWYgKCFoeWRyYXRpbmcgfHwgbmV4dF9zdHlsZV9hdHRyICE9PSBkb20uZ2V0QXR0cmlidXRlKCdzdHlsZScpKSB7XG5cdFx0XHRpZiAobmV4dF9zdHlsZV9hdHRyID09IG51bGwpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gbmV4dF9zdHlsZV9hdHRyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRkb20uX19zdHlsZSA9IHZhbHVlO1xuXHR9IGVsc2UgaWYgKG5leHRfc3R5bGVzKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobmV4dF9zdHlsZXMpKSB7XG5cdFx0XHR1cGRhdGVfc3R5bGVzKGRvbSwgcHJldl9zdHlsZXM/LlswXSwgbmV4dF9zdHlsZXNbMF0pO1xuXHRcdFx0dXBkYXRlX3N0eWxlcyhkb20sIHByZXZfc3R5bGVzPy5bMV0sIG5leHRfc3R5bGVzWzFdLCAnaW1wb3J0YW50Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHVwZGF0ZV9zdHlsZXMoZG9tLCBwcmV2X3N0eWxlcywgbmV4dF9zdHlsZXMpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXh0X3N0eWxlcztcbn1cbiIsICIvKiogQGltcG9ydCB7IEVmZmVjdCB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGh5ZHJhdGluZywgc2V0X2h5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRfZGVzY3JpcHRvcnMsIGdldF9wcm90b3R5cGVfb2YgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlX2V2ZW50LCBkZWxlZ2F0ZSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IGFkZF9mb3JtX3Jlc2V0X2xpc3RlbmVyLCBhdXRvZm9jdXMgfSBmcm9tICcuL21pc2MuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi8uLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBMT0FESU5HX0FUVFJfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuaW1wb3J0IHsgaXNfY2FwdHVyZV9ldmVudCwgY2FuX2RlbGVnYXRlX2V2ZW50LCBub3JtYWxpemVfYXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRnZXQsXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgYXR0YWNoIH0gZnJvbSAnLi9hdHRhY2htZW50cy5qcyc7XG5pbXBvcnQgeyBjbHN4IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2F0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHsgc2V0X2NsYXNzIH0gZnJvbSAnLi9jbGFzcy5qcyc7XG5pbXBvcnQgeyBzZXRfc3R5bGUgfSBmcm9tICcuL3N0eWxlLmpzJztcbmltcG9ydCB7IEFUVEFDSE1FTlRfS0VZLCBOQU1FU1BBQ0VfSFRNTCwgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBicmFuY2gsIGRlc3Ryb3lfZWZmZWN0LCBlZmZlY3QsIG1hbmFnZWQgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgaW5pdF9zZWxlY3QsIHNlbGVjdF9vcHRpb24gfSBmcm9tICcuL2JpbmRpbmdzL3NlbGVjdC5qcyc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9hc3luYy5qcyc7XG5cbmV4cG9ydCBjb25zdCBDTEFTUyA9IFN5bWJvbCgnY2xhc3MnKTtcbmV4cG9ydCBjb25zdCBTVFlMRSA9IFN5bWJvbCgnc3R5bGUnKTtcblxuY29uc3QgSVNfQ1VTVE9NX0VMRU1FTlQgPSBTeW1ib2woJ2lzIGN1c3RvbSBlbGVtZW50Jyk7XG5jb25zdCBJU19IVE1MID0gU3ltYm9sKCdpcyBodG1sJyk7XG5cbi8qKlxuICogVGhlIHZhbHVlL2NoZWNrZWQgYXR0cmlidXRlIGluIHRoZSB0ZW1wbGF0ZSBhY3R1YWxseSBjb3JyZXNwb25kcyB0byB0aGUgZGVmYXVsdFZhbHVlIHByb3BlcnR5LCBzbyB3ZSBuZWVkXG4gKiB0byByZW1vdmUgaXQgdXBvbiBoeWRyYXRpb24gdG8gYXZvaWQgYSBidWcgd2hlbiBzb21lb25lIHJlc2V0cyB0aGUgZm9ybSB2YWx1ZS5cbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlX2lucHV0X2RlZmF1bHRzKGlucHV0KSB7XG5cdGlmICghaHlkcmF0aW5nKSByZXR1cm47XG5cblx0dmFyIGFscmVhZHlfcmVtb3ZlZCA9IGZhbHNlO1xuXG5cdC8vIFdlIHRyeSBhbmQgcmVtb3ZlIHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXMgbGF0ZXIsIHJhdGhlciB0aGFuIHN5bmMgZHVyaW5nIGh5ZHJhdGlvbi5cblx0Ly8gRG9pbmcgaXQgc3luYyBkdXJpbmcgaHlkcmF0aW9uIGhhcyBhIG5lZ2F0aXZlIGltcGFjdCBvbiBwZXJmb3JtYW5jZSwgYnV0IGRlZmVycmluZyB0aGVcblx0Ly8gd29yayBpbiBhbiBpZGxlIHRhc2sgYWxsZXZpYXRlcyB0aGlzIGdyZWF0bHkuIElmIGEgZm9ybSByZXNldCBldmVudCBjb21lcyBpbiBiZWZvcmVcblx0Ly8gdGhlIGlkbGUgY2FsbGJhY2ssIHRoZW4gd2UgZW5zdXJlIHRoZSBpbnB1dCBkZWZhdWx0cyBhcmUgY2xlYXJlZCBqdXN0IGJlZm9yZS5cblx0dmFyIHJlbW92ZV9kZWZhdWx0cyA9ICgpID0+IHtcblx0XHRpZiAoYWxyZWFkeV9yZW1vdmVkKSByZXR1cm47XG5cdFx0YWxyZWFkeV9yZW1vdmVkID0gdHJ1ZTtcblxuXHRcdC8vIFJlbW92ZSB0aGUgYXR0cmlidXRlcyBidXQgcHJlc2VydmUgdGhlIHZhbHVlc1xuXHRcdGlmIChpbnB1dC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIHtcblx0XHRcdHZhciB2YWx1ZSA9IGlucHV0LnZhbHVlO1xuXHRcdFx0c2V0X2F0dHJpYnV0ZShpbnB1dCwgJ3ZhbHVlJywgbnVsbCk7XG5cdFx0XHRpbnB1dC52YWx1ZSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChpbnB1dC5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuXHRcdFx0dmFyIGNoZWNrZWQgPSBpbnB1dC5jaGVja2VkO1xuXHRcdFx0c2V0X2F0dHJpYnV0ZShpbnB1dCwgJ2NoZWNrZWQnLCBudWxsKTtcblx0XHRcdGlucHV0LmNoZWNrZWQgPSBjaGVja2VkO1xuXHRcdH1cblx0fTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGlucHV0Ll9fb25fciA9IHJlbW92ZV9kZWZhdWx0cztcblx0cXVldWVfbWljcm9fdGFzayhyZW1vdmVfZGVmYXVsdHMpO1xuXHRhZGRfZm9ybV9yZXNldF9saXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfdmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcblx0dmFyIGF0dHJpYnV0ZXMgPSBnZXRfYXR0cmlidXRlcyhlbGVtZW50KTtcblxuXHRpZiAoXG5cdFx0YXR0cmlidXRlcy52YWx1ZSA9PT1cblx0XHRcdChhdHRyaWJ1dGVzLnZhbHVlID1cblx0XHRcdFx0Ly8gdHJlYXQgbnVsbCBhbmQgdW5kZWZpbmVkIHRoZSBzYW1lIGZvciB0aGUgaW5pdGlhbCB2YWx1ZVxuXHRcdFx0XHR2YWx1ZSA/PyB1bmRlZmluZWQpIHx8XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdC8vIGBwcm9ncmVzc2AgZWxlbWVudHMgYWx3YXlzIG5lZWQgdGhlaXIgdmFsdWUgc2V0IHdoZW4gaXQncyBgMGBcblx0XHQoZWxlbWVudC52YWx1ZSA9PT0gdmFsdWUgJiYgKHZhbHVlICE9PSAwIHx8IGVsZW1lbnQubm9kZU5hbWUgIT09ICdQUk9HUkVTUycpKVxuXHQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGVsZW1lbnQudmFsdWUgPSB2YWx1ZSA/PyAnJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2NoZWNrZWQoZWxlbWVudCwgY2hlY2tlZCkge1xuXHR2YXIgYXR0cmlidXRlcyA9IGdldF9hdHRyaWJ1dGVzKGVsZW1lbnQpO1xuXG5cdGlmIChcblx0XHRhdHRyaWJ1dGVzLmNoZWNrZWQgPT09XG5cdFx0KGF0dHJpYnV0ZXMuY2hlY2tlZCA9XG5cdFx0XHQvLyB0cmVhdCBudWxsIGFuZCB1bmRlZmluZWQgdGhlIHNhbWUgZm9yIHRoZSBpbml0aWFsIHZhbHVlXG5cdFx0XHRjaGVja2VkID8/IHVuZGVmaW5lZClcblx0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRlbGVtZW50LmNoZWNrZWQgPSBjaGVja2VkO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIGFuIGBvcHRpb25gIGVsZW1lbnQuXG4gKiBOb3Qgc2V0IHRocm91Z2ggdGhlIHByb3BlcnR5IGJlY2F1c2UgdGhhdCBkb2Vzbid0IHJlZmxlY3QgdG8gdGhlIERPTSxcbiAqIHdoaWNoIG1lYW5zIGl0IHdvdWxkbid0IGJlIHRha2VuIGludG8gYWNjb3VudCB3aGVuIGEgZm9ybSBpcyByZXNldC5cbiAqIEBwYXJhbSB7SFRNTE9wdGlvbkVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2VsZWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zZWxlY3RlZChlbGVtZW50LCBzZWxlY3RlZCkge1xuXHRpZiAoc2VsZWN0ZWQpIHtcblx0XHQvLyBUaGUgc2VsZWN0ZWQgb3B0aW9uIGNvdWxkJ3ZlIGNoYW5nZWQgdmlhIHVzZXIgc2VsZWN0aW9uLCBhbmRcblx0XHQvLyBzZXR0aW5nIHRoZSB2YWx1ZSB3aXRob3V0IHRoaXMgY2hlY2sgd291bGQgc2V0IGl0IGJhY2suXG5cdFx0aWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkge1xuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcblx0fVxufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGRlZmF1bHQgY2hlY2tlZCBwcm9wZXJ0eSB3aXRob3V0IGluZmx1ZW5jaW5nIHRoZSBjdXJyZW50IGNoZWNrZWQgcHJvcGVydHkuXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RlZmF1bHRfY2hlY2tlZChlbGVtZW50LCBjaGVja2VkKSB7XG5cdGNvbnN0IGV4aXN0aW5nX3ZhbHVlID0gZWxlbWVudC5jaGVja2VkO1xuXHRlbGVtZW50LmRlZmF1bHRDaGVja2VkID0gY2hlY2tlZDtcblx0ZWxlbWVudC5jaGVja2VkID0gZXhpc3RpbmdfdmFsdWU7XG59XG5cbi8qKlxuICogQXBwbGllcyB0aGUgZGVmYXVsdCB2YWx1ZSBwcm9wZXJ0eSB3aXRob3V0IGluZmx1ZW5jaW5nIHRoZSBjdXJyZW50IHZhbHVlIHByb3BlcnR5LlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGVmYXVsdF92YWx1ZShlbGVtZW50LCB2YWx1ZSkge1xuXHRjb25zdCBleGlzdGluZ192YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG5cdGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gdmFsdWU7XG5cdGVsZW1lbnQudmFsdWUgPSBleGlzdGluZ192YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBfd2FybmluZ11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSwgc2tpcF93YXJuaW5nKSB7XG5cdHZhciBhdHRyaWJ1dGVzID0gZ2V0X2F0dHJpYnV0ZXMoZWxlbWVudCk7XG5cblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cblx0XHRpZiAoXG5cdFx0XHRhdHRyaWJ1dGUgPT09ICdzcmMnIHx8XG5cdFx0XHRhdHRyaWJ1dGUgPT09ICdzcmNzZXQnIHx8XG5cdFx0XHQoYXR0cmlidXRlID09PSAnaHJlZicgJiYgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0xJTksnKVxuXHRcdCkge1xuXHRcdFx0aWYgKCFza2lwX3dhcm5pbmcpIHtcblx0XHRcdFx0Y2hlY2tfc3JjX2luX2Rldl9oeWRyYXRpb24oZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSA/PyAnJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHdlIHJlc2V0IHRoZXNlIGF0dHJpYnV0ZXMsIHRoZXkgd291bGQgcmVzdWx0IGluIGFub3RoZXIgbmV0d29yayByZXF1ZXN0LCB3aGljaCB3ZSB3YW50IHRvIGF2b2lkLlxuXHRcdFx0Ly8gV2UgYXNzdW1lIHRoZXkgYXJlIHRoZSBzYW1lIGJldHdlZW4gY2xpZW50IGFuZCBzZXJ2ZXIgYXMgY2hlY2tpbmcgaWYgdGhleSBhcmUgZXF1YWwgaXMgZXhwZW5zaXZlXG5cdFx0XHQvLyAod2UgY2FuJ3QganVzdCBjb21wYXJlIHRoZSBzdHJpbmdzIGFzIHRoZXkgY2FuIGJlIGRpZmZlcmVudCBiZXR3ZWVuIGNsaWVudCBhbmQgc2VydmVyIGJ1dCByZXN1bHQgaW4gdGhlXG5cdFx0XHQvLyBzYW1lIHVybCwgc28gd2Ugd291bGQgbmVlZCB0byBjcmVhdGUgaGlkZGVuIGFuY2hvciBlbGVtZW50cyB0byBjb21wYXJlIHRoZW0pXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9PT0gKGF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9IHZhbHVlKSkgcmV0dXJuO1xuXG5cdGlmIChhdHRyaWJ1dGUgPT09ICdsb2FkaW5nJykge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50W0xPQURJTkdfQVRUUl9TWU1CT0xdID0gdmFsdWU7XG5cdH1cblxuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiBnZXRfc2V0dGVycyhlbGVtZW50KS5pbmNsdWRlcyhhdHRyaWJ1dGUpKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGVsZW1lbnRbYXR0cmlidXRlXSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3hsaW5rX2F0dHJpYnV0ZShkb20sIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0ZG9tLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0Ly8gV2UgbmVlZCB0byBlbnN1cmUgdGhhdCBzZXR0aW5nIGN1c3RvbSBlbGVtZW50IHByb3BzLCB3aGljaCBjYW5cblx0Ly8gaW52b2tlIGxpZmVjeWNsZSBtZXRob2RzIG9uIG90aGVyIGN1c3RvbSBlbGVtZW50cywgZG9lcyBub3QgYWxzb1xuXHQvLyBhc3NvY2lhdGUgdGhvc2UgbGlmZWN5Y2xlIG1ldGhvZHMgd2l0aCB0aGUgY3VycmVudCBhY3RpdmUgcmVhY3Rpb25cblx0Ly8gb3IgZWZmZWN0XG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0Ly8gSWYgd2UncmUgaHlkcmF0aW5nIGJ1dCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgZnJvbSBTdmVsdGUsIGFuZCBpdCBhbHJlYWR5IHNjYWZmb2xkZWQsXG5cdC8vIHRoZW4gaXQgbWlnaHQgcnVuIGJsb2NrIGxvZ2ljIGluIGh5ZHJhdGlvbiBtb2RlLCB3aGljaCB3ZSBoYXZlIHRvIHByZXZlbnQuXG5cdGxldCB3YXNfaHlkcmF0aW5nID0gaHlkcmF0aW5nO1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cdH1cblxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblxuXHR0cnkge1xuXHRcdGlmIChcblx0XHRcdC8vIGBzdHlsZWAgc2hvdWxkIHVzZSBgc2V0X2F0dHJpYnV0ZWAgcmF0aGVyIHRoYW4gdGhlIHNldHRlclxuXHRcdFx0cHJvcCAhPT0gJ3N0eWxlJyAmJlxuXHRcdFx0Ly8gRG9uJ3QgY29tcHV0ZSBzZXR0ZXJzIGZvciBjdXN0b20gZWxlbWVudHMgd2hpbGUgdGhleSBhcmVuJ3QgcmVnaXN0ZXJlZCB5ZXQsXG5cdFx0XHQvLyBiZWNhdXNlIGR1cmluZyB0aGVpciB1cGdyYWRlL2luc3RhbnRpYXRpb24gdGhleSBtaWdodCBhZGQgbW9yZSBzZXR0ZXJzLlxuXHRcdFx0Ly8gSW5zdGVhZCwgZmFsbCBiYWNrIHRvIGEgc2ltcGxlIFwiYW4gb2JqZWN0LCB0aGVuIHNldCBhcyBwcm9wZXJ0eVwiIGhldXJpc3RpYy5cblx0XHRcdChzZXR0ZXJzX2NhY2hlLmhhcyhub2RlLmdldEF0dHJpYnV0ZSgnaXMnKSB8fCBub2RlLm5vZGVOYW1lKSB8fFxuXHRcdFx0Ly8gY3VzdG9tRWxlbWVudHMgbWF5IG5vdCBiZSBhdmFpbGFibGUgaW4gYnJvd3NlciBleHRlbnNpb24gY29udGV4dHNcblx0XHRcdCFjdXN0b21FbGVtZW50cyB8fFxuXHRcdFx0Y3VzdG9tRWxlbWVudHMuZ2V0KG5vZGUuZ2V0QXR0cmlidXRlKCdpcycpIHx8IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ/IGdldF9zZXR0ZXJzKG5vZGUpLmluY2x1ZGVzKHByb3ApXG5cdFx0XHRcdDogdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jylcblx0XHQpIHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdG5vZGVbcHJvcF0gPSB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gV2UgZGlkIGdldHRlcnMgZXRjIGNoZWNrcyBhbHJlYWR5LCBzdHJpbmdpZnkgYmVmb3JlIHBhc3NpbmcgdG8gc2V0X2F0dHJpYnV0ZVxuXHRcdFx0Ly8gdG8gZW5zdXJlIGl0IGRvZXNuJ3QgaW52b2tlIHRoZSBzYW1lIGxvZ2ljIGFnYWluLCBhbmQgcG90ZW50aWFsbHkgcG9wdWxhdGluZ1xuXHRcdFx0Ly8gdGhlIHNldHRlcnMgY2FjaGUgdG9vIGVhcmx5LlxuXHRcdFx0c2V0X2F0dHJpYnV0ZShub2RlLCBwcm9wLCB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpKTtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0XHRpZiAod2FzX2h5ZHJhdGluZykge1xuXHRcdFx0c2V0X2h5ZHJhdGluZyh0cnVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBTcHJlYWRzIGF0dHJpYnV0ZXMgb250byBhIERPTSBlbGVtZW50LCB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBjdXJyZW50bHkgc2V0IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gZWxlbWVudFxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+IHwgdW5kZWZpbmVkfSBwcmV2XG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT59IG5leHQgTmV3IGF0dHJpYnV0ZXMgLSB0aGlzIGZ1bmN0aW9uIG11dGF0ZXMgdGhpcyBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY3NzX2hhc2hdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRfcmVtb3ZlX2RlZmF1bHRzXVxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcF93YXJuaW5nXVxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGFueT59XG4gKi9cbmZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKFxuXHRlbGVtZW50LFxuXHRwcmV2LFxuXHRuZXh0LFxuXHRjc3NfaGFzaCxcblx0c2hvdWxkX3JlbW92ZV9kZWZhdWx0cyA9IGZhbHNlLFxuXHRza2lwX3dhcm5pbmcgPSBmYWxzZVxuKSB7XG5cdGlmIChoeWRyYXRpbmcgJiYgc2hvdWxkX3JlbW92ZV9kZWZhdWx0cyAmJiBlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcblx0XHR2YXIgaW5wdXQgPSAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9ICovIChlbGVtZW50KTtcblx0XHR2YXIgYXR0cmlidXRlID0gaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyA/ICdkZWZhdWx0Q2hlY2tlZCcgOiAnZGVmYXVsdFZhbHVlJztcblxuXHRcdGlmICghKGF0dHJpYnV0ZSBpbiBuZXh0KSkge1xuXHRcdFx0cmVtb3ZlX2lucHV0X2RlZmF1bHRzKGlucHV0KTtcblx0XHR9XG5cdH1cblxuXHR2YXIgYXR0cmlidXRlcyA9IGdldF9hdHRyaWJ1dGVzKGVsZW1lbnQpO1xuXG5cdHZhciBpc19jdXN0b21fZWxlbWVudCA9IGF0dHJpYnV0ZXNbSVNfQ1VTVE9NX0VMRU1FTlRdO1xuXHR2YXIgcHJlc2VydmVfYXR0cmlidXRlX2Nhc2UgPSAhYXR0cmlidXRlc1tJU19IVE1MXTtcblxuXHQvLyBJZiB3ZSdyZSBoeWRyYXRpbmcgYnV0IHRoZSBjdXN0b20gZWxlbWVudCBpcyBmcm9tIFN2ZWx0ZSwgYW5kIGl0IGFscmVhZHkgc2NhZmZvbGRlZCxcblx0Ly8gdGhlbiBpdCBtaWdodCBydW4gYmxvY2sgbG9naWMgaW4gaHlkcmF0aW9uIG1vZGUsIHdoaWNoIHdlIGhhdmUgdG8gcHJldmVudC5cblx0bGV0IGlzX2h5ZHJhdGluZ19jdXN0b21fZWxlbWVudCA9IGh5ZHJhdGluZyAmJiBpc19jdXN0b21fZWxlbWVudDtcblx0aWYgKGlzX2h5ZHJhdGluZ19jdXN0b21fZWxlbWVudCkge1xuXHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHR9XG5cblx0dmFyIGN1cnJlbnQgPSBwcmV2IHx8IHt9O1xuXHR2YXIgaXNfb3B0aW9uX2VsZW1lbnQgPSBlbGVtZW50LnRhZ05hbWUgPT09ICdPUFRJT04nO1xuXG5cdGZvciAodmFyIGtleSBpbiBwcmV2KSB7XG5cdFx0aWYgKCEoa2V5IGluIG5leHQpKSB7XG5cdFx0XHRuZXh0W2tleV0gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGlmIChuZXh0LmNsYXNzKSB7XG5cdFx0bmV4dC5jbGFzcyA9IGNsc3gobmV4dC5jbGFzcyk7XG5cdH0gZWxzZSBpZiAoY3NzX2hhc2ggfHwgbmV4dFtDTEFTU10pIHtcblx0XHRuZXh0LmNsYXNzID0gbnVsbDsgLyogZm9yY2UgY2FsbCB0byBzZXRfY2xhc3MoKSAqL1xuXHR9XG5cblx0aWYgKG5leHRbU1RZTEVdKSB7XG5cdFx0bmV4dC5zdHlsZSA/Pz0gbnVsbDsgLyogZm9yY2UgY2FsbCB0byBzZXRfc3R5bGUoKSAqL1xuXHR9XG5cblx0dmFyIHNldHRlcnMgPSBnZXRfc2V0dGVycyhlbGVtZW50KTtcblxuXHQvLyBzaW5jZSBrZXkgaXMgY2FwdHVyZWQgd2UgdXNlIGNvbnN0XG5cdGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcblx0XHQvLyBsZXQgaW5zdGVhZCBvZiB2YXIgYmVjYXVzZSByZWZlcmVuY2VkIGluIGEgY2xvc3VyZVxuXHRcdGxldCB2YWx1ZSA9IG5leHRba2V5XTtcblxuXHRcdC8vIFVwIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRvIGRvIHRoaXMgZm9yIHRoZSBpbml0aWFsIHZhbHVlLCB0b28sIGV2ZW4gaWYgaXQncyB1bmRlZmluZWQsXG5cdFx0Ly8gYW5kIHRoaXMgd291bGRuJ3QgYmUgcmVhY2hlZCBpbiBjYXNlIG9mIHVuZGVmaW5lZCBiZWNhdXNlIG9mIHRoZSBlcXVhbGl0eSBjaGVjayBiZWxvd1xuXHRcdGlmIChpc19vcHRpb25fZWxlbWVudCAmJiBrZXkgPT09ICd2YWx1ZScgJiYgdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0Ly8gVGhlIDxvcHRpb24+IGVsZW1lbnQgaXMgYSBzcGVjaWFsIGNhc2UgYmVjYXVzZSByZW1vdmluZyB0aGUgdmFsdWUgYXR0cmlidXRlIG1lYW5zXG5cdFx0XHQvLyB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCBhbmQgc2V0dGluZyB0aGUgdmFsdWVcblx0XHRcdC8vIHRvIG51bGwgb3IgdW5kZWZpbmVkIG1lYW5zIHRoZSB2YWx1ZSBpcyBzZXQgdG8gdGhlIHN0cmluZyBcIm51bGxcIiBvciBcInVuZGVmaW5lZFwiLlxuXHRcdFx0Ly8gVG8gYWxpZ24gd2l0aCBob3cgd2UgaGFuZGxlIHRoaXMgY2FzZSBpbiBub24tc3ByZWFkLXNjZW5hcmlvcywgdGhpcyBsb2dpYyBpcyBuZWVkZWQuXG5cdFx0XHQvLyBUaGVyZSdzIGEgc3VwZXItZWRnZS1jYXNlIGJ1ZyBoZXJlIHRoYXQgaXMgbGVmdCBpbiBpbiBmYXZvciBvZiBzbWFsbGVyIGNvZGUgc2l6ZTpcblx0XHRcdC8vIEJlY2F1c2Ugb2YgdGhlIFwic2V0IG1pc3NpbmcgcHJvcHMgdG8gbnVsbFwiIGxvZ2ljIGFib3ZlLCB3ZSBjYW4ndCBkaWZmZXJlbnRpYXRlXG5cdFx0XHQvLyBiZXR3ZWVuIGEgbWlzc2luZyB2YWx1ZSBhbmQgYW4gZXhwbGljaXRseSBzZXQgdmFsdWUgb2YgbnVsbCBvciB1bmRlZmluZWQuIFRoYXQgbWVhbnNcblx0XHRcdC8vIHRoYXQgb25jZSBzZXQsIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgb2YgYW4gPG9wdGlvbj4gZWxlbWVudCBjYW4ndCBiZSByZW1vdmVkLiBUaGlzIGlzXG5cdFx0XHQvLyBhIHZlcnkgcmFyZSBlZGdlIGNhc2UsIGFuZCByZW1vdmluZyB0aGUgYXR0cmlidXRlIGFsdG9nZXRoZXIgaXNuJ3QgcG9zc2libGUgZWl0aGVyXG5cdFx0XHQvLyBmb3IgdGhlIDxvcHRpb24gdmFsdWU9e3VuZGVmaW5lZH0+IGNhc2UsIHNvIHdlJ3JlIG5vdCBsb3NpbmcgYW55IGZ1bmN0aW9uYWxpdHkgaGVyZS5cblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGVsZW1lbnQudmFsdWUgPSBlbGVtZW50Ll9fdmFsdWUgPSAnJztcblx0XHRcdGN1cnJlbnRba2V5XSA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJ2NsYXNzJykge1xuXHRcdFx0dmFyIGlzX2h0bWwgPSBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuXHRcdFx0c2V0X2NsYXNzKGVsZW1lbnQsIGlzX2h0bWwsIHZhbHVlLCBjc3NfaGFzaCwgcHJldj8uW0NMQVNTXSwgbmV4dFtDTEFTU10pO1xuXHRcdFx0Y3VycmVudFtrZXldID0gdmFsdWU7XG5cdFx0XHRjdXJyZW50W0NMQVNTXSA9IG5leHRbQ0xBU1NdO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGtleSA9PT0gJ3N0eWxlJykge1xuXHRcdFx0c2V0X3N0eWxlKGVsZW1lbnQsIHZhbHVlLCBwcmV2Py5bU1RZTEVdLCBuZXh0W1NUWUxFXSk7XG5cdFx0XHRjdXJyZW50W2tleV0gPSB2YWx1ZTtcblx0XHRcdGN1cnJlbnRbU1RZTEVdID0gbmV4dFtTVFlMRV07XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHR2YXIgcHJldl92YWx1ZSA9IGN1cnJlbnRba2V5XTtcblxuXHRcdC8vIFNraXAgaWYgdmFsdWUgaXMgdW5jaGFuZ2VkLCB1bmxlc3MgaXQncyBgdW5kZWZpbmVkYCBhbmQgdGhlIGVsZW1lbnQgc3RpbGwgaGFzIHRoZSBhdHRyaWJ1dGVcblx0XHRpZiAodmFsdWUgPT09IHByZXZfdmFsdWUgJiYgISh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKGtleSkpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjdXJyZW50W2tleV0gPSB2YWx1ZTtcblxuXHRcdHZhciBwcmVmaXggPSBrZXlbMF0gKyBrZXlbMV07IC8vIHRoaXMgaXMgZmFzdGVyIHRoYW4ga2V5LnNsaWNlKDAsIDIpXG5cdFx0aWYgKHByZWZpeCA9PT0gJyQkJykgY29udGludWU7XG5cblx0XHRpZiAocHJlZml4ID09PSAnb24nKSB7XG5cdFx0XHQvKiogQHR5cGUge3sgY2FwdHVyZT86IHRydWUgfX0gKi9cblx0XHRcdGNvbnN0IG9wdHMgPSB7fTtcblx0XHRcdGNvbnN0IGV2ZW50X2hhbmRsZV9rZXkgPSAnJCQnICsga2V5O1xuXHRcdFx0bGV0IGV2ZW50X25hbWUgPSBrZXkuc2xpY2UoMik7XG5cdFx0XHR2YXIgZGVsZWdhdGVkID0gY2FuX2RlbGVnYXRlX2V2ZW50KGV2ZW50X25hbWUpO1xuXG5cdFx0XHRpZiAoaXNfY2FwdHVyZV9ldmVudChldmVudF9uYW1lKSkge1xuXHRcdFx0XHRldmVudF9uYW1lID0gZXZlbnRfbmFtZS5zbGljZSgwLCAtNyk7XG5cdFx0XHRcdG9wdHMuY2FwdHVyZSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGVsZWdhdGVkICYmIHByZXZfdmFsdWUpIHtcblx0XHRcdFx0Ly8gTGlzdGVuaW5nIHRvIHNhbWUgZXZlbnQgYnV0IGRpZmZlcmVudCBoYW5kbGVyIC0+IG91ciBoYW5kbGUgZnVuY3Rpb24gYmVsb3cgdGFrZXMgY2FyZSBvZiB0aGlzXG5cdFx0XHRcdC8vIElmIHdlIHdlcmUgdG8gcmVtb3ZlIGFuZCBhZGQgbGlzdGVuZXJzIGluIHRoaXMgY2FzZSwgaXQgY291bGQgaGFwcGVuIHRoYXQgdGhlIGV2ZW50IGlzIFwic3dhbGxvd2VkXCJcblx0XHRcdFx0Ly8gKHRoZSBicm93c2VyIHNlZW1zIHRvIG5vdCBrbm93IHlldCB0aGF0IGEgbmV3IG9uZSBleGlzdHMgbm93KSBhbmQgZG9lc24ndCByZWFjaCB0aGUgaGFuZGxlclxuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8xMTkwM1xuXHRcdFx0XHRpZiAodmFsdWUgIT0gbnVsbCkgY29udGludWU7XG5cblx0XHRcdFx0ZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIGN1cnJlbnRbZXZlbnRfaGFuZGxlX2tleV0sIG9wdHMpO1xuXHRcdFx0XHRjdXJyZW50W2V2ZW50X2hhbmRsZV9rZXldID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhbHVlICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKCFkZWxlZ2F0ZWQpIHtcblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBAdGhpcyB7YW55fVxuXHRcdFx0XHRcdCAqIEBwYXJhbSB7RXZlbnR9IGV2dFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdGZ1bmN0aW9uIGhhbmRsZShldnQpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRba2V5XS5jYWxsKHRoaXMsIGV2dCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y3VycmVudFtldmVudF9oYW5kbGVfa2V5XSA9IGNyZWF0ZV9ldmVudChldmVudF9uYW1lLCBlbGVtZW50LCBoYW5kbGUsIG9wdHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRlbGVtZW50W2BfXyR7ZXZlbnRfbmFtZX1gXSA9IHZhbHVlO1xuXHRcdFx0XHRcdGRlbGVnYXRlKFtldmVudF9uYW1lXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoZGVsZWdhdGVkKSB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0ZWxlbWVudFtgX18ke2V2ZW50X25hbWV9YF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdC8vIGF2b2lkIHVzaW5nIHRoZSBzZXR0ZXJcblx0XHRcdHNldF9hdHRyaWJ1dGUoZWxlbWVudCwga2V5LCB2YWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdhdXRvZm9jdXMnKSB7XG5cdFx0XHRhdXRvZm9jdXMoLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKGVsZW1lbnQpLCBCb29sZWFuKHZhbHVlKSk7XG5cdFx0fSBlbHNlIGlmICghaXNfY3VzdG9tX2VsZW1lbnQgJiYgKGtleSA9PT0gJ19fdmFsdWUnIHx8IChrZXkgPT09ICd2YWx1ZScgJiYgdmFsdWUgIT0gbnVsbCkpKSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlIFdlJ3JlIG5vdCBydW5uaW5nIHRoaXMgZm9yIGN1c3RvbSBlbGVtZW50cyBiZWNhdXNlIF9fdmFsdWUgaXMgYWN0dWFsbHlcblx0XHRcdC8vIGhvdyBMaXQgc3RvcmVzIHRoZSBjdXJyZW50IHZhbHVlIG9uIHRoZSBlbGVtZW50LCBhbmQgbWVzc2luZyB3aXRoIHRoYXQgd291bGQgYnJlYWsgdGhpbmdzLlxuXHRcdFx0ZWxlbWVudC52YWx1ZSA9IGVsZW1lbnQuX192YWx1ZSA9IHZhbHVlO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc2VsZWN0ZWQnICYmIGlzX29wdGlvbl9lbGVtZW50KSB7XG5cdFx0XHRzZXRfc2VsZWN0ZWQoLyoqIEB0eXBlIHtIVE1MT3B0aW9uRWxlbWVudH0gKi8gKGVsZW1lbnQpLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBuYW1lID0ga2V5O1xuXHRcdFx0aWYgKCFwcmVzZXJ2ZV9hdHRyaWJ1dGVfY2FzZSkge1xuXHRcdFx0XHRuYW1lID0gbm9ybWFsaXplX2F0dHJpYnV0ZShuYW1lKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGlzX2RlZmF1bHQgPSBuYW1lID09PSAnZGVmYXVsdFZhbHVlJyB8fCBuYW1lID09PSAnZGVmYXVsdENoZWNrZWQnO1xuXG5cdFx0XHRpZiAodmFsdWUgPT0gbnVsbCAmJiAhaXNfY3VzdG9tX2VsZW1lbnQgJiYgIWlzX2RlZmF1bHQpIHtcblx0XHRcdFx0YXR0cmlidXRlc1trZXldID0gbnVsbDtcblxuXHRcdFx0XHRpZiAobmFtZSA9PT0gJ3ZhbHVlJyB8fCBuYW1lID09PSAnY2hlY2tlZCcpIHtcblx0XHRcdFx0XHQvLyByZW1vdmluZyB2YWx1ZS9jaGVja2VkIGFsc28gcmVtb3ZlcyBkZWZhdWx0VmFsdWUvZGVmYXVsdENoZWNrZWQgXHUyMDE0IHByZXNlcnZlXG5cdFx0XHRcdFx0bGV0IGlucHV0ID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZWxlbWVudCk7XG5cdFx0XHRcdFx0Y29uc3QgdXNlX2RlZmF1bHQgPSBwcmV2ID09PSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0aWYgKG5hbWUgPT09ICd2YWx1ZScpIHtcblx0XHRcdFx0XHRcdGxldCBwcmV2aW91cyA9IGlucHV0LmRlZmF1bHRWYWx1ZTtcblx0XHRcdFx0XHRcdGlucHV0LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHRcdFx0XHRcdGlucHV0LmRlZmF1bHRWYWx1ZSA9IHByZXZpb3VzO1xuXHRcdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdFx0aW5wdXQudmFsdWUgPSBpbnB1dC5fX3ZhbHVlID0gdXNlX2RlZmF1bHQgPyBwcmV2aW91cyA6IG51bGw7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGxldCBwcmV2aW91cyA9IGlucHV0LmRlZmF1bHRDaGVja2VkO1xuXHRcdFx0XHRcdFx0aW5wdXQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdFx0XHRcdFx0aW5wdXQuZGVmYXVsdENoZWNrZWQgPSBwcmV2aW91cztcblx0XHRcdFx0XHRcdGlucHV0LmNoZWNrZWQgPSB1c2VfZGVmYXVsdCA/IHByZXZpb3VzIDogZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGlzX2RlZmF1bHQgfHxcblx0XHRcdFx0KHNldHRlcnMuaW5jbHVkZXMobmFtZSkgJiYgKGlzX2N1c3RvbV9lbGVtZW50IHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0ZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuXHRcdFx0XHQvLyByZW1vdmUgaXQgZnJvbSBhdHRyaWJ1dGVzJ3MgY2FjaGVcblx0XHRcdFx0aWYgKG5hbWUgaW4gYXR0cmlidXRlcykgYXR0cmlidXRlc1tuYW1lXSA9IFVOSU5JVElBTElaRUQ7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRzZXRfYXR0cmlidXRlKGVsZW1lbnQsIG5hbWUsIHZhbHVlLCBza2lwX3dhcm5pbmcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChpc19oeWRyYXRpbmdfY3VzdG9tX2VsZW1lbnQpIHtcblx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBlbGVtZW50XG4gKiBAcGFyYW0geyguLi5leHByZXNzaW9uczogYW55KSA9PiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSBmblxuICogQHBhcmFtIHtBcnJheTwoKSA9PiBhbnk+fSBzeW5jXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IFByb21pc2U8YW55Pj59IGFzeW5jXG4gKiBAcGFyYW0ge0FycmF5PFByb21pc2U8dm9pZD4+fSBibG9ja2Vyc1xuICogQHBhcmFtIHtzdHJpbmd9IFtjc3NfaGFzaF1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZF9yZW1vdmVfZGVmYXVsdHNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwX3dhcm5pbmddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVfZWZmZWN0KFxuXHRlbGVtZW50LFxuXHRmbixcblx0c3luYyA9IFtdLFxuXHRhc3luYyA9IFtdLFxuXHRibG9ja2VycyA9IFtdLFxuXHRjc3NfaGFzaCxcblx0c2hvdWxkX3JlbW92ZV9kZWZhdWx0cyA9IGZhbHNlLFxuXHRza2lwX3dhcm5pbmcgPSBmYWxzZVxuKSB7XG5cdGZsYXR0ZW4oYmxvY2tlcnMsIHN5bmMsIGFzeW5jLCAodmFsdWVzKSA9PiB7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+IHwgdW5kZWZpbmVkfSAqL1xuXHRcdHZhciBwcmV2ID0gdW5kZWZpbmVkO1xuXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3ltYm9sLCBFZmZlY3Q+fSAqL1xuXHRcdHZhciBlZmZlY3RzID0ge307XG5cblx0XHR2YXIgaXNfc2VsZWN0ID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCc7XG5cdFx0dmFyIGluaXRlZCA9IGZhbHNlO1xuXG5cdFx0bWFuYWdlZCgoKSA9PiB7XG5cdFx0XHR2YXIgbmV4dCA9IGZuKC4uLnZhbHVlcy5tYXAoZ2V0KSk7XG5cdFx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT59ICovXG5cdFx0XHR2YXIgY3VycmVudCA9IHNldF9hdHRyaWJ1dGVzKFxuXHRcdFx0XHRlbGVtZW50LFxuXHRcdFx0XHRwcmV2LFxuXHRcdFx0XHRuZXh0LFxuXHRcdFx0XHRjc3NfaGFzaCxcblx0XHRcdFx0c2hvdWxkX3JlbW92ZV9kZWZhdWx0cyxcblx0XHRcdFx0c2tpcF93YXJuaW5nXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoaW5pdGVkICYmIGlzX3NlbGVjdCAmJiAndmFsdWUnIGluIG5leHQpIHtcblx0XHRcdFx0c2VsZWN0X29wdGlvbigvKiogQHR5cGUge0hUTUxTZWxlY3RFbGVtZW50fSAqLyAoZWxlbWVudCksIG5leHQudmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGxldCBzeW1ib2wgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlZmZlY3RzKSkge1xuXHRcdFx0XHRpZiAoIW5leHRbc3ltYm9sXSkgZGVzdHJveV9lZmZlY3QoZWZmZWN0c1tzeW1ib2xdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChsZXQgc3ltYm9sIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobmV4dCkpIHtcblx0XHRcdFx0dmFyIG4gPSBuZXh0W3N5bWJvbF07XG5cblx0XHRcdFx0aWYgKHN5bWJvbC5kZXNjcmlwdGlvbiA9PT0gQVRUQUNITUVOVF9LRVkgJiYgKCFwcmV2IHx8IG4gIT09IHByZXZbc3ltYm9sXSkpIHtcblx0XHRcdFx0XHRpZiAoZWZmZWN0c1tzeW1ib2xdKSBkZXN0cm95X2VmZmVjdChlZmZlY3RzW3N5bWJvbF0pO1xuXHRcdFx0XHRcdGVmZmVjdHNbc3ltYm9sXSA9IGJyYW5jaCgoKSA9PiBhdHRhY2goZWxlbWVudCwgKCkgPT4gbikpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudFtzeW1ib2xdID0gbjtcblx0XHRcdH1cblxuXHRcdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0fSk7XG5cblx0XHRpZiAoaXNfc2VsZWN0KSB7XG5cdFx0XHR2YXIgc2VsZWN0ID0gLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi8gKGVsZW1lbnQpO1xuXG5cdFx0XHRlZmZlY3QoKCkgPT4ge1xuXHRcdFx0XHRzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSAqLyAocHJldikudmFsdWUsIHRydWUpO1xuXHRcdFx0XHRpbml0X3NlbGVjdChzZWxlY3QpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aW5pdGVkID0gdHJ1ZTtcblx0fSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRfYXR0cmlidXRlcyhlbGVtZW50KSB7XG5cdHJldHVybiAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+fSAqKi8gKFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50Ll9fYXR0cmlidXRlcyA/Pz0ge1xuXHRcdFx0W0lTX0NVU1RPTV9FTEVNRU5UXTogZWxlbWVudC5ub2RlTmFtZS5pbmNsdWRlcygnLScpLFxuXHRcdFx0W0lTX0hUTUxdOiBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gTkFNRVNQQUNFX0hUTUxcblx0XHR9XG5cdCk7XG59XG5cbi8qKiBAdHlwZSB7TWFwPHN0cmluZywgc3RyaW5nW10+fSAqL1xudmFyIHNldHRlcnNfY2FjaGUgPSBuZXcgTWFwKCk7XG5cbi8qKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgKi9cbmZ1bmN0aW9uIGdldF9zZXR0ZXJzKGVsZW1lbnQpIHtcblx0dmFyIGNhY2hlX2tleSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpcycpIHx8IGVsZW1lbnQubm9kZU5hbWU7XG5cdHZhciBzZXR0ZXJzID0gc2V0dGVyc19jYWNoZS5nZXQoY2FjaGVfa2V5KTtcblx0aWYgKHNldHRlcnMpIHJldHVybiBzZXR0ZXJzO1xuXHRzZXR0ZXJzX2NhY2hlLnNldChjYWNoZV9rZXksIChzZXR0ZXJzID0gW10pKTtcblxuXHR2YXIgZGVzY3JpcHRvcnM7XG5cdHZhciBwcm90byA9IGVsZW1lbnQ7IC8vIEluIHRoZSBjYXNlIG9mIGN1c3RvbSBlbGVtZW50cyB0aGVyZSBtaWdodCBiZSBzZXR0ZXJzIG9uIHRoZSBpbnN0YW5jZVxuXHR2YXIgZWxlbWVudF9wcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG5cdC8vIFN0b3AgYXQgRWxlbWVudCwgZnJvbSB0aGVyZSBvbiB0aGVyZSdzIG9ubHkgdW5uZWNlc3Nhcnkgc2V0dGVycyB3ZSdyZSBub3QgaW50ZXJlc3RlZCBpblxuXHQvLyBEbyBub3QgdXNlIGNvbnRydWN0b3IubmFtZSBoZXJlIGFzIHRoYXQncyB1bnJlbGlhYmxlIGluIHNvbWUgYnJvd3NlciBlbnZpcm9ubWVudHNcblx0d2hpbGUgKGVsZW1lbnRfcHJvdG8gIT09IHByb3RvKSB7XG5cdFx0ZGVzY3JpcHRvcnMgPSBnZXRfZGVzY3JpcHRvcnMocHJvdG8pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGRlc2NyaXB0b3JzKSB7XG5cdFx0XHRpZiAoZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcblx0XHRcdFx0c2V0dGVycy5wdXNoKGtleSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRfcHJvdG90eXBlX29mKHByb3RvKTtcblx0fVxuXG5cdHJldHVybiBzZXR0ZXJzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZnVuY3Rpb24gY2hlY2tfc3JjX2luX2Rldl9oeWRyYXRpb24oZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRpZiAoIURFVikgcmV0dXJuO1xuXHRpZiAoYXR0cmlidXRlID09PSAnc3Jjc2V0JyAmJiBzcmNzZXRfdXJsX2VxdWFsKGVsZW1lbnQsIHZhbHVlKSkgcmV0dXJuO1xuXHRpZiAoc3JjX3VybF9lcXVhbChlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpID8/ICcnLCB2YWx1ZSkpIHJldHVybjtcblxuXHR3Lmh5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZChcblx0XHRhdHRyaWJ1dGUsXG5cdFx0ZWxlbWVudC5vdXRlckhUTUwucmVwbGFjZShlbGVtZW50LmlubmVySFRNTCwgZWxlbWVudC5pbm5lckhUTUwgJiYgJy4uLicpLFxuXHRcdFN0cmluZyh2YWx1ZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gbmV3IFVSTChlbGVtZW50X3NyYywgZG9jdW1lbnQuYmFzZVVSSSkuaHJlZiA9PT0gbmV3IFVSTCh1cmwsIGRvY3VtZW50LmJhc2VVUkkpLmhyZWY7XG59XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3Jjc2V0ICovXG5mdW5jdGlvbiBzcGxpdF9zcmNzZXQoc3Jjc2V0KSB7XG5cdHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoKHNyYykgPT4gc3JjLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihCb29sZWFuKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MU291cmNlRWxlbWVudCB8IEhUTUxJbWFnZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBzcmNzZXRfdXJsX2VxdWFsKGVsZW1lbnQsIHNyY3NldCkge1xuXHR2YXIgZWxlbWVudF91cmxzID0gc3BsaXRfc3Jjc2V0KGVsZW1lbnQuc3Jjc2V0KTtcblx0dmFyIHVybHMgPSBzcGxpdF9zcmNzZXQoc3Jjc2V0KTtcblxuXHRyZXR1cm4gKFxuXHRcdHVybHMubGVuZ3RoID09PSBlbGVtZW50X3VybHMubGVuZ3RoICYmXG5cdFx0dXJscy5ldmVyeShcblx0XHRcdChbdXJsLCB3aWR0aF0sIGkpID0+XG5cdFx0XHRcdHdpZHRoID09PSBlbGVtZW50X3VybHNbaV1bMV0gJiZcblx0XHRcdFx0Ly8gV2UgbmVlZCB0byB0ZXN0IGJvdGggd2F5cyBiZWNhdXNlIFZpdGUgd2lsbCBjcmVhdGUgYW4gYSBmdWxsIFVSTCB3aXRoXG5cdFx0XHRcdC8vIGBuZXcgVVJMKGFzc2V0LCBpbXBvcnQubWV0YS51cmwpLmhyZWZgIGZvciB0aGUgY2xpZW50IHdoZW4gYGJhc2U6ICcuLydgLCBhbmQgdGhlXG5cdFx0XHRcdC8vIHJlbGF0aXZlIFVSTHMgaW5zaWRlIHNyY3NldCBhcmUgbm90IGF1dG9tYXRpY2FsbHkgcmVzb2x2ZWQgdG8gYWJzb2x1dGUgVVJMcyBieVxuXHRcdFx0XHQvLyBicm93c2VycyAoaW4gY29udHJhc3QgdG8gaW1nLnNyYykuIFRoaXMgbWVhbnMgYm90aCBTU1IgYW5kIERPTSBjb2RlIGNvdWxkXG5cdFx0XHRcdC8vIGNvbnRhaW4gcmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMcy5cblx0XHRcdFx0KHNyY191cmxfZXF1YWwoZWxlbWVudF91cmxzW2ldWzBdLCB1cmwpIHx8IHNyY191cmxfZXF1YWwodXJsLCBlbGVtZW50X3VybHNbaV1bMF0pKVxuXHRcdClcblx0KTtcbn1cbiIsICIvKiogQGltcG9ydCB7IEJhdGNoIH0gZnJvbSAnLi4vLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgcmVuZGVyX2VmZmVjdCwgdGVhcmRvd24gfSBmcm9tICcuLi8uLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgbGlzdGVuX3RvX2V2ZW50X2FuZF9yZXNldF9ldmVudCB9IGZyb20gJy4vc2hhcmVkLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGlzIH0gZnJvbSAnLi4vLi4vLi4vcHJveHkuanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uLy4uL3Rhc2suanMnO1xuaW1wb3J0IHsgaHlkcmF0aW5nIH0gZnJvbSAnLi4vLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IHRpY2ssIHVudHJhY2sgfSBmcm9tICcuLi8uLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGlzX3J1bmVzIH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2JhdGNoLCBwcmV2aW91c19iYXRjaCB9IGZyb20gJy4uLy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXRcbiAqIEBwYXJhbSB7KCkgPT4gdW5rbm93bn0gZ2V0XG4gKiBAcGFyYW0geyh2YWx1ZTogdW5rbm93bikgPT4gdm9pZH0gc2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfdmFsdWUoaW5wdXQsIGdldCwgc2V0ID0gZ2V0KSB7XG5cdHZhciBiYXRjaGVzID0gbmV3IFdlYWtTZXQoKTtcblxuXHRsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KGlucHV0LCAnaW5wdXQnLCBhc3luYyAoaXNfcmVzZXQpID0+IHtcblx0XHRpZiAoREVWICYmIGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdC8vIFRPRE8gc2hvdWxkIHRoaXMgaGFwcGVuIGluIHByb2QgdG9vP1xuXHRcdFx0ZS5iaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWUoKTtcblx0XHR9XG5cblx0XHQvKiogQHR5cGUge2FueX0gKi9cblx0XHR2YXIgdmFsdWUgPSBpc19yZXNldCA/IGlucHV0LmRlZmF1bHRWYWx1ZSA6IGlucHV0LnZhbHVlO1xuXHRcdHZhbHVlID0gaXNfbnVtYmVybGlrZV9pbnB1dChpbnB1dCkgPyB0b19udW1iZXIodmFsdWUpIDogdmFsdWU7XG5cdFx0c2V0KHZhbHVlKTtcblxuXHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSBudWxsKSB7XG5cdFx0XHRiYXRjaGVzLmFkZChjdXJyZW50X2JhdGNoKTtcblx0XHR9XG5cblx0XHQvLyBCZWNhdXNlIGB7I2VhY2ggLi4ufWAgYmxvY2tzIHdvcmsgYnkgdXBkYXRpbmcgc291cmNlcyBpbnNpZGUgdGhlIGZsdXNoLFxuXHRcdC8vIHdlIG5lZWQgdG8gd2FpdCBhIHRpY2sgYmVmb3JlIGNoZWNraW5nIHRvIHNlZSBpZiB3ZSBzaG91bGQgZm9yY2libHlcblx0XHQvLyB1cGRhdGUgdGhlIGlucHV0IGFuZCByZXNldCB0aGUgc2VsZWN0aW9uIHN0YXRlXG5cdFx0YXdhaXQgdGljaygpO1xuXG5cdFx0Ly8gUmVzcGVjdCBhbnkgdmFsaWRhdGlvbiBpbiBhY2Nlc3NvcnNcblx0XHRpZiAodmFsdWUgIT09ICh2YWx1ZSA9IGdldCgpKSkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQ7XG5cdFx0XHR2YXIgZW5kID0gaW5wdXQuc2VsZWN0aW9uRW5kO1xuXHRcdFx0dmFyIGxlbmd0aCA9IGlucHV0LnZhbHVlLmxlbmd0aDtcblxuXHRcdFx0Ly8gdGhlIHZhbHVlIGlzIGNvZXJjZWQgb24gYXNzaWdubWVudFxuXHRcdFx0aW5wdXQudmFsdWUgPSB2YWx1ZSA/PyAnJztcblxuXHRcdFx0Ly8gUmVzdG9yZSBzZWxlY3Rpb25cblx0XHRcdGlmIChlbmQgIT09IG51bGwpIHtcblx0XHRcdFx0dmFyIG5ld19sZW5ndGggPSBpbnB1dC52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdC8vIElmIGN1cnNvciB3YXMgYXQgZW5kIGFuZCBuZXcgaW5wdXQgaXMgbG9uZ2VyLCBtb3ZlIGN1cnNvciB0byBuZXcgZW5kXG5cdFx0XHRcdGlmIChzdGFydCA9PT0gZW5kICYmIGVuZCA9PT0gbGVuZ3RoICYmIG5ld19sZW5ndGggPiBsZW5ndGgpIHtcblx0XHRcdFx0XHRpbnB1dC5zZWxlY3Rpb25TdGFydCA9IG5ld19sZW5ndGg7XG5cdFx0XHRcdFx0aW5wdXQuc2VsZWN0aW9uRW5kID0gbmV3X2xlbmd0aDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbnB1dC5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0O1xuXHRcdFx0XHRcdGlucHV0LnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGVuZCwgbmV3X2xlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdGlmIChcblx0XHQvLyBJZiB3ZSBhcmUgaHlkcmF0aW5nIGFuZCB0aGUgdmFsdWUgaGFzIHNpbmNlIGNoYW5nZWQsXG5cdFx0Ly8gdGhlbiB1c2UgdGhlIHVwZGF0ZWQgdmFsdWUgZnJvbSB0aGUgaW5wdXQgaW5zdGVhZC5cblx0XHQoaHlkcmF0aW5nICYmIGlucHV0LmRlZmF1bHRWYWx1ZSAhPT0gaW5wdXQudmFsdWUpIHx8XG5cdFx0Ly8gSWYgZGVmYXVsdFZhbHVlIGlzIHNldCwgdGhlbiB2YWx1ZSA9PSBkZWZhdWx0VmFsdWVcblx0XHQvLyBUT0RPIFN2ZWx0ZSA2OiByZW1vdmUgaW5wdXQudmFsdWUgY2hlY2sgYW5kIHNldCB0byBlbXB0eSBzdHJpbmc/XG5cdFx0KHVudHJhY2soZ2V0KSA9PSBudWxsICYmIGlucHV0LnZhbHVlKVxuXHQpIHtcblx0XHRzZXQoaXNfbnVtYmVybGlrZV9pbnB1dChpbnB1dCkgPyB0b19udW1iZXIoaW5wdXQudmFsdWUpIDogaW5wdXQudmFsdWUpO1xuXG5cdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwpIHtcblx0XHRcdGJhdGNoZXMuYWRkKGN1cnJlbnRfYmF0Y2gpO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChERVYgJiYgaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuXHRcdFx0Ly8gVE9ETyBzaG91bGQgdGhpcyBoYXBwZW4gaW4gcHJvZCB0b28/XG5cdFx0XHRlLmJpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZSgpO1xuXHRcdH1cblxuXHRcdHZhciB2YWx1ZSA9IGdldCgpO1xuXG5cdFx0aWYgKGlucHV0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG5cdFx0XHQvLyB3ZSBuZWVkIGJvdGgsIGJlY2F1c2UgaW4gbm9uLWFzeW5jIG1vZGUsIHJlbmRlciBlZmZlY3RzIHJ1biBiZWZvcmUgcHJldmlvdXNfYmF0Y2ggaXMgc2V0XG5cdFx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAocHJldmlvdXNfYmF0Y2ggPz8gY3VycmVudF9iYXRjaCk7XG5cblx0XHRcdC8vIE5ldmVyIHJld3JpdGUgdGhlIGNvbnRlbnRzIG9mIGEgZm9jdXNlZCBpbnB1dC4gV2UgY2FuIGdldCBoZXJlIGlmLCBmb3IgZXhhbXBsZSxcblx0XHRcdC8vIGFuIHVwZGF0ZSBpcyBkZWZlcnJlZCBiZWNhdXNlIG9mIGFzeW5jIHdvcmsgZGVwZW5kaW5nIG9uIHRoZSBpbnB1dDpcblx0XHRcdC8vXG5cdFx0XHQvLyA8aW5wdXQgYmluZDp2YWx1ZT17cXVlcnl9PlxuXHRcdFx0Ly8gPHA+e2F3YWl0IGZpbmQocXVlcnkpfTwvcD5cblx0XHRcdGlmIChiYXRjaGVzLmhhcyhiYXRjaCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpc19udW1iZXJsaWtlX2lucHV0KGlucHV0KSAmJiB2YWx1ZSA9PT0gdG9fbnVtYmVyKGlucHV0LnZhbHVlKSkge1xuXHRcdFx0Ly8gaGFuZGxlcyAwIHZzIDAwIGNhc2UgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy85OTU5KVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChpbnB1dC50eXBlID09PSAnZGF0ZScgJiYgIXZhbHVlICYmICFpbnB1dC52YWx1ZSkge1xuXHRcdFx0Ly8gSGFuZGxlcyB0aGUgY2FzZSB3aGVyZSBhIHRlbXBvcmFyaWx5IGludmFsaWQgZGF0ZSBpcyBzZXQgKHdoaWxlIHR5cGluZywgZm9yIGV4YW1wbGUgd2l0aCBhIGxlYWRpbmcgMCBmb3IgdGhlIGRheSlcblx0XHRcdC8vIGFuZCBwcmV2ZW50cyB0aGlzIHN0YXRlIGZyb20gY2xlYXJpbmcgdGhlIG90aGVyIHBhcnRzIG9mIHRoZSBkYXRlIGlucHV0IChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNzg5Nylcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBkb24ndCBzZXQgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBpZiBpdCdzIHRoZSBzYW1lIHRvIGFsbG93XG5cdFx0Ly8gbWlubGVuZ3RoIHRvIHdvcmsgcHJvcGVybHlcblx0XHRpZiAodmFsdWUgIT09IGlucHV0LnZhbHVlKSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoZSB2YWx1ZSBpcyBjb2VyY2VkIG9uIGFzc2lnbm1lbnRcblx0XHRcdGlucHV0LnZhbHVlID0gdmFsdWUgPz8gJyc7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqIEB0eXBlIHtTZXQ8SFRNTElucHV0RWxlbWVudFtdPn0gKi9cbmNvbnN0IHBlbmRpbmcgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50W119IGlucHV0c1xuICogQHBhcmFtIHtudWxsIHwgW251bWJlcl19IGdyb3VwX2luZGV4XG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gKiBAcGFyYW0geygpID0+IHVua25vd259IGdldFxuICogQHBhcmFtIHsodmFsdWU6IHVua25vd24pID0+IHZvaWR9IHNldFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kX2dyb3VwKGlucHV0cywgZ3JvdXBfaW5kZXgsIGlucHV0LCBnZXQsIHNldCA9IGdldCkge1xuXHR2YXIgaXNfY2hlY2tib3ggPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94Jztcblx0dmFyIGJpbmRpbmdfZ3JvdXAgPSBpbnB1dHM7XG5cblx0Ly8gbmVlZHMgdG8gYmUgbGV0IG9yIHJlbGF0ZWQgY29kZSBpc24ndCB0cmVlc2hha2VuIG91dCBpZiBpdCdzIGFsd2F5cyBmYWxzZVxuXHRsZXQgaHlkcmF0aW9uX21pc21hdGNoID0gZmFsc2U7XG5cblx0aWYgKGdyb3VwX2luZGV4ICE9PSBudWxsKSB7XG5cdFx0Zm9yICh2YXIgaW5kZXggb2YgZ3JvdXBfaW5kZXgpIHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGJpbmRpbmdfZ3JvdXAgPSBiaW5kaW5nX2dyb3VwW2luZGV4XSA/Pz0gW107XG5cdFx0fVxuXHR9XG5cblx0YmluZGluZ19ncm91cC5wdXNoKGlucHV0KTtcblxuXHRsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KFxuXHRcdGlucHV0LFxuXHRcdCdjaGFuZ2UnLFxuXHRcdCgpID0+IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHZhciB2YWx1ZSA9IGlucHV0Ll9fdmFsdWU7XG5cblx0XHRcdGlmIChpc19jaGVja2JveCkge1xuXHRcdFx0XHR2YWx1ZSA9IGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGJpbmRpbmdfZ3JvdXAsIHZhbHVlLCBpbnB1dC5jaGVja2VkKTtcblx0XHRcdH1cblxuXHRcdFx0c2V0KHZhbHVlKTtcblx0XHR9LFxuXHRcdC8vIFRPRE8gYmV0dGVyIGRlZmF1bHQgdmFsdWUgaGFuZGxpbmdcblx0XHQoKSA9PiBzZXQoaXNfY2hlY2tib3ggPyBbXSA6IG51bGwpXG5cdCk7XG5cblx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0dmFyIHZhbHVlID0gZ2V0KCk7XG5cblx0XHQvLyBJZiB3ZSBhcmUgaHlkcmF0aW5nIGFuZCB0aGUgdmFsdWUgaGFzIHNpbmNlIGNoYW5nZWQsIHRoZW4gdXNlIHRoZSB1cGRhdGUgdmFsdWVcblx0XHQvLyBmcm9tIHRoZSBpbnB1dCBpbnN0ZWFkLlxuXHRcdGlmIChoeWRyYXRpbmcgJiYgaW5wdXQuZGVmYXVsdENoZWNrZWQgIT09IGlucHV0LmNoZWNrZWQpIHtcblx0XHRcdGh5ZHJhdGlvbl9taXNtYXRjaCA9IHRydWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGlzX2NoZWNrYm94KSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlIHx8IFtdO1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0aW5wdXQuY2hlY2tlZCA9IHZhbHVlLmluY2x1ZGVzKGlucHV0Ll9fdmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRpbnB1dC5jaGVja2VkID0gaXMoaW5wdXQuX192YWx1ZSwgdmFsdWUpO1xuXHRcdH1cblx0fSk7XG5cblx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdHZhciBpbmRleCA9IGJpbmRpbmdfZ3JvdXAuaW5kZXhPZihpbnB1dCk7XG5cblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRiaW5kaW5nX2dyb3VwLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoIXBlbmRpbmcuaGFzKGJpbmRpbmdfZ3JvdXApKSB7XG5cdFx0cGVuZGluZy5hZGQoYmluZGluZ19ncm91cCk7XG5cblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdC8vIG5lY2Vzc2FyeSB0byBtYWludGFpbiBiaW5kaW5nIGdyb3VwIG9yZGVyIGluIGFsbCBpbnNlcnRpb24gc2NlbmFyaW9zXG5cdFx0XHRiaW5kaW5nX2dyb3VwLnNvcnQoKGEsIGIpID0+IChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpID09PSA0ID8gLTEgOiAxKSk7XG5cdFx0XHRwZW5kaW5nLmRlbGV0ZShiaW5kaW5nX2dyb3VwKTtcblx0XHR9KTtcblx0fVxuXG5cdHF1ZXVlX21pY3JvX3Rhc2soKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpb25fbWlzbWF0Y2gpIHtcblx0XHRcdHZhciB2YWx1ZTtcblxuXHRcdFx0aWYgKGlzX2NoZWNrYm94KSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoYmluZGluZ19ncm91cCwgdmFsdWUsIGlucHV0LmNoZWNrZWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGh5ZHJhdGlvbl9pbnB1dCA9IGJpbmRpbmdfZ3JvdXAuZmluZCgoaW5wdXQpID0+IGlucHV0LmNoZWNrZWQpO1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdHZhbHVlID0gaHlkcmF0aW9uX2lucHV0Py5fX3ZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXQodmFsdWUpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICogQHBhcmFtIHsoKSA9PiB1bmtub3dufSBnZXRcbiAqIEBwYXJhbSB7KHZhbHVlOiB1bmtub3duKSA9PiB2b2lkfSBzZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9jaGVja2VkKGlucHV0LCBnZXQsIHNldCA9IGdldCkge1xuXHRsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KGlucHV0LCAnY2hhbmdlJywgKGlzX3Jlc2V0KSA9PiB7XG5cdFx0dmFyIHZhbHVlID0gaXNfcmVzZXQgPyBpbnB1dC5kZWZhdWx0Q2hlY2tlZCA6IGlucHV0LmNoZWNrZWQ7XG5cdFx0c2V0KHZhbHVlKTtcblx0fSk7XG5cblx0aWYgKFxuXHRcdC8vIElmIHdlIGFyZSBoeWRyYXRpbmcgYW5kIHRoZSB2YWx1ZSBoYXMgc2luY2UgY2hhbmdlZCxcblx0XHQvLyB0aGVuIHVzZSB0aGUgdXBkYXRlIHZhbHVlIGZyb20gdGhlIGlucHV0IGluc3RlYWQuXG5cdFx0KGh5ZHJhdGluZyAmJiBpbnB1dC5kZWZhdWx0Q2hlY2tlZCAhPT0gaW5wdXQuY2hlY2tlZCkgfHxcblx0XHQvLyBJZiBkZWZhdWx0Q2hlY2tlZCBpcyBzZXQsIHRoZW4gY2hlY2tlZCA9PSBkZWZhdWx0Q2hlY2tlZFxuXHRcdHVudHJhY2soZ2V0KSA9PSBudWxsXG5cdCkge1xuXHRcdHNldChpbnB1dC5jaGVja2VkKTtcblx0fVxuXG5cdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdHZhciB2YWx1ZSA9IGdldCgpO1xuXHRcdGlucHV0LmNoZWNrZWQgPSBCb29sZWFuKHZhbHVlKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7QXJyYXk8SFRNTElucHV0RWxlbWVudD59IGdyb3VwXG4gKiBAcGFyYW0ge1Z9IF9fdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tlZFxuICogQHJldHVybnMge1ZbXX1cbiAqL1xuZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcblx0LyoqIEB0eXBlIHtTZXQ8Vj59ICovXG5cdHZhciB2YWx1ZSA9IG5ldyBTZXQoKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpc19udW1iZXJsaWtlX2lucHV0KGlucHV0KSB7XG5cdHZhciB0eXBlID0gaW5wdXQudHlwZTtcblx0cmV0dXJuIHR5cGUgPT09ICdudW1iZXInIHx8IHR5cGUgPT09ICdyYW5nZSc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0XG4gKiBAcGFyYW0geygpID0+IEZpbGVMaXN0IHwgbnVsbH0gZ2V0XG4gKiBAcGFyYW0geyh2YWx1ZTogRmlsZUxpc3QgfCBudWxsKSA9PiB2b2lkfSBzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfZmlsZXMoaW5wdXQsIGdldCwgc2V0ID0gZ2V0KSB7XG5cdGxpc3Rlbl90b19ldmVudF9hbmRfcmVzZXRfZXZlbnQoaW5wdXQsICdjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0c2V0KGlucHV0LmZpbGVzKTtcblx0fSk7XG5cblx0aWYgKFxuXHRcdC8vIElmIHdlIGFyZSBoeWRyYXRpbmcgYW5kIHRoZSB2YWx1ZSBoYXMgc2luY2UgY2hhbmdlZCxcblx0XHQvLyB0aGVuIHVzZSB0aGUgdXBkYXRlZCB2YWx1ZSBmcm9tIHRoZSBpbnB1dCBpbnN0ZWFkLlxuXHRcdGh5ZHJhdGluZyAmJlxuXHRcdGlucHV0LmZpbGVzXG5cdCkge1xuXHRcdHNldChpbnB1dC5maWxlcyk7XG5cdH1cblxuXHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRpbnB1dC5maWxlcyA9IGdldCgpO1xuXHR9KTtcbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHRMZWdhY3kgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgcnVuLCBydW5fYWxsIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBkZXJpdmVkIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyB1c2VyX3ByZV9lZmZlY3QsIHVzZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGRlZXBfcmVhZF9zdGF0ZSwgZ2V0LCB1bnRyYWNrIH0gZnJvbSAnLi4vLi4vcnVudGltZS5qcyc7XG5cbi8qKlxuICogTGVnYWN5LW1vZGUgb25seTogQ2FsbCBgb25Nb3VudGAgY2FsbGJhY2tzIGFuZCBzZXQgdXAgYGJlZm9yZVVwZGF0ZWAvYGFmdGVyVXBkYXRlYCBlZmZlY3RzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbW11dGFibGVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KGltbXV0YWJsZSA9IGZhbHNlKSB7XG5cdGNvbnN0IGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cblx0Y29uc3QgY2FsbGJhY2tzID0gY29udGV4dC5sLnU7XG5cdGlmICghY2FsbGJhY2tzKSByZXR1cm47XG5cblx0bGV0IHByb3BzID0gKCkgPT4gZGVlcF9yZWFkX3N0YXRlKGNvbnRleHQucyk7XG5cblx0aWYgKGltbXV0YWJsZSkge1xuXHRcdGxldCB2ZXJzaW9uID0gMDtcblx0XHRsZXQgcHJldiA9IC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi8gKHt9KTtcblxuXHRcdC8vIEluIGxlZ2FjeSBpbW11dGFibGUgbW9kZSwgYmVmb3JlL2FmdGVyVXBkYXRlIG9ubHkgZmlyZSBpZiB0aGUgb2JqZWN0IGlkZW50aXR5IG9mIGEgcHJvcCBjaGFuZ2VzXG5cdFx0Y29uc3QgZCA9IGRlcml2ZWQoKCkgPT4ge1xuXHRcdFx0bGV0IGNoYW5nZWQgPSBmYWxzZTtcblx0XHRcdGNvbnN0IHByb3BzID0gY29udGV4dC5zO1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcblx0XHRcdFx0aWYgKHByb3BzW2tleV0gIT09IHByZXZba2V5XSkge1xuXHRcdFx0XHRcdHByZXZba2V5XSA9IHByb3BzW2tleV07XG5cdFx0XHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChjaGFuZ2VkKSB2ZXJzaW9uKys7XG5cdFx0XHRyZXR1cm4gdmVyc2lvbjtcblx0XHR9KTtcblxuXHRcdHByb3BzID0gKCkgPT4gZ2V0KGQpO1xuXHR9XG5cblx0Ly8gYmVmb3JlVXBkYXRlXG5cdGlmIChjYWxsYmFja3MuYi5sZW5ndGgpIHtcblx0XHR1c2VyX3ByZV9lZmZlY3QoKCkgPT4ge1xuXHRcdFx0b2JzZXJ2ZV9hbGwoY29udGV4dCwgcHJvcHMpO1xuXHRcdFx0cnVuX2FsbChjYWxsYmFja3MuYik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBvbk1vdW50IChtdXN0IHJ1biBiZWZvcmUgYWZ0ZXJVcGRhdGUpXG5cdHVzZXJfZWZmZWN0KCgpID0+IHtcblx0XHRjb25zdCBmbnMgPSB1bnRyYWNrKCgpID0+IGNhbGxiYWNrcy5tLm1hcChydW4pKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Zm9yIChjb25zdCBmbiBvZiBmbnMpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGZuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcblxuXHQvLyBhZnRlclVwZGF0ZVxuXHRpZiAoY2FsbGJhY2tzLmEubGVuZ3RoKSB7XG5cdFx0dXNlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdFx0b2JzZXJ2ZV9hbGwoY29udGV4dCwgcHJvcHMpO1xuXHRcdFx0cnVuX2FsbChjYWxsYmFja3MuYSk7XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBJbnZva2UgdGhlIGdldHRlciBvZiBhbGwgc2lnbmFscyBhc3NvY2lhdGVkIHdpdGggYSBjb21wb25lbnRcbiAqIHNvIHRoZXkgY2FuIGJlIHJlZ2lzdGVyZWQgdG8gdGhlIGVmZmVjdCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpbi5cbiAqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gY29udGV4dFxuICogQHBhcmFtIHsoKCkgPT4gdm9pZCl9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIG9ic2VydmVfYWxsKGNvbnRleHQsIHByb3BzKSB7XG5cdGlmIChjb250ZXh0Lmwucykge1xuXHRcdGZvciAoY29uc3Qgc2lnbmFsIG9mIGNvbnRleHQubC5zKSBnZXQoc2lnbmFsKTtcblx0fVxuXG5cdHByb3BzKCk7XG59XG4iLCAiLyoqIEBpbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJy4vcHVibGljJyAqL1xuaW1wb3J0IHsgdW50cmFjayB9IGZyb20gJy4uL2luZGV4LWNsaWVudC5qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vaW50ZXJuYWwvc2hhcmVkL3V0aWxzLmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtSZWFkYWJsZTxUPiB8IG51bGwgfCB1bmRlZmluZWR9IHN0b3JlXG4gKiBAcGFyYW0geyh2YWx1ZTogVCkgPT4gdm9pZH0gcnVuXG4gKiBAcGFyYW0geyh2YWx1ZTogVCkgPT4gdm9pZH0gW2ludmFsaWRhdGVdXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZV90b19zdG9yZShzdG9yZSwgcnVuLCBpbnZhbGlkYXRlKSB7XG5cdGlmIChzdG9yZSA9PSBudWxsKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHJ1bih1bmRlZmluZWQpO1xuXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGlmIChpbnZhbGlkYXRlKSBpbnZhbGlkYXRlKHVuZGVmaW5lZCk7XG5cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXG5cdC8vIFN2ZWx0ZSBzdG9yZSB0YWtlcyBhIHByaXZhdGUgc2Vjb25kIGFyZ3VtZW50XG5cdC8vIFN0YXJ0U3RvcE5vdGlmaWVyIGNvdWxkIG11dGF0ZSBzdGF0ZSwgYW5kIHdlIHdhbnQgdG8gc2lsZW5jZSB0aGUgY29ycmVzcG9uZGluZyB2YWxpZGF0aW9uIGVycm9yXG5cdGNvbnN0IHVuc3ViID0gdW50cmFjaygoKSA9PlxuXHRcdHN0b3JlLnN1YnNjcmliZShcblx0XHRcdHJ1bixcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGludmFsaWRhdGVcblx0XHQpXG5cdCk7XG5cblx0Ly8gQWxzbyBzdXBwb3J0IFJ4SlNcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIGZpeCB0aGlzIGluIHRoZSB0eXBlcz9cblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgUmVhZGFibGUsIFN0YXJ0U3RvcE5vdGlmaWVyLCBTdWJzY3JpYmVyLCBVbnN1YnNjcmliZXIsIFVwZGF0ZXIsIFdyaXRhYmxlIH0gZnJvbSAnLi4vcHVibGljLmpzJyAqL1xuLyoqIEBpbXBvcnQgeyBTdG9yZXMsIFN0b3Jlc1ZhbHVlcywgU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlIH0gZnJvbSAnLi4vcHJpdmF0ZS5qcycgKi9cbmltcG9ydCB7IG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgc2FmZV9ub3RfZXF1YWwgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9lcXVhbGl0eS5qcyc7XG5pbXBvcnQgeyBzdWJzY3JpYmVfdG9fc3RvcmUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQHR5cGUge0FycmF5PFN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxhbnk+IHwgYW55Pn1cbiAqL1xuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge1JlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuXHR9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7V3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7VW5zdWJzY3JpYmVyIHwgbnVsbH0gKi9cblx0bGV0IHN0b3AgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7U2V0PFN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPj59ICovXG5cdGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VXBkYXRlcjxUPn0gZm5cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGUoZm4pIHtcblx0XHRzZXQoZm4oLyoqIEB0eXBlIHtUfSAqLyAodmFsdWUpKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtTdWJzY3JpYmVyPFQ+fSBydW5cblx0ICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbaW52YWxpZGF0ZV1cblx0ICogQHJldHVybnMge1Vuc3Vic2NyaWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG5cdFx0LyoqIEB0eXBlIHtTdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD59ICovXG5cdFx0Y29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuXHRcdHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcblx0XHRpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMSkge1xuXHRcdFx0c3RvcCA9IHN0YXJ0KHNldCwgdXBkYXRlKSB8fCBub29wO1xuXHRcdH1cblx0XHRydW4oLyoqIEB0eXBlIHtUfSAqLyAodmFsdWUpKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogQHRlbXBsYXRlIHtTdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IFN0b3Jlc1ZhbHVlczxTPiwgc2V0OiAodmFsdWU6IFQpID0+IHZvaWQsIHVwZGF0ZTogKGZuOiBVcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBVbnN1YnNjcmliZXIgfCB2b2lkfSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7U3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBTdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXVxuICogQHJldHVybnMge1JlYWRhYmxlPFQ+fVxuICovXG4vKipcbiAqIEB0ZW1wbGF0ZSB7U3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXVxuICogQHJldHVybnMge1JlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8UmVhZGFibGU8YW55Pj59ICovXG5cdGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZSA/IFtzdG9yZXNdIDogc3RvcmVzO1xuXHRpZiAoIXN0b3Jlc19hcnJheS5ldmVyeShCb29sZWFuKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignZGVyaXZlZCgpIGV4cGVjdHMgc3RvcmVzIGFzIGlucHV0LCBnb3QgYSBmYWxzeSB2YWx1ZScpO1xuXHR9XG5cdGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuXHRyZXR1cm4gcmVhZGFibGUoaW5pdGlhbF92YWx1ZSwgKHNldCwgdXBkYXRlKSA9PiB7XG5cdFx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1RbXX0gKi9cblx0XHRjb25zdCB2YWx1ZXMgPSBbXTtcblx0XHRsZXQgcGVuZGluZyA9IDA7XG5cdFx0bGV0IGNsZWFudXAgPSBub29wO1xuXHRcdGNvbnN0IHN5bmMgPSAoKSA9PiB7XG5cdFx0XHRpZiAocGVuZGluZykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCwgdXBkYXRlKTtcblx0XHRcdGlmIChhdXRvKSB7XG5cdFx0XHRcdHNldChyZXN1bHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xlYW51cCA9IHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbicgPyByZXN1bHQgOiBub29wO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Y29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PlxuXHRcdFx0c3Vic2NyaWJlX3RvX3N0b3JlKFxuXHRcdFx0XHRzdG9yZSxcblx0XHRcdFx0KHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dmFsdWVzW2ldID0gdmFsdWU7XG5cdFx0XHRcdFx0cGVuZGluZyAmPSB+KDEgPDwgaSk7XG5cdFx0XHRcdFx0aWYgKHN0YXJ0ZWQpIHtcblx0XHRcdFx0XHRcdHN5bmMoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRwZW5kaW5nIHw9IDEgPDwgaTtcblx0XHRcdFx0fVxuXHRcdFx0KVxuXHRcdCk7XG5cdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0c3luYygpO1xuXHRcdHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuXHRcdFx0cnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgdG8gZmFsc2UgYmVjYXVzZSBjYWxsYmFja3MgY2FuIHN0aWxsIGhhcHBlbiBkZXNwaXRlIGhhdmluZyB1bnN1YnNjcmliZWQ6XG5cdFx0XHQvLyBDYWxsYmFja3MgbWlnaHQgYWxyZWFkeSBiZSBwbGFjZWQgaW4gdGhlIHF1ZXVlIHdoaWNoIGRvZXNuJ3Qga25vdyBpdCBzaG91bGQgbm8gbG9uZ2VyXG5cdFx0XHQvLyBpbnZva2UgdGhpcyBkZXJpdmVkIHN0b3JlLlxuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH07XG5cdH0pO1xufVxuXG4vKipcbiAqIFRha2VzIGEgc3RvcmUgYW5kIHJldHVybnMgYSBuZXcgb25lIGRlcml2ZWQgZnJvbSB0aGUgb2xkIG9uZSB0aGF0IGlzIHJlYWRhYmxlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1JlYWRhYmxlPFQ+fSBzdG9yZSAgLSBzdG9yZSB0byBtYWtlIHJlYWRvbmx5XG4gKiBAcmV0dXJucyB7UmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShzdG9yZSkge1xuXHRyZXR1cm4ge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyBpIHN1c3BlY3QgdGhlIGJpbmQgaXMgdW5uZWNlc3Nhcnlcblx0XHRzdWJzY3JpYmU6IHN0b3JlLnN1YnNjcmliZS5iaW5kKHN0b3JlKVxuXHR9O1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7UmVhZGFibGU8VD59IHN0b3JlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzdG9yZSkge1xuXHRsZXQgdmFsdWU7XG5cdHN1YnNjcmliZV90b19zdG9yZShzdG9yZSwgKF8pID0+ICh2YWx1ZSA9IF8pKSgpO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHJldHVybiB2YWx1ZTtcbn1cbiIsICIvKiogQGltcG9ydCB7IFN0b3JlUmVmZXJlbmNlc0NvbnRhaW5lciB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IFN0b3JlIH0gZnJvbSAnI3NoYXJlZCcgKi9cbmltcG9ydCB7IHN1YnNjcmliZV90b19zdG9yZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldCBhcyBnZXRfc3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zaGFyZWQvaW5kZXguanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBub29wIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldCB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuL2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgbXV0YWJsZV9zb3VyY2UsIHNldCB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvcCBjdXJyZW50bHkgYmVpbmcgcmVhZCBpcyBhIHN0b3JlIGJpbmRpbmcsIGFzIGluXG4gKiBgPENoaWxkIGJpbmQ6eD17JHl9IC8+YC4gSWYgaXQgaXMsIHdlIHRyZWF0IHRoZSBwcm9wIGFzIG11dGFibGUgZXZlbiBpblxuICogcnVuZXMgbW9kZSwgYW5kIHNraXAgYGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCB2YWxpZGF0aW9uXG4gKi9cbmxldCBpc19zdG9yZV9iaW5kaW5nID0gZmFsc2U7XG5cbmxldCBJU19VTk1PVU5URUQgPSBTeW1ib2woKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgc3RvcmUuIElmIHRoZSBzdG9yZSBpc24ndCBzdWJzY3JpYmVkIHRvIHlldCwgaXQgd2lsbCBjcmVhdGUgYSBwcm94eVxuICogc2lnbmFsIHRoYXQgd2lsbCBiZSB1cGRhdGVkIHdoZW4gdGhlIHN0b3JlIGlzLiBUaGUgc3RvcmUgcmVmZXJlbmNlcyBjb250YWluZXIgaXMgbmVlZGVkIHRvXG4gKiB0cmFjayByZWFzc2lnbm1lbnRzIHRvIHN0b3JlcyBhbmQgdG8gdHJhY2sgdGhlIGNvcnJlY3QgY29tcG9uZW50IGNvbnRleHQuXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtTdG9yZTxWPiB8IG51bGwgfCB1bmRlZmluZWR9IHN0b3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVfbmFtZVxuICogQHBhcmFtIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJ9IHN0b3Jlc1xuICogQHJldHVybnMge1Z9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZV9nZXQoc3RvcmUsIHN0b3JlX25hbWUsIHN0b3Jlcykge1xuXHRjb25zdCBlbnRyeSA9IChzdG9yZXNbc3RvcmVfbmFtZV0gPz89IHtcblx0XHRzdG9yZTogbnVsbCxcblx0XHRzb3VyY2U6IG11dGFibGVfc291cmNlKHVuZGVmaW5lZCksXG5cdFx0dW5zdWJzY3JpYmU6IG5vb3Bcblx0fSk7XG5cblx0aWYgKERFVikge1xuXHRcdGVudHJ5LnNvdXJjZS5sYWJlbCA9IHN0b3JlX25hbWU7XG5cdH1cblxuXHQvLyBpZiB0aGUgY29tcG9uZW50IHRoYXQgc2V0dXAgdGhpcyBpcyBhbHJlYWR5IHVubW91bnRlZCB3ZSBkb24ndCB3YW50IHRvIHJlZ2lzdGVyIGEgc3Vic2NyaXB0aW9uXG5cdGlmIChlbnRyeS5zdG9yZSAhPT0gc3RvcmUgJiYgIShJU19VTk1PVU5URUQgaW4gc3RvcmVzKSkge1xuXHRcdGVudHJ5LnVuc3Vic2NyaWJlKCk7XG5cdFx0ZW50cnkuc3RvcmUgPSBzdG9yZSA/PyBudWxsO1xuXG5cdFx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRcdGVudHJ5LnNvdXJjZS52ID0gdW5kZWZpbmVkOyAvLyBzZWUgc3luY2hyb25vdXMgY2FsbGJhY2sgY29tbWVudCBiZWxvd1xuXHRcdFx0ZW50cnkudW5zdWJzY3JpYmUgPSBub29wO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgaXNfc3luY2hyb25vdXNfY2FsbGJhY2sgPSB0cnVlO1xuXG5cdFx0XHRlbnRyeS51bnN1YnNjcmliZSA9IHN1YnNjcmliZV90b19zdG9yZShzdG9yZSwgKHYpID0+IHtcblx0XHRcdFx0aWYgKGlzX3N5bmNocm9ub3VzX2NhbGxiYWNrKSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGZpcnN0IHVwZGF0ZXMgdG8gdGhlIHN0b3JlIHZhbHVlIChwb3NzaWJseSBtdWx0aXBsZSBvZiB0aGVtKSBhcmUgc3luY2hyb25vdXNseVxuXHRcdFx0XHRcdC8vIGluc2lkZSBhIGRlcml2ZWQsIHdlIHdpbGwgaGl0IHRoZSBgc3RhdGVfdW5zYWZlX211dGF0aW9uYCBlcnJvciBpZiB3ZSBgc2V0YCB0aGUgdmFsdWVcblx0XHRcdFx0XHRlbnRyeS5zb3VyY2UudiA9IHY7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2V0KGVudHJ5LnNvdXJjZSwgdik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpc19zeW5jaHJvbm91c19jYWxsYmFjayA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdC8vIGlmIHRoZSBjb21wb25lbnQgdGhhdCBzZXR1cCB0aGlzIHN0b3JlcyBpcyBhbHJlYWR5IHVubW91bnRlZCB0aGUgc291cmNlIHdpbGwgYmUgb3V0IG9mIHN5bmNcblx0Ly8gc28gd2UganVzdCB1c2UgdGhlIGBnZXRgIGZvciB0aGUgc3RvcmVzLCBsZXNzIHBlcmZvcm1hbnQgYnV0IGl0IGF2b2lkcyB0byBjcmVhdGUgYSBtZW1vcnkgbGVha1xuXHQvLyBhbmQgaXQgd2lsbCBrZWVwIHRoZSB2YWx1ZSBjb25zaXN0ZW50XG5cdGlmIChzdG9yZSAmJiBJU19VTk1PVU5URUQgaW4gc3RvcmVzKSB7XG5cdFx0cmV0dXJuIGdldF9zdG9yZShzdG9yZSk7XG5cdH1cblxuXHRyZXR1cm4gZ2V0KGVudHJ5LnNvdXJjZSk7XG59XG5cbi8qKlxuICogVW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGlmIGl0J3Mgbm90IHRoZSBzYW1lIGFzIHRoZSBvbmUgaW4gdGhlIHN0b3JlIHJlZmVyZW5jZXMgY29udGFpbmVyLlxuICogV2UgbmVlZCB0aGlzIGluIGFkZGl0aW9uIHRvIGBzdG9yZV9nZXRgIGJlY2F1c2Ugc29tZW9uZSBjb3VsZCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgYnV0XG4gKiB0aGVuIG5ldmVyIHN1YnNjcmliZSB0byB0aGUgbmV3IG9uZSAoaWYgYW55KSwgY2F1c2luZyB0aGUgc3Vic2NyaXB0aW9uIHRvIHN0YXkgb3BlbiB3cm9uZ2Z1bGx5LlxuICogQHBhcmFtIHtTdG9yZTxhbnk+IHwgbnVsbCB8IHVuZGVmaW5lZH0gc3RvcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZV9uYW1lXG4gKiBAcGFyYW0ge1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lcn0gc3RvcmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZV91bnN1YihzdG9yZSwgc3RvcmVfbmFtZSwgc3RvcmVzKSB7XG5cdC8qKiBAdHlwZSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyWycnXSB8IHVuZGVmaW5lZH0gKi9cblx0bGV0IGVudHJ5ID0gc3RvcmVzW3N0b3JlX25hbWVdO1xuXG5cdGlmIChlbnRyeSAmJiBlbnRyeS5zdG9yZSAhPT0gc3RvcmUpIHtcblx0XHQvLyBEb24ndCByZXNldCBzdG9yZSB5ZXQsIHNvIHRoYXQgc3RvcmVfZ2V0IGFib3ZlIGNhbiByZXN1YnNjcmliZSB0byBuZXcgc3RvcmUgaWYgbmVjZXNzYXJ5XG5cdFx0ZW50cnkudW5zdWJzY3JpYmUoKTtcblx0XHRlbnRyeS51bnN1YnNjcmliZSA9IG5vb3A7XG5cdH1cblxuXHRyZXR1cm4gc3RvcmU7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbmV3IHZhbHVlIG9mIGEgc3RvcmUgYW5kIHJldHVybnMgdGhhdCB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1N0b3JlPFY+fSBzdG9yZVxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHJldHVybnMge1Z9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZV9zZXQoc3RvcmUsIHZhbHVlKSB7XG5cdHN0b3JlLnNldCh2YWx1ZSk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lcn0gc3RvcmVzXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVfbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZV9zdG9yZShzdG9yZXMsIHN0b3JlX25hbWUpIHtcblx0dmFyIGVudHJ5ID0gc3RvcmVzW3N0b3JlX25hbWVdO1xuXHRpZiAoZW50cnkuc3RvcmUgIT09IG51bGwpIHtcblx0XHRzdG9yZV9zZXQoZW50cnkuc3RvcmUsIGVudHJ5LnNvdXJjZS52KTtcblx0fVxufVxuXG4vKipcbiAqIFVuc3Vic2NyaWJlcyBmcm9tIGFsbCBhdXRvLXN1YnNjcmliZWQgc3RvcmVzIG9uIGRlc3Ryb3lcbiAqIEByZXR1cm5zIHtbU3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyLCAoKT0+dm9pZF19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cF9zdG9yZXMoKSB7XG5cdC8qKiBAdHlwZSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSAqL1xuXHRjb25zdCBzdG9yZXMgPSB7fTtcblxuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdHRlYXJkb3duKCgpID0+IHtcblx0XHRcdGZvciAodmFyIHN0b3JlX25hbWUgaW4gc3RvcmVzKSB7XG5cdFx0XHRcdGNvbnN0IHJlZiA9IHN0b3Jlc1tzdG9yZV9uYW1lXTtcblx0XHRcdFx0cmVmLnVuc3Vic2NyaWJlKCk7XG5cdFx0XHR9XG5cdFx0XHRkZWZpbmVfcHJvcGVydHkoc3RvcmVzLCBJU19VTk1PVU5URUQsIHtcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHZhbHVlOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBbc3RvcmVzLCBjbGVhbnVwXTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIGEgc3RvcmUgd2l0aCBhIG5ldyB2YWx1ZS5cbiAqIEBwYXJhbSB7U3RvcmU8Vj59IHN0b3JlICB0aGUgc3RvcmUgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvbiAgdGhlIGV4cHJlc3Npb24gdGhhdCBtdXRhdGVzIHRoZSBzdG9yZVxuICogQHBhcmFtIHtWfSBuZXdfdmFsdWUgIHRoZSBuZXcgc3RvcmUgdmFsdWVcbiAqIEB0ZW1wbGF0ZSBWXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZV9tdXRhdGUoc3RvcmUsIGV4cHJlc3Npb24sIG5ld192YWx1ZSkge1xuXHRzdG9yZS5zZXQobmV3X3ZhbHVlKTtcblx0cmV0dXJuIGV4cHJlc3Npb247XG59XG5cbi8qKlxuICogQHBhcmFtIHtTdG9yZTxudW1iZXI+fSBzdG9yZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0b3JlX3ZhbHVlXG4gKiBAcGFyYW0gezEgfCAtMX0gW2RdXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3N0b3JlKHN0b3JlLCBzdG9yZV92YWx1ZSwgZCA9IDEpIHtcblx0c3RvcmUuc2V0KHN0b3JlX3ZhbHVlICsgZCk7XG5cdHJldHVybiBzdG9yZV92YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N0b3JlPG51bWJlcj59IHN0b3JlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RvcmVfdmFsdWVcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcHJlX3N0b3JlKHN0b3JlLCBzdG9yZV92YWx1ZSwgZCA9IDEpIHtcblx0Y29uc3QgdmFsdWUgPSBzdG9yZV92YWx1ZSArIGQ7XG5cdHN0b3JlLnNldCh2YWx1ZSk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsZWQgaW5zaWRlIHByb3AgZ2V0dGVycyB0byBjb21tdW5pY2F0ZSB0aGF0IHRoZSBwcm9wIGlzIGEgc3RvcmUgYmluZGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFya19zdG9yZV9iaW5kaW5nKCkge1xuXHRpc19zdG9yZV9iaW5kaW5nID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdHVwbGUgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBgZm4oKWAgcmVhZHMgYSBwcm9wIHRoYXQgaXMgYSBzdG9yZSBiaW5kaW5nLlxuICogVXNlZCB0byBwcmV2ZW50IGBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWAgdmFsaWRhdGlvbiBmYWxzZSBwb3NpdGl2ZXMgYW5kXG4gKiBlbnN1cmUgdGhhdCB0aGVzZSBwcm9wcyBhcmUgdHJlYXRlZCBhcyBtdXRhYmxlIGV2ZW4gaW4gcnVuZXMgbW9kZVxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqIEByZXR1cm5zIHtbVCwgYm9vbGVhbl19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlX3N0b3JlX2JpbmRpbmcoZm4pIHtcblx0dmFyIHByZXZpb3VzX2lzX3N0b3JlX2JpbmRpbmcgPSBpc19zdG9yZV9iaW5kaW5nO1xuXG5cdHRyeSB7XG5cdFx0aXNfc3RvcmVfYmluZGluZyA9IGZhbHNlO1xuXHRcdHJldHVybiBbZm4oKSwgaXNfc3RvcmVfYmluZGluZ107XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfc3RvcmVfYmluZGluZyA9IHByZXZpb3VzX2lzX3N0b3JlX2JpbmRpbmc7XG5cdH1cbn1cbiIsICIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9ucywgQ29tcG9uZW50VHlwZSwgU3ZlbHRlQ29tcG9uZW50LCBDb21wb25lbnQgfSBmcm9tICdzdmVsdGUnICovXG5pbXBvcnQgeyBESVJUWSwgTEVHQUNZX1BST1BTLCBNQVlCRV9ESVJUWSB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgdXNlcl9wcmVfZWZmZWN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBtdXRhYmxlX3NvdXJjZSwgc2V0IH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvc291cmNlcy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRlLCBtb3VudCwgdW5tb3VudCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZW5kZXIuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgZ2V0IH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBpc19hcnJheSB9IGZyb20gJy4uL2ludGVybmFsL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9lcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvd2FybmluZ3MuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBGSUxFTkFNRSB9IGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCwgZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnIH0gZnJvbSAnLi4vaW50ZXJuYWwvZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgc2V0X3NpZ25hbF9zdGF0dXMgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zdGF0dXMuanMnO1xuXG4vKipcbiAqIFRha2VzIHRoZSBzYW1lIG9wdGlvbnMgYXMgYSBTdmVsdGUgNCBjb21wb25lbnQgYW5kIHRoZSBjb21wb25lbnQgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBTdmVsdGUgNCBjb21wYXRpYmxlIGNvbXBvbmVudC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhpcyBvbmx5IGFzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uIHRvIG1pZ3JhdGUgeW91ciBpbXBlcmF0aXZlIGNvbXBvbmVudCBjb2RlIHRvIFN2ZWx0ZSA1LlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gUHJvcHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBFdmVudHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gU2xvdHNcbiAqXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9uczxQcm9wcz4gJiB7XG4gKiBcdGNvbXBvbmVudDogQ29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHMsIEV2ZW50cywgU2xvdHM+PiB8IENvbXBvbmVudDxQcm9wcz47XG4gKiB9fSBvcHRpb25zXG4gKiBAcmV0dXJucyB7U3ZlbHRlQ29tcG9uZW50PFByb3BzLCBFdmVudHMsIFNsb3RzPiAmIEV4cG9ydHN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGFzc0NvbXBvbmVudChvcHRpb25zKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgJCRwcm9wX2RlZiBldGMgYXJlIG5vdCBhY3R1YWxseSBkZWZpbmVkXG5cdHJldHVybiBuZXcgU3ZlbHRlNENvbXBvbmVudChvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBUYWtlcyB0aGUgY29tcG9uZW50IGZ1bmN0aW9uIGFuZCByZXR1cm5zIGEgU3ZlbHRlIDQgY29tcGF0aWJsZSBjb21wb25lbnQgY29uc3RydWN0b3IuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoaXMgb25seSBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB0byBtaWdyYXRlIHlvdXIgaW1wZXJhdGl2ZSBjb21wb25lbnQgY29kZSB0byBTdmVsdGUgNS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXZlbnRzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFNsb3RzXG4gKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnQ8UHJvcHMsIEV2ZW50cywgU2xvdHM+IHwgQ29tcG9uZW50PFByb3BzPn0gY29tcG9uZW50XG4gKiBAcmV0dXJucyB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHMsIEV2ZW50cywgU2xvdHM+ICYgRXhwb3J0cz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yICQkcHJvcF9kZWYgZXRjIGFyZSBub3QgYWN0dWFsbHkgZGVmaW5lZFxuXHRyZXR1cm4gY2xhc3MgZXh0ZW5kcyBTdmVsdGU0Q29tcG9uZW50IHtcblx0XHQvKiogQHBhcmFtIHthbnl9IG9wdGlvbnMgKi9cblx0XHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0XHRzdXBlcih7XG5cdFx0XHRcdGNvbXBvbmVudCxcblx0XHRcdFx0Li4ub3B0aW9uc1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdXNpbmcgdGhlIGNvbXBvbmVudCBhcyBib3RoIGEgY2xhc3MgYW5kIGZ1bmN0aW9uIGR1cmluZyB0aGUgdHJhbnNpdGlvbiBwZXJpb2RcbiAqIEB0eXBlZGVmICB7e25ldyAobzogQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zKTogU3ZlbHRlQ29tcG9uZW50OyguLi5hcmdzOiBQYXJhbWV0ZXJzPENvbXBvbmVudDxSZWNvcmQ8c3RyaW5nLCBhbnk+Pj4pOiBSZXR1cm5UeXBlPENvbXBvbmVudDxSZWNvcmQ8c3RyaW5nLCBhbnk+LCBSZWNvcmQ8c3RyaW5nLCBhbnk+Pj47fX0gTGVnYWN5Q29tcG9uZW50VHlwZVxuICovXG5cbmNsYXNzIFN2ZWx0ZTRDb21wb25lbnQge1xuXHQvKiogQHR5cGUge2FueX0gKi9cblx0I2V2ZW50cztcblxuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdCNpbnN0YW5jZTtcblxuXHQvKipcblx0ICogQHBhcmFtIHtDb21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnMgJiB7XG5cdCAqICBjb21wb25lbnQ6IGFueTtcblx0ICogfX0gb3B0aW9uc1xuXHQgKi9cblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHZhciBzb3VyY2VzID0gbmV3IE1hcCgpO1xuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmcgfCBzeW1ib2x9IGtleVxuXHRcdCAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcblx0XHQgKi9cblx0XHR2YXIgYWRkX3NvdXJjZSA9IChrZXksIHZhbHVlKSA9PiB7XG5cdFx0XHR2YXIgcyA9IG11dGFibGVfc291cmNlKHZhbHVlLCBmYWxzZSwgZmFsc2UpO1xuXHRcdFx0c291cmNlcy5zZXQoa2V5LCBzKTtcblx0XHRcdHJldHVybiBzO1xuXHRcdH07XG5cblx0XHQvLyBSZXBsaWNhdGUgY29hcnNlLWdyYWluZWQgcHJvcHMgdGhyb3VnaCBhIHByb3h5IHRoYXQgaGFzIGEgdmVyc2lvbiBzb3VyY2UgZm9yXG5cdFx0Ly8gZWFjaCBwcm9wZXJ0eSwgd2hpY2ggaXMgaW5jcmVtZW50ZWQgb24gdXBkYXRlcyB0byB0aGUgcHJvcGVydHkgaXRzZWxmLiBEbyBub3Rcblx0XHQvLyB1c2Ugb3VyICRzdGF0ZSBwcm94eSBiZWNhdXNlIHRoYXQgb25lIGhhcyBmaW5lLWdyYWluZWQgcmVhY3Rpdml0eS5cblx0XHRjb25zdCBwcm9wcyA9IG5ldyBQcm94eShcblx0XHRcdHsgLi4uKG9wdGlvbnMucHJvcHMgfHwge30pLCAkJGV2ZW50czoge30gfSxcblx0XHRcdHtcblx0XHRcdFx0Z2V0KHRhcmdldCwgcHJvcCkge1xuXHRcdFx0XHRcdHJldHVybiBnZXQoc291cmNlcy5nZXQocHJvcCkgPz8gYWRkX3NvdXJjZShwcm9wLCBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3ApKSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGhhcyh0YXJnZXQsIHByb3ApIHtcblx0XHRcdFx0XHQvLyBOZWNlc3NhcnkgdG8gbm90IHRocm93IFwiaW52YWxpZCBiaW5kaW5nXCIgdmFsaWRhdGlvbiBlcnJvcnMgb24gdGhlIGNvbXBvbmVudCBzaWRlXG5cdFx0XHRcdFx0aWYgKHByb3AgPT09IExFR0FDWV9QUk9QUykgcmV0dXJuIHRydWU7XG5cblx0XHRcdFx0XHRnZXQoc291cmNlcy5nZXQocHJvcCkgPz8gYWRkX3NvdXJjZShwcm9wLCBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3ApKSk7XG5cdFx0XHRcdFx0cmV0dXJuIFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG5cdFx0XHRcdFx0c2V0KHNvdXJjZXMuZ2V0KHByb3ApID8/IGFkZF9zb3VyY2UocHJvcCwgdmFsdWUpLCB2YWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdHRoaXMuI2luc3RhbmNlID0gKG9wdGlvbnMuaHlkcmF0ZSA/IGh5ZHJhdGUgOiBtb3VudCkob3B0aW9ucy5jb21wb25lbnQsIHtcblx0XHRcdHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG5cdFx0XHRhbmNob3I6IG9wdGlvbnMuYW5jaG9yLFxuXHRcdFx0cHJvcHMsXG5cdFx0XHRjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsXG5cdFx0XHRpbnRybzogb3B0aW9ucy5pbnRybyA/PyBmYWxzZSxcblx0XHRcdHJlY292ZXI6IG9wdGlvbnMucmVjb3ZlclxuXHRcdH0pO1xuXG5cdFx0Ly8gV2UgZG9uJ3QgZmx1c2hTeW5jIGZvciBjdXN0b20gZWxlbWVudCB3cmFwcGVycyBvciBpZiB0aGUgdXNlciBkb2Vzbid0IHdhbnQgaXQsXG5cdFx0Ly8gb3IgaWYgd2UncmUgaW4gYXN5bmMgbW9kZSBzaW5jZSBgZmx1c2hTeW5jKClgIHdpbGwgZmFpbFxuXHRcdGlmICghYXN5bmNfbW9kZV9mbGFnICYmICghb3B0aW9ucz8ucHJvcHM/LiQkaG9zdCB8fCBvcHRpb25zLnN5bmMgPT09IGZhbHNlKSkge1xuXHRcdFx0Zmx1c2hTeW5jKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy4jZXZlbnRzID0gcHJvcHMuJCRldmVudHM7XG5cblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLiNpbnN0YW5jZSkpIHtcblx0XHRcdGlmIChrZXkgPT09ICckc2V0JyB8fCBrZXkgPT09ICckZGVzdHJveScgfHwga2V5ID09PSAnJG9uJykgY29udGludWU7XG5cdFx0XHRkZWZpbmVfcHJvcGVydHkodGhpcywga2V5LCB7XG5cdFx0XHRcdGdldCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy4jaW5zdGFuY2Vba2V5XTtcblx0XHRcdFx0fSxcblx0XHRcdFx0LyoqIEBwYXJhbSB7YW55fSB2YWx1ZSAqL1xuXHRcdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLiNpbnN0YW5jZVtrZXldID0gdmFsdWU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuI2luc3RhbmNlLiRzZXQgPSAvKiogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBuZXh0ICovIChuZXh0KSA9PiB7XG5cdFx0XHRPYmplY3QuYXNzaWduKHByb3BzLCBuZXh0KTtcblx0XHR9O1xuXG5cdFx0dGhpcy4jaW5zdGFuY2UuJGRlc3Ryb3kgPSAoKSA9PiB7XG5cdFx0XHR1bm1vdW50KHRoaXMuI2luc3RhbmNlKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gcHJvcHMgKi9cblx0JHNldChwcm9wcykge1xuXHRcdHRoaXMuI2luc3RhbmNlLiRzZXQocHJvcHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuXHQgKiBAcGFyYW0geyguLi5hcmdzOiBhbnlbXSkgPT4gYW55fSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7YW55fVxuXHQgKi9cblx0JG9uKGV2ZW50LCBjYWxsYmFjaykge1xuXHRcdHRoaXMuI2V2ZW50c1tldmVudF0gPSB0aGlzLiNldmVudHNbZXZlbnRdIHx8IFtdO1xuXG5cdFx0LyoqIEBwYXJhbSB7YW55W119IGFyZ3MgKi9cblx0XHRjb25zdCBjYiA9ICguLi5hcmdzKSA9PiBjYWxsYmFjay5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHRcdHRoaXMuI2V2ZW50c1tldmVudF0ucHVzaChjYik7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHRoaXMuI2V2ZW50c1tldmVudF0gPSB0aGlzLiNldmVudHNbZXZlbnRdLmZpbHRlcigvKiogQHBhcmFtIHthbnl9IGZuICovIChmbikgPT4gZm4gIT09IGNiKTtcblx0XHR9O1xuXHR9XG5cblx0JGRlc3Ryb3koKSB7XG5cdFx0dGhpcy4jaW5zdGFuY2UuJGRlc3Ryb3koKTtcblx0fVxufVxuXG4vKipcbiAqIFJ1bnMgdGhlIGdpdmVuIGZ1bmN0aW9uIG9uY2UgaW1tZWRpYXRlbHkgb24gdGhlIHNlcnZlciwgYW5kIHdvcmtzIGxpa2UgYCRlZmZlY3QucHJlYCBvbiB0aGUgY2xpZW50LlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGlzIG9ubHkgYXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gdG8gbWlncmF0ZSB5b3VyIGNvbXBvbmVudCBjb2RlIHRvIFN2ZWx0ZSA1LlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW4oZm4pIHtcblx0dXNlcl9wcmVfZWZmZWN0KCgpID0+IHtcblx0XHRmbigpO1xuXHRcdHZhciBlZmZlY3QgPSAvKiogQHR5cGUge2ltcG9ydCgnI2NsaWVudCcpLkVmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXHRcdC8vIElmIHRoZSBlZmZlY3QgaXMgaW1tZWRpYXRlbHkgbWFkZSBkaXJ0eSBhZ2FpbiwgbWFyayBpdCBhcyBtYXliZSBkaXJ0eSB0byBlbXVsYXRlIGxlZ2FjeSBiZWhhdmlvdXJcblx0XHRpZiAoKGVmZmVjdC5mICYgRElSVFkpICE9PSAwKSB7XG5cdFx0XHRsZXQgZmlsZW5hbWUgPSBcImEgZmlsZSAod2UgY2FuJ3Qga25vdyB3aGljaCBvbmUpXCI7XG5cdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0ZmlsZW5hbWUgPSBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24/LltGSUxFTkFNRV0gPz8gZmlsZW5hbWU7XG5cdFx0XHR9XG5cdFx0XHR3LmxlZ2FjeV9yZWN1cnNpdmVfcmVhY3RpdmVfYmxvY2soZmlsZW5hbWUpO1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBNQVlCRV9ESVJUWSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBtaW1pYyB0aGUgbXVsdGlwbGUgbGlzdGVuZXJzIGF2YWlsYWJsZSBpbiBzdmVsdGUgNFxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lcltdfSBoYW5kbGVyc1xuICogQHJldHVybnMge0V2ZW50TGlzdGVuZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVycyguLi5oYW5kbGVycykge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Y29uc3QgeyBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gfSA9IGV2ZW50O1xuXHRcdGxldCBzdG9wcGVkID0gZmFsc2U7XG5cblx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG5cdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgZXJyb3JzID0gW107XG5cblx0XHRmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgYHRoaXNgIGlzIG5vdCB0eXBlZFxuXHRcdFx0XHRoYW5kbGVyPy5jYWxsKHRoaXMsIGV2ZW50KTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0ZXJyb3JzLnB1c2goZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzdG9wcGVkKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAobGV0IGVycm9yIG9mIGVycm9ycykge1xuXHRcdFx0cXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBjcmVhdGUgYSBgYnViYmxlYCBmdW5jdGlvbiB0aGF0IG1pbWljIHRoZSBiZWhhdmlvciBvZiBgb246Y2xpY2tgIHdpdGhvdXQgaGFuZGxlciBhdmFpbGFibGUgaW4gc3ZlbHRlIDQuXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhpcyBvbmx5IGFzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uIHRvIG1pZ3JhdGUgeW91ciBhdXRvbWF0aWNhbGx5IGRlbGVnYXRlZCBldmVudHMgaW4gU3ZlbHRlIDUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCdWJibGVyKCkge1xuXHRjb25zdCBhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPSBjb21wb25lbnRfY29udGV4dDtcblx0aWYgKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdjcmVhdGVCdWJibGVyJyk7XG5cdH1cblxuXHRyZXR1cm4gKC8qKkB0eXBlIHtzdHJpbmd9Ki8gdHlwZSkgPT4gKC8qKkB0eXBlIHtFdmVudH0qLyBldmVudCkgPT4ge1xuXHRcdGNvbnN0IGV2ZW50cyA9IC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb24gfCBGdW5jdGlvbltdPn0gKi8gKFxuXHRcdFx0YWN0aXZlX2NvbXBvbmVudF9jb250ZXh0LnMuJCRldmVudHNcblx0XHQpPy5bLyoqIEB0eXBlIHthbnl9ICovICh0eXBlKV07XG5cblx0XHRpZiAoZXZlbnRzKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFja3MgPSBpc19hcnJheShldmVudHMpID8gZXZlbnRzLnNsaWNlKCkgOiBbZXZlbnRzXTtcblx0XHRcdGZvciAoY29uc3QgZm4gb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRcdGZuLmNhbGwoYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0LngsIGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbmV4cG9ydCB7XG5cdG9uY2UsXG5cdHByZXZlbnREZWZhdWx0LFxuXHRzZWxmLFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24sXG5cdHN0b3BQcm9wYWdhdGlvbixcblx0dHJ1c3RlZCxcblx0cGFzc2l2ZSxcblx0bm9ucGFzc2l2ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvZG9tL2xlZ2FjeS9ldmVudC1tb2RpZmllcnMuanMnO1xuIiwgImltcG9ydCB7IGNyZWF0ZUNsYXNzQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGVnYWN5L2xlZ2FjeS1jbGllbnQuanMnO1xuaW1wb3J0IHsgZWZmZWN0X3Jvb3QsIHJlbmRlcl9lZmZlY3QgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vdGVtcGxhdGUuanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBnZXRfZGVzY3JpcHRvciwgb2JqZWN0X2tleXMgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cblxuLyoqIEB0eXBlIHthbnl9ICovXG5sZXQgU3ZlbHRlRWxlbWVudDtcblxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yICovXG5cdFx0JCRjdG9yO1xuXHRcdC8qKiBTbG90cyAqL1xuXHRcdCQkcztcblx0XHQvKiogQHR5cGUge2FueX0gVGhlIFN2ZWx0ZSBjb21wb25lbnQgaW5zdGFuY2UgKi9cblx0XHQkJGM7XG5cdFx0LyoqIFdoZXRoZXIgb3Igbm90IHRoZSBjdXN0b20gZWxlbWVudCBpcyBjb25uZWN0ZWQgKi9cblx0XHQkJGNuID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBDb21wb25lbnQgcHJvcHMgZGF0YSAqL1xuXHRcdCQkZCA9IHt9O1xuXHRcdC8qKiBgdHJ1ZWAgaWYgY3VycmVudGx5IGluIHRoZSBwcm9jZXNzIG9mIHJlZmxlY3RpbmcgY29tcG9uZW50IHByb3BzIGJhY2sgdG8gYXR0cmlidXRlcyAqL1xuXHRcdCQkciA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gUHJvcHMgZGVmaW5pdGlvbiAobmFtZSwgcmVmbGVjdGVkLCB0eXBlIGV0YykgKi9cblx0XHQkJHBfZCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdFtdPn0gRXZlbnQgbGlzdGVuZXJzICovXG5cdFx0JCRsID0ge307XG5cdFx0LyoqIEB0eXBlIHtNYXA8RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblx0XHQvKiogQHR5cGUge2FueX0gVGhlIG1hbmFnZWQgcmVuZGVyIGVmZmVjdCBmb3IgcmVmbGVjdGluZyBhdHRyaWJ1dGVzICovXG5cdFx0JCRtZTtcblxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7Kn0gJCRjb21wb25lbnRDdG9yXG5cdFx0ICogQHBhcmFtIHsqfSAkJHNsb3RzXG5cdFx0ICogQHBhcmFtIHsqfSB1c2Vfc2hhZG93X2RvbVxuXHRcdCAqL1xuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuXHRcdCAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdH0gbGlzdGVuZXJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG5cdFx0ICovXG5cdFx0YWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0Ly8gV2UgY2FuJ3QgZGV0ZXJtaW5lIHVwZnJvbnQgaWYgdGhlIGV2ZW50IGlzIGEgY3VzdG9tIGV2ZW50IG9yIG5vdCwgc28gd2UgaGF2ZSB0b1xuXHRcdFx0Ly8gbGlzdGVuIHRvIGJvdGguIElmIHNvbWVvbmUgdXNlcyBhIGN1c3RvbSBldmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYSByZWd1bGFyXG5cdFx0XHQvLyBicm93c2VyIGV2ZW50LCB0aGlzIGZpcmVzIHR3aWNlIC0gd2UgY2FuJ3QgYXZvaWQgdGhhdC5cblx0XHRcdHRoaXMuJCRsW3R5cGVdID0gdGhpcy4kJGxbdHlwZV0gfHwgW107XG5cdFx0XHR0aGlzLiQkbFt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHR9XG5cdFx0XHRzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuXHRcdCAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdH0gbGlzdGVuZXJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gW29wdGlvbnNdXG5cdFx0ICovXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkbF91LmdldChsaXN0ZW5lcik7XG5cdFx0XHRcdGlmICh1bnN1Yikge1xuXHRcdFx0XHRcdHVuc3ViKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGxfdS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLiQkYykge1xuXHRcdFx0XHQvLyBXZSB3YWl0IG9uZSB0aWNrIHRvIGxldCBwb3NzaWJsZSBjaGlsZCBzbG90IGVsZW1lbnRzIGJlIGNyZWF0ZWQvbW91bnRlZFxuXHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gfHwgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0LyoqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICovXG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBAcGFyYW0ge0VsZW1lbnR9IGFuY2hvclxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHJldHVybiAoYW5jaG9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBzbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0aWYgKG5hbWUgIT09ICdkZWZhdWx0Jykgc2xvdC5uYW1lID0gbmFtZTtcblxuXHRcdFx0XHRcdFx0YXBwZW5kKGFuY2hvciwgc2xvdCk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovXG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0aWYgKG5hbWUgPT09ICdkZWZhdWx0JyAmJiAhdGhpcy4kJGQuY2hpbGRyZW4pIHtcblx0XHRcdFx0XHRcdFx0dGhpcy4kJGQuY2hpbGRyZW4gPSBjcmVhdGVfc2xvdChuYW1lKTtcblx0XHRcdFx0XHRcdFx0JCRzbG90cy5kZWZhdWx0ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdCQkc2xvdHNbbmFtZV0gPSBjcmVhdGVfc2xvdChuYW1lKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcy4kJGRhdGEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMuYXR0cmlidXRlc1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB0aGlzLiQkZ19wKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0XHRpZiAoIShuYW1lIGluIHRoaXMuJCRkKSkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRbbmFtZV0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUobmFtZSwgYXR0cmlidXRlLnZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFBvcnQgb3ZlciBwcm9wcyB0aGF0IHdlcmUgc2V0IHByb2dyYW1tYXRpY2FsbHkgYmVmb3JlIGNlIHdhcyBpbml0aWFsaXplZFxuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHRcdGlmICghKGtleSBpbiB0aGlzLiQkZCkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzW2tleV07IC8vIGRvbid0IHRyYW5zZm9ybSwgdGhlc2Ugd2VyZSBzZXQgdGhyb3VnaCBKYXZhU2NyaXB0XG5cdFx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpc1trZXldOyAvLyByZW1vdmUgdGhlIHByb3BlcnR5IHRoYXQgc2hhZG93cyB0aGUgZ2V0dGVyL3NldHRlclxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IGNyZWF0ZUNsYXNzQ29tcG9uZW50KHtcblx0XHRcdFx0XHRjb21wb25lbnQ6IHRoaXMuJCRjdG9yLFxuXHRcdFx0XHRcdHRhcmdldDogdGhpcy5zaGFkb3dSb290IHx8IHRoaXMsXG5cdFx0XHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0XHRcdC4uLnRoaXMuJCRkLFxuXHRcdFx0XHRcdFx0JCRzbG90cyxcblx0XHRcdFx0XHRcdCQkaG9zdDogdGhpc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gUmVmbGVjdCBjb21wb25lbnQgcHJvcHMgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHR0aGlzLiQkbWUgPSBlZmZlY3Rfcm9vdCgoKSA9PiB7XG5cdFx0XHRcdFx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBvYmplY3Rfa2V5cyh0aGlzLiQkYykpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLiQkcF9kW2tleV0/LnJlZmxlY3QpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpcy4kJGNba2V5XTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlX3ZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKFxuXHRcdFx0XHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRwX2QsXG5cdFx0XHRcdFx0XHRcdFx0J3RvQXR0cmlidXRlJ1xuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXR0cmlidXRlX3ZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXksIGF0dHJpYnV0ZV92YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IF9vbGRWYWx1ZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuZXdWYWx1ZVxuXHRcdCAqL1xuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbiAmJiB0aGlzLiQkYykge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJG1lKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVfbmFtZVxuXHRcdCAqL1xuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRvYmplY3Rfa2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuXHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIHRydWU+fSAqL1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0ZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcblx0XHRyZXN1bHRbLyoqIEB0eXBlIHtFbGVtZW50fSBub2RlICovIChub2RlKS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuXHR9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2FueX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBleHBvcnRzICBFeHBsaWNpdGx5IGV4cG9ydGVkIHZhbHVlcywgb3RoZXIgdGhhbiBwcm9wc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRleHBvcnRzLFxuXHR1c2Vfc2hhZG93X2RvbSxcblx0ZXh0ZW5kXG4pIHtcblx0bGV0IENsYXNzID0gY2xhc3MgZXh0ZW5kcyBTdmVsdGVFbGVtZW50IHtcblx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdHN1cGVyKENvbXBvbmVudCwgc2xvdHMsIHVzZV9zaGFkb3dfZG9tKTtcblx0XHRcdHRoaXMuJCRwX2QgPSBwcm9wc19kZWZpbml0aW9uO1xuXHRcdH1cblx0XHRzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcblx0XHRcdHJldHVybiBvYmplY3Rfa2V5cyhwcm9wc19kZWZpbml0aW9uKS5tYXAoKGtleSkgPT5cblx0XHRcdFx0KHByb3BzX2RlZmluaXRpb25ba2V5XS5hdHRyaWJ1dGUgfHwga2V5KS50b0xvd2VyQ2FzZSgpXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcblx0b2JqZWN0X2tleXMocHJvcHNfZGVmaW5pdGlvbikuZm9yRWFjaCgocHJvcCkgPT4ge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIHByb3AsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjICYmIHByb3AgaW4gdGhpcy4kJGMgPyB0aGlzLiQkY1twcm9wXSA6IHRoaXMuJCRkW3Byb3BdO1xuXHRcdFx0fSxcblx0XHRcdHNldCh2YWx1ZSkge1xuXHRcdFx0XHR2YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbik7XG5cdFx0XHRcdHRoaXMuJCRkW3Byb3BdID0gdmFsdWU7XG5cdFx0XHRcdHZhciBjb21wb25lbnQgPSB0aGlzLiQkYztcblxuXHRcdFx0XHRpZiAoY29tcG9uZW50KSB7XG5cdFx0XHRcdFx0Ly8gLy8gSWYgdGhlIGluc3RhbmNlIGhhcyBhbiBhY2Nlc3NvciwgdXNlIHRoYXQgaW5zdGVhZFxuXHRcdFx0XHRcdHZhciBzZXR0ZXIgPSBnZXRfZGVzY3JpcHRvcihjb21wb25lbnQsIHByb3ApPy5nZXQ7XG5cblx0XHRcdFx0XHRpZiAoc2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRjb21wb25lbnRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29tcG9uZW50LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0ZXhwb3J0cy5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIHByb3BlcnR5LCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYz8uW3Byb3BlcnR5XTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGlmIChleHRlbmQpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gYXNzaWduaW5nIGhlcmUgaXMgZmluZVxuXHRcdENsYXNzID0gZXh0ZW5kKENsYXNzKTtcblx0fVxuXHRDb21wb25lbnQuZWxlbWVudCA9IC8qKiBAdHlwZSB7YW55fSAqLyBDbGFzcztcblx0cmV0dXJuIENsYXNzO1xufVxuIiwgIi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50Q29udGV4dCwgQ29tcG9uZW50Q29udGV4dExlZ2FjeSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJy4vaW5kZXguanMnICovXG4vKiogQGltcG9ydCB7IE5vdEZ1bmN0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC90eXBlcy5qcycgKi9cbmltcG9ydCB7IGFjdGl2ZV9yZWFjdGlvbiwgdW50cmFjayB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgaXNfYXJyYXkgfSBmcm9tICcuL2ludGVybmFsL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyB1c2VyX2VmZmVjdCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2luZGV4LmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvZXJyb3JzLmpzJztcbmltcG9ydCB7IGxlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuL2ludGVybmFsL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxuaWYgKERFVikge1xuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcblx0ICovXG5cdGZ1bmN0aW9uIHRocm93X3J1bmVfZXJyb3IocnVuZSkge1xuXHRcdGlmICghKHJ1bmUgaW4gZ2xvYmFsVGhpcykpIHtcblx0XHRcdC8vIFRPRE8gaWYgcGVvcGxlIHN0YXJ0IGFkanVzdGluZyB0aGUgXCJ0aGlzIGNhbiBjb250YWluIHJ1bmVzXCIgY29uZmlnIHRocm91Z2ggdi1wLXMgbW9yZSwgYWRqdXN0IHRoaXMgbWVzc2FnZVxuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovXG5cdFx0XHRsZXQgdmFsdWU7IC8vIGxldCdzIGhvcGUgbm9vbmUgbW9kaWZpZXMgdGhpcyBnbG9iYWwsIGJ1dCBiZWx0cyBhbmQgYnJhY2VzXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcywgcnVuZSwge1xuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnZXR0ZXItcmV0dXJuXG5cdFx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZS5ydW5lX291dHNpZGVfc3ZlbHRlKHJ1bmUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQ6ICh2KSA9PiB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2O1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHR0aHJvd19ydW5lX2Vycm9yKCckc3RhdGUnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGVmZmVjdCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckZGVyaXZlZCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckaW5zcGVjdCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckcHJvcHMnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGJpbmRhYmxlJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBbYEFib3J0U2lnbmFsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Fib3J0U2lnbmFsKSB0aGF0IGFib3J0cyB3aGVuIHRoZSBjdXJyZW50IFtkZXJpdmVkXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGRlcml2ZWQpIG9yIFtlZmZlY3RdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZWZmZWN0KSByZS1ydW5zIG9yIGlzIGRlc3Ryb3llZC5cbiAqXG4gKiBNdXN0IGJlIGNhbGxlZCB3aGlsZSBhIGRlcml2ZWQgb3IgZWZmZWN0IGlzIHJ1bm5pbmcuXG4gKlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0PlxuICogXHRpbXBvcnQgeyBnZXRBYm9ydFNpZ25hbCB9IGZyb20gJ3N2ZWx0ZSc7XG4gKlxuICogXHRsZXQgeyBpZCB9ID0gJHByb3BzKCk7XG4gKlxuICogXHRhc3luYyBmdW5jdGlvbiBnZXREYXRhKGlkKSB7XG4gKiBcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2l0ZW1zLyR7aWR9YCwge1xuICogXHRcdFx0c2lnbmFsOiBnZXRBYm9ydFNpZ25hbCgpXG4gKiBcdFx0fSk7XG4gKlxuICogXHRcdHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gKiBcdH1cbiAqXG4gKiBcdGNvbnN0IGRhdGEgPSAkZGVyaXZlZChhd2FpdCBnZXREYXRhKGlkKSk7XG4gKiA8L3NjcmlwdD5cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWJvcnRTaWduYWwoKSB7XG5cdGlmIChhY3RpdmVfcmVhY3Rpb24gPT09IG51bGwpIHtcblx0XHRlLmdldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbigpO1xuXHR9XG5cblx0cmV0dXJuIChhY3RpdmVfcmVhY3Rpb24uYWMgPz89IG5ldyBBYm9ydENvbnRyb2xsZXIoKSkuc2lnbmFsO1xufVxuXG4vKipcbiAqIGBvbk1vdW50YCwgbGlrZSBbYCRlZmZlY3RgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCksIHNjaGVkdWxlcyBhIGZ1bmN0aW9uIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogVW5saWtlIGAkZWZmZWN0YCwgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9ubHkgcnVucyBvbmNlLlxuICpcbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSBfaW5zaWRlXyB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLFxuICogaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBgb25Nb3VudGAgZnVuY3Rpb25zIGRvIG5vdCBydW4gZHVyaW5nIFtzZXJ2ZXItc2lkZSByZW5kZXJpbmddKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9zdmVsdGUtc2VydmVyI3JlbmRlcikuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPE5vdEZ1bmN0aW9uPFQ+PiB8ICgoKSA9PiBhbnkpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGZuKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdvbk1vdW50Jyk7XG5cdH1cblxuXHRpZiAobGVnYWN5X21vZGVfZmxhZyAmJiBjb21wb25lbnRfY29udGV4dC5sICE9PSBudWxsKSB7XG5cdFx0aW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbXBvbmVudF9jb250ZXh0KS5tLnB1c2goZm4pO1xuXHR9IGVsc2Uge1xuXHRcdHVzZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdGNvbnN0IGNsZWFudXAgPSB1bnRyYWNrKGZuKTtcblx0XHRcdGlmICh0eXBlb2YgY2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIC8qKiBAdHlwZSB7KCkgPT4gdm9pZH0gKi8gKGNsZWFudXApO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ29uRGVzdHJveScpO1xuXHR9XG5cblx0b25Nb3VudCgoKSA9PiAoKSA9PiB1bnRyYWNrKGZuKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFtUPWFueV1cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge1R9IFtkZXRhaWxdXG4gKiBAcGFyYW0ge2FueX1wYXJhbXNfMFxuICogQHJldHVybnMge0N1c3RvbUV2ZW50PFQ+fVxuICovXG5mdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcblx0cmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL2xlZ2FjeS1vbiNDb21wb25lbnQtZXZlbnRzKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBudWxsOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgY2FsbGJhY2sgcHJvcHMgYW5kL29yIHRoZSBgJGhvc3QoKWAgcnVuZSBpbnN0ZWFkIFx1MjAxNCBzZWUgW21pZ3JhdGlvbiBndWlkZV0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3Y1LW1pZ3JhdGlvbi1ndWlkZSNFdmVudC1jaGFuZ2VzLUNvbXBvbmVudC1ldmVudHMpXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcCA9IGFueV1cbiAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPSBjb21wb25lbnRfY29udGV4dDtcblx0aWYgKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdjcmVhdGVFdmVudERpc3BhdGNoZXInKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0gW2RldGFpbF1cblx0ICogQHBhcmFtIFtvcHRpb25zXVxuXHQgKi9cblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpID0+IHtcblx0XHRjb25zdCBldmVudHMgPSAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uIHwgRnVuY3Rpb25bXT59ICovIChcblx0XHRcdGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC5zLiQkZXZlbnRzXG5cdFx0KT8uWy8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSldO1xuXG5cdFx0aWYgKGV2ZW50cykge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2tzID0gaXNfYXJyYXkoZXZlbnRzKSA/IGV2ZW50cy5zbGljZSgpIDogW2V2ZW50c107XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGNyZWF0ZV9jdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCBvcHRpb25zKTtcblx0XHRcdGZvciAoY29uc3QgZm4gb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRcdGZuLmNhbGwoYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0LngsIGV2ZW50KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcbn1cblxuLy8gVE9ETyBtYXJrIGJlZm9yZVVwZGF0ZSBhbmQgYWZ0ZXJVcGRhdGUgYXMgZGVwcmVjYXRlZCBpbiBTdmVsdGUgNlxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgLlxuICpcbiAqIEluIHJ1bmVzIG1vZGUgdXNlIGAkZWZmZWN0LnByZWAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgW2AkZWZmZWN0LnByZWBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZWZmZWN0IyRlZmZlY3QucHJlKSBpbnN0ZWFkXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRpZiAoY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnYmVmb3JlVXBkYXRlJyk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50X2NvbnRleHQubCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KCdiZWZvcmVVcGRhdGUnKTtcblx0fVxuXG5cdGluaXRfdXBkYXRlX2NhbGxiYWNrcyhjb21wb25lbnRfY29udGV4dCkuYi5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgLlxuICpcbiAqIEluIHJ1bmVzIG1vZGUgdXNlIGAkZWZmZWN0YCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBbYCRlZmZlY3RgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCkgaW5zdGVhZFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuXHRpZiAoY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnYWZ0ZXJVcGRhdGUnKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnRfY29udGV4dC5sID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfbGVnYWN5X29ubHkoJ2FmdGVyVXBkYXRlJyk7XG5cdH1cblxuXHRpbml0X3VwZGF0ZV9jYWxsYmFja3MoY29tcG9uZW50X2NvbnRleHQpLmEucHVzaChmbik7XG59XG5cbi8qKlxuICogTGVnYWN5LW1vZGU6IEluaXQgY2FsbGJhY2tzIG9iamVjdCBmb3Igb25Nb3VudC9iZWZvcmVVcGRhdGUvYWZ0ZXJVcGRhdGVcbiAqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBpbml0X3VwZGF0ZV9jYWxsYmFja3MoY29udGV4dCkge1xuXHR2YXIgbCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gKi8gKGNvbnRleHQpLmw7XG5cdHJldHVybiAobC51ID8/PSB7IGE6IFtdLCBiOiBbXSwgbTogW10gfSk7XG59XG5cbmV4cG9ydCB7IGZsdXNoU3luYywgZm9yayB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuZXhwb3J0IHtcblx0Y3JlYXRlQ29udGV4dCxcblx0Z2V0Q29udGV4dCxcblx0Z2V0QWxsQ29udGV4dHMsXG5cdGhhc0NvbnRleHQsXG5cdHNldENvbnRleHRcbn0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyc7XG5leHBvcnQgeyBoeWRyYXRhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvaHlkcmF0YWJsZS5qcyc7XG5leHBvcnQgeyBoeWRyYXRlLCBtb3VudCwgdW5tb3VudCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3JlbmRlci5qcyc7XG5leHBvcnQgeyB0aWNrLCB1bnRyYWNrLCBzZXR0bGVkIH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvcnVudGltZS5qcyc7XG5leHBvcnQgeyBjcmVhdGVSYXdTbmlwcGV0IH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9zbmlwcGV0LmpzJztcbiIsICIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNS40Ny4wJztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc1JztcbiIsICJpbXBvcnQgeyBQVUJMSUNfVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHQoKHdpbmRvdy5fX3N2ZWx0ZSA/Pz0ge30pLnYgPz89IG5ldyBTZXQoKSkuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbn1cbiIsICJpbXBvcnQgeyBlbmFibGVfbGVnYWN5X21vZGVfZmxhZyB9IGZyb20gJy4vaW5kZXguanMnO1xuXG5lbmFibGVfbGVnYWN5X21vZGVfZmxhZygpO1xuIiwgImltcG9ydCB7IHdyaXRhYmxlLCByZWFkYWJsZSwgZGVyaXZlZCB9IGZyb20gXCJzdmVsdGUvc3RvcmVcIjtcbmltcG9ydCB0eXBlIEZvY3VzU2Vzc2lvbnNQbHVnaW4gZnJvbSBcIkAvbWFpblwiO1xuaW1wb3J0IHR5cGUgeyBTZXNzaW9uTWFuYWdlciwgRm9jdXNTZXNzaW9uIH0gZnJvbSBcIkAvc2VydmljZXMvc2Vzc2lvbi1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZW1haW5pbmdUaW1lIH0gZnJvbSBcIkAvdXRpbHMvdGltZS11dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luID0gd3JpdGFibGU8Rm9jdXNTZXNzaW9uc1BsdWdpbj4oKTtcblxuZXhwb3J0IGNvbnN0IGRyYWZ0TmFtZSA9IHdyaXRhYmxlKFwiRm9jdXMgU2Vzc2lvblwiKTtcbmV4cG9ydCBjb25zdCBkcmFmdE1pbnV0ZXMgPSB3cml0YWJsZSgyNSk7XG5leHBvcnQgY29uc3QgZHJhZnRTZWNvbmRzID0gd3JpdGFibGUoMCk7XG5cbmV4cG9ydCBjb25zdCBzZXNzaW9uID0gcmVhZGFibGU8Rm9jdXNTZXNzaW9uIHwgbnVsbD4obnVsbCwgKHNldCkgPT4ge1xuXHRsZXQgc2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyO1xuXG5cdGNvbnN0IHVuc3Vic2NyaWJlUGx1Z2luID0gcGx1Z2luLnN1YnNjcmliZSgocCkgPT4ge1xuXHRcdGlmIChwKSB7XG5cdFx0XHRzZXNzaW9uTWFuYWdlciA9IHAuc2Vzc2lvbk1hbmFnZXI7XG5cblx0XHRcdC8vIEluaXRpYWwgc2V0XG5cdFx0XHRzZXQoc2Vzc2lvbk1hbmFnZXIuZ2V0QWN0aXZlU2Vzc2lvbigpKTtcblxuXHRcdFx0Ly8gTGlzdGVuIGZvciBjaGFuZ2VzXG5cdFx0XHRzZXNzaW9uTWFuYWdlci5vbkNoYW5nZSgoKSA9PiB7XG5cdFx0XHRcdHNldChzZXNzaW9uTWFuYWdlci5nZXRBY3RpdmVTZXNzaW9uKCkpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdHVuc3Vic2NyaWJlUGx1Z2luKCk7XG5cdFx0Ly8gV2UgdGVjaG5pY2FsbHkgY2FuJ3QgdW5zdWJzY3JpYmUgZnJvbSBzZXNzaW9uTWFuYWdlciB3aXRoIHRoZSBjdXJyZW50IEFQSVxuXHRcdC8vIHdpdGhvdXQgYSBzcGVjaWZpYyBsaXN0ZW5lciByZWZlcmVuY2UsIGJ1dCB0aGUgcGx1Z2luIGxpZmVjeWNsZSBoYW5kbGVzIHRoaXMuXG5cdFx0Ly8gSWRlYWxseSB3ZSB3b3VsZCBhZGQgYSBzcGVjaWZpYyByZW1vdmVMaXN0ZW5lciBtZXRob2QgaWYgd2UgbmVlZCBncmFudWxhciBjbGVhbnVwLFxuXHRcdC8vIGJ1dCBmb3IgYSBzaW5nbGV0b24gc2VydmljZSBpdCdzIGFjY2VwdGFibGUuXG5cdH07XG59KTtcblxuZXhwb3J0IGNvbnN0IHRpbWVSZW1haW5pbmcgPSBkZXJpdmVkKFxuXHRzZXNzaW9uLFxuXHQoJHNlc3Npb24sIHNldCkgPT4ge1xuXHRcdGlmICghJHNlc3Npb24gfHwgJHNlc3Npb24uc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRzZXQoMCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0aWYgKCRzZXNzaW9uLnN0YXR1cyA9PT0gXCJydW5uaW5nXCIpIHtcblx0XHRcdFx0Y29uc3QgcmVtYWluaW5nID0gZ2V0UmVtYWluaW5nVGltZShcblx0XHRcdFx0XHQkc2Vzc2lvbi5kdXJhdGlvbixcblx0XHRcdFx0XHQkc2Vzc2lvbi5lbGFwc2VkLFxuXHRcdFx0XHRcdCRzZXNzaW9uLnN0YXR1cyxcblx0XHRcdFx0XHQkc2Vzc2lvbi5sYXN0UmVzdW1lZCxcblx0XHRcdFx0KTtcblx0XHRcdFx0c2V0KHJlbWFpbmluZyk7XG5cdFx0XHR9IGVsc2UgaWYgKCRzZXNzaW9uLnN0YXR1cyA9PT0gXCJwYXVzZWRcIikge1xuXHRcdFx0XHRjb25zdCByZW1haW5pbmcgPSBnZXRSZW1haW5pbmdUaW1lKFxuXHRcdFx0XHRcdCRzZXNzaW9uLmR1cmF0aW9uLFxuXHRcdFx0XHRcdCRzZXNzaW9uLmVsYXBzZWQsXG5cdFx0XHRcdFx0JHNlc3Npb24uc3RhdHVzLFxuXHRcdFx0XHRcdCRzZXNzaW9uLmxhc3RSZXN1bWVkLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRzZXQocmVtYWluaW5nKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dXBkYXRlKCk7XG5cblx0XHRjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZSwgMTAwMCk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG5cdFx0fTtcblx0fSxcblx0MCwgLy8gSW5pdGlhbCB2YWx1ZVxuKTtcbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBzZXNzaW9uIH0gZnJvbSBcIi4uL3N0b3Jlc1wiO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJzZXNzaW9uLWhlYWRlclwiPlxuXHR7I2lmICRzZXNzaW9ufVxuXHRcdDxoMz57JHNlc3Npb24ubmFtZX08L2gzPlxuXHRcdDxzcGFuIGNsYXNzPVwic3RhdHVzLXRhZyB7JHNlc3Npb24uc3RhdHVzfVwiPnskc2Vzc2lvbi5zdGF0dXN9PC9zcGFuPlxuXHR7OmVsc2V9XG5cdFx0PGgzPk5vIGFjdGl2ZSBzZXNzaW9uPC9oMz5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5zZXNzaW9uLWhlYWRlciB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRtYXJnaW4tYm90dG9tOiAxcmVtO1xuXHRcdHBhZGRpbmctYm90dG9tOiAxcmVtO1xuXHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdH1cblxuXHRoMyB7XG5cdFx0bWFyZ2luOiAwO1xuXHR9XG5cblx0LnN0YXR1cy10YWcge1xuXHRcdHBhZGRpbmc6IDRweCA4cHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdGZvbnQtc2l6ZTogMC44ZW07XG5cdFx0dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcblx0XHRmb250LXdlaWdodDogYm9sZDtcblx0fVxuXG5cdC5zdGF0dXMtdGFnLnJ1bm5pbmcge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcblx0fVxuXG5cdC5zdGF0dXMtdGFnLnBhdXNlZCB7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci13YXJuaW5nKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHR9XG5cblx0LnN0YXR1cy10YWcuY29tcGxldGVkIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG5cdH1cbjwvc3R5bGU+XG4iLCAiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgdGltZVJlbWFpbmluZywgc2Vzc2lvbiwgZHJhZnROYW1lLCBkcmFmdE1pbnV0ZXMsIGRyYWZ0U2Vjb25kcyB9IGZyb20gXCIuLi9zdG9yZXNcIjtcblx0aW1wb3J0IHsgZm9ybWF0RHVyYXRpb24gfSBmcm9tIFwiQC91dGlscy90aW1lLXV0aWxzXCI7XG5cblx0bGV0IHNob3dOYW1lSW5wdXQgPSBmYWxzZTtcblxuXHRmdW5jdGlvbiB0b2dnbGVOYW1lSW5wdXQoKSB7XG5cdFx0c2hvd05hbWVJbnB1dCA9ICFzaG93TmFtZUlucHV0O1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInNlc3Npb24tdGltZXJcIj5cblx0eyNpZiAkc2Vzc2lvbn1cblx0XHQ8ZGl2IGNsYXNzPVwidGltZS1kaXNwbGF5XCI+XG5cdFx0XHR7Zm9ybWF0RHVyYXRpb24oJHRpbWVSZW1haW5pbmcpfVxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItY29udGFpbmVyXCI+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCIgc3R5bGU9XCJ3aWR0aDogeygkc2Vzc2lvbi5lbGFwc2VkIC8gJHNlc3Npb24uZHVyYXRpb24pICogMTAwfSVcIj48L2Rpdj5cblx0XHQ8L2Rpdj5cblx0ezplbHNlfVxuXHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tdGltZXItY29udGFpbmVyXCI+XG5cdFx0XHR7I2lmIHNob3dOYW1lSW5wdXR9XG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdHR5cGU9XCJ0ZXh0XCJcblx0XHRcdFx0XHRjbGFzcz1cImZzLXRpbWVyLW5hbWUtaW5wdXRcIlxuXHRcdFx0XHRcdGJpbmQ6dmFsdWU9eyRkcmFmdE5hbWV9XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJTZXNzaW9uIE5hbWVcIlxuXHRcdFx0XHRcdG9uOmJsdXI9eygpID0+IChzaG93TmFtZUlucHV0ID0gZmFsc2UpfVxuXHRcdFx0XHQvPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0Y2xhc3M9XCJmcy10aW1lci1uYW1lLWRpc3BsYXlcIlxuXHRcdFx0XHRcdG9uOmNsaWNrPXt0b2dnbGVOYW1lSW5wdXR9XG5cdFx0XHRcdFx0cm9sZT1cImJ1dHRvblwiXG5cdFx0XHRcdFx0dGFiaW5kZXg9XCIwXCJcblx0XHRcdFx0XHRvbjprZXlwcmVzcz17KGUpID0+IGUua2V5ID09PSBcIkVudGVyXCIgJiYgdG9nZ2xlTmFtZUlucHV0KCl9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7JGRyYWZ0TmFtZX1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7L2lmfVxuXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtdGltZXItaW5wdXRzXCI+XG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIGJpbmQ6dmFsdWU9eyRkcmFmdE1pbnV0ZXN9IGNsYXNzPVwiZnMtdGltZXItaW5wdXRcIiAvPlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImZzLXRpbWVyLXNlcGFyYXRvclwiPjo8L3NwYW4+XG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjU5XCIgYmluZDp2YWx1ZT17JGRyYWZ0U2Vjb25kc30gY2xhc3M9XCJmcy10aW1lci1pbnB1dFwiIC8+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5zZXNzaW9uLXRpbWVyIHtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0bWFyZ2luOiAycmVtIDA7XG5cdH1cblxuXHQudGltZS1kaXNwbGF5IHtcblx0XHRmb250LXNpemU6IDNlbTtcblx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdH1cblxuXHQucHJvZ3Jlc3MtYmFyLWNvbnRhaW5lciB7XG5cdFx0aGVpZ2h0OiA0cHg7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdGJvcmRlci1yYWRpdXM6IDJweDtcblx0XHRtYXJnaW4tdG9wOiAxcmVtO1xuXHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdH1cblxuXHQucHJvZ3Jlc3MtYmFyIHtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcblx0XHR0cmFuc2l0aW9uOiB3aWR0aCAxcyBsaW5lYXI7XG5cdH1cblxuXHQvKiBDdXN0b20gVGltZXIgU3R5bGVzICovXG5cdC5jdXN0b20tdGltZXItY29udGFpbmVyIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRnYXA6IDAuNXJlbTtcblx0fVxuXG5cdC5mcy10aW1lci1uYW1lLWRpc3BsYXkge1xuXHRcdGZvbnQtc2l6ZTogMS4yZW07XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIHRyYW5zcGFyZW50O1xuXHRcdHRyYW5zaXRpb246XG5cdFx0XHRib3JkZXItY29sb3IgMC4ycyxcblx0XHRcdGNvbG9yIDAuMnM7XG5cdH1cblxuXHQuZnMtdGltZXItbmFtZS1kaXNwbGF5OmhvdmVyIHtcblx0XHRib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHR9XG5cblx0LmZzLXRpbWVyLW5hbWUtaW5wdXQge1xuXHRcdGZvbnQtc2l6ZTogMS4yZW07XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHRcdHdpZHRoOiAyMDBweDtcblx0fVxuXG5cdC5mcy10aW1lci1pbnB1dHMge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHRnYXA6IDAuMjVyZW07XG5cdH1cblxuXHQuZnMtdGltZXItaW5wdXQge1xuXHRcdGZvbnQtc2l6ZTogM2VtO1xuXHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG5cdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0XHRiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0d2lkdGg6IDVyZW07IC8qIEFwcHJveCB3aWR0aCBmb3IgMiBkaWdpdHMgKi9cblx0XHRoZWlnaHQ6IDRyZW07XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdHBhZGRpbmc6IDA7XG5cdFx0LW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XG5cdFx0YXBwZWFyYW5jZTogdGV4dGZpZWxkO1xuXHR9XG5cblx0LmZzLXRpbWVyLWlucHV0OmhvdmVyIHtcblx0XHRjb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcblx0fVxuXG5cdC5mcy10aW1lci1pbnB1dDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcblx0LmZzLXRpbWVyLWlucHV0Ojotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcblx0XHQtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG5cdFx0bWFyZ2luOiAwO1xuXHR9XG5cblx0LmZzLXRpbWVyLWlucHV0OmZvY3VzIHtcblx0XHRvdXRsaW5lOiBub25lO1xuXHRcdGJveC1zaGFkb3c6IG5vbmU7XG5cdFx0Y29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdH1cblxuXHQuZnMtdGltZXItc2VwYXJhdG9yIHtcblx0XHRmb250LXNpemU6IDNlbTtcblx0XHRmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuXHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG5cdFx0bWFyZ2luLWJvdHRvbTogMC41cmVtOyAvKiBPcHRpY2FsIGFsaWdubWVudCAqL1xuXHR9XG48L3N0eWxlPlxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IHNlc3Npb24sIHBsdWdpbiwgZHJhZnROYW1lLCBkcmFmdE1pbnV0ZXMsIGRyYWZ0U2Vjb25kcyB9IGZyb20gXCIuLi9zdG9yZXNcIjtcblx0aW1wb3J0IHsgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5cdGZ1bmN0aW9uIGljb24obm9kZTogSFRNTEVsZW1lbnQsIGljb25OYW1lOiBzdHJpbmcpIHtcblx0XHRzZXRJY29uKG5vZGUsIGljb25OYW1lKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dXBkYXRlKG5ld0ljb25OYW1lOiBzdHJpbmcpIHtcblx0XHRcdFx0bm9kZS5lbXB0eSgpO1xuXHRcdFx0XHRzZXRJY29uKG5vZGUsIG5ld0ljb25OYW1lKTtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbihuYW1lOiBzdHJpbmcpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5zdGFydFNlc3Npb24obmFtZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzdGFydEN1c3RvbVNlc3Npb24oKSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSAkZHJhZnRNaW51dGVzICogNjAgKyAkZHJhZnRTZWNvbmRzO1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLnN0YXJ0U2Vzc2lvbigkZHJhZnROYW1lLCBkdXJhdGlvbik7XG5cdH1cblxuXHRmdW5jdGlvbiBzdG9wU2Vzc2lvbigpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5zdG9wU2Vzc2lvbigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGF1c2VTZXNzaW9uKCkge1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLnBhdXNlU2Vzc2lvbigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVzdW1lU2Vzc2lvbigpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5yZXN1bWVTZXNzaW9uKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUaW1lKG1pbnV0ZXM6IG51bWJlcikge1xuXHRcdCRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyLmFkZFRpbWUobWludXRlcyk7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZnMtY29udHJvbHNcIj5cblx0PGRpdiBjbGFzcz1cImZzLWNvbnRyb2xzLXJvd1wiPlxuXHRcdHsjaWYgJHNlc3Npb259XG5cdFx0XHR7I2lmICRzZXNzaW9uLnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIn1cblx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLXN0YXR1cy1tc2dcIj5TZXNzaW9uIENvbXBsZXRlZDwvZGl2PlxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJGaW5pc2hcIiBvbjpjbGljaz17c3RvcFNlc3Npb259PlxuXHRcdFx0XHRcdDxkaXYgdXNlOmljb249e1wiY2hlY2tcIn0+PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtc2Vjb25kYXJ5XCIgYXJpYS1sYWJlbD1cIlN0b3AgU2Vzc2lvblwiIG9uOmNsaWNrPXtzdG9wU2Vzc2lvbn0+XG5cdFx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJzcXVhcmVcIn0+PC9kaXY+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXG5cdFx0XHRcdHsjaWYgJHNlc3Npb24uc3RhdHVzID09PSBcInJ1bm5pbmdcIn1cblx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC1idG4gZnMtcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJQYXVzZVwiIG9uOmNsaWNrPXtwYXVzZVNlc3Npb259PlxuXHRcdFx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJwYXVzZVwifT48L2Rpdj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0ezplbHNlfVxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJmcy1jb250cm9sLWJ0biBmcy1wcmltYXJ5XCIgYXJpYS1sYWJlbD1cIlJlc3VtZVwiIG9uOmNsaWNrPXtyZXN1bWVTZXNzaW9ufT5cblx0XHRcdFx0XHRcdDxkaXYgdXNlOmljb249e1wicGxheVwifT48L2Rpdj5cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0ey9pZn1cblx0XHRcdHsvaWZ9XG5cdFx0ezplbHNlfVxuXHRcdFx0PCEtLSBJZGxlIFN0YXRlIC0tPlxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXNlY29uZGFyeSBmcy1zbWFsbFwiXG5cdFx0XHRcdGFyaWEtbGFiZWw9XCJTaG9ydCBCcmVha1wiXG5cdFx0XHRcdG9uOmNsaWNrPXsoKSA9PiBzdGFydFNlc3Npb24oXCJTaG9ydCBCcmVha1wiKX1cblx0XHRcdD5cblx0XHRcdFx0PGRpdiB1c2U6aWNvbj17XCJjb2ZmZWVcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXByaW1hcnkgZnMtbGFyZ2VcIiBhcmlhLWxhYmVsPVwiU3RhcnQgU2Vzc2lvblwiIG9uOmNsaWNrPXtzdGFydEN1c3RvbVNlc3Npb259PlxuXHRcdFx0XHQ8ZGl2IHVzZTppY29uPXtcInBsYXlcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzcz1cImZzLWNvbnRyb2wtYnRuIGZzLXNlY29uZGFyeSBmcy1zbWFsbFwiXG5cdFx0XHRcdGFyaWEtbGFiZWw9XCJMb25nIEJyZWFrXCJcblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHN0YXJ0U2Vzc2lvbihcIkxvbmcgQnJlYWtcIil9XG5cdFx0XHQ+XG5cdFx0XHRcdDxkaXYgdXNlOmljb249e1wiYXJtY2hhaXJcIn0+PC9kaXY+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cblxuXHQ8IS0tIEFjdGl2ZSBTZXNzaW9uIENvbnRyb2xzIChBZGQgVGltZSkgLS0+XG5cdHsjaWYgJHNlc3Npb24gJiYgKCRzZXNzaW9uLnN0YXR1cyA9PT0gXCJydW5uaW5nXCIgfHwgJHNlc3Npb24uc3RhdHVzID09PSBcInBhdXNlZFwiKX1cblx0XHQ8ZGl2IGNsYXNzPVwiZnMtY29udHJvbHMtcm93IGZzLW10LTJcIj5cblx0XHRcdDxidXR0b24gY2xhc3M9XCJmcy1jb250cm9sLXRleHQtYnRuXCIgb246Y2xpY2s9eygpID0+IGFkZFRpbWUoMC41KX0+KzMwczwvYnV0dG9uPlxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cImZzLWNvbnRyb2wtdGV4dC1idG5cIiBvbjpjbGljaz17KCkgPT4gYWRkVGltZSgxKX0+KzFtPC9idXR0b24+XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZnMtY29udHJvbC10ZXh0LWJ0blwiIG9uOmNsaWNrPXsoKSA9PiBhZGRUaW1lKDUpfT4rNW08L2J1dHRvbj5cblx0XHQ8L2Rpdj5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5mcy1jb250cm9scyB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Z2FwOiAxcmVtO1xuXHR9XG5cblx0LmZzLWNvbnRyb2xzLXJvdyB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRnYXA6IDFyZW07XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0fVxuXG5cdC5mcy1tdC0yIHtcblx0XHRtYXJnaW4tdG9wOiAwLjVyZW07XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG4ge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHR3aWR0aDogNDBweDtcblx0XHRoZWlnaHQ6IDQwcHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogNTAlO1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtbm9ybWFsKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHRcdHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcblx0XHRwYWRkaW5nOiAwO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtYnRuLmZzLWxhcmdlIHtcblx0XHR3aWR0aDogNTZweDtcblx0XHRoZWlnaHQ6IDU2cHg7XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG4uZnMtc21hbGwge1xuXHRcdHdpZHRoOiAzMnB4O1xuXHRcdGhlaWdodDogMzJweDtcblx0XHRvcGFjaXR5OiAwLjg7XG5cdH1cblxuXHQuZnMtY29udHJvbC1idG46aG92ZXIge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtcblx0XHRvcGFjaXR5OiAxO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtYnRuLmZzLXByaW1hcnkge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcblx0fVxuXG5cdC5mcy1jb250cm9sLWJ0bi5mcy1wcmltYXJ5OmhvdmVyIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuXHR9XG5cblx0LmZzLWNvbnRyb2wtdGV4dC1idG4ge1xuXHRcdGJhY2tncm91bmQ6IG5vbmU7XG5cdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdHBhZGRpbmc6IDRweCA4cHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogNHB4O1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRmb250LXNpemU6IDAuOGVtO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0fVxuXG5cdC5mcy1jb250cm9sLXRleHQtYnRuOmhvdmVyIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuXHR9XG5cblx0LmZzLXN0YXR1cy1tc2cge1xuXHRcdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LXN1Y2Nlc3MpO1xuXHRcdG1hcmdpbi1yaWdodDogMXJlbTtcblx0fVxuPC9zdHlsZT5cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBwbHVnaW4gfSBmcm9tIFwiLi4vc3RvcmVzXCI7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInNlc3Npb24tZm9vdGVyXCI+XG5cdDxzbWFsbD52eyRwbHVnaW4/Lm1hbmlmZXN0LnZlcnNpb259PC9zbWFsbD5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5zZXNzaW9uLWZvb3RlciB7XG5cdFx0bWFyZ2luLXRvcDogYXV0bztcblx0XHRwYWRkaW5nLXRvcDogMXJlbTtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuXHRcdGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG5cdH1cbjwvc3R5bGU+XG4iLCAiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uRGV0YWlsc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgc2Vzc2lvbkRhdGE6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXNzaW9uRGF0YTogYW55KSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJzZXNzaW9uLWRldGFpbHMtbW9kYWxcIik7XG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJTZXNzaW9uIERldGFpbHNcIiB9KTtcblxuICAgICAgICBjb25zdCBwcmUgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJwcmVcIik7XG4gICAgICAgIHByZS5jcmVhdGVFbChcImNvZGVcIiwge1xuICAgICAgICAgICAgdGV4dDogSlNPTi5zdHJpbmdpZnkodGhpcy5zZXNzaW9uRGF0YSwgbnVsbCwgMiksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9wdGlvbmFsOiBzdHlsaW5nXG4gICAgICAgIHByZS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgICAgICBwcmUuc3R5bGUubWF4SGVpZ2h0ID0gXCI1MDBweFwiO1xuICAgICAgICBwcmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSlcIjtcbiAgICAgICAgcHJlLnN0eWxlLnBhZGRpbmcgPSBcIjEwcHhcIjtcbiAgICAgICAgcHJlLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBwbHVnaW4gfSBmcm9tIFwiLi4vc3RvcmVzXCI7XG5cdGltcG9ydCB7IFNlc3Npb25EZXRhaWxzTW9kYWwgfSBmcm9tIFwiLi4vc2Vzc2lvbi1kZXRhaWxzLW1vZGFsXCI7XG5cdGltcG9ydCB7IHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcblxuXHQvLyBEZWZpbmUgaW50ZXJmYWNlIGZvciB3aGF0IHNwZWNpZmljIGZpZWxkcyB3ZSBleHBlY3QgZnJvbSBIdWIgaGlzdG9yeVxuXHQvLyBIdWIgcmV0dXJucyByYXcgb2JqZWN0cy4gVXN1YWxseSB7IGlkLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgY29uZmlnOiB7IG5hbWUsIGR1cmF0aW9uTWludXRlcyB9LCAuLi4gfVxuXHQvLyBCYXNlZCBvbiBTZXNzaW9uTWFuYWdlciBvZiBIdWI6XG5cdC8vIHNlc3Npb24gb2JqZWN0IGhhczogaWQsIHN0YXJ0LCBlbmQsIGNvbmZpZywgbWV0YWRhdGEuIC8vIFdhaXQsIFN0ZXAgMTkgKEFjdGl2aXR5TG9nZ2VyKSBnZXRSZWNlbnRTZXNzaW9ucyByZXR1cm5zOiB7IGlkLCBzdGFydCwgZW5kLCAuLi4gfVxuXHQvLyBBbmQgaXQgc2VlbXMgQWN0aXZpdHlMb2dnZXIgZG9lc24ndCBzdG9yZSAnY29uZmlnJyBpbiB0aGUgbGlnaHR3ZWlnaHQgc2Vzc2lvbiBtYXAgaW4gZ2V0UmVjZW50U2Vzc2lvbnM/XG5cdC8vIExldCdzIGNoZWNrIEFjdGl2aXR5TG9nZ2VyLnRzIGdldFJlY2VudFNlc3Npb25zIGFnYWluIChTdGVwIDE5KS5cblx0LypcbiAgICBwdWJsaWMgYXN5bmMgZ2V0UmVjZW50U2Vzc2lvbnMoZGF5czogbnVtYmVyID0gNyk6IFByb21pc2U8YW55W10+IHtcblx0XHRjb25zdCBzZXNzaW9uczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gLi4uXG4gICAgICAgIC8vIGxvZ3MudHlwZSA9PT0gXCJzZXNzaW9uX3N0YXJ0XCIgLT4gc2Vzc2lvbnMuc2V0KGlkLCB7IC4uLmV4aXN0aW5nLCBpZCwgc3RhcnQ6IGxvZy50aW1lc3RhbXAgfSlcbiAgICAgICAgLy8gSXQgZG9lc24ndCBzZWVtIHRvIG1lcmdlIHRoZSBmdWxsIGxvZyBldmVudCBwYXlsb2FkICh3aGljaCBjb250YWlucyBjb25maWcpIGludG8gdGhlIHNlc3Npb24gb2JqZWN0IVxuICAgICAgICAvLyBJdCBvbmx5IHNldHMgc3RhcnQvZW5kL2lkLlxuICAgICovXG5cblx0Ly8gQWgsIEFjdGl2aXR5TG9nZ2VyLnRzIGxpbmUgMTY5OlxuXHQvLyBzZXNzaW9ucy5zZXQobG9nLnNlc3Npb25JZCwgeyAuLi5leGlzdGluZywgaWQ6IGxvZy5zZXNzaW9uSWQsIHN0YXJ0OiBsb2cudGltZXN0YW1wIH0pO1xuXHQvLyBUaGlzIExPU0VTIHRoZSBgY29uZmlnYCBhbmQgYG1ldGFkYXRhYCBmcm9tIHRoZSBsb2cgZXZlbnQhXG5cdC8vIEkgbmVlZCB0byBmaXggSHViJ3MgQWN0aXZpdHlMb2dnZXIgdG8gaW5jbHVkZSB0aGUgY29uZmlnIGRhdGEgaWYgSSB3YW50IHRvIGRpc3BsYXkgdGhlIE5hbWUuXG5cdC8vIE9SIEkgY2FuIHVzZSBnZXRTZXNzaW9uQ29udGV4dChpZCkgZm9yIGVhY2ggc2Vzc2lvbiwgYnV0IHRoYXQgaXMgaGVhdnkuXG5cblx0Ly8gTk9URTogVGhpcyByZXZlYWxzIGEgXCJidWdcIiBvciBtaXNzaW5nIGZlYXR1cmUgaW4gT2JzaWRpYW4gSHViJ3MgZ2V0UmVjZW50U2Vzc2lvbnMuXG5cdC8vIEkgc2hvdWxkIGNoZWNrIGlmIEkgY2FuIG1vZGlmeSBIdWIgQWN0aXZpdHlMb2dnZXIgdG8gaW5jbHVkZSBtb3JlIGRhdGEuXG5cdC8vIFllcywgSSBoYXZlIGFjY2VzcyB0byBtb2RpZnkgSHViIGNvZGUuXG5cblx0Ly8gTGV0J3MgbW9kaWZ5IEh1YiBBY3Rpdml0eUxvZ2dlciBmaXJzdCB0byBpbmNsdWRlIHRoZSBkYXRhLlxuXG5cdGxldCBoaXN0b3J5OiBhbnlbXSA9IFtdO1xuXG5cdC8vIFdlIHdpbGwgd2FpdCBmb3IgdGhlIEh1YiBmaXguIEJ1dCBsZXQncyBhc3N1bWUgd2UgY2FuIGdldDpcblx0Ly8geyBpZCwgc3RhcnQsIGVuZCwgY29uZmlnOiB7IG5hbWUsIGR1cmF0aW9uTWludXRlcyB9IH1cblxuXHQkOiBzZXNzaW9uTWFuYWdlciA9ICRwbHVnaW4/LnNlc3Npb25NYW5hZ2VyO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIGxvYWRIaXN0b3J5KCkge1xuXHRcdGlmIChzZXNzaW9uTWFuYWdlcikge1xuXHRcdFx0aGlzdG9yeSA9IGF3YWl0IHNlc3Npb25NYW5hZ2VyLmdldFNlc3Npb25IaXN0b3J5KCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVsb2FkIHdoZW4gc2Vzc2lvbiBtYW5hZ2VyIGlzIGF2YWlsYWJsZSBvciBjaGFuZ2VzXG5cdCQ6IGlmIChzZXNzaW9uTWFuYWdlcikge1xuXHRcdGxvYWRIaXN0b3J5KCk7XG5cblx0XHQvLyBBbHNvIGhvb2sgaW50byBzZXNzaW9uIGNvbXBsZXRpb24gdG8gcmVmcmVzaFxuXHRcdHNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbkNvbXBsZXRlKCgpID0+IHtcblx0XHRcdHNldFRpbWVvdXQobG9hZEhpc3RvcnksIDUwMCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBvcGVuRGV0YWlscyhzZXNzaW9uOiBhbnkpIHtcblx0XHRuZXcgU2Vzc2lvbkRldGFpbHNNb2RhbCgkcGx1Z2luIS5hcHAsIHNlc3Npb24pLm9wZW4oKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZvcm1hdFRpbWUodHM6IG51bWJlcikge1xuXHRcdHJldHVybiBuZXcgRGF0ZSh0cykudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24obWludXRlczogbnVtYmVyKSB7XG5cdFx0cmV0dXJuIGAke21pbnV0ZXN9bWA7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeVwiPlxuXHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1oZWFkZXJcIj5SZWNlbnQgU2Vzc2lvbnM8L2Rpdj5cblxuXHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1saXN0XCI+XG5cdFx0eyNlYWNoIGhpc3RvcnkgYXMgc2Vzc2lvbn1cblx0XHRcdDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LWNsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgLS0+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1pdGVtXCIgb246Y2xpY2s9eygpID0+IG9wZW5EZXRhaWxzKHNlc3Npb24pfT5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktaWNvblwiPlxuXHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdGNsYXNzPVwiZnMtc3RhdHVzLWRvdC1zbVwiXG5cdFx0XHRcdFx0XHRzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHtzZXNzaW9uLmVuZCA/ICd2YXIoLS10ZXh0LW11dGVkKScgOiAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSd9XCJcblx0XHRcdFx0XHQ+PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1pbmZvXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZzLWhpc3RvcnktbmFtZVwiPntzZXNzaW9uLmNvbmZpZz8ubmFtZSB8fCBcIlVudGl0bGVkIFNlc3Npb25cIn08L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1tZXRhXCI+XG5cdFx0XHRcdFx0XHR7Zm9ybWF0VGltZShzZXNzaW9uLnN0YXJ0KX0g4oCiIHtzZXNzaW9uLmNvbmZpZz8uZHVyYXRpb25NaW51dGVzIHx8IFwiP1wifW1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHR7OmVsc2V9XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZnMtaGlzdG9yeS1lbXB0eVwiPk5vIHJlY2VudCBzZXNzaW9ucyBmb3VuZDwvZGl2PlxuXHRcdHsvZWFjaH1cblx0PC9kaXY+XG48L2Rpdj5cblxuPHN0eWxlPlxuXHQuZnMtaGlzdG9yeSB7XG5cdFx0bWFyZ2luLXRvcDogMjRweDtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdHBhZGRpbmctdG9wOiAxNnB4O1xuXHR9XG5cblx0LmZzLWhpc3RvcnktaGVhZGVyIHtcblx0XHRmb250LXNpemU6IDEycHg7XG5cdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdFx0bGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuXHRcdG1hcmdpbi1ib3R0b206IDEycHg7XG5cdFx0dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWxpc3Qge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRnYXA6IDhweDtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWl0ZW0ge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRnYXA6IDEycHg7XG5cdFx0cGFkZGluZzogOHB4IDEycHg7XG5cdFx0Ym9yZGVyLXJhZGl1czogOHB4O1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG5cdFx0Ym9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHR0cmFuc2l0aW9uOiBhbGwgMC4ycztcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWl0ZW06aG92ZXIge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuXHRcdGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWljb24ge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LWluZm8ge1xuXHRcdGZsZXg6IDE7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGdhcDogMnB4O1xuXHR9XG5cblx0LmZzLWhpc3RvcnktbmFtZSB7XG5cdFx0Zm9udC1zaXplOiAxM3B4O1xuXHRcdGZvbnQtd2VpZ2h0OiA1MDA7XG5cdFx0Y29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcblx0fVxuXG5cdC5mcy1oaXN0b3J5LW1ldGEge1xuXHRcdGZvbnQtc2l6ZTogMTFweDtcblx0XHRjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG5cdH1cblxuXHQuZnMtaGlzdG9yeS1lbXB0eSB7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcblx0XHRmb250LXNpemU6IDEzcHg7XG5cdFx0cGFkZGluZzogMTZweDtcblx0fVxuPC9zdHlsZT5cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgU2Vzc2lvbkhlYWRlciBmcm9tIFwiLi9jb21wb25lbnRzL1Nlc3Npb25IZWFkZXIuc3ZlbHRlXCI7XG5cdGltcG9ydCBTZXNzaW9uVGltZXIgZnJvbSBcIi4vY29tcG9uZW50cy9TZXNzaW9uVGltZXIuc3ZlbHRlXCI7XG5cdGltcG9ydCBTZXNzaW9uQ29udHJvbHMgZnJvbSBcIi4vY29tcG9uZW50cy9TZXNzaW9uQ29udHJvbHMuc3ZlbHRlXCI7XG5cdGltcG9ydCBTZXNzaW9uRm9vdGVyIGZyb20gXCIuL2NvbXBvbmVudHMvU2Vzc2lvbkZvb3Rlci5zdmVsdGVcIjtcblx0aW1wb3J0IFNlc3Npb25IaXN0b3J5IGZyb20gXCIuL2NvbXBvbmVudHMvU2Vzc2lvbkhpc3Rvcnkuc3ZlbHRlXCI7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImZvY3VzLXNlc3Npb24tY29udGFpbmVyXCI+XG5cdDxTZXNzaW9uSGVhZGVyIC8+XG5cdDxTZXNzaW9uVGltZXIgLz5cblx0PFNlc3Npb25Db250cm9scyAvPlxuXHQ8U2Vzc2lvbkhpc3RvcnkgLz5cblx0PFNlc3Npb25Gb290ZXIgLz5cbjwvZGl2PlxuXG48c3R5bGU+XG5cdC5mb2N1cy1zZXNzaW9uLWNvbnRhaW5lciB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRwYWRkaW5nOiAxcmVtO1xuXHR9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IG1vdW50LCB1bm1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuaW1wb3J0IFNlc3Npb25Nb2RhbENvbXBvbmVudCBmcm9tIFwiLi9TZXNzaW9uTW9kYWwuc3ZlbHRlXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbXBvbmVudDogUmV0dXJuVHlwZTx0eXBlb2YgbW91bnQ+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHRzdXBlcihhcHApO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG5cdFx0dGhpcy5jb21wb25lbnQgPSBtb3VudChTZXNzaW9uTW9kYWxDb21wb25lbnQgYXMgYW55LCB7XG5cdFx0XHR0YXJnZXQ6IHRoaXMuY29udGVudEVsLFxuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0Y2xvc2U6ICgpID0+IHRoaXMuY2xvc2UoKSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGlmICh0aGlzLmNvbXBvbmVudCkge1xuXHRcdFx0dm9pZCB1bm1vdW50KHRoaXMuY29tcG9uZW50KTtcblx0XHR9XG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IHNlc3Npb24sIHRpbWVSZW1haW5pbmcsIHBsdWdpbiB9IGZyb20gXCIuL3N0b3Jlc1wiO1xuXHRpbXBvcnQgeyBmb3JtYXREdXJhdGlvbiB9IGZyb20gXCJAL3V0aWxzL3RpbWUtdXRpbHNcIjtcblxuXHRsZXQgeyBjbG9zZSB9ID0gJHByb3BzKCk7XG5cblx0ZnVuY3Rpb24gc3RvcCgpIHtcblx0XHQkcGx1Z2luPy5zZXNzaW9uTWFuYWdlci5zdG9wU2Vzc2lvbigpO1xuXHRcdGNsb3NlKCk7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwic2Vzc2lvbi1tb2RhbC1jb250ZW50XCI+XG5cdHsjaWYgJHNlc3Npb259XG5cdFx0PGgyPnskc2Vzc2lvbi5uYW1lfTwvaDI+XG5cdFx0PGRpdiBjbGFzcz1cInN0YXRzXCI+XG5cdFx0XHQ8cD5EdXJhdGlvbjoge2Zvcm1hdER1cmF0aW9uKCRzZXNzaW9uLmR1cmF0aW9uKX08L3A+XG5cdFx0XHQ8cD5UaW1lIHJlbWFpbmluZzoge2Zvcm1hdER1cmF0aW9uKCR0aW1lUmVtYWluaW5nKX08L3A+XG5cdFx0PC9kaXY+XG5cdFx0PGJ1dHRvbiBjbGFzcz1cIm1vZC13YXJuaW5nXCIgb25jbGljaz17c3RvcH0+U3RvcCBzZXNzaW9uPC9idXR0b24+XG5cdHs6ZWxzZX1cblx0XHQ8aDI+Tm8gYWN0aXZlIHNlc3Npb248L2gyPlxuXHRcdDxwPkdvIHRvIHRoZSBzaWRlIHBhbmVsIHRvIHN0YXJ0IGEgbmV3IHNlc3Npb24uPC9wPlxuXHR7L2lmfVxuPC9kaXY+XG5cbjxzdHlsZT5cblx0LnNlc3Npb24tbW9kYWwtY29udGVudCB7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdHBhZGRpbmc6IDFyZW07XG5cdH1cblxuXHQuc3RhdHMge1xuXHRcdG1hcmdpbjogMS41cmVtIDA7XG5cdFx0Zm9udC1zaXplOiAxLjFlbTtcblx0fVxuXG5cdGJ1dHRvbiB7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHR9XG48L3N0eWxlPlxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFNlc3Npb25NYW5hZ2VyIH0gZnJvbSBcIkAvc2VydmljZXMvc2Vzc2lvbi1tYW5hZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uRW5kTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHByaXZhdGUgc2Vzc2lvbk1hbmFnZXI6IFNlc3Npb25NYW5hZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXNzaW9uTWFuYWdlcjogU2Vzc2lvbk1hbmFnZXIpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMuc2Vzc2lvbk1hbmFnZXIgPSBzZXNzaW9uTWFuYWdlcjtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuYWRkQ2xhc3MoXCJmcy1zZXNzaW9uLWVuZC1tb2RhbFwiKTtcblxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJGb2N1cyBzZXNzaW9uIGNvbXBsZXRlZCFcIiB9KTtcblxuXHRcdGNvbnN0IGNvbnRyb2xzID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJmcy1tb2RhbC1jb250cm9sc1wiIH0pO1xuXG5cdFx0Ly8gRXh0ZW5zaW9uIE9wdGlvbnNcblx0XHRjb25zdCBleHRlbnNpb25zRGl2ID0gY29udHJvbHMuY3JlYXRlRGl2KHsgY2xzOiBcImZzLWV4dGVuc2lvbi1vcHRpb25zXCIgfSk7XG5cdFx0ZXh0ZW5zaW9uc0Rpdi5jcmVhdGVEaXYoeyBjbHM6IFwiZnMtbGFiZWxcIiwgdGV4dDogXCJOZWVkIG1vcmUgdGltZT9cIiB9KTtcblxuXHRcdGNvbnN0IGJ0blJvdyA9IGV4dGVuc2lvbnNEaXYuY3JlYXRlRGl2KHsgY2xzOiBcImZzLWNvbnRyb2xzLXJvd1wiIH0pO1xuXG5cdFx0Y29uc3QgdGltZXMgPSBbXG5cdFx0XHR7IGxhYmVsOiBcIiszMHNcIiwgdmFsOiAwLjUgfSxcblx0XHRcdHsgbGFiZWw6IFwiKzFtXCIsIHZhbDogMSB9LFxuXHRcdFx0eyBsYWJlbDogXCIrNW1cIiwgdmFsOiA1IH0sXG5cdFx0XTtcblxuXHRcdHRpbWVzLmZvckVhY2goKHQpID0+IHtcblx0XHRcdGNvbnN0IGJ0biA9IGJ0blJvdy5jcmVhdGVFbChcImJ1dHRvblwiLCB7IGNsczogXCJmcy1jb250cm9sLXRleHQtYnRuXCIsIHRleHQ6IHQubGFiZWwgfSk7XG5cdFx0XHRidG4ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy5zZXNzaW9uTWFuYWdlci5hZGRUaW1lKHQudmFsKTtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdC8vIFNlcGFyYXRvciBvciBzcGFjaW5nXG5cdFx0Y29udHJvbHMuY3JlYXRlRGl2KHsgY2xzOiBcImZzLXNwYWNlclwiIH0pO1xuXG5cdFx0Ly8gRmluaXNoIEFjdGlvblxuXHRcdGNvbnN0IGZpbmlzaEJ0biA9IGNvbnRyb2xzLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgY2xzOiBcIm1vZC1jdGEgZnMtZmluaXNoLWJ0blwiLCB0ZXh0OiBcIkZpbmlzaCBzZXNzaW9uXCIgfSk7XG5cdFx0ZmluaXNoQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR0aGlzLnNlc3Npb25NYW5hZ2VyLnN0b3BTZXNzaW9uKCk7IC8vIEV4cGxpY2l0IHN0b3Bcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9O1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdC8vIElmIHRoZSBzZXNzaW9uIGlzIHN0aWxsIFwiY29tcGxldGVkXCIgKHVzZXIgZGlzbWlzc2VkIG1vZGFsIHdpdGhvdXQgYWN0aW9uKSxcblx0XHQvLyB3ZSBzaG91bGQgdHJlYXQgaXQgYXMgZmluaXNoaW5nIHRoZSBzZXNzaW9uIHRvIHN0b3AgdGhlIGFsYXJtLlxuXHRcdC8vIEhvd2V2ZXIsIGlmIHRoZXkgY2xpY2tlZCBcIkFkZCBUaW1lXCIsIHRoZSBzcGVjaWZpYyBoYW5kbGVyIHdvdWxkIGhhdmUgYWxyZWFkeVxuXHRcdC8vIGNoYW5nZWQgdGhlIHN0YXRlIHRvIFwicnVubmluZ1wiICh2aWEgYWRkVGltZSkgYmVmb3JlIGNsb3NpbmcuXG5cdFx0Y29uc3Qgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbk1hbmFnZXIuZ2V0QWN0aXZlU2Vzc2lvbigpO1xuXHRcdGlmIChzZXNzaW9uICYmIHNlc3Npb24uc3RhdHVzID09PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHR0aGlzLnNlc3Npb25NYW5hZ2VyLnN0b3BTZXNzaW9uKCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgbW91bnQsIHVubW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG5pbXBvcnQgVGVzdFN2ZWx0ZU1vZGFsIGZyb20gXCIuL2NvbXBvbmVudHMvVGVzdFN2ZWx0ZU1vZGFsLnN2ZWx0ZVwiO1xuXG5leHBvcnQgY2xhc3MgU3ZlbHRlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbXBvbmVudDogUmV0dXJuVHlwZTx0eXBlb2YgbW91bnQ+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHRzdXBlcihhcHApO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcblx0XHR0aGlzLmNvbXBvbmVudCA9IG1vdW50KFRlc3RTdmVsdGVNb2RhbCBhcyBhbnksIHtcblx0XHRcdHRhcmdldDogY29udGVudEVsLFxuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGlmICh0aGlzLmNvbXBvbmVudCkge1xuXHRcdFx0dm9pZCB1bm1vdW50KHRoaXMuY29tcG9uZW50KTtcblx0XHR9XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cbiIsICI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuXHRpbXBvcnQgeyBBcHAsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5cdGxldCB7IGFwcCB9OiB7IGFwcDogQXBwIH0gPSAkcHJvcHMoKTtcblxuXHRsZXQgY291bnQgPSAkc3RhdGUoMCk7XG5cdGxldCBtZXNzYWdlID0gXCJIZWxsbyBTdmVsdGUgNSFcIjtcblxuXHRmdW5jdGlvbiBpbmNyZW1lbnQoKSB7XG5cdFx0Y291bnQgKz0gMTtcblx0XHRuZXcgTm90aWNlKGBDb3VudCBpcyBub3cgJHtjb3VudH1gKTtcblx0fVxuXG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKFwiU3ZlbHRlIDUgY29tcG9uZW50IG1vdW50ZWQgaW4gYXBwOlwiLCBhcHApO1xuXHR9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwic3ZlbHRlLW1vZGFsLWNvbnRlbnRcIj5cblx0PGgyPnttZXNzYWdlfTwvaDI+XG5cdDxwPlRoaXMgaXMgYSByZWFjdGl2ZSBTdmVsdGUgNSBjb21wb25lbnQgdXNpbmcgUnVuZXMuPC9wPlxuXG5cdDxkaXYgY2xhc3M9XCJjb3VudGVyLXNlY3Rpb25cIj5cblx0XHQ8cD5Db3VudDogPHN0cm9uZz57Y291bnR9PC9zdHJvbmc+PC9wPlxuXHRcdDxidXR0b24gb25jbGljaz17aW5jcmVtZW50fT5JbmNyZW1lbnQ8L2J1dHRvbj5cblx0PC9kaXY+XG5cblx0PHN0eWxlPlxuXHRcdC5zdmVsdGUtbW9kYWwtY29udGVudCB7XG5cdFx0XHRwYWRkaW5nOiAxcmVtO1xuXHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdH1cblx0XHQuY291bnRlci1zZWN0aW9uIHtcblx0XHRcdG1hcmdpbi10b3A6IDJyZW07XG5cdFx0XHRwYWRkaW5nOiAxcmVtO1xuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuXHRcdFx0Ym9yZGVyLXJhZGl1czogOHB4O1xuXHRcdH1cblx0XHRidXR0b24ge1xuXHRcdFx0bWFyZ2luLXRvcDogMXJlbTtcblx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHR9XG5cdDwvc3R5bGU+XG48L2Rpdj5cbiIsICJleHBvcnQgaW50ZXJmYWNlIEZvY3VzU2Vzc2lvblNldHRpbmdzIHtcblx0Zm9jdXNEdXJhdGlvbjogbnVtYmVyO1xuXHRzaG9ydEJyZWFrRHVyYXRpb246IG51bWJlcjtcblx0bG9uZ0JyZWFrRHVyYXRpb246IG51bWJlcjtcblx0ZW5hYmxlU291bmQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBGb2N1c1Nlc3Npb25TZXR0aW5ncyA9IHtcblx0Zm9jdXNEdXJhdGlvbjogMjUsXG5cdHNob3J0QnJlYWtEdXJhdGlvbjogNSxcblx0bG9uZ0JyZWFrRHVyYXRpb246IDE1LFxuXHRlbmFibGVTb3VuZDogdHJ1ZSxcbn07XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgRm9jdXNTZXNzaW9uc1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgRm9jdXNTZXNzaW9uU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEZvY3VzU2Vzc2lvbnNQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRm9jdXNTZXNzaW9uc1BsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiRm9jdXMgZHVyYXRpb24gKG1pbnV0ZXMpXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBsZW5ndGggb2YgYSBmb2N1cyBzZXNzaW9uLlwiKVxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDEsIDEyMCwgMSlcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNEdXJhdGlvbilcblx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzRHVyYXRpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJTaG9ydCBicmVhayBkdXJhdGlvbiAobWludXRlcylcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIGxlbmd0aCBvZiBhIHNob3J0IGJyZWFrLlwiKVxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDEsIDMwLCAxKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG9ydEJyZWFrRHVyYXRpb24pXG5cdFx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG9ydEJyZWFrRHVyYXRpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJMb25nIGJyZWFrIGR1cmF0aW9uIChtaW51dGVzKVwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgbGVuZ3RoIG9mIGEgbG9uZyBicmVhay5cIilcblx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cblx0XHRcdFx0c2xpZGVyXG5cdFx0XHRcdFx0LnNldExpbWl0cygxLCA2MCwgMSlcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubG9uZ0JyZWFrRHVyYXRpb24pXG5cdFx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb25nQnJlYWtEdXJhdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmludGVyZmFjZSBIdWJBcGkge1xuXHRzZXNzaW9uczoge1xuXHRcdHN0YXJ0U2Vzc2lvbihjb25maWc6IHsgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7IG5hbWU/OiBzdHJpbmc7IG1ldGFkYXRhPzogYW55IH0pOiBQcm9taXNlPHN0cmluZz47XG5cdFx0ZW5kU2Vzc2lvbihtZXRhZGF0YT86IGFueSk6IFByb21pc2U8YW55Pjtcblx0XHRpc0FjdGl2ZSgpOiBib29sZWFuO1xuXHRcdGdldEFjdGl2ZVNlc3Npb25JZCgpOiBzdHJpbmcgfCBudWxsO1xuXHRcdGdldEFjdGl2ZVNlc3Npb25Db250ZXh0KCk6IFByb21pc2U8YW55Pjtcblx0XHRnZXRTZXNzaW9uSGlzdG9yeShkYXlzPzogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT47XG5cdFx0Z2V0U2Vzc2lvbkNvbnRleHQoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT47XG5cdH07XG59XG5cbmV4cG9ydCBjbGFzcyBIdWJTZXJ2aWNlIHtcblx0cHJpdmF0ZSBhcHA6IEFwcDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuXHRcdHRoaXMuYXBwID0gYXBwO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRBcGkoKTogSHViQXBpIHwgbnVsbCB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcIm9ic2lkaWFuLWh1Yi1wbHVnaW5cIik/LmFwaTtcblx0fVxuXG5cdHB1YmxpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gISF0aGlzLmdldEFwaSgpO1xuXHR9XG5cblx0cHVibGljIGFzeW5jIHN0YXJ0U2Vzc2lvbihuYW1lOiBzdHJpbmcsIGR1cmF0aW9uTWludXRlczogbnVtYmVyKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG5cdFx0Y29uc3QgYXBpID0gdGhpcy5nZXRBcGkoKTtcblx0XHRpZiAoIWFwaSkgcmV0dXJuIG51bGw7XG5cdFx0cmV0dXJuIGF3YWl0IGFwaS5zZXNzaW9ucy5zdGFydFNlc3Npb24oe1xuXHRcdFx0ZHVyYXRpb25NaW51dGVzLFxuXHRcdFx0bmFtZSxcblx0XHRcdG1ldGFkYXRhOiB7IHNvdXJjZTogXCJvYnNpZGlhbi1mb2N1cy1zZXNzaW9uc1wiIH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBlbmRTZXNzaW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGFwaSA9IHRoaXMuZ2V0QXBpKCk7XG5cdFx0aWYgKCFhcGkpIHJldHVybjtcblx0XHRhd2FpdCBhcGkuc2Vzc2lvbnMuZW5kU2Vzc2lvbigpO1xuXHR9XG5cblx0cHVibGljIGFzeW5jIGdldEFjdGl2ZVNlc3Npb24oKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IHN0YXJ0VGltZTogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfSB8IG51bGw+IHtcblx0XHRjb25zdCBhcGkgPSB0aGlzLmdldEFwaSgpO1xuXHRcdGlmICghYXBpKSByZXR1cm4gbnVsbDtcblxuXHRcdGlmICghYXBpLnNlc3Npb25zLmlzQWN0aXZlKCkpIHJldHVybiBudWxsO1xuXG5cdFx0Ly8gV2UgbWlnaHQgbmVlZCB0byBmZXRjaCBjb250ZXh0IHRvIGdldCBkZXRhaWxzIGlmIG5vdCBkaXJlY3RseSBhdmFpbGFibGVcblx0XHQvLyBCdXQgZm9yIG5vdyBsZXQncyBob3BlIHdlIGNhbiBnZXQgZW5vdWdoIGluZm8uXG5cdFx0Ly8gQWN0dWFsbHkgU2Vzc2lvbk1hbmFnZXIgaW4gSHViIGRvZXNuJ3QgZXhwb3NlIGdldEFjdGl2ZVNlc3Npb24oKSBmdWxsIG9iamVjdCBkaXJlY3RseSBwdWJsaWNseSBpbiB0aGUgaW50ZXJmYWNlIEkgc2F3P1xuXHRcdC8vIExldCdzIGNoZWNrIHRoZSBjb2RlIGFnYWluLiBcblx0XHQvLyBJdCBoYXMgZ2V0QWN0aXZlU2Vzc2lvbklkKCkuIFxuXHRcdC8vIEl0IGhhcyBnZXRBY3RpdmVTZXNzaW9uQ29udGV4dCgpLlxuXG5cdFx0Ly8gTGV0J3MgcmVseSBvbiB3aGF0IHdlIHNhdyBpbiBIdWIncyBTZXNzaW9uTWFuYWdlcjpcblx0XHQvLyBwdWJsaWMgaXNBY3RpdmUoKTogYm9vbGVhblxuXHRcdC8vIHB1YmxpYyBnZXRBY3RpdmVTZXNzaW9uQ29udGV4dCgpOiBQcm9taXNlPGFueT5cblx0XHQvLyBwdWJsaWMgZ2V0QWN0aXZlU2Vzc2lvbklkKCk6IHN0cmluZyB8IG51bGxcblxuXHRcdC8vIFRvIHJlc3RvcmUgdGhlIHRpbWVyLCB3ZSBuZWVkIHN0YXJ0IHRpbWUgYW5kIGR1cmF0aW9uLlxuXHRcdC8vIFRoZSBIdWIgcGx1Z2luIHNhdmVzIHRoaXMgaW4gc2V0dGluZ3MuIEJ1dCBtYXliZSB3ZSBjYW4gYWNjZXNzIGl0IHZpYSBjb250ZXh0IG9yIHNvbWUgb3RoZXIgd2F5LlxuXHRcdC8vIE9yIHdlIGNhbiBqdXN0IGFjY2VzcyB0aGUgcGx1Z2luIHNldHRpbmdzIGRpcmVjdGx5IGlmIHdlIHJlYWxseSBoYXZlIHRvLCBidXQgQVBJIGlzIGJldHRlci5cblx0XHQvLyBjb250ZXh0IGxpa2VseSBjb250YWlucyB3aGF0IHdlIG5lZWQgaWYgdGhlIGFnZ3JlZ2F0b3IgcHV0cyBpdCB0aGVyZS5cblxuXHRcdC8vIFdhaXQsIGxvb2tpbmcgYXQgSHViJ3MgU2Vzc2lvbk1hbmFnZXIgYWdhaW4gKGZyb20gU3RlcCA4KTpcblx0XHQvLyBJdCBzYXZlcyB0byB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hY3RpdmVTZXNzaW9uXG5cdFx0Ly8gQnV0IGRvZXNuJ3QgZXhwb3NlIGEgbWV0aG9kIHRvIGdldCB0aGUgKmNvbmZpZyogb2YgdGhlIGFjdGl2ZSBzZXNzaW9uIGVhc2lseSBleGNlcHQgdmlhIGNvbnRleHQ/XG5cdFx0Ly8gZ2V0QWN0aXZlU2Vzc2lvbkNvbnRleHQgY2FsbHMgYWdncmVnYXRvci5nZXRTZXNzaW9uQ29udGV4dChpZCkuXG5cblx0XHQvLyBMZXQncyBhc3N1bWUgZ2V0QWN0aXZlU2Vzc2lvbkNvbnRleHQgcmV0dXJucyBlbm91Z2ggaW5mby5cblx0XHQvLyBJZiBub3QsIHdlIG1pZ2h0IG5lZWQgdG8gYWRkIGEgbWV0aG9kIHRvIEh1YiBvciBoYWNrIGl0LlxuXHRcdC8vIEZvciBub3csIGxldCdzIGltcGxlbWVudCBnZXRSZWNlbnRTZXNzaW9ucyBmaXJzdC5cblxuXHRcdHJldHVybiBudWxsOyAvLyBQbGFjZWhvbGRlciwgc2VlIG15IHRob3VnaHQgcHJvY2VzcyBiZWxvd1xuXHR9XG5cblx0Ly8gV2UgbmVlZCBhIHNwZWNpZmljIG1ldGhvZCB0byByZWNvdmVyIHNlc3Npb24gc3RhdGVcblx0cHVibGljIGFzeW5jIGFzeW5jUmVjb3ZlckFjdGl2ZVNlc3Npb24oKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IHN0YXJ0VGltZTogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfSB8IG51bGw+IHtcblx0XHRjb25zdCBhcGkgPSB0aGlzLmdldEFwaSgpO1xuXHRcdGlmICghYXBpKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IGh1YlBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKFwib2JzaWRpYW4taHViLXBsdWdpblwiKTtcblx0XHRpZiAoaHViUGx1Z2luICYmIGh1YlBsdWdpbi5zZXR0aW5ncz8uYWN0aXZlU2Vzc2lvbikge1xuXHRcdFx0Y29uc3QgcyA9IGh1YlBsdWdpbi5zZXR0aW5ncy5hY3RpdmVTZXNzaW9uO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQ6IHMuaWQsXG5cdFx0XHRcdHN0YXJ0VGltZTogcy5zdGFydFRpbWUsXG5cdFx0XHRcdGR1cmF0aW9uOiBzLmNvbmZpZy5kdXJhdGlvbk1pbnV0ZXMsXG5cdFx0XHRcdG5hbWU6IHMuY29uZmlnLm5hbWVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZ2V0UmVjZW50U2Vzc2lvbnMobGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxhbnlbXT4ge1xuXHRcdGNvbnN0IGFwaSA9IHRoaXMuZ2V0QXBpKCk7XG5cdFx0aWYgKCFhcGkpIHJldHVybiBbXTtcblx0XHRjb25zdCBzZXNzaW9ucyA9IGF3YWl0IGFwaS5zZXNzaW9ucy5nZXRTZXNzaW9uSGlzdG9yeSg3KTsgLy8gQVBJIGRlZmF1bHRzIHRvIGRheXMsIGxldCdzIHNheSA3IGRheXMgaXMgZW5vdWdoIGZvciByZWNlbnQgbGlzdD8gXG5cdFx0Ly8gT3Igd2UgbWlnaHQgd2FudCB0byBhc2sgZm9yIG1vcmUgZGF5cyBpZiB3ZSB3YW50IDEwIGl0ZW1zLlxuXHRcdC8vIFRoZSBBUEkgc2lnbmF0dXJlIHNhdyBlYXJsaWVyIHdhcyBnZXRTZXNzaW9uSGlzdG9yeShkYXlzKS5cblxuXHRcdC8vIExldCdzIHJldHVybiB0aGUgc2xpY2UuXG5cdFx0cmV0dXJuIHNlc3Npb25zLnNsaWNlKDAsIGxpbWl0KTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBnZXRTZXNzaW9uQ29udGV4dChzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG5cdFx0Y29uc3QgYXBpID0gdGhpcy5nZXRBcGkoKTtcblx0XHRpZiAoIWFwaSkgcmV0dXJuIG51bGw7XG5cdFx0cmV0dXJuIGF3YWl0IGFwaS5zZXNzaW9ucy5nZXRTZXNzaW9uQ29udGV4dChzZXNzaW9uSWQpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LElBQUk7QUFBQSxJQUMvQjtBQUFBLEVBQ0Q7QUFDRDsiLAogICJuYW1lcyI6IFsiRm9jdXNTZXNzaW9uc1BsdWdpbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAibG9vcCIsICJzZXNzaW9uIiwgImltcG9ydF9vYnNpZGlhbiIsICJodG1sIiwgIm5leHQiLCAic291cmNlIiwgIl9hIiwgInN0YWNrIiwgInN0YWNrIiwgImNvbXBvbmVudCIsICJfYSIsICJlZmZlY3QiLCAiX2EiLCAiX2IiLCAiX2MiLCAiZGVyaXZlZCIsICJlZmZlY3QiLCAiX2EiLCAicm9vdCIsICJzb3VyY2UiLCAiZWZmZWN0IiwgImZsYWdzIiwgImNoaWxkIiwgInN0YWNrIiwgInVwZGF0ZSIsICJlIiwgImVmZmVjdCIsICJmbGFncyIsICJfZGlydHlfZWZmZWN0cyIsICJfbWF5YmVfZGlydHlfZWZmZWN0cyIsICJjb21tZW50IiwgIl9hIiwgImVmZmVjdCIsICJyZXNldCIsICJlcnJvciIsICJwZW5kaW5nIiwgImFzeW5jIiwgInJ1biIsICJwcmV2aW91c19iYXRjaCIsICJmbGFncyIsICJib3VuZGFyeSIsICJfYSIsICJkIiwgIm5leHQiLCAiZGVyaXZlZCIsICJfYSIsICJfYiIsICJzdGFjayIsICJfYSIsICJfYiIsICJzb3VyY2UiLCAiX2EiLCAiX2IiLCAiX2MiLCAiZGVyaXZlZCIsICJlZmZlY3QiLCAic291cmNlIiwgIl9hIiwgImZsYWdzIiwgImRlcml2ZWQiLCAic3RhY2siLCAidmVyc2lvbiIsICJwcm9wIiwgInNvdXJjZSIsICJzIiwgIl9hIiwgInZhbHVlIiwgImtleSIsICJwcm9wIiwgImFycmF5X3Byb3RvdHlwZSIsICJpbmRleCIsICJjaGlsZCIsICJ0ZXh0IiwgIl9hIiwgIl9iIiwgImZsYWdzIiwgIl9hIiwgImVsZW1lbnQiLCAiZXZlbnQiLCAiZWZmZWN0IiwgIl9hIiwgImUiLCAiZGVyaXZlZCIsICJmbGFncyIsICJlZmZlY3QiLCAiZmxhZ3MiLCAiYXN5bmMiLCAiZmxhZ3MiLCAiZWZmZWN0IiwgImVmZmVjdCIsICJ0ZWFyZG93biIsICJuZXh0IiwgInRyYW5zaXRpb24iLCAiY2hpbGQiLCAic2libGluZyIsICJlZmZlY3QiLCAibmV4dCIsICJlZmZlY3QiLCAiZmxhZ3MiLCAicm9vdCIsICJfYSIsICJfYiIsICJpbmRleCIsICJkZXJpdmVkIiwgInRlYXJkb3duIiwgIl9hIiwgIl9iIiwgIl9jIiwgImZsYWdzIiwgInRyYWNlIiwgImRlcml2ZWQiLCAia2V5IiwgInByb3AiLCAiZ2V0IiwgImhhc2giLCAiZXZlbnQiLCAiY2FwdHVyZSIsICJwYXNzaXZlIiwgImV2ZW50IiwgIl9hIiwgImh0bWwiLCAiZWZmZWN0IiwgImZsYWdzIiwgImVmZmVjdCIsICJ0ZXh0IiwgIl9hIiwgImNvbXBvbmVudCIsICJldmVudHMiLCAicGFzc2l2ZSIsICJ1bm1vdW50IiwgImFuY2hvcl9ub2RlIiwgInRyYW5zaXRpb24iLCAia2V5IiwgIm9mZnNjcmVlbiIsICJlZmZlY3QiLCAiYnJhbmNoIiwgImZsYWdzIiwgImZuIiwgInN0YXRlIiwgIl9hIiwgImVmZmVjdCIsICJmbGFncyIsICJmYWxsYmFjayIsICJpbmRleCIsICJrZXkiLCAiaXRlbSIsICJfYiIsICJfYyIsICJuZXh0IiwgIl9hIiwgInJvb3QiLCAiYWN0aW9uIiwgImhhc2giLCAia2V5IiwgImFwcGVuZF9zdHlsZXMiLCAiaGFzaCIsICJrZXkiLCAibmV4dCIsICJrZXkiLCAic2V0X2F0dHJpYnV0ZSIsICJzZXRfYXR0cmlidXRlIiwgImVsZW1lbnQiLCAiZWxlbWVudCIsICJfYSIsICJrZXkiLCAiZ2V0IiwgInNldCIsICJiYXRjaGVzIiwgIl9hIiwgInByb3BzIiwgImtleSIsICJydW4iLCAic2V0IiwgInVwZGF0ZSIsICJydW4iLCAiZGVyaXZlZCIsICJwZW5kaW5nIiwgImdldCIsICJfYSIsICJnZXQiLCAiX2EiLCAiX2IiLCAia2V5IiwgInByb3AiLCAibmV4dCIsICJldmVudCIsICJzbG90IiwgImtleSIsICJfYSIsICJhdHRyIiwgInByb3AiLCAiZWxlbWVudCIsICJfYSIsICJfYSIsICJfYiIsICJzZXQiLCAiZGVyaXZlZCIsICJ1cGRhdGUiLCAiX2EiLCAicm9vdCIsICJyb290XzIiLCAicm9vdCIsICJyb290XzQiLCAicm9vdCIsICJfYiIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2Vzc2lvbiIsICJmb3JtYXREdXJhdGlvbiIsICJyb290IiwgInJvb3RfMSIsICJyb290XzIiLCAicm9vdCIsICJGb2N1c1Nlc3Npb25WaWV3IiwgImltcG9ydF9vYnNpZGlhbiIsICJyb290IiwgIlNlc3Npb25Nb2RhbCIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2Vzc2lvbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW5jcmVtZW50IiwgInJvb3QiLCAiaW1wb3J0X29ic2lkaWFuIiwgInBsdWdpbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAiRm9jdXNTZXNzaW9uc1BsdWdpbiIsICJGb2N1c1Nlc3Npb25WaWV3IiwgIlNlc3Npb25Nb2RhbCIsICJzZXNzaW9uIl0KfQo=
